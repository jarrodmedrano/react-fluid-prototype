/* */
"format global";!function(a){var b=a.babelHelpers={};b.inherits=function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)},b.defaults=function(a,b){for(var c=Object.getOwnPropertyNames(b),d=0;d<c.length;d++){var e=c[d],f=Object.getOwnPropertyDescriptor(b,e);f&&f.configurable&&void 0===a[e]&&Object.defineProperty(a,e,f)}return a},b.createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),b.createDecoratedClass=function(){function a(a,b,c){for(var d=0;d<b.length;d++){var e=b[d],f=e.decorators,g=e.key;if(delete e.key,delete e.decorators,e.enumerable=e.enumerable||!1,e.configurable=!0,("value"in e||e.initializer)&&(e.writable=!0),f){for(var h=0;h<f.length;h++){var i=f[h];if("function"!=typeof i)throw new TypeError("The decorator for method "+e.key+" is of the invalid type "+typeof i);e=i(a,g,e)||e}if(void 0!==e.initializer){c[g]=e;continue}}Object.defineProperty(a,g,e)}}return function(b,c,d,e,f){return c&&a(b.prototype,c,e),d&&a(b,d,f),b}}(),b.createDecoratedObject=function(a){for(var b={},c=0;c<a.length;c++){var d=a[c],e=d.decorators,f=d.key;if(delete d.key,delete d.decorators,d.enumerable=!0,d.configurable=!0,("value"in d||d.initializer)&&(d.writable=!0),e)for(var g=0;g<e.length;g++){var h=e[g];if("function"!=typeof h)throw new TypeError("The decorator for method "+d.key+" is of the invalid type "+typeof h);d=h(b,f,d)||d}d.initializer&&(d.value=d.initializer.call(b)),Object.defineProperty(b,f,d)}return b},b.defineDecoratedPropertyDescriptor=function(a,b,c){var d=c[b];if(d){var e={};for(var f in d)e[f]=d[f];e.value=e.initializer?e.initializer.call(a):void 0,Object.defineProperty(a,b,e)}},b.taggedTemplateLiteral=function(a,b){return Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(b)}}))},b.taggedTemplateLiteralLoose=function(a,b){return a.raw=b,a},b.toArray=function(a){return Array.isArray(a)?a:Array.from(a)},b.toConsumableArray=function(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}return Array.from(a)},b.slicedToArray=function(){function a(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!b||c.length!==b);d=!0);}catch(i){e=!0,f=i}finally{try{!d&&h["return"]&&h["return"]()}finally{if(e)throw f}}return c}return function(b,c){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return a(b,c);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),b.slicedToArrayLoose=function(a,b){if(Array.isArray(a))return a;if(Symbol.iterator in Object(a)){for(var c,d=[],e=a[Symbol.iterator]();!(c=e.next()).done&&(d.push(c.value),!b||d.length!==b););return d}throw new TypeError("Invalid attempt to destructure non-iterable instance")},b.objectWithoutProperties=function(a,b){var c={};for(var d in a)b.indexOf(d)>=0||Object.prototype.hasOwnProperty.call(a,d)&&(c[d]=a[d]);return c},b.hasOwn=Object.prototype.hasOwnProperty,b.slice=Array.prototype.slice,b.bind=Function.prototype.bind,b.defineProperty=function(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a},b.asyncToGenerator=function(a){return function(){var b=a.apply(this,arguments);return new Promise(function(a,c){function d(d,g){try{var h=b[d](g),i=h.value}catch(j){return void c(j)}h.done?a(i):Promise.resolve(i).then(e,f)}var e=d.bind(null,"next"),f=d.bind(null,"throw");e()})}},b.interopExportWildcard=function(a,b){var c=b({},a);return delete c["default"],c},b.interopRequireWildcard=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b["default"]=a,b},b.interopRequireDefault=function(a){return a&&a.__esModule?a:{"default":a}},b._typeof=function(a){return a&&a.constructor===Symbol?"symbol":typeof a},b._extends=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},b.get=function c(a,b,d){null===a&&(a=Function.prototype);var e=Object.getOwnPropertyDescriptor(a,b);if(void 0===e){var f=Object.getPrototypeOf(a);return null===f?void 0:c(f,b,d)}if("value"in e)return e.value;var g=e.get;if(void 0!==g)return g.call(d)},b.set=function d(a,b,c,e){var f=Object.getOwnPropertyDescriptor(a,b);if(void 0===f){var g=Object.getPrototypeOf(a);null!==g&&d(g,b,c,e)}else if("value"in f&&f.writable)f.value=c;else{var h=f.set;void 0!==h&&h.call(e,c)}return c},b.newArrowCheck=function(a,b){if(a!==b)throw new TypeError("Cannot instantiate an arrow function")},b.classCallCheck=function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")},b.objectDestructuringEmpty=function(a){if(null==a)throw new TypeError("Cannot destructure undefined")},b.temporalUndefined={},b.temporalAssertDefined=function(a,b,c){if(a===c)throw new ReferenceError(b+" is not defined - temporal dead zone");return!0},b.selfGlobal="undefined"==typeof a?self:a,b.typeofReactElement="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103,b.defaultProps=function(a,b){if(a)for(var c in a)"undefined"==typeof b[c]&&(b[c]=a[c]);return b},b._instanceof=function(a,b){return null!=b&&b[Symbol.hasInstance]?b[Symbol.hasInstance](a):a instanceof b},b.interopRequire=function(a){return a&&a.__esModule?a["default"]:a}}("undefined"==typeof global?self:global),!function(a){function b(a,b,e){return 4===arguments.length?c.apply(this,arguments):void d(a,{declarative:!0,deps:b,declare:e})}function c(a,b,c,e){d(a,{declarative:!1,deps:b,executingRequire:c,execute:e})}function d(a,b){b.name=a,a in o||(o[a]=b),b.normalizedDeps=b.deps}function e(a,b){if(b[a.groupIndex]=b[a.groupIndex]||[],-1==p.call(b[a.groupIndex],a)){b[a.groupIndex].push(a);for(var c=0,d=a.normalizedDeps.length;d>c;c++){var f=a.normalizedDeps[c],g=o[f];if(g&&!g.evaluated){var h=a.groupIndex+(g.declarative!=a.declarative);if(void 0===g.groupIndex||g.groupIndex<h){if(void 0!==g.groupIndex&&(b[g.groupIndex].splice(p.call(b[g.groupIndex],g),1),0==b[g.groupIndex].length))throw new TypeError("Mixed dependency cycle detected");g.groupIndex=h}e(g,b)}}}}function f(a){var b=o[a];b.groupIndex=0;var c=[];e(b,c);for(var d=!!b.declarative==c.length%2,f=c.length-1;f>=0;f--){for(var g=c[f],i=0;i<g.length;i++){var k=g[i];d?h(k):j(k)}d=!d}}function g(a){return t[a]||(t[a]={name:a,dependencies:[],exports:{},importers:[]})}function h(b){if(!b.module){var c=b.module=g(b.name),d=b.module.exports,e=b.declare.call(a,function(a,b){if(c.locked=!0,"object"==typeof a)for(var e in a)d[e]=a[e];else d[a]=b;for(var f=0,g=c.importers.length;g>f;f++){var h=c.importers[f];if(!h.locked)for(var i=0;i<h.dependencies.length;++i)h.dependencies[i]===c&&h.setters[i](d)}return c.locked=!1,b},b.name);c.setters=e.setters,c.execute=e.execute;for(var f=0,i=b.normalizedDeps.length;i>f;f++){var j,k=b.normalizedDeps[f],l=o[k],m=t[k];m?j=m.exports:l&&!l.declarative?j=l.esModule:l?(h(l),m=l.module,j=m.exports):j=n(k),m&&m.importers?(m.importers.push(c),c.dependencies.push(m)):c.dependencies.push(null),c.setters[f]&&c.setters[f](j)}}}function i(a){var b,c=o[a];if(c)c.declarative?m(a,[]):c.evaluated||j(c),b=c.module.exports;else if(b=n(a),!b)throw new Error("Unable to load dependency "+a+".");return(!c||c.declarative)&&b&&b.__useDefault?b["default"]:b}function j(b){if(!b.module){var c={},d=b.module={exports:c,id:b.name};if(!b.executingRequire)for(var e=0,f=b.normalizedDeps.length;f>e;e++){var g=b.normalizedDeps[e],h=o[g];h&&j(h)}b.evaluated=!0;var l=b.execute.call(a,function(a){for(var c=0,d=b.deps.length;d>c;c++)if(b.deps[c]==a)return i(b.normalizedDeps[c]);throw new TypeError("Module "+a+" not declared as a dependency.")},c,d);l&&(d.exports=l),c=d.exports,c&&c.__esModule?b.esModule=c:b.esModule=k(c)}}function k(b){var c={};if(("object"==typeof b||"function"==typeof b)&&b!==a)if(q)for(var d in b)"default"!==d&&l(c,b,d);else{var e=b&&b.hasOwnProperty;for(var d in b)"default"===d||e&&!b.hasOwnProperty(d)||(c[d]=b[d])}return c["default"]=b,s(c,"__useDefault",{value:!0}),c}function l(a,b,c){try{var d;(d=Object.getOwnPropertyDescriptor(b,c))&&s(a,c,d)}catch(e){return a[c]=b[c],!1}}function m(b,c){var d=o[b];if(d&&!d.evaluated&&d.declarative){c.push(b);for(var e=0,f=d.normalizedDeps.length;f>e;e++){var g=d.normalizedDeps[e];-1==p.call(c,g)&&(o[g]?m(g,c):n(g))}d.evaluated||(d.evaluated=!0,d.module.execute.call(a))}}function n(a){if(v[a])return v[a];if("@node/"==a.substr(0,6))return u(a.substr(6));var b=o[a];if(!b)throw"Module "+a+" not present.";return f(a),m(a,[]),o[a]=void 0,b.declarative&&s(b.module.exports,"__esModule",{value:!0}),v[a]=b.declarative?b.module.exports:b.esModule}var o={},p=Array.prototype.indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(this[b]===a)return b;return-1},q=!0;try{Object.getOwnPropertyDescriptor({a:0},"a")}catch(r){q=!1}var s;!function(){try{Object.defineProperty({},"a",{})&&(s=Object.defineProperty)}catch(a){s=function(a,b,c){try{a[b]=c.value||c.get.call(a)}catch(d){}}}}();var t={},u="undefined"!=typeof System&&System._nodeRequire||"undefined"!=typeof require&&require.resolve&&"undefined"!=typeof process&&require,v={"@empty":{}};return function(a,d,e,f){return function(g){g(function(g){for(var h={_nodeRequire:u,register:b,registerDynamic:c,get:n,set:function(a,b){v[a]=b},newModule:function(a){return a}},i=0;i<d.length;i++)(function(a,b){b&&b.__esModule?v[a]=b:v[a]=k(b)})(d[i],arguments[i]);f(h);var j=n(a[0]);if(a.length>1)for(var i=1;i<a.length;i++)n(a[i]);return e?j["default"]:j})}}}("undefined"!=typeof self?self:global)(["1"],[],!1,function($__System){var require=this.require,exports=this.exports,module=this.module;$__System.registerDynamic("2",["3"],!0,function(a,b,c){"use strict";return c.exports=a("3"),c.exports}),$__System.registerDynamic("4",["2"],!0,function(a,b,c){return c.exports=a("2"),c.exports}),$__System.registerDynamic("5",["6"],!0,function($__require,exports,module){var define,global=this,GLOBAL=this;return function(process){!function(){var globalObject="undefined"!=typeof window?window:"undefined"!=typeof self?self:"undefined"!=typeof global?global:{};!function(a){"function"==typeof define&&define.amd?define([],a):(globalObject.msWriteProfilerMark&&msWriteProfilerMark("WinJS.4.4 4.4.0.winjs.2015.10.2 base.js,StartTM"),"object"==typeof exports&&"string"!=typeof exports.nodeName?a():a(globalObject.WinJS),globalObject.msWriteProfilerMark&&msWriteProfilerMark("WinJS.4.4 4.4.0.winjs.2015.10.2 base.js,StopTM"))}(function(WinJS){var $__require,define;return function(){"use strict";function a(a,b){a=a||"";var c=a.split("/");return c.pop(),b.map(function(a){if("."===a[0]){var b=a.split("/"),d=c.slice(0);return b.forEach(function(a){".."===a?d.pop():"."!==a&&d.push(a)}),d.join("/")}return a})}function b(b,e,f){return b.map(function(b){if("exports"===b)return f;if("require"===b)return function(b,c){$__require(a(e,b),c)};var g=d[b];if(!g)throw new Error("Undefined dependency: "+b);return g.resolved||(g.resolved=c(g.dependencies,g.factory,b,g.exports),"undefined"==typeof g.resolved&&(g.resolved=g.exports)),g.resolved})}function c(a,c,d,e){var f=b(a,d,e);return c&&c.apply?c.apply(null,f):c}var d={};define=function(b,c,e){Array.isArray(c)||(e=c,c=[]);var f={dependencies:a(b,c),factory:e};-1!==c.indexOf("exports")&&(f.exports={}),d[b]=f},$__require=function(a,b){Array.isArray(a)||(a=[a]),c(a,b)}}(),define("amd",function(){}),define("WinJS/Core/_WinJS",{}),define("WinJS/Core/_Global",[],function(){"use strict";var a="undefined"!=typeof window?window:"undefined"!=typeof self?self:"undefined"!=typeof global?global:{};return a}),define("WinJS/Core/_BaseCoreUtils",["./_Global"],function(a){"use strict";function b(a){return a.supportedForProcessing=!0,a}var c=!!a.Windows;return{hasWinRT:c,markSupportedForProcessing:b,_setImmediate:a.setImmediate?a.setImmediate.bind(a):function(b){a.setTimeout(b,0)}}}),define("WinJS/Core/_WriteProfilerMark",["./_Global"],function(a){"use strict";return a.msWriteProfilerMark||function(){}}),define("WinJS/Core/_Base",["./_WinJS","./_Global","./_BaseCoreUtils","./_WriteProfilerMark"],function(a,b,c,d){"use strict";function e(a,b,c){var d,e,f,g=Object.keys(b),h=Array.isArray(a);for(e=0,f=g.length;f>e;e++){var i=g[e],j=95!==i.charCodeAt(0),k=b[i];!k||"object"!=typeof k||void 0===k.value&&"function"!=typeof k.get&&"function"!=typeof k.set?j?h?a.forEach(function(a){a[i]=k}):a[i]=k:(d=d||{},d[i]={value:k,enumerable:j,configurable:!0,writable:!0}):(void 0===k.enumerable&&(k.enumerable=j),c&&k.setName&&"function"==typeof k.setName&&k.setName(c+"."+i),d=d||{},d[i]=k)}d&&(h?a.forEach(function(a){Object.defineProperties(a,d)}):Object.defineProperties(a,d))}return function(){function c(c,d){var e=c||{};if(d){var f=d.split(".");e===b&&"WinJS"===f[0]&&(e=a,f.splice(0,1));for(var g=0,h=f.length;h>g;g++){var i=f[g];e[i]||Object.defineProperty(e,i,{value:{},writable:!1,enumerable:!0,configurable:!0}),e=e[i]}}return e}function f(a,b,d){var f=c(a,b);return d&&e(f,d,b||"<ANONYMOUS>"),f}function g(a,c){return f(b,a,c)}function h(a){var b,c,e=k.uninitialized;return{setName:function(a){b=a},get:function(){switch(e){case k.initialized:return c;case k.uninitialized:e=k.working;try{d("WinJS.Namespace._lazy:"+b+",StartTM"),c=a()}finally{d("WinJS.Namespace._lazy:"+b+",StopTM"),e=k.uninitialized}return a=null,e=k.initialized,c;case k.working:throw"Illegal: reentrancy on initialization";default:throw"Illegal"}},set:function(a){switch(e){case k.working:throw"Illegal: reentrancy on initialization";default:e=k.initialized,c=a}},enumerable:!0,configurable:!0}}function i(a,d,f){var g=[a],h=null;return d&&(h=c(b,d),g.push(h)),e(g,f,d||"<ANONYMOUS>"),h}var j=a;j.Namespace||(j.Namespace=Object.create(Object.prototype));var k={uninitialized:1,working:2,initialized:3};Object.defineProperties(j.Namespace,{defineWithParent:{value:f,writable:!0,enumerable:!0,configurable:!0},define:{value:g,writable:!0,enumerable:!0,configurable:!0},_lazy:{value:h,writable:!0,enumerable:!0,configurable:!0},_moduleDefine:{value:i,writable:!0,enumerable:!0,configurable:!0}})}(),function(){function b(a,b,d){return a=a||function(){},c.markSupportedForProcessing(a),b&&e(a.prototype,b),d&&e(a,d),a}function d(a,d,f,g){if(a){d=d||function(){};var h=a.prototype;return d.prototype=Object.create(h),c.markSupportedForProcessing(d),Object.defineProperty(d.prototype,"constructor",{value:d,writable:!0,configurable:!0,enumerable:!0}),f&&e(d.prototype,f),g&&e(d,g),d}return b(d,f,g)}function f(a){a=a||function(){};var b,c;for(b=1,c=arguments.length;c>b;b++)e(a.prototype,arguments[b]);return a}a.Namespace.define("WinJS.Class",{define:b,derive:d,mix:f})}(),{Namespace:a.Namespace,Class:a.Class}}),define("WinJS/Core/_ErrorFromName",["./_Base"],function(a){"use strict";var b=a.Class.derive(Error,function(a,b){this.name=a,this.message=b||a},{},{supportedForProcessing:!1});return a.Namespace.define("WinJS",{ErrorFromName:b}),b}),define("WinJS/Core/_WinRT",["exports","./_Global","./_Base"],function(a,b,c){"use strict";a.msGetWeakWinRTProperty=b.msGetWeakWinRTProperty,a.msSetWeakWinRTProperty=b.msSetWeakWinRTProperty;var d=["Windows.ApplicationModel.DesignMode.designModeEnabled","Windows.ApplicationModel.Resources.Core.ResourceContext","Windows.ApplicationModel.Resources.Core.ResourceManager","Windows.ApplicationModel.Search.SearchQueryLinguisticDetails","Windows.Data.Text.SemanticTextQuery","Windows.Foundation.Collections.CollectionChange","Windows.Foundation.Diagnostics","Windows.Foundation.Uri","Windows.Globalization.ApplicationLanguages","Windows.Globalization.Calendar","Windows.Globalization.DateTimeFormatting","Windows.Globalization.Language","Windows.Phone.UI.Input.HardwareButtons","Windows.Storage.ApplicationData","Windows.Storage.CreationCollisionOption","Windows.Storage.BulkAccess.FileInformationFactory","Windows.Storage.FileIO","Windows.Storage.FileProperties.ThumbnailType","Windows.Storage.FileProperties.ThumbnailMode","Windows.Storage.FileProperties.ThumbnailOptions","Windows.Storage.KnownFolders","Windows.Storage.Search.FolderDepth","Windows.Storage.Search.IndexerOption","Windows.Storage.Streams.RandomAccessStreamReference","Windows.UI.ApplicationSettings.SettingsEdgeLocation","Windows.UI.ApplicationSettings.SettingsCommand","Windows.UI.ApplicationSettings.SettingsPane","Windows.UI.Core.AnimationMetrics","Windows.UI.Core.SystemNavigationManager","Windows.UI.Input.EdgeGesture","Windows.UI.Input.EdgeGestureKind","Windows.UI.Input.PointerPoint","Windows.UI.ViewManagement.HandPreference","Windows.UI.ViewManagement.InputPane","Windows.UI.ViewManagement.UIColorType","Windows.UI.ViewManagement.UISettings","Windows.UI.WebUI.Core.WebUICommandBar","Windows.UI.WebUI.Core.WebUICommandBarBitmapIcon","Windows.UI.WebUI.Core.WebUICommandBarClosedDisplayMode","Windows.UI.WebUI.Core.WebUICommandBarIconButton","Windows.UI.WebUI.Core.WebUICommandBarSymbolIcon","Windows.UI.WebUI.WebUIApplication"],e=!1;try{b.Windows.UI.ViewManagement.InputPane.getForCurrentView(),e=!0}catch(f){}d.forEach(function(d){var f=d.split("."),g={};g[f[f.length-1]]={get:function(){return e?f.reduce(function(a,b){return a?a[b]:null},b):null}},c.Namespace.defineWithParent(a,f.slice(0,-1).join("."),g)})}),define("WinJS/Core/_Events",["exports","./_Base"],function(a,b){"use strict";function c(a){var b="_on"+a+"state";return{get:function(){var a=this[b];return a&&a.userHandler},set:function(c){var d=this[b];c?(d||(d={wrapper:function(a){return d.userHandler(a)},userHandler:c},Object.defineProperty(this,b,{value:d,enumerable:!1,writable:!0,configurable:!0}),this.addEventListener(a,d.wrapper,!1)),d.userHandler=c):d&&(this.removeEventListener(a,d.wrapper,!1),this[b]=null)},enumerable:!0}}function d(){for(var a={},b=0,d=arguments.length;d>b;b++){var e=arguments[b];a["on"+e]=c(e)}return a}var e=b.Class.define(function(a,b,c){this.detail=b,this.target=c,this.timeStamp=Date.now(),this.type=a},{bubbles:{value:!1,writable:!1},cancelable:{value:!1,writable:!1},currentTarget:{get:function(){return this.target}},defaultPrevented:{get:function(){return this._preventDefaultCalled}},trusted:{value:!1,writable:!1},eventPhase:{value:0,writable:!1},target:null,timeStamp:null,type:null,preventDefault:function(){this._preventDefaultCalled=!0},stopImmediatePropagation:function(){this._stopImmediatePropagationCalled=!0},stopPropagation:function(){}},{supportedForProcessing:!1}),f={_listeners:null,addEventListener:function(a,b,c){c=c||!1,this._listeners=this._listeners||{};for(var d=this._listeners[a]=this._listeners[a]||[],e=0,f=d.length;f>e;e++){var g=d[e];if(g.useCapture===c&&g.listener===b)return}d.push({listener:b,useCapture:c})},dispatchEvent:function(a,b){var c=this._listeners&&this._listeners[a];if(c){var d=new e(a,b,this);c=c.slice(0,c.length);for(var f=0,g=c.length;g>f&&!d._stopImmediatePropagationCalled;f++)c[f].listener(d);return d.defaultPrevented||!1}return!1},removeEventListener:function(a,b,c){c=c||!1;var d=this._listeners&&this._listeners[a];if(d)for(var e=0,f=d.length;f>e;e++){var g=d[e];if(g.listener===b&&g.useCapture===c){d.splice(e,1),0===d.length&&delete this._listeners[a];break}}}};b.Namespace._moduleDefine(a,"WinJS.Utilities",{_createEventProperty:c,createEventProperties:d,eventMixin:f})}),define("require-json",{load:function(a){throw new Error("Dynamic load not allowed: "+a)}}),define("require-json!strings/en-us/Microsoft.WinJS.resjson",{"tv/scrollViewerPageDown":"Page Down","tv/scrollViewerPageUp":"Page Up","ui/appBarAriaLabel":"App Bar","ui/appBarCommandAriaLabel":"App Bar Item","ui/appBarOverflowButtonAriaLabel":"View more","ui/autoSuggestBoxAriaLabel":"Autosuggestbox","ui/autoSuggestBoxAriaLabelInputNoPlaceHolder":"Autosuggestbox, enter to submit query, esc to clear text","ui/autoSuggestBoxAriaLabelInputPlaceHolder":"Autosuggestbox, {0}, enter to submit query, esc to clear text","ui/autoSuggestBoxAriaLabelQuery":"Suggestion: {0}","_ui/autoSuggestBoxAriaLabelQuery.comment":"Suggestion: query text (example: Suggestion: contoso)","ui/autoSuggestBoxAriaLabelSeparator":"Separator: {0}","_ui/autoSuggestBoxAriaLabelSeparator.comment":"Separator: separator text (example: Separator: People or Separator: Apps)","ui/autoSuggestBoxAriaLabelResult":"Result: {0}, {1}","_ui/autoSuggestBoxAriaLabelResult.comment":"Result: text, detailed text (example: Result: contoso, www.contoso.com)","ui/averageRating":"Average Rating","ui/backbuttonarialabel":"Back","ui/chapterSkipBackMediaCommandDisplayText":"Chapter back","ui/chapterSkipForwardMediaCommandDisplayText":"Chapter forward","ui/clearYourRating":"Clear your rating","ui/closedCaptionsLabelNone":"Off","ui/closedCaptionsMediaCommandDisplayText":"Closed captioning","ui/closeOverlay":"Close","ui/commandingSurfaceAriaLabel":"CommandingSurface","ui/commandingSurfaceOverflowButtonAriaLabel":"View more","ui/datePicker":"Date Picker","ui/fastForwardMediaCommandDisplayText":"Fast forward","ui/fastForwardFeedbackDisplayText":" {0}X","ui/fastForwardFeedbackSlowMotionDisplayText":"0.5X","ui/flipViewPanningContainerAriaLabel":"Scrolling Container","ui/flyoutAriaLabel":"Flyout","ui/goToFullScreenButtonLabel":"Go full screen","ui/goToLiveMediaCommandDisplayText":"LIVE","ui/hubViewportAriaLabel":"Scrolling Container","ui/listViewViewportAriaLabel":"Scrolling Container","ui/mediaErrorAborted":"Playback was interrupted. Please try again.","ui/mediaErrorNetwork":"There was a network connection error.","ui/mediaErrorDecode":"The content could not be decoded","ui/mediaErrorSourceNotSupported":"This content type is not supported.","ui/mediaErrorUnknown":"There was an unknown error.","ui/mediaPlayerAudioTracksButtonLabel":"Audio tracks","ui/mediaPlayerCastButtonLabel":"Cast","ui/mediaPlayerChapterSkipBackButtonLabel":"Previous","ui/mediaPlayerChapterSkipForwardButtonLabel":"Next","ui/mediaPlayerClosedCaptionsButtonLabel":"Closed captions","ui/mediaPlayerFastForwardButtonLabel":"Fast forward","ui/mediaPlayerFullscreenButtonLabel":"Fullscreen","ui/mediaPlayerLiveButtonLabel":"LIVE","ui/mediaPlayerNextTrackButtonLabel":"Next","ui/mediaPlayerOverlayActiveOptionIndicator":"(On)","ui/mediaPlayerPauseButtonLabel":"Pause","ui/mediaPlayerPlayButtonLabel":"Play","ui/mediaPlayerPlayFromBeginningButtonLabel":"Replay","ui/mediaPlayerPlayRateButtonLabel":"Playback rate","ui/mediaPlayerPreviousTrackButtonLabel":"Previous","ui/mediaPlayerRewindButtonLabel":"Rewind","ui/mediaPlayerStopButtonLabel":"Stop","ui/mediaPlayerTimeSkipBackButtonLabel":"8 second replay","ui/mediaPlayerTimeSkipForwardButtonLabel":"30 second skip","ui/mediaPlayerToggleSnapButtonLabel":"Snap","ui/mediaPlayerVolumeButtonLabel":"Volume","ui/mediaPlayerZoomButtonLabel":"Zoom","ui/menuCommandAriaLabel":"Menu Item","ui/menuAriaLabel":"Menu","ui/navBarContainerViewportAriaLabel":"Scrolling Container","ui/nextTrackMediaCommandDisplayText":"Next track","ui/off":"Off","ui/on":"On","ui/pauseMediaCommandDisplayText":"Pause","ui/playFromBeginningMediaCommandDisplayText":"Play again","ui/playbackRateHalfSpeedLabel":"0.5x","ui/playbackRateNormalSpeedLabel":"Normal","ui/playbackRateOneAndHalfSpeedLabel":"1.5x","ui/playbackRateDoubleSpeedLabel":"2x","ui/playMediaCommandDisplayText":"Play","ui/pivotAriaLabel":"Pivot","ui/pivotViewportAriaLabel":"Scrolling Container","ui/replayMediaCommandDisplayText":"Play again","ui/rewindMediaCommandDisplayText":"Rewind","ui/rewindFeedbackDisplayText":" {0}X","ui/rewindFeedbackSlowMotionDisplayText":"0.5X","ui/searchBoxAriaLabel":"Searchbox","ui/searchBoxAriaLabelInputNoPlaceHolder":"Searchbox, enter to submit query, esc to clear text","ui/searchBoxAriaLabelInputPlaceHolder":"Searchbox, {0}, enter to submit query, esc to clear text","ui/searchBoxAriaLabelButton":"Click to submit query","ui/seeMore":"See more","ui/selectAMPM":"Select A.M P.M","ui/selectDay":"Select Day","ui/selectHour":"Select Hour","ui/selectMinute":"Select Minute","ui/selectMonth":"Select Month","ui/selectYear":"Select Year","ui/settingsFlyoutAriaLabel":"Settings Flyout","ui/stopMediaCommandDisplayText":"Stop","ui/tentativeRating":"Tentative Rating","ui/timePicker":"Time Picker","ui/timeSeparator":":","ui/timeSkipBackMediaCommandDisplayText":"Skip back","ui/timeSkipForwardMediaCommandDisplayText":"Skip forward","ui/toolbarAriaLabel":"ToolBar","ui/toolbarOverflowButtonAriaLabel":"View more","ui/unrated":"Unrated","ui/userRating":"User Rating","ui/zoomMediaCommandDisplayText":"Zoom","ui/appBarIcons/previous":"","_ui/appBarIcons/previous.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/next":"","_ui/appBarIcons/next.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/play":"","_ui/appBarIcons/play.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/pause":"","_ui/appBarIcons/pause.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/edit":"","_ui/appBarIcons/edit.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/save":"","_ui/appBarIcons/save.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/clear":"","_ui/appBarIcons/clear.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/delete":"","_ui/appBarIcons/delete.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/remove":"","_ui/appBarIcons/remove.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/add":"","_ui/appBarIcons/add.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/cancel":"","_ui/appBarIcons/cancel.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/accept":"","_ui/appBarIcons/accept.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/more":"","_ui/appBarIcons/more.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/redo":"","_ui/appBarIcons/redo.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/undo":"","_ui/appBarIcons/undo.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/home":"","_ui/appBarIcons/home.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/up":"","_ui/appBarIcons/up.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/forward":"","_ui/appBarIcons/forward.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/right":"","_ui/appBarIcons/right.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/back":"","_ui/appBarIcons/back.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/left":"","_ui/appBarIcons/left.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/favorite":"","_ui/appBarIcons/favorite.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/camera":"","_ui/appBarIcons/camera.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/settings":"","_ui/appBarIcons/settings.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/video":"","_ui/appBarIcons/video.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/sync":"","_ui/appBarIcons/sync.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/download":"","_ui/appBarIcons/download.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/mail":"","_ui/appBarIcons/mail.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/find":"","_ui/appBarIcons/find.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/help":"","_ui/appBarIcons/help.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/upload":"","_ui/appBarIcons/upload.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/emoji":"","_ui/appBarIcons/emoji.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/twopage":"","_ui/appBarIcons/twopage.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/leavechat":"","_ui/appBarIcons/leavechat.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/mailforward":"","_ui/appBarIcons/mailforward.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/clock":"","_ui/appBarIcons/clock.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/send":"","_ui/appBarIcons/send.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/crop":"","_ui/appBarIcons/crop.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/rotatecamera":"","_ui/appBarIcons/rotatecamera.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/people":"","_ui/appBarIcons/people.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/closepane":"","_ui/appBarIcons/closepane.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/openpane":"","_ui/appBarIcons/openpane.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/world":"","_ui/appBarIcons/world.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/flag":"","_ui/appBarIcons/flag.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/previewlink":"","_ui/appBarIcons/previewlink.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/globe":"","_ui/appBarIcons/globe.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/trim":"","_ui/appBarIcons/trim.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/attachcamera":"","_ui/appBarIcons/attachcamera.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/zoomin":"","_ui/appBarIcons/zoomin.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/bookmarks":"","_ui/appBarIcons/bookmarks.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/document":"","_ui/appBarIcons/document.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/protecteddocument":"","_ui/appBarIcons/protecteddocument.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/page":"","_ui/appBarIcons/page.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/bullets":"","_ui/appBarIcons/bullets.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/comment":"","_ui/appBarIcons/comment.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/mail2":"","_ui/appBarIcons/mail2.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/contactinfo":"","_ui/appBarIcons/contactinfo.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/hangup":"","_ui/appBarIcons/hangup.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/viewall":"","_ui/appBarIcons/viewall.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/mappin":"","_ui/appBarIcons/mappin.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/phone":"","_ui/appBarIcons/phone.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/videochat":"","_ui/appBarIcons/videochat.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/switch":"","_ui/appBarIcons/switch.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/contact":"","_ui/appBarIcons/contact.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/rename":"","_ui/appBarIcons/rename.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/pin":"","_ui/appBarIcons/pin.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/musicinfo":"","_ui/appBarIcons/musicinfo.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/go":"","_ui/appBarIcons/go.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/keyboard":"","_ui/appBarIcons/keyboard.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/dockleft":"","_ui/appBarIcons/dockleft.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/dockright":"","_ui/appBarIcons/dockright.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/dockbottom":"","_ui/appBarIcons/dockbottom.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/remote":"","_ui/appBarIcons/remote.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/refresh":"","_ui/appBarIcons/refresh.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/rotate":"","_ui/appBarIcons/rotate.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/shuffle":"","_ui/appBarIcons/shuffle.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/list":"","_ui/appBarIcons/list.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/shop":"","_ui/appBarIcons/shop.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/selectall":"","_ui/appBarIcons/selectall.comment":"{Locked=qps-ploc,qps-plocm}",
"ui/appBarIcons/orientation":"","_ui/appBarIcons/orientation.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/import":"","_ui/appBarIcons/import.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/importall":"","_ui/appBarIcons/importall.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/browsephotos":"","_ui/appBarIcons/browsephotos.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/webcam":"","_ui/appBarIcons/webcam.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/pictures":"","_ui/appBarIcons/pictures.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/savelocal":"","_ui/appBarIcons/savelocal.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/caption":"","_ui/appBarIcons/caption.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/stop":"","_ui/appBarIcons/stop.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/showresults":"","_ui/appBarIcons/showresults.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/volume":"","_ui/appBarIcons/volume.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/repair":"","_ui/appBarIcons/repair.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/message":"","_ui/appBarIcons/message.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/page2":"","_ui/appBarIcons/page2.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/calendarday":"","_ui/appBarIcons/calendarday.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/calendarweek":"","_ui/appBarIcons/calendarweek.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/calendar":"","_ui/appBarIcons/calendar.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/characters":"","_ui/appBarIcons/characters.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/mailreplyall":"","_ui/appBarIcons/mailreplyall.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/read":"","_ui/appBarIcons/read.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/link":"","_ui/appBarIcons/link.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/accounts":"","_ui/appBarIcons/accounts.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/showbcc":"","_ui/appBarIcons/showbcc.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/hidebcc":"","_ui/appBarIcons/hidebcc.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/cut":"","_ui/appBarIcons/cut.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/attach":"","_ui/appBarIcons/attach.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/paste":"","_ui/appBarIcons/paste.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/filter":"","_ui/appBarIcons/filter.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/copy":"","_ui/appBarIcons/copy.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/emoji2":"","_ui/appBarIcons/emoji2.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/important":"","_ui/appBarIcons/important.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/mailreply":"","_ui/appBarIcons/mailreply.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/slideshow":"","_ui/appBarIcons/slideshow.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/sort":"","_ui/appBarIcons/sort.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/manage":"","_ui/appBarIcons/manage.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/allapps":"","_ui/appBarIcons/allapps.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/disconnectdrive":"","_ui/appBarIcons/disconnectdrive.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/mapdrive":"","_ui/appBarIcons/mapdrive.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/newwindow":"","_ui/appBarIcons/newwindow.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/openwith":"","_ui/appBarIcons/openwith.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/contactpresence":"","_ui/appBarIcons/contactpresence.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/priority":"","_ui/appBarIcons/priority.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/uploadskydrive":"","_ui/appBarIcons/uploadskydrive.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/gototoday":"","_ui/appBarIcons/gototoday.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/font":"","_ui/appBarIcons/font.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/fontcolor":"","_ui/appBarIcons/fontcolor.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/contact2":"","_ui/appBarIcons/contact2.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/folder":"","_ui/appBarIcons/folder.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/audio":"","_ui/appBarIcons/audio.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/placeholder":"","_ui/appBarIcons/placeholder.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/view":"","_ui/appBarIcons/view.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/setlockscreen":"","_ui/appBarIcons/setlockscreen.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/settile":"","_ui/appBarIcons/settile.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/cc":"","_ui/appBarIcons/cc.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/stopslideshow":"","_ui/appBarIcons/stopslideshow.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/permissions":"","_ui/appBarIcons/permissions.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/highlight":"","_ui/appBarIcons/highlight.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/disableupdates":"","_ui/appBarIcons/disableupdates.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/unfavorite":"","_ui/appBarIcons/unfavorite.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/unpin":"","_ui/appBarIcons/unpin.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/openlocal":"","_ui/appBarIcons/openlocal.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/mute":"","_ui/appBarIcons/mute.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/italic":"","_ui/appBarIcons/italic.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/underline":"","_ui/appBarIcons/underline.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/bold":"","_ui/appBarIcons/bold.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/movetofolder":"","_ui/appBarIcons/movetofolder.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/likedislike":"","_ui/appBarIcons/likedislike.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/dislike":"","_ui/appBarIcons/dislike.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/like":"","_ui/appBarIcons/like.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/alignright":"","_ui/appBarIcons/alignright.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/aligncenter":"","_ui/appBarIcons/aligncenter.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/alignleft":"","_ui/appBarIcons/alignleft.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/zoom":"","_ui/appBarIcons/zoom.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/zoomout":"","_ui/appBarIcons/zoomout.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/openfile":"","_ui/appBarIcons/openfile.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/otheruser":"","_ui/appBarIcons/otheruser.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/admin":"","_ui/appBarIcons/admin.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/street":"","_ui/appBarIcons/street.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/map":"","_ui/appBarIcons/map.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/clearselection":"","_ui/appBarIcons/clearselection.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/fontdecrease":"","_ui/appBarIcons/fontdecrease.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/fontincrease":"","_ui/appBarIcons/fontincrease.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/fontsize":"","_ui/appBarIcons/fontsize.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/cellphone":"","_ui/appBarIcons/cellphone.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/reshare":"","_ui/appBarIcons/reshare.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/tag":"","_ui/appBarIcons/tag.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/repeatone":"","_ui/appBarIcons/repeatone.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/repeatall":"","_ui/appBarIcons/repeatall.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/outlinestar":"","_ui/appBarIcons/outlinestar.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/solidstar":"","_ui/appBarIcons/solidstar.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/calculator":"","_ui/appBarIcons/calculator.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/directions":"","_ui/appBarIcons/directions.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/target":"","_ui/appBarIcons/target.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/library":"","_ui/appBarIcons/library.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/phonebook":"","_ui/appBarIcons/phonebook.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/memo":"","_ui/appBarIcons/memo.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/microphone":"","_ui/appBarIcons/microphone.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/postupdate":"","_ui/appBarIcons/postupdate.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/backtowindow":"","_ui/appBarIcons/backtowindow.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/fullscreen":"","_ui/appBarIcons/fullscreen.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/newfolder":"","_ui/appBarIcons/newfolder.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/calendarreply":"","_ui/appBarIcons/calendarreply.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/unsyncfolder":"","_ui/appBarIcons/unsyncfolder.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/reporthacked":"","_ui/appBarIcons/reporthacked.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/syncfolder":"","_ui/appBarIcons/syncfolder.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/blockcontact":"","_ui/appBarIcons/blockcontact.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/switchapps":"","_ui/appBarIcons/switchapps.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/addfriend":"","_ui/appBarIcons/addfriend.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/touchpointer":"","_ui/appBarIcons/touchpointer.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/gotostart":"","_ui/appBarIcons/gotostart.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/zerobars":"","_ui/appBarIcons/zerobars.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/onebar":"","_ui/appBarIcons/onebar.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/twobars":"","_ui/appBarIcons/twobars.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/threebars":"","_ui/appBarIcons/threebars.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/fourbars":"","_ui/appBarIcons/fourbars.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/scan":"","_ui/appBarIcons/scan.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/preview":"","_ui/appBarIcons/preview.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/hamburger":"","_ui/appBarIcons/hamburger.comment":"{Locked=qps-ploc,qps-plocm}"}),define("WinJS/Core/_Resources",["exports","./_Global","./_WinRT","./_Base","./_Events","require-json!strings/en-us/Microsoft.WinJS.resjson"],function(a,b,c,d,e,f){"use strict";function g(a){var b=s("ms-resource:///Microsoft.WinJS/"+a);return b.empty&&(b=h(a)),b}function h(a){var b=f[a];return"string"==typeof b&&(b={value:b}),b||{value:a,empty:!0}}function i(a){var b=arguments;return b.length>1&&(a=a.replace(/({{)|(}})|{(\d+)}|({)|(})/g,function(a,c,d,e,f,g){if(f||g)throw i(q.malformedFormatStringInput,f||g);return c&&"{"||d&&"}"||b[(0|e)+1]})),a}var j,k,l=!1,m="contextchanged",n=d.Class.mix(d.Class.define(null,{},{supportedForProcessing:!1}),e.eventMixin),o=new n,p=e._createEventProperty,q={get malformedFormatStringInput(){return"Malformed, did you mean to escape your '{0}'?"}};d.Namespace.define("WinJS.Resources",{_getWinJSString:g}),d.Namespace._moduleDefine(a,"WinJS.Resources",{addEventListener:function(b,d,e){if(c.Windows.ApplicationModel.Resources.Core.ResourceManager&&!l&&b===m)try{var f=a._getResourceContext();f?f.qualifierValues.addEventListener("mapchanged",function(b){a.dispatchEvent(m,{qualifier:b.key,changed:b.target[b.key]})},!1):c.Windows.ApplicationModel.Resources.Core.ResourceManager.current.defaultContext.qualifierValues.addEventListener("mapchanged",function(b){a.dispatchEvent(m,{qualifier:b.key,changed:b.target[b.key]})},!1),l=!0}catch(g){}o.addEventListener(b,d,e)},removeEventListener:o.removeEventListener.bind(o),dispatchEvent:o.dispatchEvent.bind(o),_formatString:i,_getStringWinRT:function(b){if(!j){var d=c.Windows.ApplicationModel.Resources.Core.ResourceManager.current.mainResourceMap;try{j=d.getSubtree("Resources")}catch(e){}j||(j=d)}var f,g,h;try{var i=a._getResourceContext();h=i?j.getValue(b,i):j.getValue(b),h&&(f=h.valueAsString,void 0===f&&(f=h.toString()))}catch(e){}if(!f)return a._getStringJS(b);try{g=h.getQualifierValue("Language")}catch(e){return{value:f}}return{value:f,lang:g}},_getStringJS:function(a){var c=b.strings&&b.strings[a];return"string"==typeof c&&(c={value:c}),c||{value:a,empty:!0}},_getResourceContext:function(){if(b.document&&"undefined"==typeof k){var a=c.Windows.ApplicationModel.Resources.Core.ResourceContext;k=a.getForCurrentView?a.getForCurrentView():null}return k},oncontextchanged:p(m)});var r=c.Windows.ApplicationModel.Resources.Core.ResourceManager?a._getStringWinRT:a._getStringJS,s=function(a){return r(a)};d.Namespace._moduleDefine(a,null,{_formatString:i,_getWinJSString:g}),d.Namespace._moduleDefine(a,"WinJS.Resources",{getString:{get:function(){return s},set:function(a){s=a}}})}),define("WinJS/Core/_Trace",["./_Global"],function(a){"use strict";function b(a){return a}return{_traceAsyncOperationStarting:a.Debug&&a.Debug.msTraceAsyncOperationStarting&&a.Debug.msTraceAsyncOperationStarting.bind(a.Debug)||b,_traceAsyncOperationCompleted:a.Debug&&a.Debug.msTraceAsyncOperationCompleted&&a.Debug.msTraceAsyncOperationCompleted.bind(a.Debug)||b,_traceAsyncCallbackStarting:a.Debug&&a.Debug.msTraceAsyncCallbackStarting&&a.Debug.msTraceAsyncCallbackStarting.bind(a.Debug)||b,_traceAsyncCallbackCompleted:a.Debug&&a.Debug.msTraceAsyncCallbackCompleted&&a.Debug.msTraceAsyncCallbackCompleted.bind(a.Debug)||b}}),define("WinJS/Promise/_StateMachine",["../Core/_Global","../Core/_BaseCoreUtils","../Core/_Base","../Core/_ErrorFromName","../Core/_Events","../Core/_Trace"],function(a,b,c,d,e,f){"use strict";function g(){}function h(a,b){var c;c=b&&"object"==typeof b&&"function"==typeof b.then?I:M,a._value=b,a._setState(c)}function i(a,b,c,d,e,f){return{exception:a,error:b,promise:c,handler:f,id:d,parent:e}}function j(a,b,c,d){var e=c._isException,f=c._errorId;return i(e?b:null,e?null:b,a,f,c,d)}function k(a,b,c){var d=c._isException,e=c._errorId;return u(a,e,d),i(d?b:null,d?null:b,a,e,c)}function l(a,b){var c=++Q;return u(a,c),i(null,b,a,c)}function m(a,b){var c=++Q;return u(a,c,!0),i(b,null,a,c)}function n(a,b,c,d){var e=f._traceAsyncOperationStarting("WinJS.Promise.done");t(a,{c:b,e:c,p:d,asyncOpID:e})}function o(a,b,c,d){a._value=b,r(a,b,c,d),a._setState(O)}function p(b,c){var d=b._value,e=b._listeners;if(e){b._listeners=null;var g,h;for(g=0,h=Array.isArray(e)?e.length:1;h>g;g++){var i=1===h?e:e[g],j=i.c,k=i.promise;if(f._traceAsyncOperationCompleted(i.asyncOpID,a.Debug&&a.Debug.MS_ASYNC_OP_STATUS_SUCCESS),k){f._traceAsyncCallbackStarting(i.asyncOpID);try{k._setCompleteValue(j?j(d):d)}catch(l){k._setExceptionValue(l)}finally{f._traceAsyncCallbackCompleted()}k._state!==I&&k._listeners&&c.push(k)}else W.prototype.done.call(b,j)}}}function q(b,c){var d=b._value,e=b._listeners;if(e){b._listeners=null;var g,h;for(g=0,h=Array.isArray(e)?e.length:1;h>g;g++){var i=1===h?e:e[g],k=i.e,l=i.promise,m=a.Debug&&(d&&d.name===D?a.Debug.MS_ASYNC_OP_STATUS_CANCELED:a.Debug.MS_ASYNC_OP_STATUS_ERROR);if(f._traceAsyncOperationCompleted(i.asyncOpID,m),l){var n=!1;try{k?(f._traceAsyncCallbackStarting(i.asyncOpID),n=!0,k.handlesOnError||r(l,d,j,b,k),l._setCompleteValue(k(d))):l._setChainedErrorValue(d,b)}catch(o){l._setExceptionValue(o)}finally{n&&f._traceAsyncCallbackCompleted()}l._state!==I&&l._listeners&&c.push(l)}else U.prototype.done.call(b,null,k)}}}function r(a,b,c,d,e){if(B._listeners[C]){if(b instanceof Error&&b.message===D)return;B.dispatchEvent(C,c(a,b,d,e))}}function s(a,b){var c=a._listeners;if(c){var d,e;for(d=0,e=Array.isArray(c)?c.length:1;e>d;d++){var f=1===e?c:c[d],g=f.p;if(g)try{g(b)}catch(h){}f.c||f.e||!f.promise||f.promise._progress(b)}}}function t(a,b){var c=a._listeners;c?(c=Array.isArray(c)?c:[c],c.push(b)):c=b,a._listeners=c}function u(a,b,c){a._isException=c||!1,a._errorId=b}function v(a,b,c,d){a._value=b,r(a,b,c,d),a._setState(P)}function w(a,b){var c;c=b&&"object"==typeof b&&"function"==typeof b.then?I:N,a._value=b,a._setState(c)}function x(a,b,c,d){var e=new T(a),g=f._traceAsyncOperationStarting("WinJS.Promise.then");return t(a,{promise:e,c:b,e:c,p:d,asyncOpID:g}),e}function y(c){var d;return new X(function(e){c?d=a.setTimeout(e,c):b._setImmediate(e)},function(){d&&a.clearTimeout(d)})}function z(a,b){var c=function(){b.cancel()},d=function(){a.cancel()};return a.then(c),b.then(d,d),b}a.Debug&&(a.Debug.setNonUserCodeExceptions=!0);var A=c.Class.mix(c.Class.define(null,{},{supportedForProcessing:!1}),e.eventMixin),B=new A;B._listeners={};var C="error",D="Canceled",E=!1,F={promise:1,thenPromise:2,errorPromise:4,exceptionPromise:8,completePromise:16};F.all=F.promise|F.thenPromise|F.errorPromise|F.exceptionPromise|F.completePromise;var G,H,I,J,K,L,M,N,O,P,Q=1;G={name:"created",enter:function(a){a._setState(H)},cancel:g,done:g,then:g,_completed:g,_error:g,_notify:g,_progress:g,_setCompleteValue:g,_setErrorValue:g},H={name:"working",enter:g,cancel:function(a){a._setState(K)},done:n,then:x,_completed:h,_error:o,_notify:g,_progress:s,_setCompleteValue:w,_setErrorValue:v},I={name:"waiting",enter:function(a){var b=a._value;if(b instanceof T&&b._state!==P&&b._state!==N)t(b,{promise:a});else{var c=function(d){b._errorId?a._chainedError(d,b):(r(a,d,j,b,c),a._error(d))};c.handlesOnError=!0,b.then(a._completed.bind(a),c,a._progress.bind(a))}},cancel:function(a){a._setState(J)},done:n,then:x,_completed:h,_error:o,_notify:g,_progress:s,_setCompleteValue:w,_setErrorValue:v},J={name:"waiting_canceled",enter:function(a){a._setState(L);var b=a._value;b.cancel&&b.cancel()},cancel:g,done:n,then:x,_completed:h,_error:o,_notify:g,_progress:s,_setCompleteValue:w,_setErrorValue:v},K={name:"canceled",enter:function(a){a._setState(L),a._cancelAction()},cancel:g,done:n,then:x,_completed:h,_error:o,_notify:g,_progress:s,_setCompleteValue:w,_setErrorValue:v},L={name:"canceling",enter:function(a){var b=new Error(D);b.name=b.message,a._value=b,a._setState(O)},cancel:g,done:g,then:g,_completed:g,_error:g,_notify:g,_progress:g,_setCompleteValue:g,_setErrorValue:g},M={name:"complete_notify",enter:function(a){if(a.done=W.prototype.done,a.then=W.prototype.then,a._listeners)for(var b,c=[a];c.length;)b=c.shift(),b._state._notify(b,c);a._setState(N)},cancel:g,done:null,then:null,_completed:g,_error:g,_notify:p,_progress:g,_setCompleteValue:g,_setErrorValue:g},N={name:"success",enter:function(a){a.done=W.prototype.done,a.then=W.prototype.then,a._cleanupAction()},cancel:g,done:null,then:null,_completed:g,_error:g,_notify:p,_progress:g,_setCompleteValue:g,_setErrorValue:g},O={name:"error_notify",enter:function(a){if(a.done=U.prototype.done,a.then=U.prototype.then,a._listeners)for(var b,c=[a];c.length;)b=c.shift(),b._state._notify(b,c);a._setState(P)},cancel:g,done:null,then:null,_completed:g,_error:g,_notify:q,_progress:g,_setCompleteValue:g,_setErrorValue:g},P={name:"error",enter:function(a){a.done=U.prototype.done,a.then=U.prototype.then,a._cleanupAction()},cancel:g,done:null,then:null,_completed:g,_error:g,_notify:q,_progress:g,_setCompleteValue:g,_setErrorValue:g};var R,S=c.Class.define(null,{_listeners:null,_nextState:null,_state:null,_value:null,cancel:function(){this._state.cancel(this),this._run()},done:function(a,b,c){this._state.done(this,a,b,c)},then:function(a,b,c){return this._state.then(this,a,b,c)},_chainedError:function(a,b){var c=this._state._error(this,a,k,b);return this._run(),c},_completed:function(a){var b=this._state._completed(this,a);return this._run(),b},_error:function(a){var b=this._state._error(this,a,l);return this._run(),b},_progress:function(a){this._state._progress(this,a)},_setState:function(a){this._nextState=a},_setCompleteValue:function(a){this._state._setCompleteValue(this,a),this._run()},_setChainedErrorValue:function(a,b){var c=this._state._setErrorValue(this,a,k,b);return this._run(),c},_setExceptionValue:function(a){var b=this._state._setErrorValue(this,a,m);return this._run(),b},_run:function(){for(;this._nextState;)this._state=this._nextState,this._nextState=null,this._state.enter(this)}},{supportedForProcessing:!1}),T=c.Class.derive(S,function(a){E&&(E===!0||E&F.thenPromise)&&(this._stack=X._getStack()),this._creator=a,this._setState(G),this._run()},{_creator:null,_cancelAction:function(){this._creator&&this._creator.cancel()},_cleanupAction:function(){this._creator=null}},{supportedForProcessing:!1}),U=c.Class.define(function(a){E&&(E===!0||E&F.errorPromise)&&(this._stack=X._getStack()),this._value=a,r(this,a,l)},{cancel:function(){},done:function(a,b){var c=this._value;if(b)try{b.handlesOnError||r(null,c,j,this,b);var d=b(c);return void(d&&"object"==typeof d&&"function"==typeof d.done&&d.done())}catch(e){c=e}c instanceof Error&&c.message===D||X._doneHandler(c)},then:function(a,b){if(!b)return this;var c,d=this._value;try{b.handlesOnError||r(null,d,j,this,b),c=new W(b(d))}catch(e){c=e===d?this:new V(e)}return c}},{supportedForProcessing:!1}),V=c.Class.derive(U,function(a){E&&(E===!0||E&F.exceptionPromise)&&(this._stack=X._getStack()),this._value=a,r(this,a,m)},{},{supportedForProcessing:!1}),W=c.Class.define(function(a){if(E&&(E===!0||E&F.completePromise)&&(this._stack=X._getStack()),a&&"object"==typeof a&&"function"==typeof a.then){var b=new T(null);return b._setCompleteValue(a),b}this._value=a},{cancel:function(){},done:function(a){if(a)try{var b=a(this._value);b&&"object"==typeof b&&"function"==typeof b.done&&b.done()}catch(c){X._doneHandler(c)}},then:function(a){try{var b=a?a(this._value):this._value;return b===this._value?this:new W(b)}catch(c){return new V(c)}}},{supportedForProcessing:!1}),X=c.Class.derive(S,function(a,b){E&&(E===!0||E&F.promise)&&(this._stack=X._getStack()),this._oncancel=b,this._setState(G),this._run();try{var c=this._completed.bind(this),d=this._error.bind(this),e=this._progress.bind(this);a(c,d,e)}catch(f){this._setExceptionValue(f)}},{_oncancel:null,_cancelAction:function(){if(this._oncancel)try{this._oncancel()}catch(a){}},_cleanupAction:function(){this._oncancel=null}},{addEventListener:function(a,b,c){B.addEventListener(a,b,c)},any:function(a){return new X(function(b,c){var d=Object.keys(a);0===d.length&&b();var e=0;d.forEach(function(f){X.as(a[f]).then(function(){b({key:f,value:a[f]})},function(g){return g instanceof Error&&g.name===D?void(++e===d.length&&b(X.cancel)):void c({key:f,value:a[f]})})})},function(){var b=Object.keys(a);b.forEach(function(b){var c=X.as(a[b]);"function"==typeof c.cancel&&c.cancel()})})},as:function(a){return a&&"object"==typeof a&&"function"==typeof a.then?a:new W(a)},cancel:{get:function(){return R=R||new U(new d(D))}},dispatchEvent:function(a,b){return B.dispatchEvent(a,b)},is:function(a){return a&&"object"==typeof a&&"function"==typeof a.then},join:function(a){return new X(function(b,c,d){var e=Object.keys(a),f=Array.isArray(a)?[]:{},g=Array.isArray(a)?[]:{},h=0,i=e.length,j=function(a){if(0===--i){var h=Object.keys(f).length;if(0===h)b(g);else{var j=0;e.forEach(function(a){var b=f[a];b instanceof Error&&b.name===D&&j++}),j===h?b(X.cancel):c(f)}}else d({Key:a,Done:!0})};return e.forEach(function(b){var c=a[b];void 0===c?h++:X.then(c,function(a){g[b]=a,j(b)},function(a){f[b]=a,j(b)})}),i-=h,0===i?void b(g):void 0},function(){Object.keys(a).forEach(function(b){var c=X.as(a[b]);"function"==typeof c.cancel&&c.cancel()})})},removeEventListener:function(a,b,c){B.removeEventListener(a,b,c)},supportedForProcessing:!1,then:function(a,b,c,d){return X.as(a).then(b,c,d)},thenEach:function(a,b,c,d){var e=Array.isArray(a)?[]:{};return Object.keys(a).forEach(function(f){e[f]=X.as(a[f]).then(b,c,d)}),X.join(e)},timeout:function(a,b){var c=y(a);return b?z(c,b):c},wrap:function(a){return new W(a)},wrapError:function(a){return new U(a)},_veryExpensiveTagWithStack:{get:function(){return E},set:function(a){E=a}},_veryExpensiveTagWithStack_tag:F,_getStack:function(){if(a.Debug&&a.Debug.debuggerEnabled)try{throw new Error}catch(b){return b.stack}},_cancelBlocker:function(a,b){if(!X.is(a))return X.wrap(a);var c,d,e=new X(function(a,b){c=a,d=b},function(){c=null,d=null,b&&b()});return a.then(function(a){c&&c(a)},function(a){d&&d(a)}),e}});return Object.defineProperties(X,e.createEventProperties(C)),X._doneHandler=function(a){b._setImmediate(function(){throw a})},{PromiseStateMachine:S,Promise:X,state_created:G}}),define("WinJS/Promise",["./Core/_Base","./Promise/_StateMachine"],function(a,b){"use strict";return a.Namespace.define("WinJS",{Promise:b.Promise}),b.Promise}),define("WinJS/Core/_Log",["exports","./_Global","./_Base"],function(a,b,c){"use strict";function d(a,b,c){var d=a;return"function"==typeof d&&(d=d()),(c&&h.test(c)?"":c?c+": ":"")+(b?b.replace(g,":")+": ":"")+d}function e(c,d,e){var f=a.formatLog(c,d,e);b.console&&b.console[e&&h.test(e)?e:"log"](f)}function f(a){return a.replace(/[-[\]{}()*+?.,\\^$|#]/g,"\\$&")}var g=/\s+/g,h=/^(error|warn|info|log)$/,i=null;c.Namespace._moduleDefine(a,"WinJS.Utilities",{startLog:function(b){b=b||{},"string"==typeof b&&(b={tags:b});var c=b.type&&new RegExp("^("+f(b.type).replace(g," ").split(" ").join("|")+")$"),d=b.excludeTags&&new RegExp("(^|\\s)("+f(b.excludeTags).replace(g," ").split(" ").join("|")+")(\\s|$)","i"),h=b.tags&&new RegExp("(^|\\s)("+f(b.tags).replace(g," ").split(" ").join("|")+")(\\s|$)","i"),i=b.action||e;if(!(c||d||h||a.log))return void(a.log=i);var j=function(a,b,e){c&&!c.test(e)||d&&d.test(b)||h&&!h.test(b)||i(a,b,e),j.next&&j.next(a,b,e)};j.next=a.log,a.log=j},stopLog:function(){a.log=null},formatLog:d}),c.Namespace._moduleDefine(a,"WinJS",{log:{get:function(){return i},set:function(a){i=a}}})}),define("WinJS/Scheduler",["exports","./Core/_Global","./Core/_Base","./Core/_ErrorFromName","./Core/_Log","./Core/_Resources","./Core/_Trace","./Core/_WriteProfilerMark","./Promise"],function(a,b,c,d,e,f,g,h,i){"use strict";function j(a){var b={},c="_prev"+a,d="_next"+a;return b["_remove"+a]=function(){var a=this[c],b=this[d];b&&(b[c]=a),a&&(a[d]=b),this[c]=null,this[d]=null},b["_insert"+a+"Before"]=function(a){var b=this[c];return b&&(b[d]=a),a[d]=this,a[c]=b,this[c]=a,a},b["_insert"+a+"After"]=function(a){var b=this[d];return this[d]=a,a[d]=b,a[c]=this,b&&(b[c]=a),a},b}function k(a,b,c){return void 0!==c?"("+a+";"+b+";"+c+")":void 0!==b?"("+a+";"+b+")":void 0!==a?"("+a+")":""}function l(a,b,c,d){h("WinJS.Scheduler:"+a+k(c,d)+","+b)}function m(a,b,c,d,e){var f=a.name||void 0!==d||void 0!==e;h("WinJS.Scheduler:"+b+":"+a.id+(f?k(a.name,d,e):"")+","+c)}function n(){return!1}function o(a){throw"Illegal call by job("+a.id+") in state: "+this.name}function p(a){return function(b,c,d){b._setState(a,c,d)}}function q(a,b){a._setPriority(b)}function r(a,b){function c(a,b){e.log&&e.log(b+": MARKER: "+a.name,"winjs scheduler","log")}function d(a,b){e.log&&e.log(b+": JOB("+a.id+"): state: "+(a._state?a._state.name:"")+(a.name?", name: "+a.name:""),"winjs scheduler","log")}e.log&&e.log("highWaterMark: "+Ba,"winjs scheduler","log");var f=0,g=b?va[va.length-1]:va[0],h=g;do h instanceof ma&&c(h,f),h instanceof S&&d(h,f),f++,h=b?h["_prev"+a]:h["_next"+a];while(h)}function s(){function a(a,c){b+="    "+(c?"*":" ")+"id: "+a.id+", priority: "+I(a.priority).name+(a.name?", name: "+a.name:"")+"\n"}var b="";b+="Jobs:\n";var c=I(Ba),d=0;for(xa&&(a(xa,!0),d++);c.priority>=ua.min;)c instanceof S&&(a(c,!1),d++),c=c._nextJob;0===d&&(b+="     None\n"),b+="Drain requests:\n";for(var e=0,f=za.length;f>e;e++)b+="    "+(0===e?"*":" ")+"priority: "+I(za[e].priority).name+", name: "+za[e].name+"\n";return 0===za.length&&(b+="     None\n"),b}function t(){var a=va[0];do{if(a instanceof S)return!1;a=a._nextJob}while(a);return!0}function u(){return 0===za.length?null:za[0].priority}function v(a){l("drain","StartTM",a.name,I(a.priority).name)}function w(a,b){b&&l("drain-canceled","info",a.name,I(a.priority).name),l("drain","StopTM",a.name,I(a.priority).name)}function x(a,b,c){za.push({priority:a,complete:b,name:c}),1===za.length&&(v(za[0]),a>Ba&&(Ba=a,pa=!0))}function y(a,b){var c,d=za.length;for(c=0;d>c;c++)if(za[c].complete===a){0===c&&(w(za[0],b),za[1]&&v(za[1])),za.splice(c,1);break}}function z(){var a=za.shift();a&&(w(a),za[0]&&v(za[0]),a.complete())}function A(){var a=!1;if(za.length)for(var b=u();+b===b&&b>Ba;)oa=b,z(),a=!0,b=u();return a}function B(a){return a>=ua.aboveNormal+1?Ea.HIGH:a>=ua.belowNormal?Ea.NORMAL:Ea.IDLE}function C(a,b){return Fa[a]>=Fa[b]}function D(a,b){return Fa[a]>Fa[b]}function E(a){switch(a){case Ea.HIGH:return!1;case Ea.NORMAL:return Ea.isTaskScheduledAtPriorityOrHigher(Ea.HIGH);case Ea.IDLE:return Ea.isTaskScheduledAtPriorityOrHigher(Ea.NORMAL)}}function F(a,b){var c=I(b);c.priority>Ba&&(Ba=c.priority,pa=!0),c._insertJobAfter(a)}function G(a,b){var c=I(b);c.priority>Ba&&(Ba=c.priority,pa=!0),c._nextMarker._insertJobBefore(a)}function H(a){return a=0|a,a=Math.max(a,sa),a=Math.min(a,ta)}function I(a){return a=H(a),va[-1*(a-ta)]}function J(a){na=!0,l("timeslice","StartTM");var b,c,d,e=!0,f=!1,g=!1;pa=!1;try{for(var h=Ga(),i=h+Aa,j=function(){return f=!1,pa?!0:E(B(Ba))?!0:za.length?!1:Ga()>i?(f=!0,!0):!1};Ba>=ua.min&&!j()&&!g;){b=!1,c=I(Ba)._nextJob;do{if(oa=c.priority,c instanceof S)d!==c.priority&&(+d===d&&l("priority","StopTM",I(d).name),l("priority","StartTM",I(c.priority).name),d=c.priority),b=!0,e=!1,xa=c,m(xa,"job-running","StartTM",I(oa).name),c._execute(j),m(xa,"job-running","StopTM",I(oa).name),xa=null,e=!0;else{var k=B(Ba);Ba=c.priority,b=A();var n=B(Ba);!D(k,n)||ya&&!Ea.isTaskScheduledAtPriorityOrHigher(n)||(g=!0)}c=c._nextJob}while(c&&!b&&!g&&!E(B(Ba)));pa=!1}}finally{xa=null,e||(m(c,"job-error","info"),m(c,"job-running","StopTM",I(oa).name),c.cancel()),+d===d&&l("priority","StopTM",I(d).name);for(var o=!1;Ba>=ua.min&&!o;){b=!1,c=I(Ba)._nextJob;do c instanceof S?o=!0:(Ba=c.priority,b=A()),c=c._nextJob;while(c&&!b&&!o)}var p;p=e?f?"timeslice exhausted":Ba<ua.min?"jobs exhausted":g?"reached WWA priority boundary":"WWA host work":"job error",a&&(wa=null),na=!1,Ba>=ua.min&&K(),l("yielding","info",p),l("timeslice","StopTM")}}function K(a){+a!==a&&(a=Ba);var b=B(a);if(!na&&(!wa||ya&&!C(wa,b))){var c=++Ha,d=function(){c>Ia&&(Ia=Ha,J(!0))};Ea.execAsyncAtPriority(d,b),wa=b}}function L(a,b){var c=ra++;void 0===b&&(b="Drain Request "+c),a=+a===a?a:ua.min,a=H(a);var d,e=new i(function(c){d=c,x(a,d,b)},function(){y(d,!0)});return na||K(),e}function M(a){return Ea.execAtPriority(a,Ea.HIGH)}function N(){return new V}function O(a,b,c,d){b=b||ua.normal,c=c||null;var e=++qa,f=g._traceAsyncOperationStarting("WinJS.Utilities.Scheduler.schedule: "+e+k(d));return d=d||"",new S(e,a,b,c,d,f)}function P(){if(na)return oa;switch(Ea.getCurrentPriority()){case Ea.HIGH:return ua.high;case Ea.NORMAL:return ua.normal;case Ea.IDLE:return ua.idle}}function Q(a){return function(b,c){var d;return new i(function(e){d=O(function(){e(b)},a,null,c)},function(){d.cancel()})}}c.Namespace.define("WinJS.Utilities",{_linkedListMixin:j});var R={get jobInfoIsNoLongerValid(){return"The job info object can only be used while the job is running";
}},S=c.Class.define(function(a,b,c,d,e,f){this._id=a,this._work=b,this._context=d,this._name=e,this._asyncOpID=f,this._setPriority(c),this._setState(X),m(this,"job-scheduled","info")},{completed:{get:function(){return!!this._state.completed}},id:{get:function(){return this._id}},name:{get:function(){return this._name},set:function(a){this._name=a}},owner:{get:function(){return this._owner},set:function(a){this._owner&&this._owner._remove(this),this._owner=a,this._owner&&this._owner._add(this)}},priority:{get:function(){return this._priority},set:function(a){a=H(a),this._state.setPriority(this,a)}},cancel:function(){this._state.cancel(this)},pause:function(){this._state.pause(this)},resume:function(){this._state.resume(this)},_execute:function(a){this._state.execute(this,a)},_executeDone:function(a){return this._state.executeDone(this,a)},_blockedDone:function(a){return this._state.blockedDone(this,a)},_setPriority:function(a){+this._priority===this._priority&&this._priority!==a&&m(this,"job-priority-changed","info",I(this._priority).name,I(a).name),this._priority=a},_setState:function(a,b,c){this._state&&e.log&&e.log("Transitioning job ("+this.id+") from: "+this._state.name+" to: "+a.name,"winjs scheduler","log"),this._state=a,this._state.enter(this,b,c)}});c.Class.mix(S,j("Job"));var T={complete:1,"continue":2,block:3},U=c.Class.define(function(a,b){this._job=b,this._result=null,this._yieldPolicy=T.complete,this._shouldYield=a},{job:{get:function(){return this._throwIfDisabled(),this._job}},shouldYield:{get:function(){return this._throwIfDisabled(),this._shouldYield()}},setPromise:function(a){this._throwIfDisabled(),this._result=a,this._yieldPolicy=T.block},setWork:function(a){this._throwIfDisabled(),this._result=a,this._yieldPolicy=T["continue"]},_disablePublicApi:function(){this._publicApiDisabled=!0},_throwIfDisabled:function(){if(this._publicApiDisabled)throw new d("WinJS.Utilities.Scheduler.JobInfoIsNoLongerValid",R.jobInfoIsNoLongerValid)}}),V=c.Class.define(function(){this._jobs={}},{cancelAll:function(){var a=this._jobs,b=Object.keys(a);this._jobs={};for(var c=0,d=b.length;d>c;c++)a[b[c]].cancel()},_add:function(a){this._jobs[a.id]=a},_remove:function(a){delete this._jobs[a.id]}}),W=c.Class.define(function(a){this.name=a,this.enter=o,this.execute=o,this.executeDone=o,this.blockedDone=o,this.cancel=o,this.pause=o,this.resume=o,this.setPriority=o}),X=new W("created"),Y=new W("scheduled"),Z=new W("paused"),$=new W("canceled"),_=new W("running"),aa=new W("running_paused"),ba=new W("running_resumed"),ca=new W("running_canceled"),da=new W("running_canceled_blocked"),ea=new W("cooperative_yield"),fa=new W("cooperative_yield_paused"),ga=new W("blocked"),ha=new W("blocked_waiting"),ia=new W("blocked_paused"),ja=new W("blocked_paused_waiting"),ka=new W("blocked_canceled"),la=new W("complete");X.enter=function(a){G(a,a.priority),a._setState(Y)},Y.enter=function(){K()},Y.execute=p(_),Y.cancel=p($),Y.pause=p(Z),Y.resume=n,Y.setPriority=function(a,b){a.priority!==b&&(a._setPriority(b),a.pause(),a.resume())},Z.enter=function(a){m(a,"job-paused","info"),a._removeJob()},Z.cancel=p($),Z.pause=n,Z.resume=function(a){m(a,"job-resumed","info"),G(a,a.priority),a._setState(Y)},Z.setPriority=q,$.enter=function(a){m(a,"job-canceled","info"),g._traceAsyncOperationCompleted(a._asyncOpID,b.Debug&&b.Debug.MS_ASYNC_OP_STATUS_CANCELED),a._removeJob(),a._work=null,a._context=null,a.owner=null},$.cancel=n,$.pause=n,$.resume=n,$.setPriority=n,_.enter=function(a,b){a._removeJob();var c=a.priority,d=a._work,e=a._context;a._work=null,a._context=null;var f=new U(b,a);g._traceAsyncCallbackStarting(a._asyncOpID);try{Ea.execAtPriority(function(){d.call(e,f)},B(c))}finally{g._traceAsyncCallbackCompleted(),f._disablePublicApi()}a._context=e;var h=a._executeDone(f._yieldPolicy);a._setState(h,f._result,c)},_.executeDone=function(a,b){switch(b){case T.complete:return la;case T["continue"]:return ea;case T.block:return ga}},_.cancel=function(a){pa=!0,a._setState(ca)},_.pause=function(a){pa=!0,a._setState(aa)},_.resume=n,_.setPriority=q,aa.enter=n,aa.executeDone=function(a,b){switch(b){case T.complete:return la;case T["continue"]:return fa;case T.block:return ia}},aa.cancel=p(ca),aa.pause=n,aa.resume=p(ba),aa.setPriority=q,ba.enter=n,ba.executeDone=function(a,b){switch(b){case T.complete:return la;case T["continue"]:return ea;case T.block:return ga}},ba.cancel=p(ca),ba.pause=p(aa),ba.resume=n,ba.setPriority=q,ca.enter=n,ca.executeDone=function(a,b){switch(b){case T.complete:case T["continue"]:return $;case T.block:return da}},ca.cancel=n,ca.pause=n,ca.resume=n,ca.setPriority=n,da.enter=function(a,b){b.cancel(),a._setState($)},ea.enter=function(a,b,c){m(a,"job-yielded","info"),c===a.priority?F(a,a.priority):G(a,a.priority),a._work=b,a._setState(Y)},fa.enter=function(a,b){m(a,"job-yielded","info"),a._work=b,a._setState(Z)},ga.enter=function(a,b,c){m(a,"job-blocked","StartTM"),a._work=b,a._setState(ha),b.done(function(b){m(a,"job-blocked","StopTM");var d=a._blockedDone(b);a._setState(d,b,c)},function(b){return b&&"Canceled"===b.name||m(a,"job-error","info"),m(a,"job-blocked","StopTM"),a._setState($),i.wrapError(b)})},ha.enter=n,ha.blockedDone=function(a,b){return"function"==typeof b?ea:la},ha.cancel=p(ka),ha.pause=p(ja),ha.resume=n,ha.setPriority=q,ia.enter=function(a,b,c){m(a,"job-blocked","StartTM"),a._work=b,a._setState(ja),b.done(function(b){m(a,"job-blocked","StopTM");var d=a._blockedDone(b);a._setState(d,b,c)},function(b){return b&&"Canceled"===b.name||m(a,"job-error","info"),m(a,"job-blocked","StopTM"),a._setState($),i.wrapError(b)})},ja.enter=n,ja.blockedDone=function(a,b){return"function"==typeof b?fa:la},ja.cancel=p(ka),ja.pause=n,ja.resume=p(ha),ja.setPriority=q,ka.enter=function(a){a._work.cancel(),a._work=null},ka.blockedDone=function(){return $},ka.cancel=n,ka.pause=n,ka.resume=n,ka.setPriority=n,la.completed=!0,la.enter=function(a){g._traceAsyncOperationCompleted(a._asyncOpID,b.Debug&&b.Debug.MS_ASYNC_OP_STATUS_SUCCESS),a._work=null,a._context=null,a.owner=null,m(a,"job-completed","info")},la.cancel=n,la.pause=n,la.resume=n,la.setPriority=n;var ma=c.Class.define(function(a,b){this.priority=a,this.name=b},{});c.Class.mix(ma,j("Job"),j("Marker"));var na,oa,pa,qa=0,ra=0,sa=-15,ta=15,ua={max:15,high:13,aboveNormal:9,normal:0,belowNormal:-9,idle:-13,min:-15},va=[new ma(15,"max"),new ma(14,"14"),new ma(13,"high"),new ma(12,"12"),new ma(11,"11"),new ma(10,"10"),new ma(9,"aboveNormal"),new ma(8,"8"),new ma(7,"7"),new ma(6,"6"),new ma(5,"5"),new ma(4,"4"),new ma(3,"3"),new ma(2,"2"),new ma(1,"1"),new ma(0,"normal"),new ma(-1,"-1"),new ma(-2,"-2"),new ma(-3,"-3"),new ma(-4,"-4"),new ma(-5,"-5"),new ma(-6,"-6"),new ma(-7,"-7"),new ma(-8,"-8"),new ma(-9,"belowNormal"),new ma(-10,"-10"),new ma(-11,"-11"),new ma(-12,"-12"),new ma(-13,"idle"),new ma(-14,"-14"),new ma(-15,"min"),new ma(-16,"<TAIL>")],wa=null,xa=null,ya=!(!b.MSApp||!b.MSApp.execAtPriority),za=[],Aa=30,Ba=ua.min;va.reduce(function(a,b){return a&&(a._insertJobAfter(b),a._insertMarkerAfter(b)),b});var Ca=b.setImmediate?b.setImmediate.bind(b):function(a){b.setTimeout(a,16)},Da={execAsyncAtPriority:function(a,c){c===Ea.HIGH&&b.setTimeout(a,0),Ca(a)},execAtPriority:function(a){return a()},getCurrentPriority:function(){return Da.NORMAL},isTaskScheduledAtPriorityOrHigher:function(){return!1},HIGH:"high",NORMAL:"normal",IDLE:"idle"},Ea=ya?b.MSApp:Da,Fa={};Fa[Ea.IDLE]=1,Fa[Ea.NORMAL]=2,Fa[Ea.HIGH]=3;var Ga=b.performance&&b.performance.now&&b.performance.now.bind(b.performance)||Date.now.bind(Date),Ha=0,Ia=0;c.Namespace._moduleDefine(a,"WinJS.Utilities.Scheduler",{Priority:ua,schedule:O,createOwnerToken:N,execHigh:M,requestDrain:L,currentPriority:{get:P},schedulePromiseHigh:Q(ua.high),schedulePromiseAboveNormal:Q(ua.aboveNormal),schedulePromiseNormal:Q(ua.normal),schedulePromiseBelowNormal:Q(ua.belowNormal),schedulePromiseIdle:Q(ua.idle),retrieveState:s,_JobNode:S,_JobInfo:U,_OwnerToken:V,_dumpList:r,_isEmpty:{get:t},_usingWwaScheduler:{get:function(){return ya},set:function(a){ya=a,Ea=ya?b.MSApp:Da}},_MSApp:{get:function(){return Ea},set:function(a){Ea=a}},_TIME_SLICE:Aa})}),define("WinJS/Core/_BaseUtils",["exports","./_Global","./_Base","./_BaseCoreUtils","./_ErrorFromName","./_Resources","./_Trace","../Promise","../Scheduler"],function(a,b,c,d,e,f,g,h,i){"use strict";function j(a){return a}function k(a,b,c){return a.split(".").reduce(function(a,b){return a?c(a[b]):null},b)}function l(a,c){return a?k(a,c||b,j):null}function m(a){return a.length>0&&0!==a.indexOf("-moz")&&"-"===a.charAt(0)&&(a=a.slice(1)),a.replace(/\-[a-z]/g,function(a){return a[1].toUpperCase()})}function n(a,b){return""===a?b:a+b.charAt(0).toUpperCase()+b.slice(1)}function o(a,b){return(""!==a?"-"+a.toLowerCase()+"-":"")+b}function p(){if(!b.document)return{};for(var a={},c=b.document.documentElement.style,d=["","webkit","ms","Moz"],e=["animation","transition","transform","animation-name","animation-duration","animation-delay","animation-timing-function","animation-iteration-count","animation-direction","animation-fill-mode","grid-column","grid-columns","grid-column-span","grid-row","grid-rows","grid-row-span","transform-origin","transition-property","transition-duration","transition-delay","transition-timing-function","scroll-snap-points-x","scroll-snap-points-y","scroll-chaining","scroll-limit","scroll-limit-x-max","scroll-limit-x-min","scroll-limit-y-max","scroll-limit-y-min","scroll-snap-type","scroll-snap-x","scroll-snap-y","touch-action","overflow-style","user-select"],f={},g=0,h=e.length;h>g;g++)for(var i=e[g],j=m(i),k=0,l=d.length;l>k;k++){var p=d[k],q=n(p,j);if(q in c){var r=o(p,i);a[i]={cssName:r,scriptName:q},f[i]=p;break}}return a.animationPrefix=o(f.animation,""),a.keyframes=o(f.animation,"keyframes"),a}function q(){for(var a={},c=["","WebKit"],d=[{eventObject:"TransitionEvent",events:["transitionStart","transitionEnd"]},{eventObject:"AnimationEvent",events:["animationStart","animationEnd"]}],e=0,f=d.length;f>e;e++){for(var g=d[e],h="",i=0,j=c.length;j>i;i++){var k=c[i];if(k+g.eventObject in b){h=k.toLowerCase();break}}for(var i=0,l=g.events.length;l>i;i++){var m=g.events[i];a[m]=n(h,m),""===h&&(a[m]=a[m].toLowerCase())}}return a.manipulationStateChanged="MSManipulationEvent"in b?"ManipulationEvent":null,a}function r(a,b){function c(){return h.timeout(a).then(function(){d=null})}var d=null,e=null,f=null,g=null;return function(){e?(f=this,g=[].slice.call(arguments,0)):d?(f=this,g=[].slice.call(arguments,0),e=d.then(function(){var a=f;f=null;var h=g;g=null,d=c(),e=null,b.apply(a,h)})):(d=c(),b.apply(this,arguments))}}var s,t={get notSupportedForProcessing(){return"Value is not supported within a declarative processing context, if you want it to be supported mark it using WinJS.Utilities.markSupportedForProcessing. The value was: '{0}'"}},u=0,v={},w=!1,x=b.navigator.platform,y="iPhone"===x||"iPad"===x||"iPod"===x;c.Namespace._moduleDefine(a,"WinJS.Utilities",{_setHasWinRT:{value:function(a){d.hasWinRT=a},configurable:!1,writable:!1,enumerable:!1},hasWinRT:{get:function(){return d.hasWinRT},configurable:!1,enumerable:!0},_setIsiOS:{value:function(a){y=a},configurable:!1,writable:!1,enumerable:!1},_isiOS:{get:function(){return y},configurable:!1,enumerable:!0},_getMemberFiltered:k,getMember:l,_browserStyleEquivalents:p(),_browserEventEquivalents:q(),_getCamelCasedName:m,ready:function z(a,c){return new h(function(d,e){function f(){if(a)try{a(),d()}catch(b){e(b)}else d()}var g=z._testReadyState;g||(g=b.document?b.document.readyState:"complete"),"complete"===g||b.document&&null!==b.document.body?c?i.schedule(function(){f()},i.Priority.normal,null,"WinJS.Utilities.ready"):f():b.addEventListener("DOMContentLoaded",f,!1)})},strictProcessing:{get:function(){return!0},configurable:!1,enumerable:!0},markSupportedForProcessing:{value:d.markSupportedForProcessing,configurable:!1,writable:!1,enumerable:!0},requireSupportedForProcessing:{value:function(a){var c=!0;switch(c=c&&a!==b,c=c&&a!==b.location,c=c&&!(a instanceof b.HTMLIFrameElement),c=c&&!("function"==typeof a&&!a.supportedForProcessing),b.frames.length){case 0:break;case 1:c=c&&a!==b.frames[0];break;default:for(var d=0,g=b.frames.length;c&&g>d;d++)c=c&&a!==b.frames[d]}if(c)return a;throw new e("WinJS.Utilities.requireSupportedForProcessing",f._formatString(t.notSupportedForProcessing,a))},configurable:!1,writable:!1,enumerable:!0},_setImmediate:d._setImmediate,_requestAnimationFrame:b.requestAnimationFrame?b.requestAnimationFrame.bind(b):function(a){var c=++u;return v[c]=a,s=s||b.setTimeout(function(){var a=v,b=Date.now();v={},s=null,Object.keys(a).forEach(function(c){a[c](b)})},16),c},_cancelAnimationFrame:b.cancelAnimationFrame?b.cancelAnimationFrame.bind(b):function(a){delete v[a]},_yieldForEvents:b.setImmediate?b.setImmediate.bind(b):function(a){b.setTimeout(a,0)},_yieldForDomModification:b.setImmediate?b.setImmediate.bind(b):function(a){b.setTimeout(a,0)},_throttledFunction:r,_shallowCopy:function(a){return this._mergeAll([a])},_merge:function(a,b){return this._mergeAll([a,b])},_mergeAll:function(a){var b={};return a.forEach(function(a){Object.keys(a).forEach(function(c){b[c]=a[c]})}),b},_getProfilerMarkIdentifier:function(a){var b="";return a.id&&(b+=" id='"+a.id+"'"),a.className&&(b+=" class='"+a.className+"'"),b},_now:function(){return b.performance&&b.performance.now&&b.performance.now()||Date.now()},_traceAsyncOperationStarting:g._traceAsyncOperationStarting,_traceAsyncOperationCompleted:g._traceAsyncOperationCompleted,_traceAsyncCallbackStarting:g._traceAsyncCallbackStarting,_traceAsyncCallbackCompleted:g._traceAsyncCallbackCompleted,_version:"4.4.0"}),c.Namespace._moduleDefine(a,"WinJS",{validation:{get:function(){return w},set:function(a){w=a}}}),c.Namespace.define("WinJS",{strictProcessing:{value:function(){},configurable:!1,writable:!1,enumerable:!1}})}),define("WinJS/Core",["./Core/_Base","./Core/_BaseCoreUtils","./Core/_BaseUtils","./Core/_ErrorFromName","./Core/_Events","./Core/_Global","./Core/_Log","./Core/_Resources","./Core/_Trace","./Core/_WinRT","./Core/_WriteProfilerMark"],function(){}),define("WinJS/_Signal",["./Core/_Base","./Promise/_StateMachine"],function(a,b){"use strict";var c=a.Class.derive(b.PromiseStateMachine,function(a){this._oncancel=a,this._setState(b.state_created),this._run()},{_cancelAction:function(){this._oncancel&&this._oncancel()},_cleanupAction:function(){this._oncancel=null}},{supportedForProcessing:!1}),d=a.Class.define(function(a){this._promise=new c(a)},{promise:{get:function(){return this._promise}},cancel:function(){this._promise.cancel()},complete:function(a){this._promise._completed(a)},error:function(a){this._promise._error(a)},progress:function(a){this._promise._progress(a)}},{supportedForProcessing:!1});return a.Namespace.define("WinJS",{_Signal:d}),d}),define("WinJS/Utilities/_Control",["exports","../Core/_Global","../Core/_Base"],function(a,b,c){"use strict";function d(a,b){e(a,b)}function e(a,b,c){if("object"==typeof b)for(var d=Object.keys(b),e=0,f=d.length;f>e;e++){var g=d[e],h=b[g];if(g.length>2){var i=g[0],j=g[1];if(!("o"!==i&&"O"!==i||"n"!==j&&"N"!==j)&&"function"==typeof h&&a.addEventListener){a.addEventListener(g.substr(2),h);continue}}c||(a[g]=h)}}b.document&&c.Namespace._moduleDefine(a,"WinJS.UI",{DOMEventMixin:c.Namespace._lazy(function(){return{_domElement:null,addEventListener:function(a,b,c){(this.element||this._domElement).addEventListener(a,b,c||!1)},dispatchEvent:function(a,c){var d=b.document.createEvent("Event");return d.initEvent(a,!1,!1),d.detail=c,"object"==typeof c&&Object.keys(c).forEach(function(a){d[a]=c[a]}),(this.element||this._domElement).dispatchEvent(d)},removeEventListener:function(a,b,c){(this.element||this._domElement).removeEventListener(a,b,c||!1)}}}),setOptions:d,_setOptions:e})}),define("WinJS/Utilities/_ElementUtilities",["exports","../Core/_Global","../Core/_Base","../Core/_BaseUtils","../Core/_WinRT","../Promise","../Scheduler"],function(a,b,c,d,e,f,g){"use strict";function h(){return R||(R={},Object.keys(b.CSS2Properties.prototype).forEach(function(a){R[a]=""})),R}function i(a,c){return b.getComputedStyle(a,c)||h()}function j(a){for(var b=a.length,c=b-1;c>=0;c--)a[c]||(a.splice(c,1),b--);return b}function k(a){var b=a.className||"";return"string"==typeof b?b:b.baseVal||""}function l(a,b){var c=a.className||"";return"string"==typeof c?a.className=b:a.className.baseVal=b,a}function m(a,b){if(a.classList){if(b.indexOf(" ")<0)a.classList.add(b);else{var c=b.split(" ");j(c);for(var d=0,e=c.length;e>d;d++)a.classList.add(c[d])}return a}var f,g=k(a),h=g.split(" "),i=j(h);if(b.indexOf(" ")>=0){var c=b.split(" ");j(c);for(var d=0;i>d;d++){var m=c.indexOf(h[d]);m>=0&&c.splice(m,1)}c.length>0&&(f=c.join(" "))}else{for(var n=!1,d=0;i>d;d++)if(h[d]===b){n=!0;break}n||(f=b)}return f&&(i>0&&h[0].length>0?l(a,g+" "+f):l(a,f)),a}function n(a,b){if(a.classList){if(0===a.classList.length)return a;var c=b.split(" ");j(c);for(var d=0,e=c.length;e>d;d++)a.classList.remove(c[d]);return a}var c,f,g=k(a);if(b.indexOf(" ")>=0)c=b.split(" "),f=j(c);else{if(g.indexOf(b)<0)return a;c=[b],f=1}for(var h,i=g.split(" "),m=j(i),d=m-1;d>=0;d--)c.indexOf(i[d])>=0&&(i.splice(d,1),h=!0);return h&&l(a,i.join(" ")),a}function o(a,b){if(a.classList)return a.classList.toggle(b),a;for(var c=k(a),d=c.trim().split(" "),e=d.length,f=!1,g=0;e>g;g++)d[g]===b&&(f=!0);return f?l(a,d.reduce(function(a,c){return c===b?a:a&&a.length>0?a+" "+c:c},"")):e>0&&d[0].length>0?l(a,c+" "+b):l(a,c+b),a}function p(a,b,c){a.getAttribute(b)!==""+c&&a.setAttribute(b,c)}function q(a,b,c,d){var e=Math.max(b,Math.min(c,+a));return 0===e?0:e||Math.max(b,Math.min(c,d))}function r(a,b){if(!S.test(b)&&T.test(b)){var c=a.style.left;return a.style.left=b,b=a.style.pixelLeft,a.style.left=c,b}return Math.round(parseFloat(b))||0}function s(a,b){return r(a,i(a,null)[b])}function t(a){return parseFloat(a)||0}function u(a,b){return t(i(a,null)[b])}function v(a){var b=i(a);return{top:t(b.marginTop),right:t(b.marginRight),bottom:t(b.marginBottom),left:t(b.marginLeft)}}function w(a,b,c,d,e){var f=b.toLowerCase();a._eventsMap||(a._eventsMap={}),a._eventsMap[f]||(a._eventsMap[f]=[]),a._eventsMap[f].push({listener:c,useCapture:d,data:e})}function x(a,b,c,d){var e=b.toLowerCase(),f=a._eventsMap&&a._eventsMap[e];if(f)for(var g=f.length-1;g>=0;g--){var h=f[g];if(h.listener===c&&!!d==!!h.useCapture)return f.splice(g,1),h}return null}function y(a,b){var c=b.toLowerCase();return a._eventsMap&&a._eventsMap[c]&&a._eventsMap[c].slice(0)||[]}function z(a,b,c){for(;a;){for(var d=y(a,b),e=0,f=d.length;f>e;e++)d[e].listener.call(a,c);a=a.parentNode}}function A(a){return(a.relatedTarget&&"IFRAME"===a.relatedTarget.tagName||a.target&&"IFRAME"===a.target.tagName)&&(a.relatedTarget=null),a}function B(a,b,c,d){if(d)throw"This custom WinJS event only supports bubbling";w(a,b,c,d)}function C(a,b){var c=b.changedTouches,d=null;if(!c)return d;for(var e=0,f=c.length;f>e;e++){var g=c[e],h=new Z(b,{pointerType:W.MSPOINTER_TYPE_TOUCH,pointerId:g.identifier,isPrimary:0===e,screenX:g.screenX,screenY:g.screenY,clientX:g.clientX,clientY:g.clientY,pageX:g.pageX,pageY:g.pageY,radiusX:g.radiusX,radiusY:g.radiusY,rotationAngle:g.rotationAngle,force:g.force,_currentTouch:g}),i=a(h);d=d||i}return d}function D(a,b){return b.pointerType=W.MSPOINTER_TYPE_MOUSE,b.pointerId=-1,b.isPrimary=!0,a(b)}function E(a,b){return a(b)}function F(a,c,d,e){var f,g,h,i,j=c.toLowerCase(),k=$[j];b.MSPointerEvent?(h=function(a){return a._normalizedType=j,i=!0,E(d,a)},a.addEventListener(k.mspointer,h,e)):(k.mouse&&(f=function(a){return a._normalizedType=j,i?void(i=!1):D(d,a)},a.addEventListener(k.mouse,f,e)),k.touch&&(g=function(a){return a._normalizedType=j,i=!0,C(d,a)},a.addEventListener(k.touch,g,e))),w(a,c,d,e,{mouseWrapper:f,touchWrapper:g,mspointerWrapper:h})}function G(a,b,c,d){var e=b.toLowerCase(),f=x(a,b,c,d);if(f){var g=$[e];f.data.mouseWrapper&&a.removeEventListener(g.mouse,f.data.mouseWrapper,d),f.data.touchWrapper&&a.removeEventListener(g.touch,f.data.touchWrapper,d),f.data.mspointerWrapper&&a.removeEventListener(g.mspointer,f.data.mspointerWrapper,d)}}function H(){var a=b.document.createElement("div");a.style.direction="rtl",a.innerHTML="<div style='width: 100px; height: 100px; overflow: scroll; visibility:hidden'><div style='width: 10000px; height: 100px;'></div></div>",b.document.body.appendChild(a);var c=a.firstChild;c.scrollLeft>0&&(ha=!0),c.scrollLeft+=100,0===c.scrollLeft&&(ia=!0),b.document.body.removeChild(a),ga=!0}function I(a){var b=i(a),c=a.scrollLeft;return"rtl"===b.direction&&(ga||H(),ha&&(c=a.scrollWidth-a.clientWidth-c),c=Math.abs(c)),{scrollLeft:c,scrollTop:a.scrollTop}}function J(a,b,c){if(void 0!==b){var d=i(a);"rtl"===d.direction&&(ga||H(),ia?b=-b:ha&&(b=a.scrollWidth-a.clientWidth-b)),a.scrollLeft=b}void 0!==c&&(a.scrollTop=c)}function K(a){return I(a)}function L(a,b){b=b||{},J(a,b.scrollLeft,b.scrollTop)}function M(a){return a.uniqueID||a._uniqueID||(a._uniqueID="element__"+ ++la),a.uniqueID||a._uniqueID}function N(a){a.id||(a.id=M(a))}function O(a){var c=b.document.documentElement,d=K(c);return{left:a.clientX+("rtl"===b.document.body.dir?-d.scrollLeft:d.scrollLeft),top:a.clientY+c.scrollTop}}function P(a,b){for(var c=[],d=0,e=b.length;e>d;d++){var f=a.querySelector("."+b[d]);f&&c.push(f)}return c}if(b.document){var Q=167,R=null,S=/^-?\d+\.?\d*(px)?$/i,T=/^-?\d+/i,U=b.MSGestureEvent||{MSGESTURE_FLAG_BEGIN:1,MSGESTURE_FLAG_CANCEL:4,MSGESTURE_FLAG_END:2,MSGESTURE_FLAG_INERTIA:8,MSGESTURE_FLAG_NONE:0},V=b.MSManipulationEvent||{MS_MANIPULATION_STATE_ACTIVE:1,MS_MANIPULATION_STATE_CANCELLED:6,MS_MANIPULATION_STATE_COMMITTED:7,MS_MANIPULATION_STATE_DRAGGING:5,MS_MANIPULATION_STATE_INERTIA:2,MS_MANIPULATION_STATE_PRESELECT:3,MS_MANIPULATION_STATE_SELECTING:4,MS_MANIPULATION_STATE_STOPPED:0},W=b.MSPointerEvent||{MSPOINTER_TYPE_TOUCH:"touch",MSPOINTER_TYPE_PEN:"pen",MSPOINTER_TYPE_MOUSE:"mouse"},X="onfocusin"in b.document.documentElement,Y=null;b.addEventListener(X?"focusout":"blur",function(a){if(a.target===b){var c=Y;c&&z(c,"focusout",A({type:"focusout",target:c,relatedTarget:null})),Y=null}}),b.document.documentElement.addEventListener(X?"focusin":"focus",function(a){var b=Y;Y=a.target,b&&z(b,"focusout",A({type:"focusout",target:b,relatedTarget:Y})),Y&&z(Y,"focusin",A({type:"focusin",target:Y,relatedTarget:b}))},!0);var Z=function(a,b){b=b||{},this.__eventObject=a;var c=this;Object.keys(b).forEach(function(a){Object.defineProperty(c,a,{value:b[a]})})};["altKey","AT_TARGET","bubbles","BUBBLING_PHASE","button","buttons","cancelable","cancelBubble","CAPTURING_PHASE","clientX","clientY","ctrlKey","currentTarget","defaultPrevented","detail","eventPhase","fromElement","getModifierState","height","hwTimestamp","initEvent","initMouseEvent","initPointerEvent","initUIEvent","isPrimary","isTrusted","layerX","layerY","metaKey","offsetX","offsetY","pageX","pageY","pointerId","pointerType","pressure","preventDefault","relatedTarget","rotation","screenX","screenY","shiftKey","srcElement","stopImmediatePropagation","stopPropagation","target","tiltX","tiltY","timeStamp","toElement","type","view","which","width","x","y","_normalizedType","_fakedBySemanticZoom"].forEach(function(a){Object.defineProperty(Z.prototype,a,{get:function(){var b=this.__eventObject[a];return"function"==typeof b?b.bind(this.__eventObject):b},configurable:!0})});var $={pointerdown:{touch:"touchstart",mspointer:"MSPointerDown",mouse:"mousedown"},pointerup:{touch:"touchend",mspointer:"MSPointerUp",mouse:"mouseup"},pointermove:{touch:"touchmove",mspointer:"MSPointerMove",mouse:"mousemove"},pointerenter:{touch:"touchenter",mspointer:"MSPointerEnter",mouse:"mouseenter"},pointerover:{touch:null,mspointer:"MSPointerOver",mouse:"mouseover"},pointerout:{touch:"touchleave",mspointer:"MSPointerOut",mouse:"mouseout"},pointercancel:{touch:"touchcancel",mspointer:"MSPointerCancel",mouse:null}},_={focusout:{register:B,unregister:x},focusin:{register:B,unregister:x}};if(!b.PointerEvent){var aa={register:F,unregister:G};_.pointerdown=aa,_.pointerup=aa,_.pointermove=aa,_.pointerenter=aa,_.pointerover=aa,_.pointerout=aa,_.pointercancel=aa}var ba=c.Class.define(function(a){this._callback=a,this._toDispose=[],this._attributeFilter=[],this._scheduled=!1,this._pendingChanges=[],this._observerCount=0,this._handleCallback=this._handleCallback.bind(this),this._targetElements=[]},{observe:function(a,b){-1===this._targetElements.indexOf(a)&&this._targetElements.push(a),this._observerCount++,b.attributes&&this._addRemovableListener(a,"DOMAttrModified",this._handleCallback),b.attributeFilter&&(this._attributeFilter=b.attributeFilter)},disconnect:function(){this._observerCount=0,this._targetElements=[],this._toDispose.forEach(function(a){a()})},_addRemovableListener:function(a,b,c){a.addEventListener(b,c),this._toDispose.push(function(){a.removeEventListener(b,c)})},_handleCallback:function(a){a.stopPropagation();var b=a.attrName;if((!this._attributeFilter.length||-1!==this._attributeFilter.indexOf(b))&&-1!==this._targetElements.indexOf(a.target)){var c=b.indexOf("aria")>=0;"tabindex"===b&&(b="tabIndex"),this._pendingChanges.push({type:"attributes",target:a.target,attributeName:b}),1!==this._observerCount||c?this._scheduled===!1&&(this._scheduled=!0,d._setImmediate(this._dispatchEvent.bind(this))):this._dispatchEvent()}},_dispatchEvent:function(){try{this._callback(this._pendingChanges)}finally{this._pendingChanges=[],this._scheduled=!1}}},{_isShim:!0}),ca=b.MutationObserver||ba,da=null,ea=c.Class.define(function(){b.addEventListener("resize",this._handleResize.bind(this))},{subscribe:function(a,b){a.addEventListener(this._resizeEvent,b),m(a,this._resizeClass)},unsubscribe:function(a,b){n(a,this._resizeClass),a.removeEventListener(this._resizeEvent,b)},_handleResize:function(){for(var a=b.document.querySelectorAll("."+this._resizeClass),c=a.length,d=0;c>d;d++){var e=b.document.createEvent("Event");e.initEvent(this._resizeEvent,!1,!0),a[d].dispatchEvent(e)}},_resizeClass:{get:function(){return"win-element-resize"}},_resizeEvent:{get:function(){return"WinJSElementResize"}}}),fa=c.Class.define(function(a,b,c){c=c||{},this.registerThruWinJSCustomEvents=!!c.registerThruWinJSCustomEvents,this.objectName=a,this.object=b,this.capture={},this.bubble={}},{addEventListener:function(b,c,d,e){c=c.toLowerCase();var f=this._getHandlers(e),g=f[c];g||(g=this._getListener(c,e),g.refCount=0,f[c]=g,this.registerThruWinJSCustomEvents?a._addEventListener(this.object,c,g,e):this.object.addEventListener(c,g,e)),g.refCount++,b.addEventListener(this._getEventName(c,e),d),m(b,this._getClassName(c,e))},removeEventListener:function(b,c,d,e){c=c.toLowerCase();var f=this._getHandlers(e),g=f[c];g&&(g.refCount--,0===g.refCount&&(this.registerThruWinJSCustomEvents?a._removeEventListener(this.object,c,g,e):this.object.removeEventListener(c,g,e),delete f[c])),n(b,this._getClassName(c,e)),b.removeEventListener(this._getEventName(c,e),d)},_getHandlers:function(a){return a?this.capture:this.bubble},_getClassName:function(a,b){var c=b?"capture":"bubble";return"win-"+this.objectName.toLowerCase()+"-event-"+a+c},_getEventName:function(a,b){var c=b?"capture":"bubble";return"WinJS"+this.objectName+"Event-"+a+c},_getListener:function(a,c){var d=function(d){for(var e=b.document.querySelectorAll("."+this._getClassName(a,c)),f=e.length,g=!1,h=0;f>h;h++){var i=b.document.createEvent("Event");i.initEvent(this._getEventName(a,c),!1,!0),i.detail={originalEvent:d};var j=e[h].dispatchEvent(i);g=g||!j}return g};return d.bind(this)}}),ga=!1,ha=!1,ia=!1,ja=b.navigator.msManipulationViewsEnabled||b.navigator.userAgent.indexOf("MSAppHost")>=0,ka=!(!b.MSPointerEvent&&!b.TouchEvent),la=0,ma=".win-selectionborder, .win-selectionbackground, .win-selectioncheckmark, .win-selectioncheckmarkbackground",na="_msDataKey";c.Namespace._moduleDefine(a,"WinJS.Utilities",{_dataKey:na,_supportsSnapPoints:{get:function(){return ja}},_supportsTouchDetection:{get:function(){return ka}},_uniqueID:M,_ensureId:N,_clamp:q,_getCursorPos:O,_getElementsByClasses:P,_createGestureRecognizer:function(){if(b.MSGesture)return new b.MSGesture;var a=function(){};return{addEventListener:a,removeEventListener:a,addPointer:a,stop:a}},_MSGestureEvent:U,_MSManipulationEvent:V,_elementsFromPoint:function(a,c){if(b.document.msElementsFromPoint)return b.document.msElementsFromPoint(a,c);var d=b.document.elementFromPoint(a,c);return d?[d]:null},_matchesSelector:function(a,b){var c=a.matches||a.msMatchesSelector||a.mozMatchesSelector||a.webkitMatchesSelector;return c.call(a,b)},_selectionPartsSelector:ma,_isSelectionRendered:function(a){return a.querySelectorAll(ma).length>0},_addEventListener:function(a,b,c,e){var f=b&&b.toLowerCase(),g=_[f],h=d._browserEventEquivalents[b];g?g.register(a,b,c,e):h?a.addEventListener(h,c,e):a.addEventListener(b,c,e)},_removeEventListener:function(a,b,c,e){var f=b&&b.toLowerCase(),g=_[f],h=d._browserEventEquivalents[b];g?g.unregister(a,b,c,e):h?a.removeEventListener(h,c,e):a.removeEventListener(b,c,e)},_initEventImpl:function(a,c,d){d=d.toLowerCase();var e=$[d];if(e)switch(a.toLowerCase()){case"pointer":b.PointerEvent||(arguments[2]=e.mspointer);break;default:arguments[2]=e[a.toLowerCase()]}c["init"+a+"Event"].apply(c,Array.prototype.slice.call(arguments,2))},_initMouseEvent:function(a){this._initEventImpl.apply(this,["Mouse",a].concat(Array.prototype.slice.call(arguments,1)))},_initPointerEvent:function(a){this._initEventImpl.apply(this,["Pointer",a].concat(Array.prototype.slice.call(arguments,1)))},_PointerEventProxy:Z,_bubbleEvent:z,_setPointerCapture:function(a,b){a.setPointerCapture&&a.setPointerCapture(b)},_releasePointerCapture:function(a,b){a.releasePointerCapture&&a.releasePointerCapture(b)},_MSPointerEvent:W,_getComputedStyle:i,_zoomToDuration:Q,_zoomTo:function(a,b){this._supportsSnapPoints&&a.msZoomTo?a.msZoomTo(b):g.schedule(function(){var c=I(a),e="number"==typeof a._zoomToDestX?a._zoomToDestX:c.scrollLeft,f="number"==typeof a._zoomToDestY?a._zoomToDestY:c.scrollTop,g=i(a),h=a.scrollWidth-parseInt(g.width,10)-parseInt(g.paddingLeft,10)-parseInt(g.paddingRight,10),j=a.scrollHeight-parseInt(g.height,10)-parseInt(g.paddingTop,10)-parseInt(g.paddingBottom,10);"number"!=typeof b.contentX&&(b.contentX=e),"number"!=typeof b.contentY&&(b.contentY=f);var k=q(b.contentX,0,h),l=q(b.contentY,0,j);if(k!==e||l!==f){a._zoomToId=a._zoomToId||0,a._zoomToId++,a._zoomToDestX=k,a._zoomToDestY=l;var m=a._zoomToId,n=d._now(),o=(a._zoomToDestX-c.scrollLeft)/Q,p=(a._zoomToDestY-c.scrollTop)/Q,r=function(){var b=d._now()-n;a._zoomToId===m&&(b>Q?(J(a,a._zoomToDestX,a._zoomToDestY),a._zoomToDestX=null,a._zoomToDestY=null):(J(a,c.scrollLeft+b*o,c.scrollTop+b*p),d._requestAnimationFrame(r)))};d._requestAnimationFrame(r)}},g.Priority.high,null,"WinJS.Utilities._zoomTo")},_setActive:function(a,c){var d=!0;try{if(b.HTMLElement&&b.HTMLElement.prototype.setActive)a.setActive();else{var e,f;c&&(e=c.scrollLeft,f=c.scrollTop),a.focus(),c&&(c.scrollLeft=e,c.scrollTop=f)}}catch(g){d=!1}return d},_MutationObserver:ca,_resizeNotifier:{get:function(){return da||(da=new ea),da}},_GenericListener:fa,_globalListener:new fa("Global",b,{registerThruWinJSCustomEvents:!0}),_documentElementListener:new fa("DocumentElement",b.document.documentElement,{registerThruWinJSCustomEvents:!0}),_inputPaneListener:e.Windows.UI.ViewManagement.InputPane?new fa("InputPane",e.Windows.UI.ViewManagement.InputPane.getForCurrentView()):{addEventListener:function(){},removeEventListener:function(){}},_addInsertedNotifier:function(c){var e=b.document.createElement("div");return e.style[d._browserStyleEquivalents["animation-name"].scriptName]="WinJS-node-inserted",e.style[d._browserStyleEquivalents["animation-duration"].scriptName]="0.01s",e.style.position="absolute",c.appendChild(e),a._addEventListener(e,"animationStart",function(a){if("WinJS-node-inserted"===a.animationName){var a=b.document.createEvent("Event");a.initEvent("WinJSNodeInserted",!1,!0),c.dispatchEvent(a);
}},!1),e},_inDom:function(c){return new f(function(d){if(b.document.body.contains(c))d();else{var e=function(){c.removeEventListener("WinJSNodeInserted",e,!1),d()};a._addInsertedNotifier(c),c.addEventListener("WinJSNodeInserted",e,!1)}})},_setFlexStyle:function(a,b){var c=a.style;"undefined"!=typeof b.grow&&(c.msFlexPositive=b.grow,c.webkitFlexGrow=b.grow,c.flexGrow=b.grow),"undefined"!=typeof b.shrink&&(c.msFlexNegative=b.shrink,c.webkitFlexShrink=b.shrink,c.flexShrink=b.shrink),"undefined"!=typeof b.basis&&(c.msFlexPreferredSize=b.basis,c.webkitFlexBasis=b.basis,c.flexBasis=b.basis)},Key:{backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,pause:19,capsLock:20,escape:27,space:32,pageUp:33,pageDown:34,end:35,home:36,leftArrow:37,upArrow:38,rightArrow:39,downArrow:40,insert:45,deleteKey:46,num0:48,num1:49,num2:50,num3:51,num4:52,num5:53,num6:54,num7:55,num8:56,num9:57,a:65,b:66,c:67,d:68,e:69,f:70,g:71,h:72,i:73,j:74,k:75,l:76,m:77,n:78,o:79,p:80,q:81,r:82,s:83,t:84,u:85,v:86,w:87,x:88,y:89,z:90,leftWindows:91,rightWindows:92,menu:93,numPad0:96,numPad1:97,numPad2:98,numPad3:99,numPad4:100,numPad5:101,numPad6:102,numPad7:103,numPad8:104,numPad9:105,multiply:106,add:107,subtract:109,decimalPoint:110,divide:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NavigationView:136,NavigationMenu:137,NavigationUp:138,NavigationDown:139,NavigationLeft:140,NavigationRight:141,NavigationAccept:142,NavigationCancel:143,numLock:144,scrollLock:145,browserBack:166,browserForward:167,semicolon:186,equal:187,comma:188,dash:189,period:190,forwardSlash:191,graveAccent:192,GamepadA:195,GamepadB:196,GamepadX:197,GamepadY:198,GamepadRightShoulder:199,GamepadLeftShoulder:200,GamepadLeftTrigger:201,GamepadRightTrigger:202,GamepadDPadUp:203,GamepadDPadDown:204,GamepadDPadLeft:205,GamepadDPadRight:206,GamepadMenu:207,GamepadView:208,GamepadLeftThumbstick:209,GamepadRightThumbstick:210,GamepadLeftThumbstickUp:211,GamepadLeftThumbstickDown:212,GamepadLeftThumbstickRight:213,GamepadLeftThumbstickLeft:214,GamepadRightThumbstickUp:215,GamepadRightThumbstickDown:216,GamepadRightThumbstickRight:217,GamepadRightThumbstickLeft:218,openBracket:219,backSlash:220,closeBracket:221,singleQuote:222,IME:229},data:function(a){return a[na]||(a[na]={}),a[na]},hasClass:function(a,b){if(a.classList)return a.classList.contains(b);for(var c=k(a),d=c.trim().split(" "),e=d.length,f=0;e>f;f++)if(d[f]===b)return!0;return!1},addClass:m,removeClass:n,toggleClass:o,_setAttribute:p,getRelativeLeft:function(a,b){if(!a)return 0;for(var c=a.offsetLeft,d=a.parentNode;d&&(c-=d.offsetLeft,d!==b);)d=d.parentNode;return c},getRelativeTop:function(a,b){if(!a)return 0;for(var c=a.offsetTop,d=a.parentNode;d&&(c-=d.offsetTop,d!==b);)d=d.parentNode;return c},getScrollPosition:K,setScrollPosition:L,empty:function(a){if(a.childNodes&&a.childNodes.length>0)for(var b=a.childNodes.length-1;b>=0;b--)a.removeChild(a.childNodes.item(b));return a},_isDOMElement:function(a){return a&&"object"==typeof a&&"string"==typeof a.tagName},getContentWidth:function(a){var b=s(a,"borderLeftWidth")+s(a,"borderRightWidth"),c=s(a,"paddingLeft")+s(a,"paddingRight");return a.offsetWidth-b-c},_getPreciseContentWidth:function(a){var b=u(a,"borderLeftWidth")+u(a,"borderRightWidth"),c=u(a,"paddingLeft")+u(a,"paddingRight");return a.offsetWidth-b-c},getTotalWidth:function(a){var b=s(a,"marginLeft")+s(a,"marginRight");return a.offsetWidth+b},_getPreciseTotalWidth:function(a){var b=u(a,"marginLeft")+u(a,"marginRight");return a.offsetWidth+b},getContentHeight:function(a){var b=s(a,"borderTopWidth")+s(a,"borderBottomWidth"),c=s(a,"paddingTop")+s(a,"paddingBottom");return a.offsetHeight-b-c},_getPreciseContentHeight:function(a){var b=u(a,"borderTopWidth")+u(a,"borderBottomWidth"),c=u(a,"paddingTop")+u(a,"paddingBottom");return a.offsetHeight-b-c},getTotalHeight:function(a){var b=s(a,"marginTop")+s(a,"marginBottom");return a.offsetHeight+b},_getPreciseTotalHeight:function(a){var b=u(a,"marginTop")+u(a,"marginBottom");return a.offsetHeight+b},getPosition:function(b){return a._getPositionRelativeTo(b,null)},getTabIndex:function(a){var b=/BUTTON|COMMAND|MENUITEM|OBJECT|SELECT|TEXTAREA/;if(a.disabled)return-1;var c=a.getAttribute("tabindex");if(null===c||void 0===c){var d=a.tagName;return b.test(d)||a.href&&("A"===d||"AREA"===d||"LINK"===d)||"INPUT"===d&&"hidden"!==a.type||"TH"===d&&a.sorted?0:-1}return parseInt(c,10)},convertToPixels:r,_convertToPrecisePixels:t,_getPreciseMargins:v,eventWithinElement:function(a,b){var c=b.relatedTarget;return c&&c!==a?a.contains(c):!1},_deprecated:function(a){b.console&&b.console.warn(a)},_syncRenderer:function(a,c){if(c=c||"div","function"==typeof a)return function(b,c){return c?(c.appendChild(a(b)),c):a(b)};var d;return"function"==typeof a.render?d=a:a.winControl&&"function"==typeof a.winControl.render&&(d=a.winControl),function(a,e){var f=e||b.document.createElement(c);if(d.render(a,f),e)return e;var g=f.firstElementChild;if(g&&f.dispose){var h=g.dispose;g.dispose=function(){g.dispose=h,f.appendChild(g),f.dispose()}}return g}},_getPositionRelativeTo:function(a,c){for(var d=a,e=a.offsetParent,f=a.offsetTop,g=a.offsetLeft;(a=a.parentNode)&&a!==c&&a!==b.document.body&&a!==b.document.documentElement;){f-=a.scrollTop;var h=i(a,null).direction;g-="rtl"!==h?a.scrollLeft:-I(a).scrollLeft,a===e&&(f+=a.offsetTop,g+=a.offsetLeft,e=a.offsetParent)}return{left:g,top:f,width:d.offsetWidth,height:d.offsetHeight}},_getHighAndLowTabIndices:function(a){for(var b=a.getElementsByTagName("*"),c=0,d=0,e=!1,f=0,g=b.length;g>f;f++){var h=b[f].getAttribute("tabIndex");if(null!==h&&void 0!==h){var i=parseInt(h,10);i>0&&(c>i||0===c)&&(c=i),e||(0===i?(e=!0,d=0):i>d&&(d=i))}}return{highest:d,lowest:c}},_getLowestTabIndexInList:function(a){for(var b,c=0,d=0;d<a.length;d++)b=parseInt(a[d].getAttribute("tabIndex"),10),b>0&&(c>b||!c)&&(c=b);return c},_getHighestTabIndexInList:function(a){for(var b,c=0,d=0;d<a.length;d++){if(b=parseInt(a[d].getAttribute("tabIndex"),10),0===b)return b;b>c&&(c=b)}return c},_hasCursorKeysBehaviors:function(a){return"SELECT"===a.tagName||"TEXTAREA"===a.tagName?!0:"INPUT"===a.tagName?""===a.type||"date"===a.type||"datetime"===a.type||"datetime-local"===a.type||"email"===a.type||"month"===a.type||"number"===a.type||"password"===a.type||"range"===a.type||"search"===a.type||"tel"===a.type||"text"===a.type||"time"===a.type||"url"===a.type||"week"===a.type:!1},_reparentChildren:function(a,b){for(var c=a.firstChild;c;){var d=c.nextSibling;b.appendChild(c),c=d}},_maintainFocus:function(c){var d=b.document.activeElement;c(),a._trySetActiveOnAnyElement(d)},_trySetActiveOnAnyElement:function(b,c){return a._tryFocusOnAnyElement(b,!0,c)},_tryFocusOnAnyElement:function(c,d,e){var f=b.document.activeElement;return c===f?!0:(d?a._setActive(c,e):c.focus(),f!==b.document.activeElement)},_trySetActive:function(a,b){return this._tryFocus(a,!0,b)},_tryFocus:function(c,d,e){var f=b.document.activeElement;if(c===f)return!0;var g=a.getTabIndex(c)>=0;return g?(d?a._setActive(c,e):c.focus(),f!==b.document.activeElement):!1},_setActiveFirstFocusableElement:function(a,b){return this._focusFirstFocusableElement(a,!0,b)},_focusFirstFocusableElement:function(a,b,c){for(var d,e=a.getElementsByTagName("*"),f=this._getLowestTabIndexInList(e),g=0;f;){for(d=0;d<e.length;d++)if(e[d].tabIndex===f){if(this._tryFocus(e[d],b,c))return!0}else f<e[d].tabIndex&&(e[d].tabIndex<g||0===g)&&(g=e[d].tabIndex);f=g,g=0}for(d=0;d<e.length;d++)if(this._tryFocus(e[d],b,c))return!0;return!1},_setActiveLastFocusableElement:function(a,b){return this._focusLastFocusableElement(a,!0,b)},_focusLastFocusableElement:function(a,b,c){var d,e=a.getElementsByTagName("*"),f=this._getHighestTabIndexInList(e),g=0;if(0===f){for(d=e.length-1;d>=0;d--)if(e[d].tabIndex===f){if(this._tryFocus(e[d],b,c))return!0}else g<e[d].tabIndex&&(g=e[d].tabIndex);f=g,g=0}for(;f;){for(d=e.length-1;d>=0;d--)if(e[d].tabIndex===f){if(this._tryFocus(e[d],b,c))return!0}else g<e[d].tabIndex&&e[d].tabIndex<f&&(g=e[d].tabIndex);f=g,g=0}for(d=e.length-2;d>0;d--)if(this._tryFocus(e[d],b,c))return!0;return!1}})}}),define("WinJS/Utilities/_Dispose",["exports","../Core/_Base","../Core/_WriteProfilerMark","./_ElementUtilities"],function(a,b,c,d){"use strict";function e(a,b){var c=!1;d.addClass(a,"win-disposable");var e=a.winControl||a;e.dispose=function(){c||(c=!0,f(a),b&&b())}}function f(a){if(a){c("WinJS.Utilities.disposeSubTree,StartTM");for(var b=a.querySelectorAll(".win-disposable"),d=0,e=b.length;e>d;){var f=b[d];f.winControl&&f.winControl.dispose&&f.winControl.dispose(),f.dispose&&f.dispose(),d+=f.querySelectorAll(".win-disposable").length+1}c("WinJS.Utilities.disposeSubTree,StopTM")}}function g(a){if(a){var b=!1;a.winControl&&a.winControl.dispose&&(a.winControl.dispose(),b=!0),a.dispose&&(a.dispose(),b=!0),b||f(a)}}b.Namespace._moduleDefine(a,"WinJS.Utilities",{markDisposable:e,disposeSubTree:f,_disposeElement:g})}),define("WinJS/ControlProcessor/_OptionsLexer",["exports","../Core/_Base"],function optionsLexerInit(exports,_Base){"use strict";_Base.Namespace._moduleDefine(exports,"WinJS.UI",{_optionsLexer:_Base.Namespace._lazy(function(){function reservedWord(a){return{type:tokenType.reservedWord,value:a,length:a.length,keyword:!0}}function reservedWordLookup(a){switch(a.charCodeAt(0)){case 98:switch(a){case"break":return reservedWord(a)}break;case 99:switch(a){case"case":case"catch":case"class":case"const":case"continue":return reservedWord(a)}break;case 100:switch(a){case"debugger":case"default":case"delete":case"do":return reservedWord(a)}break;case 101:switch(a){case"else":case"enum":case"export":case"extends":return reservedWord(a)}break;case 102:switch(a){case"false":return tokens.falseLiteral;case"finally":case"for":case"function":return reservedWord(a)}break;case 105:switch(a){case"if":case"import":case"in":case"instanceof":return reservedWord(a)}break;case 110:switch(a){case"null":return tokens.nullLiteral;case"new":return reservedWord(a)}break;case 114:switch(a){case"return":return reservedWord(a)}break;case 115:switch(a){case"super":case"switch":return reservedWord(a)}break;case 116:switch(a){case"true":return tokens.trueLiteral;case"this":return tokens.thisKeyword;case"throw":case"try":case"typeof":return reservedWord(a)}break;case 118:switch(a){case"var":case"void":return reservedWord(a)}break;case 119:switch(a){case"while":case"with":return reservedWord(a)}}}var tokenType={leftBrace:1,rightBrace:2,leftBracket:3,rightBracket:4,separator:5,colon:6,semicolon:7,comma:8,dot:9,nullLiteral:10,trueLiteral:11,falseLiteral:12,numberLiteral:13,stringLiteral:14,identifier:15,reservedWord:16,thisKeyword:17,leftParentheses:18,rightParentheses:19,eof:20,error:21},tokens={leftBrace:{type:tokenType.leftBrace,length:1},rightBrace:{type:tokenType.rightBrace,length:1},leftBracket:{type:tokenType.leftBracket,length:1},rightBracket:{type:tokenType.rightBracket,length:1},colon:{type:tokenType.colon,length:1},semicolon:{type:tokenType.semicolon,length:1},comma:{type:tokenType.comma,length:1},dot:{type:tokenType.dot,length:1},nullLiteral:{type:tokenType.nullLiteral,length:4,value:null,keyword:!0},trueLiteral:{type:tokenType.trueLiteral,length:4,value:!0,keyword:!0},falseLiteral:{type:tokenType.falseLiteral,length:5,value:!1,keyword:!0},thisKeyword:{type:tokenType.thisKeyword,length:4,value:"this",keyword:!0},leftParentheses:{type:tokenType.leftParentheses,length:1},rightParentheses:{type:tokenType.rightParentheses,length:1},eof:{type:tokenType.eof,length:0}},lexer=function(){function isIdentifierStartCharacter(a,b,c,d){switch(a){case a>=97&&122>=a&&a:case a>=65&&90>=a&&a:case 36:case 95:return!0;case isWhitespace(a)&&a:case isLineTerminator(a)&&a:return!1;case a>127&&a:return!0;case 92:return!!(d>c+4&&117===b.charCodeAt(c)&&isHexDigit(b.charCodeAt(c+1))&&isHexDigit(b.charCodeAt(c+2))&&isHexDigit(b.charCodeAt(c+3))&&isHexDigit(b.charCodeAt(c+4)));default:return!1}}function readIdentifierPart(a,b,c){for(var d=!1;c>b;){var e=a.charCodeAt(b);switch(e){case e>=97&&122>=e&&e:case e>=65&&90>=e&&e:case 36:case 95:break;case isWhitespace(e)&&e:case isLineTerminator(e)&&e:return d?-b:b;case e>127&&e:break;case e>=48&&57>=e&&e:break;case 92:if(c>b+5&&117===a.charCodeAt(b+1)&&isHexDigit(a.charCodeAt(b+2))&&isHexDigit(a.charCodeAt(b+3))&&isHexDigit(a.charCodeAt(b+4))&&isHexDigit(a.charCodeAt(b+5))){b+=5,d=!0;break}return d?-b:b;default:return d?-b:b}b++}return d?-b:b}function readIdentifierToken(a,b,c){var d=b;b=readIdentifierPart(a,b,c);var e=!1;0>b&&(b=-b,e=!0);var f=a.substr(d,b-d);e&&(f=""+JSON.parse('"'+f+'"'));var g=reservedWordLookup(f);return g?g:{type:tokenType.identifier,length:b-d,value:f}}function isHexDigit(a){switch(a){case a>=48&&57>=a&&a:case a>=97&&102>=a&&a:case a>=65&&70>=a&&a:return!0;default:return!1}}function readHexIntegerLiteral(a,b,c){for(;c>b&&isHexDigit(a.charCodeAt(b));)b++;return b}function isDecimalDigit(a){switch(a){case a>=48&&57>=a&&a:return!0;default:return!1}}function readDecimalDigits(a,b,c){for(;c>b&&isDecimalDigit(a.charCodeAt(b));)b++;return b}function readDecimalLiteral(a,b,c){if(b=readDecimalDigits(a,b,c),c>b&&46===a.charCodeAt(b)&&c>b+1&&isDecimalDigit(a.charCodeAt(b+1))&&(b=readDecimalDigits(a,b+2,c)),c>b){var d=a.charCodeAt(b);if(101===d||69===d){var e=b+1;c>e&&(d=a.charCodeAt(e),43!==d&&45!==d||e++,b=readDecimalDigits(a,e,c))}}return b}function readDecimalLiteralToken(a,b,c,d){var c=readDecimalLiteral(a,c,d),e=c-b;return{type:tokenType.numberLiteral,length:e,value:+a.substr(b,e)}}function isLineTerminator(a){switch(a){case 10:case 13:case 8232:case 8233:return!0;default:return!1}}function readStringLiteralToken(text,offset,limit){var startOffset=offset,quoteCharCode=text.charCodeAt(offset),hasEscape=!1;for(offset++;limit>offset&&!isLineTerminator(text.charCodeAt(offset));){if(limit>offset+1&&92===text.charCodeAt(offset))switch(hasEscape=!0,text.charCodeAt(offset+1)){case quoteCharCode:case 92:case 10:case 8232:case 8233:offset+=2;continue;case 13:offset+=limit>offset+2&&10===text.charCodeAt(offset+2)?3:2;continue}if(offset++,text.charCodeAt(offset-1)===quoteCharCode)break}var length=offset-startOffset;hasEscape=hasEscape||1===length||text.charCodeAt(offset-1)!==quoteCharCode;var stringValue;return stringValue=hasEscape?eval(text.substr(startOffset,length)):text.substr(startOffset+1,length-2),{type:tokenType.stringLiteral,length:length,value:stringValue}}function isWhitespace(a){switch(a){case 9:case 11:case 12:case 32:case 160:case 65279:return!0;case 5760>a&&a:return!1;case 5760:case 6158:case a>=8192&&8202>=a&&a:case 8239:case 8287:case 12288:return!0;default:return!1}}function readWhitespace(a,b,c){for(;c>b;){var d=a.charCodeAt(b);switch(d){case 9:case 11:case 12:case 32:case 160:case 65279:break;case 5760>d&&d:return b;case 5760:case 6158:case d>=8192&&8202>=d&&d:case 8239:case 8287:case 12288:break;default:return b}b++}return b}function lex(a,b,c,d){for(;d>c;){var e,f=c,g=b.charCodeAt(c++);switch(g){case isWhitespace(g)&&g:case isLineTerminator(g)&&g:c=readWhitespace(b,c,d),e={type:tokenType.separator,length:c-f};continue;case 34:case 39:e=readStringLiteralToken(b,c-1,d);break;case 40:e=tokens.leftParentheses;break;case 41:e=tokens.rightParentheses;break;case 43:case 45:if(d>c){var h=b.charCodeAt(c);if(46===h){var i=c+1;if(d>i&&isDecimalDigit(b.charCodeAt(i))){e=readDecimalLiteralToken(b,f,i,d);break}}else if(isDecimalDigit(h)){e=readDecimalLiteralToken(b,f,c,d);break}}e={type:tokenType.error,length:c-f,value:b.substring(f,c)};break;case 44:e=tokens.comma;break;case 46:e=tokens.dot,d>c&&isDecimalDigit(b.charCodeAt(c))&&(e=readDecimalLiteralToken(b,f,c,d));break;case 48:var j=d>c?b.charCodeAt(c):0;if(120===j||88===j){var k=readHexIntegerLiteral(b,c+1,d);e={type:tokenType.numberLiteral,length:k-f,value:+b.substr(f,k-f)}}else e=readDecimalLiteralToken(b,f,c,d);break;case g>=49&&57>=g&&g:e=readDecimalLiteralToken(b,f,c,d);break;case 58:e=tokens.colon;break;case 59:e=tokens.semicolon;break;case 91:e=tokens.leftBracket;break;case 93:e=tokens.rightBracket;break;case 123:e=tokens.leftBrace;break;case 125:e=tokens.rightBrace;break;default:if(isIdentifierStartCharacter(g,b,c,d)){e=readIdentifierToken(b,c-1,d);break}e={type:tokenType.error,length:c-f,value:b.substring(f,c)}}c+=e.length-1,a.push(e)}}return function(a){var b=[];return lex(b,a,0,a.length),b.push(tokens.eof),b}}();return lexer.tokenType=tokenType,lexer})})}),define("WinJS/ControlProcessor/_OptionsParser",["exports","../Core/_Base","../Core/_BaseUtils","../Core/_ErrorFromName","../Core/_Resources","./_OptionsLexer"],function(a,b,c,d,e,f){"use strict";function g(){throw"Illegal"}function h(a){for(var b=Object.keys(j.tokenType),c=0,d=b.length;d>c;c++)if(a===j.tokenType[b[c]])return b[c];return"<unknown>"}var i={get invalidOptionsRecord(){return"Invalid options record: '{0}', expected to be in the format of an object literal. {1}"},get unexpectedTokenExpectedToken(){return"Unexpected token: {0}, expected token: {1}, at offset {2}"},get unexpectedTokenExpectedTokens(){return"Unexpected token: {0}, expected one of: {1}, at offset {2}"},get unexpectedTokenGeneric(){return"Unexpected token: {0}, at offset {1}"}},j=b.Namespace.defineWithParent(null,null,{lexer:b.Namespace._lazy(function(){return f._optionsLexer}),tokenType:b.Namespace._lazy(function(){return f._optionsLexer.tokenType})}),k=c.requireSupportedForProcessing,l=b.Namespace.defineWithParent(null,null,{BaseInterpreter:b.Namespace._lazy(function(){return b.Class.define(null,{_error:function(a){throw new d("WinJS.UI.ParseError",a)},_currentOffset:function(){for(var a=this._pos,b=0,c=0;a>c;c++)b+=this._tokens[c].length;return b},_evaluateAccessExpression:function(a){switch(this._current.type){case j.tokenType.dot:switch(this._read(),this._current.type){case j.tokenType.identifier:case this._current.keyword&&this._current.type:var b=this._current.value;return this._read(),a[b];default:this._unexpectedToken(j.tokenType.identifier,j.tokenType.reservedWord)}return;case j.tokenType.leftBracket:this._read();var c=this._evaluateValue();return this._read(j.tokenType.rightBracket),a[c]}},_evaluateAccessExpressions:function(a){for(;;)switch(this._current.type){case j.tokenType.dot:case j.tokenType.leftBracket:a=this._evaluateAccessExpression(a);break;default:return a}},_evaluateIdentifier:function(a,b){var c=this._readIdentifier();return b=a?b[c]:this._context[c]},_evaluateIdentifierExpression:function(){var a=this._evaluateIdentifier(!1);switch(this._current.type){case j.tokenType.dot:case j.tokenType.leftBracket:return this._evaluateAccessExpressions(a);default:return a}},_initialize:function(a,b,c,d){this._originalSource=b,this._tokens=a,this._context=c,this._functionContext=d,this._pos=0,this._current=this._tokens[0]},_read:function(a){a&&this._current.type!==a&&this._unexpectedToken(a),this._current!==j.tokenType.eof&&(this._current=this._tokens[++this._pos])},_peek:function(a){return a&&this._current.type!==a?void 0:this._current!==j.tokenType.eof?this._tokens[this._pos+1]:void 0},_readAccessExpression:function(a){switch(this._current.type){case j.tokenType.dot:switch(this._read(),this._current.type){case j.tokenType.identifier:case this._current.keyword&&this._current.type:a.push(this._current.value),this._read();break;default:this._unexpectedToken(j.tokenType.identifier,j.tokenType.reservedWord)}return;case j.tokenType.leftBracket:return this._read(),a.push(this._evaluateValue()),void this._read(j.tokenType.rightBracket)}},_readAccessExpressions:function(a){for(;;)switch(this._current.type){case j.tokenType.dot:case j.tokenType.leftBracket:this._readAccessExpression(a);break;default:return}},_readIdentifier:function(){var a=this._current.value;return this._read(j.tokenType.identifier),a},_readIdentifierExpression:function(){var a=[];switch(this._peek(j.tokenType.thisKeyword)&&0===a.length?this._read():a.push(this._readIdentifier()),this._current.type){case j.tokenType.dot:case j.tokenType.leftBracket:this._readAccessExpressions(a)}return a},_unexpectedToken:function(a){var b=this._current.type===j.tokenType.error?"'"+this._current.value+"'":h(this._current.type);if(a)if(1===arguments.length)a=h(a),this._error(e._formatString(i.unexpectedTokenExpectedToken,b,a,this._currentOffset()));else{for(var c=[],d=0,f=arguments.length;f>d;d++)c.push(h(arguments[d]));a=c.join(", "),this._error(e._formatString(i.unexpectedTokenExpectedTokens,b,a,this._currentOffset()))}else this._error(e._formatString(i.unexpectedTokenGeneric,b,this._currentOffset()))}},{supportedForProcessing:!1})}),OptionsInterpreter:b.Namespace._lazy(function(){return b.Class.derive(l.BaseInterpreter,function(a,b,c,d){this._initialize(a,b,c,d)},{_error:function(a){throw new d("WinJS.UI.ParseError",e._formatString(i.invalidOptionsRecord,this._originalSource,a))},_evaluateArrayLiteral:function(){var a=[];return this._read(j.tokenType.leftBracket),this._readArrayElements(a),this._read(j.tokenType.rightBracket),a},_evaluateObjectLiteral:function(){var a={};return this._read(j.tokenType.leftBrace),this._readObjectProperties(a),this._tryReadComma(),this._read(j.tokenType.rightBrace),a},_evaluateOptionsLiteral:function(){var a=this._evaluateValue();return this._current.type!==j.tokenType.eof&&this._unexpectedToken(j.tokenType.eof),a},_peekValue:function(){switch(this._current.type){case j.tokenType.falseLiteral:case j.tokenType.nullLiteral:case j.tokenType.stringLiteral:case j.tokenType.trueLiteral:case j.tokenType.numberLiteral:case j.tokenType.leftBrace:case j.tokenType.leftBracket:case j.tokenType.identifier:return!0;default:return!1}},_evaluateValue:function(){switch(this._current.type){case j.tokenType.falseLiteral:case j.tokenType.nullLiteral:case j.tokenType.stringLiteral:case j.tokenType.trueLiteral:case j.tokenType.numberLiteral:var a=this._current.value;return this._read(),a;case j.tokenType.leftBrace:return this._evaluateObjectLiteral();case j.tokenType.leftBracket:return this._evaluateArrayLiteral();case j.tokenType.identifier:return k(this._peek(j.tokenType.identifier).type===j.tokenType.leftParentheses?this._evaluateObjectQueryExpression():this._evaluateIdentifierExpression());default:this._unexpectedToken(j.tokenType.falseLiteral,j.tokenType.nullLiteral,j.tokenType.stringLiteral,j.tokenType.trueLiteral,j.tokenType.numberLiteral,j.tokenType.leftBrace,j.tokenType.leftBracket,j.tokenType.identifier)}},_tryReadElement:function(a){return this._peekValue()?(a.push(this._evaluateValue()),!0):!1},_tryReadComma:function(){return this._peek(j.tokenType.comma)?(this._read(),!0):!1},_tryReadElision:function(a){for(var b=!1;this._tryReadComma();)a.push(void 0),b=!0;return b},_readArrayElements:function(a){for(;!this._peek(j.tokenType.rightBracket);){var b=this._tryReadElision(a),c=this._tryReadElement(a),d=this._peek(j.tokenType.comma);if(!c||!d){if(c||b)break;this._unexpectedToken(j.tokenType.falseLiteral,j.tokenType.nullLiteral,j.tokenType.stringLiteral,j.tokenType.trueLiteral,j.tokenType.numberLiteral,j.tokenType.leftBrace,j.tokenType.leftBracket,j.tokenType.identifier);break}this._read()}},_readObjectProperties:function(a){for(;!this._peek(j.tokenType.rightBrace);){var b=this._tryReadObjectProperty(a),c=this._peek(j.tokenType.comma);if(!b||!c){if(b)break;this._unexpectedToken(j.tokenType.numberLiteral,j.tokenType.stringLiteral,j.tokenType.identifier);break}this._read()}},_tryReadObjectProperty:function(a){switch(this._current.type){case j.tokenType.numberLiteral:case j.tokenType.stringLiteral:case j.tokenType.identifier:case this._current.keyword&&this._current.type:var b=this._current.value;return this._read(),this._read(j.tokenType.colon),a[b]=this._evaluateValue(),!0;default:return!1}},_failReadObjectProperty:function(){this._unexpectedToken(j.tokenType.numberLiteral,j.tokenType.stringLiteral,j.tokenType.identifier,j.tokenType.reservedWord)},_evaluateObjectQueryExpression:function(){var a=this._current.value;this._read(j.tokenType.identifier),this._read(j.tokenType.leftParentheses);var b=this._current.value;this._read(j.tokenType.stringLiteral),this._read(j.tokenType.rightParentheses);var c=k(this._functionContext[a])(b);switch(this._current.type){case j.tokenType.dot:case j.tokenType.leftBracket:return this._evaluateAccessExpressions(c);default:return c}},run:function(){return this._evaluateOptionsLiteral()}},{supportedForProcessing:!1})}),OptionsParser:b.Namespace._lazy(function(){return b.Class.derive(l.OptionsInterpreter,function(a,b){this._initialize(a,b)},{_evaluateAccessExpression:g,_evaluateAccessExpressions:g,_evaluateIdentifier:g,_evaluateIdentifierExpression:g,_evaluateObjectQueryExpression:g,_evaluateValue:function(){switch(this._current.type){case j.tokenType.falseLiteral:case j.tokenType.nullLiteral:case j.tokenType.stringLiteral:case j.tokenType.trueLiteral:case j.tokenType.numberLiteral:var a=this._current.value;return this._read(),a;case j.tokenType.leftBrace:return this._evaluateObjectLiteral();case j.tokenType.leftBracket:return this._evaluateArrayLiteral();case j.tokenType.identifier:return this._peek(j.tokenType.identifier).type===j.tokenType.leftParentheses?this._readObjectQueryExpression():this._readIdentifierExpression();default:this._unexpectedToken(j.tokenType.falseLiteral,j.tokenType.nullLiteral,j.tokenType.stringLiteral,j.tokenType.trueLiteral,j.tokenType.numberLiteral,j.tokenType.leftBrace,j.tokenType.leftBracket,j.tokenType.identifier)}},_readIdentifierExpression:function(){var a=l.BaseInterpreter.prototype._readIdentifierExpression.call(this);return new p(a)},_readObjectQueryExpression:function(){var a=this._current.value;this._read(j.tokenType.identifier),this._read(j.tokenType.leftParentheses);var b=this._current.value;this._read(j.tokenType.stringLiteral),this._read(j.tokenType.rightParentheses);var c=new o(a,b);switch(this._current.type){case j.tokenType.dot:case j.tokenType.leftBracket:var d=[c];return this._readAccessExpressions(d),new p(d);default:return c}}},{supportedForProcessing:!1})})}),m=function(a,b,c){var d=j.lexer(a),e=new l.OptionsInterpreter(d,a,b||{},c||{});return e.run()};Object.defineProperty(m,"_BaseInterpreter",{get:function(){return l.BaseInterpreter}});var n=function(a){var b=j.lexer(a),c=new l.OptionsParser(b,a);return c.run()},o=b.Class.define(function(a,b){this.target=a,this.arg0Value=b});o.supportedForProcessing=!1;var p=b.Class.define(function(a){this.parts=a});p.supportedForProcessing=!1,b.Namespace._moduleDefine(a,"WinJS.UI",{optionsParser:m,_optionsParser:n,_CallExpression:o,_IdentifierExpression:p})}),define("WinJS/ControlProcessor",["exports","./Core/_Global","./Core/_Base","./Core/_BaseUtils","./Core/_Log","./Core/_Resources","./Core/_WriteProfilerMark","./ControlProcessor/_OptionsParser","./Promise","./Utilities/_ElementUtilities"],function(a,b,c,d,e,f,g,h,i,j){"use strict";function k(a){var c=function(c){for(var d,e=a;e;){if(e.msParentSelectorScope){var f=e.parentNode;if(f&&(d=j._matchesSelector(f,c)?f:f.querySelector(c)))break}e=e.parentNode}return d||b.document.querySelector(c)};return s(c)}function l(a,c){return new i(function(d,g){try{var i,j=a.getAttribute("data-win-options");j&&(i=h.optionsParser(j,b,{select:k(a)}));var l,m=1;c.length>2&&m++;var n=function(){m--,0===m&&(a.winControl=a.winControl||l,d(l))};l=new c(a,i,n),n()}catch(o){e.log&&e.log(f._formatString(r.errorActivatingControl,o&&o.message),"winjs controls","error"),g(o)}})}function m(a,c){return new i(function(d,e){g("WinJS.UI:processAll,StartTM"),a=a||b.document.body;var f=0,h="[data-win-control]",i=a.querySelectorAll(h),j=[];!c&&n(a)&&j.push(a);for(var k=0,m=i.length;m>k;k++)j.push(i[k]);if(0===j.length)return g("WinJS.UI:processAll,StopTM"),void d(a);for(var o=function(){f-=1,0>f&&(g("WinJS.UI:processAll,StopTM"),d(a))},q=new Array(j.length),k=0,m=j.length;m>k;k++){var r,s=j[k],u=s.winControl;u?r=u.constructor:q[k]=r=n(s),r&&r.isDeclarativeControlContainer&&(k+=s.querySelectorAll(h).length)}g("WinJS.UI:processAllActivateControls,StartTM");for(var k=0,m=j.length;m>k;k++){var v=q[k],s=j[k];if(v&&!s.winControl&&(f++,l(s,v).then(o,function(a){g("WinJS.UI:processAll,StopTM"),e(a)}),v.isDeclarativeControlContainer&&"function"==typeof v.isDeclarativeControlContainer)){var w=t(v.isDeclarativeControlContainer);w(s.winControl,p)}}g("WinJS.UI:processAllActivateControls,StopTM"),o()})}function n(a){if(a.getAttribute){var c=a.getAttribute("data-win-control");if(c)return d._getMemberFiltered(c.trim(),b,t)}}function o(a,b){return k(b)(a)}function p(a,b){return u?m(a,b):d.ready().then(function(){return u=!0,m(a,b)})}function q(a){if(a&&a.winControl)return i.as(a.winControl);var b=n(a);return b?l(a,b):i.as()}if(b.document){var r={get errorActivatingControl(){return"Error activating control: {0}"}},s=d.markSupportedForProcessing,t=d.requireSupportedForProcessing,u=!1;c.Namespace._moduleDefine(a,"WinJS.UI",{scopedSelect:o,processAll:p,process:q})}}),define("WinJS/Utilities/_ElementListUtilities",["exports","../Core/_Global","../Core/_Base","../ControlProcessor","../Promise","../Utilities/_Control","../Utilities/_ElementUtilities"],function(a,b,c,d,e,f,g){"use strict";b.document&&c.Namespace._moduleDefine(a,"WinJS.Utilities",{QueryCollection:c.Class.derive(Array,function(a){a&&this.include(a)},{forEach:function(a,b){return Array.prototype.forEach.apply(this,[a,b]),this},get:function(a){return this[a]},setAttribute:function(a,b){return this.forEach(function(c){c.setAttribute(a,b)}),this},getAttribute:function(a){return this.length>0?this[0].getAttribute(a):void 0},addClass:function(a){return this.forEach(function(b){g.addClass(b,a)}),this},hasClass:function(a){return this.length>0?g.hasClass(this[0],a):!1},removeClass:function(a){return this.forEach(function(b){g.removeClass(b,a)}),this},toggleClass:function(a){return this.forEach(function(b){g.toggleClass(b,a)}),this},listen:function(a,b,c){return this.forEach(function(d){d.addEventListener(a,b,c)}),this},removeEventListener:function(a,b,c){return this.forEach(function(d){d.removeEventListener(a,b,c)}),this},setStyle:function(a,b){return this.forEach(function(c){c.style[a]=b}),this},clearStyle:function(a){return this.forEach(function(b){b.style[a]=""}),this},query:function(b){var c=new a.QueryCollection;return this.forEach(function(a){c.include(a.querySelectorAll(b))}),c},include:function(a){if("number"==typeof a.length)for(var b=0;b<a.length;b++)this.push(a[b]);else a.DOCUMENT_FRAGMENT_NODE&&a.nodeType===a.DOCUMENT_FRAGMENT_NODE?this.include(a.childNodes):this.push(a)},control:function(a,b){return a&&"function"==typeof a?this.forEach(function(c){c.winControl=new a(c,b)}):(b=a,this.forEach(function(a){d.process(a).done(function(a){a&&f.setOptions(a,b)})})),this},template:function(b,c,d){b instanceof a.QueryCollection&&(b=b[0]);var f=b.winControl;null!==c&&void 0!==c&&c.forEach||(c=[c]),d=d||function(){};var g=this,h=[];return c.forEach(function(a){g.forEach(function(b){h.push(f.render(a,b))})}),d(e.join(h)),this}},{supportedForProcessing:!1}),query:function(c,d){return new a.QueryCollection((d||b.document).querySelectorAll(c))},id:function(c){var d=b.document.getElementById(c);return new a.QueryCollection(d?[d]:[])},children:function(b){return new a.QueryCollection(b.children)}})}),define("WinJS/Utilities/_Hoverable",["exports","../Core/_Global"],function(a,b){"use strict";if(b.document&&(b.document.documentElement.classList.add("win-hoverable"),a.isHoverable=!0,!b.MSPointerEvent)){var c=function(){b.document.removeEventListener("touchstart",c),b.document.documentElement.classList.remove("win-hoverable"),a.isHoverable=!1};b.document.addEventListener("touchstart",c)}}),define("WinJS/Utilities/_ParallelWorkQueue",["exports","../Core/_Base","../Promise","../Scheduler"],function(a,b,c,d){"use strict";b.Namespace._moduleDefine(a,"WinJS.UI",{_ParallelWorkQueue:b.Namespace._lazy(function(){return b.Class.define(function(a){function b(){j--,k||d.schedule(e,d.Priority.normal,null,"WinJS._ParallelWorkQueue.runNext")}function e(){for(k++;a>j;j++){var c,d;do c=i.shift(),d=c&&h[c];while(c&&!d);
if(!d)break;delete h[c];try{d().then(b,b)}catch(e){b()}}k--}function f(a,b,d){var f,j="w"+g++;return new c(function(c,g,k){var l=function(){return f=a().then(c,g,k)};l.data=b,h[j]=l,d?i.unshift(j):i.push(j),e()},function(){delete h[j],f&&f.cancel()})}var g=0,h={},i=[];a=a||3;var j=0,k=0;this.sort=function(a){i.sort(function(b,c){return b=h[b],c=h[c],void 0===b&&void 0===c?0:void 0===b?1:void 0===c?-1:a(b.data,c.data)})},this.queue=f},{},{supportedForProcessing:!1})})})}),define("WinJS/Utilities/_VersionManager",["exports","../Core/_Base","../_Signal"],function(a,b,c){"use strict";b.Namespace._moduleDefine(a,"WinJS.UI",{_VersionManager:b.Namespace._lazy(function(){return b.Class.define(function(){this._unlocked=new c,this._unlocked.complete()},{_cancelCount:0,_notificationCount:0,_updateCount:0,_version:0,locked:{get:function(){return 0!==this._notificationCount||0!==this._updateCount}},noOutstandingNotifications:{get:function(){return 0===this._notificationCount}},version:{get:function(){return this._version}},unlocked:{get:function(){return this._unlocked.promise}},_dispose:function(){this._unlocked&&(this._unlocked.cancel(),this._unlocked=null)},beginUpdating:function(){this._checkLocked(),this._updateCount++},endUpdating:function(){this._updateCount--,this._checkUnlocked()},beginNotifications:function(){this._checkLocked(),this._notificationCount++},endNotifications:function(){this._notificationCount--,this._checkUnlocked()},_checkLocked:function(){this.locked||(this._dispose(),this._unlocked=new c)},_checkUnlocked:function(){this.locked||this._unlocked.complete()},receivedNotification:function(){if(this._version++,this._cancel){var a=this._cancel;this._cancel=null,a.forEach(function(a){a&&a.cancel()})}},cancelOnNotification:function(a){return this._cancel||(this._cancel=[],this._cancelCount=0),this._cancel[this._cancelCount++]=a,this._cancelCount-1},clearCancelOnNotification:function(a){this._cancel&&delete this._cancel[a]}},{supportedForProcessing:!1})})})}),define("WinJS/Utilities/_ItemsManager",["exports","../Core/_Global","../Core/_Base","../Core/_BaseUtils","../Core/_ErrorFromName","../Core/_Resources","../Core/_WriteProfilerMark","../Promise","../_Signal","../Scheduler","../Utilities/_ElementUtilities","./_ParallelWorkQueue","./_VersionManager"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){"use strict";function n(a){return t(function(b,c){return b.then(function(b){return b?a(b,c):null})})}function o(a,b){var c=!1,d=!1;return a.isOnScreen().then(function(a){c=a}),b.isOnScreen().then(function(a){d=a}),(c?0:1)-(d?0:1)}function p(a){if(!/^blob:/i.test(a)&&(B[a]=!0,C.push(a),C.length>E)){var b=C;B={},C=[];for(var c=0,d=b.length-1;d>=0&&D>c;d--){var e=b[d];B[e]||(B[e]=!0,c++)}}}function q(a,c,d){var e=A++;return w=w||new l._ParallelWorkQueue(6),w.queue(function(){return new h(function(d,f){j.schedule(function(e){c||(c=b.document.createElement("img"));var g=B[a];g?(p(a),c.src=a,d(c)):e.setPromise(new h(function(e){var g=b.document.createElement("img"),h=function(){g.removeEventListener("load",i,!1),g.removeEventListener("error",j,!1),c.src=a;var b=new Date;b-y>z&&(y=b,w.sort(o))},i=function(){e(k)},j=function(){e(l)},k=function(){p(a),h(),d(c)},l=function(){h(),f(c)};g.addEventListener("load",i,!1),g.addEventListener("error",j,!1),g.src=a}))},j.Priority.normal,null,"WinJS.UI._ImageLoader._image"+e)})},d)}function r(a){return B[a]}function s(){return b.document.createElement("div")}var t=d.markSupportedForProcessing,u=k._uniqueID,v=n(function(a){if(k._isDOMElement(a.data))return a.data;var c=a.data;void 0===c?c="undefined":null===c?c="null":"object"==typeof c&&(c=JSON.stringify(c));var d=b.document.createElement("span");return d.textContent=c.toString(),d});c.Namespace._moduleDefine(a,"WinJS.UI",{_normalizeRendererReturn:function(a){if(a){if("object"==typeof a&&a.element){var b=h.as(a.element);return b.then(function(b){return{element:b,renderComplete:h.as(a.renderComplete)}})}var b=h.as(a);return b.then(function(a){return{element:a,renderComplete:h.as()}})}return{element:null,renderComplete:h.as()}},simpleItemRenderer:n,_trivialHtmlRenderer:v});var w,x={get listDataSourceIsInvalid(){return"Invalid argument: dataSource must be an object."},get itemRendererIsInvalid(){return"Invalid argument: itemRenderer must be a function."},get itemIsInvalid(){return"Invalid argument: item must be a DOM element that was returned by the Items Manager, and has not been replaced or released."}},y=new Date,z=64,A=0,B={},C=[],D=250,E=1e3;c.Namespace._moduleDefine(a,"WinJS.UI",{_seenUrl:p,_getSeenUrls:function(){return B},_getSeenUrlsMRU:function(){return C},_seenUrlsMaxSize:D,_seenUrlsMRUMaxSize:E}),c.Namespace._moduleDefine(a,"WinJS.UI",{_createItemsManager:c.Namespace._lazy(function(){var b=c.Class.define(function(a){this._itemsManager=a},{beginNotifications:function(){this._itemsManager._versionManager.beginNotifications(),this._itemsManager._beginNotifications()},inserted:function(a,b,c){this._itemsManager._versionManager.receivedNotification(),this._itemsManager._inserted(a,b,c)},changed:function(a,b){this._itemsManager._versionManager.receivedNotification(),this._itemsManager._changed(a,b)},moved:function(a,b,c){this._itemsManager._versionManager.receivedNotification(),this._itemsManager._moved(a,b,c)},removed:function(a,b){this._itemsManager._versionManager.receivedNotification(),this._itemsManager._removed(a,b)},countChanged:function(a,b){this._itemsManager._versionManager.receivedNotification(),this._itemsManager._countChanged(a,b)},indexChanged:function(a,b,c){this._itemsManager._versionManager.receivedNotification(),this._itemsManager._indexChanged(a,b,c)},affectedRange:function(a){this._itemsManager._versionManager.receivedNotification(),this._itemsManager._affectedRange(a)},endNotifications:function(){this._itemsManager._versionManager.endNotifications(),this._itemsManager._endNotifications()},reload:function(){this._itemsManager._versionManager.receivedNotification(),this._itemsManager._reload()}},{supportedForProcessing:!1}),d=c.Class.define(function(a,c,d,f){if(!a)throw new e("WinJS.UI.ItemsManager.ListDataSourceIsInvalid",x.listDataSourceIsInvalid);if(!c)throw new e("WinJS.UI.ItemsManager.ItemRendererIsInvalid",x.itemRendererIsInvalid);this.$pipeline_callbacksMap={},this._listDataSource=a,this.dataSource=this._listDataSource,this._elementNotificationHandler=d,this._listBinding=this._listDataSource.createListBinding(new b(this)),f&&(f.ownerElement&&(this._ownerElement=f.ownerElement),this._profilerId=f.profilerId,this._versionManager=f.versionManager||new m._VersionManager),this._indexInView=f&&f.indexInView,this._itemRenderer=c,this._viewCallsReady=f&&f.viewCallsReady,this._elementMap={},this._handleMap={},this._jobOwner=j.createOwnerToken(),this._notificationsSent=!1,this._listBinding.last&&(this.lastItem=function(){return this._elementForItem(this._listBinding.last())})},{_itemFromItemPromise:function(a){return this._waitForElement(this._elementForItem(a))},_itemFromItemPromiseThrottled:function(a){return this._waitForElement(this._elementForItem(a,!0))},_itemAtIndex:function(a){var b=this._itemPromiseAtIndex(a);this._itemFromItemPromise(b).then(null,function(a){return b.cancel(),h.wrapError(a)})},_itemPromiseAtIndex:function(a){return this._listBinding.fromIndex(a)},_waitForElement:function(a){var b=this;return new h(function(c){if(a)if(b.isPlaceholder(a)){var d=u(a),e=b.$pipeline_callbacksMap[d];e?e.push(c):b.$pipeline_callbacksMap[d]=[c]}else c(a);else c(a)})},_updateElement:function(a,b){var c=u(b),d=this.$pipeline_callbacksMap[c];d&&(delete this.$pipeline_callbacksMap[c],d.forEach(function(b){b(a)}))},_firstItem:function(){return this._waitForElement(this._elementForItem(this._listBinding.first()))},_lastItem:function(){return this._waitForElement(this._elementForItem(this._listBinding.last()))},_previousItem:function(a){return this._listBinding.jumpToItem(this._itemFromElement(a)),this._waitForElement(this._elementForItem(this._listBinding.previous()))},_nextItem:function(a){return this._listBinding.jumpToItem(this._itemFromElement(a)),this._waitForElement(this._elementForItem(this._listBinding.next()))},_itemFromPromise:function(a){return this._waitForElement(this._elementForItem(a))},isPlaceholder:function(a){return!!this._recordFromElement(a).elementIsPlaceholder},itemObject:function(a){return this._itemFromElement(a)},release:function(){this._listBinding.release(),this._elementNotificationHandler=null,this._listBinding=null,this._jobOwner.cancelAll(),this._released=!0},releaseItemPromise:function(a){var b=a.handle,c=this._handleMap[b];c?this._releaseRecord(c):a.cancel()},releaseItem:function(a){var b=this._elementMap[u(a)];this._releaseRecord(b)},_releaseRecord:function(a){a&&(a.renderPromise&&a.renderPromise.cancel(),a.itemPromise&&a.itemPromise.cancel(),a.imagePromises&&a.imagePromises.forEach(function(a){a.cancel()}),a.itemReadyPromise&&a.itemReadyPromise.cancel(),a.renderComplete&&a.renderComplete.cancel(),this._removeEntryFromElementMap(a.element),this._removeEntryFromHandleMap(a.itemPromise.handle,a),a.item&&this._listBinding.releaseItem(a.item))},refresh:function(){return this._listDataSource.invalidateAll()},_handlerToNotifyCaresAboutItemAvailable:function(){return!(!this._elementNotificationHandler||!this._elementNotificationHandler.itemAvailable)},_handlerToNotify:function(){return this._notificationsSent||(this._notificationsSent=!0,this._elementNotificationHandler&&this._elementNotificationHandler.beginNotifications&&this._elementNotificationHandler.beginNotifications()),this._elementNotificationHandler},_defineIndexProperty:function(a,b,c){c.indexObserved=!1,Object.defineProperty(a,"index",{get:function(){return c.indexObserved=!0,b.index}})},_renderPlaceholder:function(a){var b={},c=s(b);return a.elementIsPlaceholder=!0,c},_renderItem:function(b,c,d){function e(){b.then(function(a){f._writeProfilerMark(m+",StartTM"),k.complete(a),f._writeProfilerMark(m+",StopTM")})}var f=this,g=f._indexInView||function(){return!0},k=new i,l=new i,m="_renderItem("+c.item.index+"):itemPromise",n=!0,o=!1;b.then(function(a){o=!0,n&&k.complete(a)}),n=!1;var p=k.promise.then(function(a){if(a){var b=Object.create(a);return f._defineIndexProperty(b,a,c),b.ready=l.promise,b.isOnScreen=function(){return h.wrap(g(a.index))},b.loadImage=function(a,d){var e=q(a,d,b);return c.imagePromises?c.imagePromises.push(e):c.imagePromises=[e],e},b.isImageCached=r,b}return h.cancel});o||(d?(c.stage0=b,c.startStage1=function(){c.startStage1=null,e()}):e()),p.handle=b.handle,c.itemPromise=p,c.itemReadyPromise=l.promise,c.readyComplete=!1;var s="_renderItem("+c.item.index+(o?"):syncItemPromise":"):placeholder"),t="_renderItem("+c.item.index+"):itemReady";this._writeProfilerMark(s+",StartTM");var u=h.as(f._itemRenderer(p,c.element)).then(a._normalizeRendererReturn).then(function(a){return f._released?h.cancel:(p.then(function(a){if(c.pendingReady=function(){c.pendingReady&&(c.pendingReady=null,c.readyComplete=!0,f._writeProfilerMark(t+",StartTM"),l.complete(a),f._writeProfilerMark(t+",StopTM"))},!f._viewCallsReady){var b=j.schedule(c.pendingReady,j.Priority.normal,c,"WinJS.UI._ItemsManager._pendingReady");b.owner=f._jobOwner}}),a)});return this._writeProfilerMark(s+",StopTM"),u},_replaceElement:function(a,b){this._removeEntryFromElementMap(a.element),a.element=b,this._addEntryToElementMap(b,a)},_changeElement:function(a,b,c){a.renderPromise=null;var d=a.element,e=a.item;a.newItem&&(a.item=a.newItem,a.newItem=null),this._replaceElement(a,b),a.item&&a.elementIsPlaceholder&&!c?(a.elementDelayed=null,a.elementIsPlaceholder=!1,this._updateElement(a.element,d),this._handlerToNotifyCaresAboutItemAvailable()&&this._handlerToNotify().itemAvailable(a.element,d)):this._handlerToNotify().changed(b,d,e)},_elementForItem:function(a,b){var c,d=a.handle,e=this._recordFromHandle(d,!0);if(!d)return null;if(e)c=e.element;else{e={item:a,itemPromise:a},this._addEntryToHandleMap(d,e);var f=this,g=!1,h=!1,i=f._renderItem(a,e,b).then(function(b){var d=b.element;e.renderComplete=b.renderComplete,a.then(function(a){e.item=a,a||(g=!0,c=null)}),h=!0,e.renderPromise=null,d&&(c?f._presentElements(e,d):c=d)});g||(h||(e.renderPromise=i),c||(c=this._renderPlaceholder(e)),e.element=c,this._addEntryToElementMap(c,e),a.retain())}return c},_addEntryToElementMap:function(a,b){this._elementMap[u(a)]=b},_removeEntryFromElementMap:function(a){delete this._elementMap[u(a)]},_recordFromElement:function(a){var b=this._elementMap[u(a)];if(!b)throw this._writeProfilerMark("_recordFromElement:ItemIsInvalidError,info"),new e("WinJS.UI.ItemsManager.ItemIsInvalid",x.itemIsInvalid);return b},_addEntryToHandleMap:function(a,b){this._handleMap[a]=b},_removeEntryFromHandleMap:function(a){delete this._handleMap[a]},_handleInHandleMap:function(a){return!!this._handleMap[a]},_recordFromHandle:function(a,b){var c=this._handleMap[a];if(!c&&!b)throw new e("WinJS.UI.ItemsManager.ItemIsInvalid",x.itemIsInvalid);return c},_foreachRecord:function(a){var b=this._handleMap;for(var c in b){var d=b[c];a(d)}},_itemFromElement:function(a){return this._recordFromElement(a).item},_elementFromHandle:function(a){if(a){var b=this._recordFromHandle(a,!0);if(b&&b.element)return b.element}return null},_inserted:function(a,b,c){this._handlerToNotify().inserted(a,b,c)},_changed:function(a,b){if(this._handleInHandleMap(b.handle)){var c=this._recordFromHandle(b.handle);c.renderPromise&&c.renderPromise.cancel(),c.itemPromise&&c.itemPromise.cancel(),c.imagePromises&&c.imagePromises.forEach(function(a){a.cancel()}),c.itemReadyPromise&&c.itemReadyPromise.cancel(),c.renderComplete&&c.renderComplete.cancel(),c.newItem=a;var d=this,e=h.as(a);e.handle=c.itemPromise.handle,c.renderPromise=this._renderItem(e,c).then(function(a){c.renderComplete=a.renderComplete,d._changeElement(c,a.element,!1),d._presentElements(c)})}},_moved:function(a,b,c){var d=this._elementFromHandle(a.handle),e=this._elementFromHandle(b),f=this._elementFromHandle(c);this._handlerToNotify().moved(d,e,f,a),this._presentAllElements()},_removed:function(a,b){if(this._handleInHandleMap(a)){var c=this._elementFromHandle(a);this._handlerToNotify().removed(c,b,a),this.releaseItem(c),this._presentAllElements()}else this._handlerToNotify().removed(null,b,a)},_countChanged:function(a,b){this._elementNotificationHandler&&this._elementNotificationHandler.countChanged&&this._handlerToNotify().countChanged(a,b)},_indexChanged:function(a,b,c){var d;if(this._handleInHandleMap(a)){var e=this._recordFromHandle(a);if(e.indexObserved)if(e.elementIsPlaceholder)this._changeElement(e,this._renderPlaceholder(e),!0);else if(e.item.index!==b){e.renderPromise&&e.renderPromise.cancel(),e.renderComplete&&e.renderComplete.cancel();var f=e.newItem||e.item;f.index=b;var g=h.as(f);g.handle=e.itemPromise.handle;var i=this;e.renderPromise=this._renderItem(g,e).then(function(a){e.renderComplete=a.renderComplete,i._changeElement(e,a.element,!1),i._presentElements(e)})}d=e.element}this._elementNotificationHandler&&this._elementNotificationHandler.indexChanged&&this._handlerToNotify().indexChanged(d,b,c)},_affectedRange:function(a){this._elementNotificationHandler&&this._elementNotificationHandler.updateAffectedRange&&this._handlerToNotify().updateAffectedRange(a)},_beginNotifications:function(){this._externalBegin=!0,this._handlerToNotify()},_endNotifications:function(){this._notificationsSent&&(this._notificationsSent=!1,this._externalBegin=!1,this._elementNotificationHandler&&this._elementNotificationHandler.endNotifications&&this._elementNotificationHandler.endNotifications())},_reload:function(){this._elementNotificationHandler&&this._elementNotificationHandler.reload&&this._elementNotificationHandler.reload()},_postEndNotifications:function(){if(this._notificationsSent&&!this._externalBegin&&!this._endNotificationsPosted){this._endNotificationsPosted=!0;var a=this;j.schedule(function(){a._endNotificationsPosted=!1,a._endNotifications()},j.Priority.high,null,"WinJS.UI._ItemsManager._postEndNotifications")}},_presentElement:function(a){var b=a.element;this._replaceElement(a,a.elementDelayed),a.elementDelayed=null,a.elementIsPlaceholder=!1,this._updateElement(a.element,b),this._handlerToNotifyCaresAboutItemAvailable()&&this._handlerToNotify().itemAvailable(a.element,b)},_presentElements:function(a,b){b&&(a.elementDelayed=b),this._listBinding.jumpToItem(a.item),a.elementDelayed&&this._presentElement(a),this._postEndNotifications()},_presentAllElements:function(){var a=this;this._foreachRecord(function(b){b.elementDelayed&&a._presentElement(b)})},_writeProfilerMark:function(a){var b="WinJS.UI._ItemsManager:"+(this._profilerId?this._profilerId+":":":")+a;g(b)}},{supportedForProcessing:!1});return function(a,b,c,e){return new d(a,b,c,e)}})})}),define("WinJS/Utilities/_TabContainer",["exports","../Core/_Global","../Core/_Base","../Core/_BaseUtils","./_ElementUtilities"],function(a,b,c,d,e){"use strict";function f(a,c,d,e){var f=b.document.createEvent("UIEvent");return f.initUIEvent(c,!1,!!e,b,d?1:0),!a.dispatchEvent(f)}function g(a){var c=e._getComputedStyle(a);if("none"===c.display||"hidden"===c.visibility)return b.NodeFilter.FILTER_REJECT;if(a._tabContainer)return b.NodeFilter.FILTER_ACCEPT;if(a.parentNode&&a.parentNode._tabContainer){var d=a.parentNode._tabContainer.childFocus;return d&&a.contains(d)?j(a)>=0?b.NodeFilter.FILTER_ACCEPT:b.NodeFilter.FILTER_SKIP:b.NodeFilter.FILTER_REJECT}var f=j(a);return f>=0?b.NodeFilter.FILTER_ACCEPT:b.NodeFilter.FILTER_SKIP}function h(a){function b(){if(a.currentNode._tabContainer)e=e.concat(h(a));else if(j(a.currentNode)>=0&&e.push(a.currentNode),a.firstChild()){do b();while(a.nextSibling());a.parentNode()}}var c=a.currentNode,d=c._tabContainer.childFocus,e=[];return d?(a.currentNode=d,b(),a.currentNode=c,e):[]}function i(a,c){function d(){var a=b.document.createElement("DIV");return a.tabIndex=c?c:0,a.setAttribute("aria-hidden",!0),a}var e=a.parentNode,g=d();e.insertBefore(g,a);var h=d();e.insertBefore(h,a.nextSibling),g.addEventListener("focus",function(){f(a,"onTabEnter",!0)},!0),h.addEventListener("focus",function(){f(a,"onTabEnter",!1)},!0),this._catcherBegin=g,this._catcherEnd=h;var i=1;this.addRef=function(){i++},this.release=function(){return 0===--i&&(g.parentElement&&e.removeChild(g),h.parentElement&&e.removeChild(h)),i},this.updateTabIndex=function(a){g.tabIndex=a,h.tabIndex=a}}if(b.document){var j=e.getTabIndex,k={attach:function(a,b){return a["win-trackTabHelperObject"]?a["win-trackTabHelperObject"].addRef():a["win-trackTabHelperObject"]=new i(a,b),a["win-trackTabHelperObject"]},detach:function(a){a["win-trackTabHelperObject"].release()||delete a["win-trackTabHelperObject"]}};c.Namespace._moduleDefine(a,"WinJS.UI",{TrackTabBehavior:k,TabContainer:c.Class.define(function(a){this._element=a,this._tabIndex=0,a._tabContainer=this,null===a.getAttribute("tabindex")&&(a.tabIndex=-1);var b=this;a.addEventListener("onTabEnter",function(c){var d=f(b._element,"onTabEntered",c.detail,!0);d||(b.childFocus?b.childFocus.focus():a.focus())}),a.addEventListener("keydown",function(a){var c=a.target;if(a.keyCode===e.Key.tab){var g=!a.shiftKey,h=b._hasMoreElementsInTabOrder(c,g);if(!h){var i=f(b._element,"onTabExiting",g,!0);if(i)return a.stopPropagation(),void a.preventDefault();for(var j=b._element.querySelectorAll("a[href],area[href],button,command,input,link,menuitem,object,select,textarea,th[sorted],[tabindex]"),k=j.length,l=[],m=0;k>m;m++){var n=j[m];l.push(n.tabIndex),n.tabIndex=-1}b._elementTabHelper[g?"_catcherEnd":"_catcherBegin"].tabIndex=-1;var o=function(){c.removeEventListener("blur",o,!1);for(var a=0;k>a;a++)-1!==l[a]&&(j[a].tabIndex=l[a]);b._elementTabHelper._catcherBegin.tabIndex=b._tabIndex,b._elementTabHelper._catcherEnd.tabIndex=b._tabIndex};c.addEventListener("blur",o,!1),d._yieldForEvents(function(){f(b._element,"onTabExit",g)})}}}),this._elementTabHelper=k.attach(a,this._tabIndex),this._elementTabHelper._catcherBegin.tabIndex=0,this._elementTabHelper._catcherEnd.tabIndex=0},{dispose:function(){k.detach(this._element,this._tabIndex)},childFocus:{set:function(a){a!==this._focusElement&&(a&&a.parentNode?this._focusElement=a:this._focusElement=null)},get:function(){return this._focusElement}},tabIndex:{set:function(a){this._tabIndex=a,this._elementTabHelper.updateTabIndex(a)},get:function(){return this._tabIndex}},_element:null,_skipper:function(a){a.stopPropagation(),a.preventDefault()},_hasMoreElementsInTabOrder:function(a,c){if(!this.childFocus)return!1;for(var d=b.document.createTreeWalker(this._element,b.NodeFilter.SHOW_ELEMENT,g,!1),e=h(d),f=0;f<e.length;f++)if(e[f]===a)return c?f<e.length-1:f>0;return!1},_focusElement:null},{supportedForProcessing:!1})})}}),define("WinJS/Utilities/_KeyboardBehavior",["exports","../Core/_Global","../Core/_Base","./_Control","./_ElementUtilities","./_TabContainer"],function(a,b,c,d,e,f){"use strict";if(b.document){var g={touch:"touch",pen:"pen",mouse:"mouse",keyboard:"keyboard"},h=g.mouse,i={2:g.touch,3:g.pen,4:g.mouse,touch:g.touch,pen:g.pen,mouse:g.mouse};e._addEventListener(b,"pointerdown",function(a){h=i[a.pointerType]||g.mouse},!0),b.addEventListener("keydown",function(){h=g.keyboard},!0),c.Namespace._moduleDefine(a,"WinJS.UI",{_keyboardSeenLast:{get:function(){return h===g.keyboard},set:function(a){h=a?g.keyboard:g.mouse}},_lastInputType:{get:function(){return h},set:function(a){g[a]&&(h=a)}},_InputTypes:g,_WinKeyboard:function(b){e._addEventListener(b,"pointerdown",function(a){e.removeClass(a.target,"win-keyboard")},!0),b.addEventListener("keydown",function(a){e.addClass(a.target,"win-keyboard")},!0),e._addEventListener(b,"focusin",function(b){a._keyboardSeenLast&&e.addClass(b.target,"win-keyboard")},!1),e._addEventListener(b,"focusout",function(a){e.removeClass(a.target,"win-keyboard")},!1)},_KeyboardBehavior:c.Namespace._lazy(function(){var a=e.Key,g=c.Class.define(function(a,c){a=a||b.document.createElement("DIV"),c=c||{},a._keyboardBehavior=this,this._element=a,this._fixedDirection=g.FixedDirection.width,this._fixedSize=1,this._currentIndex=0,d.setOptions(this,c),this._tabContainer=new f.TabContainer(this.scroller||this._element),this._tabContainer.tabIndex=0,this._element.children.length>0&&(this._tabContainer.childFocus=this._getFocusInto(this._element.children[0])),this._element.addEventListener("keydown",this._keyDownHandler.bind(this)),e._addEventListener(this._element,"pointerdown",this._MSPointerDownHandler.bind(this))},{element:{get:function(){return this._element}},fixedDirection:{get:function(){return this._fixedDirection},set:function(a){this._fixedDirection=a}},fixedSize:{get:function(){return this._fixedSize},set:function(a){+a===a&&(a=Math.max(1,a),this._fixedSize=a)}},currentIndex:{get:function(){return this._element.children.length>0?this._currentIndex:-1},set:function(a){if(+a===a){var b=this._element.children.length;a=Math.max(0,Math.min(b-1,a)),this._currentIndex=a,this._tabContainer.childFocus=this._getFocusInto(this._element.children[a])}}},getAdjacent:{get:function(){return this._getAdjacent},set:function(a){this._getAdjacent=a}},scroller:{get:function(){return this._scroller},set:function(a){this._scroller=a}},_keyDownHandler:function(b){if(!b.altKey){if(e._matchesSelector(b.target,".win-interactive, .win-interactive *"))return;var c=this.currentIndex,d=this._element.children.length-1,f="rtl"===e._getComputedStyle(this._element).direction,h=f?a.rightArrow:a.leftArrow,i=f?a.leftArrow:a.rightArrow,j=this.getAdjacent&&this.getAdjacent(c,b.keyCode);if(+j===j)c=j;else{var k=c%this.fixedSize;b.keyCode===h?this.fixedDirection===g.FixedDirection.width?0!==k&&c--:c>=this.fixedSize&&(c-=this.fixedSize):b.keyCode===i?this.fixedDirection===g.FixedDirection.width?k!==this.fixedSize-1&&c++:c+this.fixedSize-k<=d&&(c+=this.fixedSize):b.keyCode===a.upArrow?this.fixedDirection===g.FixedDirection.height?0!==k&&c--:c>=this.fixedSize&&(c-=this.fixedSize):b.keyCode===a.downArrow?this.fixedDirection===g.FixedDirection.height?k!==this.fixedSize-1&&c++:c+this.fixedSize-k<=d&&(c+=this.fixedSize):b.keyCode===a.home?c=0:b.keyCode===a.end&&(c=this._element.children.length-1)}c=Math.max(0,Math.min(this._element.children.length-1,c)),c!==this.currentIndex&&(this._focus(c,b.keyCode),b.keyCode!==h&&b.keyCode!==i&&b.keyCode!==a.upArrow&&b.keyCode!==a.downArrow||b.stopPropagation(),b.preventDefault())}},_getFocusInto:function(a,b){return a&&a.winControl&&a.winControl._getFocusInto?a.winControl._getFocusInto(b):a},_focus:function(a,b){a=+a===a?a:this.currentIndex;var c=this._element.children[a];c&&(c=this._getFocusInto(c,b),this.currentIndex=a,e._setActive(c,this.scroller))},_MSPointerDownHandler:function(a){var b=a.target;if(b!==this.element){for(;b.parentNode!==this.element;)b=b.parentNode;for(var c=-1;b;)c++,b=b.previousElementSibling;this.currentIndex=c}}},{FixedDirection:{height:"height",width:"width"}});return g})})}}),define("WinJS/Utilities/_SafeHtml",["exports","../Core/_WinJS","../Core/_Global","../Core/_Base","../Core/_ErrorFromName","../Core/_Resources"],function(a,b,c,d,e,f){"use strict";var g,h,i,j,k,l,m={get nonStaticHTML(){return"Unable to add dynamic content. A script attempted to inject dynamic content, or elements previously modified dynamically, that might be unsafe. For example, using the innerHTML property or the document.write method to add a script element will generate this exception. If the content is safe and from a trusted source, use a method to explicitly manipulate elements and attributes, such as createElement, or use setInnerHTMLUnsafe (or other unsafe method)."}};g=h=function(a,b){a.innerHTML=b},i=j=function(a,b){a.outerHTML=b},k=l=function(a,b,c){a.insertAdjacentHTML(b,c)};var n=c.MSApp;if(n&&n.execUnsafeLocalFunction)h=function(a,c){n.execUnsafeLocalFunction(function(){try{b._execUnsafe=!0,a.innerHTML=c}finally{b._execUnsafe=!1}})},j=function(a,c){n.execUnsafeLocalFunction(function(){try{b._execUnsafe=!0,a.outerHTML=c}finally{b._execUnsafe=!1}})},l=function(a,c,d){n.execUnsafeLocalFunction(function(){try{b._execUnsafe=!0,a.insertAdjacentHTML(c,d)}finally{b._execUnsafe=!1}})};else if(c.msIsStaticHTML){var o=function(a){if(!c.msIsStaticHTML(a))throw new e("WinJS.Utitilies.NonStaticHTML",m.nonStaticHTML)};g=function(a,b){o(b),a.innerHTML=b},i=function(a,b){o(b),a.outerHTML=b},k=function(a,b,c){o(c),a.insertAdjacentHTML(b,c)}}d.Namespace._moduleDefine(a,"WinJS.Utilities",{setInnerHTML:g,setInnerHTMLUnsafe:h,setOuterHTML:i,setOuterHTMLUnsafe:j,insertAdjacentHTML:k,insertAdjacentHTMLUnsafe:l})}),define("WinJS/Utilities/_Select",["exports","../Core/_Base","./_SafeHtml"],function(a,b,c){"use strict";b.Namespace._moduleDefine(a,"WinJS.UI",{_Select:b.Namespace._lazy(function(){function a(a){return a.replace(h,function(a){return i[a]||""})}function d(a){return a.replace(j,"")}function e(a){return this[a]}function f(){return this.length}function g(a){return a.getValue||(a.getValue=e),a.getLength||(a.getLength=f),a}var h=/[&<>'"]/g,i={"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},j=/[\u200e\u200f]/g;return b.Class.define(function(a,b){this._dataSource=g(b.dataSource),this._index=b.index||0,this._domElement=a,this._domElement.tabIndex=0,b.disabled&&this.setDisabled(b.disabled);var c=this;this._domElement.addEventListener("change",function(){c._index=c._domElement.selectedIndex},!1),this._createSelectElement()},{_index:0,_dataSource:null,dataSource:{get:function(){return this._dataSource},set:function(a){this._dataSource=g(a),this._domElement&&this._createSelectElement()}},setDisabled:function(a){a?this._domElement.setAttribute("disabled","disabled"):this._domElement.removeAttribute("disabled")},_createSelectElement:function(){for(var b=this._dataSource.getLength(),e="",f=0;b>f;f++){var g=""+this._dataSource.getValue(f),h=a(g),i=d(h);e+="<option value='"+i+"'>"+h+"</option>"}c.setInnerHTMLUnsafe(this._domElement,e),this._domElement.selectedIndex=this._index},index:{get:function(){return Math.max(0,Math.min(this._index,this._dataSource.getLength()-1))},set:function(a){if(this._index!==a){this._index=a;var b=this._domElement;b&&b.selectedIndex!==a&&(b.selectedIndex=a)}}},value:{get:function(){return this._dataSource.getValue(this.index)}}})})})}),define("WinJS/Utilities/_Telemetry",["exports"],function(a){"use strict";a.send=function(a,b){}}),define("WinJS/Utilities/_UI",["exports","../Core/_BaseCoreUtils","../Core/_Base"],function(a,b,c){"use strict";c.Namespace._moduleDefine(a,"WinJS.UI",{eventHandler:function(a){return b.markSupportedForProcessing(a)},Orientation:{horizontal:"horizontal",vertical:"vertical"},CountResult:{unknown:"unknown"},CountError:{noResponse:"noResponse"},DataSourceStatus:{ready:"ready",waiting:"waiting",failure:"failure"},FetchError:{noResponse:"noResponse",doesNotExist:"doesNotExist"},EditError:{noResponse:"noResponse",canceled:"canceled",notPermitted:"notPermitted",noLongerMeaningful:"noLongerMeaningful"},ObjectType:{item:"item",groupHeader:"groupHeader",header:"header",footer:"footer"},SelectionMode:{none:"none",single:"single",multi:"multi"},TapBehavior:{directSelect:"directSelect",toggleSelect:"toggleSelect",invokeOnly:"invokeOnly",none:"none"},SwipeBehavior:{select:"select",none:"none"},GroupHeaderTapBehavior:{invoke:"invoke",none:"none"}})}),define("WinJS/Utilities/_Xhr",["../Core/_Global","../Core/_Base","../Promise","../Scheduler"],function(a,b,c,d){"use strict";function e(a,b,c){d.schedule(function(){a(b)},c,null,"WinJS.xhr")}function f(){}function g(b){var g;return new c(function(c,i,j){var k=d.currentPriority;g=new a.XMLHttpRequest;var l=!1,m=h.exec(b.url.toLowerCase());m?"file"===m[1]&&(l=!0):"file:"===a.location.protocol&&(l=!0),g.onreadystatechange=function(){return g._canceled?void(g.onreadystatechange=f):void(4===g.readyState?(g.status>=200&&g.status<300||l&&0===g.status?e(c,g,k):e(i,g,k),g.onreadystatechange=f):e(j,g,k))},g.open(b.type||"GET",b.url,!0,b.user,b.password),g.responseType=b.responseType||"",Object.keys(b.headers||{}).forEach(function(a){g.setRequestHeader(a,b.headers[a])}),b.customRequestInitializer&&b.customRequestInitializer(g),void 0===b.data?g.send():g.send(b.data)},function(){g.onreadystatechange=f,g._canceled=!0,g.abort()})}var h=/^(\w+)\:\/\//;return b.Namespace.define("WinJS",{xhr:g}),g}),define("WinJS/Utilities",["./Utilities/_Control","./Utilities/_Dispose","./Utilities/_ElementListUtilities","./Utilities/_ElementUtilities","./Utilities/_Hoverable","./Utilities/_ItemsManager","./Utilities/_KeyboardBehavior","./Utilities/_ParallelWorkQueue","./Utilities/_SafeHtml","./Utilities/_Select","./Utilities/_TabContainer","./Utilities/_Telemetry","./Utilities/_UI","./Utilities/_VersionManager","./Utilities/_Xhr"],function(){}),define("WinJS/XYFocus",["require","exports","./Core/_Global","./Core/_Base","./Core/_BaseUtils","./Utilities/_ElementUtilities","./Core/_Events","./ControlProcessor/_OptionsParser"],function(a,b,c,d,e,f,g,h){"use strict";function i(a,b){var c=l(a,b);return c?c.target:null}function j(a,b){var d=i(a,b);if(d){var e=c.document.activeElement;if(o(d,-1))return K.dispatchEvent(B.focusChanged,{previousFocusElement:e,keyCode:-1}),d}return null}function k(a,d,e,g){function h(a,b){var c=m();a===A.left||a===A.right?(c.top=Math.max(b.targetRect.top,b.referenceRect.top,G?G.top:Number.MIN_VALUE),c.bottom=Math.min(b.targetRect.bottom,b.referenceRect.bottom,G?G.bottom:Number.MAX_VALUE),c.bottom<=c.top&&(c.top=b.targetRect.top,c.bottom=b.targetRect.bottom),c.height=c.bottom-c.top,c.width=Number.MAX_VALUE,c.left=Number.MIN_VALUE,c.right=Number.MAX_VALUE):(c.left=Math.max(b.targetRect.left,b.referenceRect.left,G?G.left:Number.MIN_VALUE),c.right=Math.min(b.targetRect.right,b.referenceRect.right,G?G.right:Number.MAX_VALUE),c.right<=c.left&&(c.left=b.targetRect.left,c.right=b.targetRect.right),c.width=c.right-c.left,c.height=Number.MAX_VALUE,c.top=Number.MIN_VALUE,c.bottom=Number.MAX_VALUE),G=c}if(e||c.document.activeElement!==E)G=null,E=null,F=null;else if(E&&F){var i=n(E.getBoundingClientRect());
i.left===F.left&&i.top===F.top||(G=null,E=null,F=null)}var j=c.document.activeElement,k=l(a,{focusRoot:b.focusRoot,historyRect:G,referenceElement:E,referenceRect:e});if(k&&o(k.target,d)){if(h(a,k),E=k.target,F=k.targetRect,f.hasClass(k.target,y.toggleMode)&&f.removeClass(k.target,y.toggleModeActive),"IFRAME"===k.target.tagName){var p=k.target;if(I.isXYFocusEnabled(p)){var q=n({left:k.referenceRect.left-k.targetRect.left,top:k.referenceRect.top-k.targetRect.top,width:k.referenceRect.width,height:k.referenceRect.height}),r={};r[z.messageDataProperty]={type:z.dFocusEnter,direction:a,referenceRect:q},p.contentWindow.postMessage(r,"*")}}return K.dispatchEvent(B.focusChanged,{previousFocusElement:j,keyCode:d}),!0}if(!g&&top!==window){var q=e;q||(q=c.document.activeElement?n(c.document.activeElement.getBoundingClientRect()):m());var r={};return r[z.messageDataProperty]={type:z.dFocusExit,direction:a,referenceRect:q},c.parent.postMessage(r,"*"),!0}return!1}function l(a,d){function e(a,b,c,d){if(a>=d||c>=b)return 0;var e=Math.min(b,d)-Math.max(a,c),f=Math.min(d-c,b-a);return 0===f?0:e/f}function f(a,b,c,d,f){var g,h,i=0,j=0,k=0;switch(a){case A.left:if(f.left>=d.left)break;g=e(d.top,d.bottom,f.top,f.bottom),h=d.left-f.right,g>0?k=e(c.top,c.bottom,f.top,f.bottom):j=d.bottom<=f.top?f.top-d.bottom:d.top-f.bottom;break;case A.right:if(f.right<=d.right)break;g=e(d.top,d.bottom,f.top,f.bottom),h=f.left-d.right,g>0?k=e(c.top,c.bottom,f.top,f.bottom):j=d.bottom<=f.top?f.top-d.bottom:d.top-f.bottom;break;case A.up:if(f.top>=d.top)break;g=e(d.left,d.right,f.left,f.right),h=d.top-f.bottom,g>0?k=e(c.left,c.right,f.left,f.right):j=d.right<=f.left?f.left-d.right:d.left-f.right;break;case A.down:if(f.bottom<=d.bottom)break;g=e(d.left,d.right,f.left,f.right),h=f.top-d.bottom,g>0?k=e(c.left,c.right,f.left,f.right):j=d.right<=f.left?f.left-d.right:d.left-f.right}return h>=0&&(h=b-h,j=b-j,h>=0&&j>=0&&(h+=h*g,i=h*D.primaryAxisDistanceWeight+j*D.secondaryAxisDistanceWeight+k*D.percentInHistoryShadowWeight)),i}function g(a,b){var d,e;return(!a&&!b||a&&!a.parentNode)&&c.document.activeElement!==c.document.body&&(a=c.document.activeElement),a?(d=a,e=n(d.getBoundingClientRect())):e=b?n(b):m(),{element:d,rect:e}}d=d||{},d.focusRoot=d.focusRoot||b.focusRoot||c.document.body,d.historyRect=d.historyRect||m();var i=Math.max(c.screen.availHeight,c.screen.availWidth),j=g(d.referenceElement,d.referenceRect);if(j.element){var k=j.element.getAttribute(x.focusOverride)||j.element.getAttribute(x.focusOverrideLegacy);if(k){var l=h.optionsParser(k),o=l[a]||l[a[0].toUpperCase()+a.substr(1)];if(o){for(var q,s=j.element;!q&&s;)q=s.querySelector(o),s=s.parentElement;if(q)return q===c.document.activeElement?null:{target:q,targetRect:n(q.getBoundingClientRect()),referenceRect:j.rect,usedOverride:!0}}}}for(var t={element:null,rect:null,score:0},u=d.focusRoot.querySelectorAll("*"),v=0,w=u.length;w>v;v++){var y=u[v];if(j.element!==y&&p(y)&&!r(y)){var z=n(y.getBoundingClientRect());if(0!==z.width&&0!==z.height){var B=f(a,i,d.historyRect,j.rect,z);B>t.score&&(t.element=y,t.rect=z,t.score=B)}}}return t.element?{target:t.element,targetRect:t.rect,referenceRect:j.rect,usedOverride:!1}:null}function m(){return{top:-1,bottom:-1,right:-1,left:-1,height:0,width:0}}function n(a){return{top:Math.floor(a.top),bottom:Math.floor(a.top+a.height),right:Math.floor(a.left+a.width),left:Math.floor(a.left),height:Math.floor(a.height),width:Math.floor(a.width)}}function o(a,b){var d=K.dispatchEvent(B.focusChanging,{nextFocusElement:a,keyCode:b});return d||a.focus(),c.document.activeElement===a}function p(a){var b=a.tagName;if(!a.hasAttribute("tabindex")&&-1===C.indexOf(b)&&!f.hasClass(a,y.focusable))return!1;if("IFRAME"===b&&!I.isXYFocusEnabled(a))return!1;if("DIV"===b&&a.winControl&&a.winControl.disabled)return!1;var c=f._getComputedStyle(a);return"-1"!==a.getAttribute("tabIndex")&&"none"!==c.display&&"hidden"!==c.visibility&&!a.disabled}function q(a){for(var b=a.parentElement;b&&!s(b);)b=b.parentElement;return b}function r(a){var b=q(a);return b&&!f.hasClass(b,y.toggleModeActive)}function s(a){if(f.hasClass(a,y.toggleMode))return!0;if("INPUT"===a.tagName){var b=a.type.toLowerCase();if("date"===b||"datetime"===b||"datetime-local"===b||"email"===b||"month"===b||"number"===b||"password"===b||"range"===b||"search"===b||"tel"===b||"text"===b||"time"===b||"url"===b||"week"===b)return!0}else if("TEXTAREA"===a.tagName)return!0;return!1}function t(a){var b=!1,c=!1,d=!1;a&&(b=f._matchesSelector(a,"."+y.suspended+", ."+y.suspended+" *"),c=s(a),d=f.hasClass(a,y.toggleModeActive));var e=H.RestState;return b?e=H.SuspendedState:c&&(e=d?H.ToggleModeActiveState:H.ToggleModeRestState),e}function u(a){if(!a.defaultPrevented){var c=t(document.activeElement),d="";if(-1!==b.keyCodeMap.up.indexOf(a.keyCode)?d="up":-1!==b.keyCodeMap.down.indexOf(a.keyCode)?d="down":-1!==b.keyCodeMap.left.indexOf(a.keyCode)?d="left":-1!==b.keyCodeMap.right.indexOf(a.keyCode)&&(d="right"),d){var e=c.xyFocus(d,a.keyCode);e&&a.preventDefault()}}}function v(a){if(!a.defaultPrevented){var c=document.activeElement,d=!1,e=t(document.activeElement);-1!==b.keyCodeMap.accept.indexOf(a.keyCode)?d=e.accept(c):-1!==b.keyCodeMap.cancel.indexOf(a.keyCode)&&(d=e.cancel(c)),d&&a.preventDefault()}}var w=f.Key,x={focusOverride:"data-win-xyfocus",focusOverrideLegacy:"data-win-focus"},y={focusable:"win-focusable",suspended:"win-xyfocus-suspended",toggleMode:"win-xyfocus-togglemode",toggleModeActive:"win-xyfocus-togglemode-active",xboxPlatform:"win-xbox"},z={messageDataProperty:"msWinJSXYFocusControlMessage",register:"register",unregister:"unregister",dFocusEnter:"dFocusEnter",dFocusExit:"dFocusExit"},A={left:"left",right:"right",up:"up",down:"down"},B={focusChanging:"focuschanging",focusChanged:"focuschanged"},C=["A","BUTTON","IFRAME","INPUT","SELECT","TEXTAREA"],D={primaryAxisDistanceWeight:30,secondaryAxisDistanceWeight:20,percentInHistoryShadowWeight:1e5};b.keyCodeMap={left:[],right:[],up:[],down:[],accept:[],cancel:[]},b.focusRoot,b.findNextFocusElement=i,b.moveFocus=j;var E,F,G,H;!function(a){function b(a){return a&&a.click&&a.click(),!1}function c(){for(var a=[],b=0;b<arguments.length;b++)a[b-0]=arguments[b];return!1}var d=function(){function a(){}return a.accept=b,a.cancel=c,a.xyFocus=k,a}();a.RestState=d;var e=function(){function a(){}return a.accept=c,a.cancel=c,a.xyFocus=c,a}();a.SuspendedState=e;var g=function(){function a(){}return a.accept=function(a){return f.addClass(a,y.toggleModeActive),!0},a.cancel=c,a.xyFocus=k,a}();a.ToggleModeRestState=g;var h=function(){function a(){}return a.cancel=function(a){return a&&f.removeClass(a,y.toggleModeActive),!0},a.accept=b,a.xyFocus=c,a}();a.ToggleModeActiveState=h}(H||(H={}));var I;if(function(a){function b(){return h(function(){return!1}),i.length}function d(a){var b=c.document.querySelectorAll("IFRAME"),d=Array.prototype.filter.call(b,function(b){return b.contentWindow===a});return d.length?d[0]:null}function e(a){var b=!1;return h(function(c){c===a&&(b=!0)}),b}function f(a){i.push(a)}function g(a){var b=-1;h(function(c,d){c===a&&(b=d)}),-1!==b&&i.splice(b,1)}function h(a){for(var b=i.length-1;b>=0;b--)try{var c=i[b];c.contentWindow?a(c,b):i.splice(b,1)}catch(d){i.splice(b,1)}}var i=[];a.count=b,a.getIFrameFromWindow=d,a.isXYFocusEnabled=e,a.registerIFrame=f,a.unregisterIFrame=g}(I||(I={})),c.document){b.keyCodeMap.left.push(w.GamepadLeftThumbstickLeft,w.GamepadDPadLeft,w.NavigationLeft),b.keyCodeMap.right.push(w.GamepadLeftThumbstickRight,w.GamepadDPadRight,w.NavigationRight),b.keyCodeMap.up.push(w.GamepadLeftThumbstickUp,w.GamepadDPadUp,w.NavigationUp),b.keyCodeMap.down.push(w.GamepadLeftThumbstickDown,w.GamepadDPadDown,w.NavigationDown),b.keyCodeMap.accept.push(w.GamepadA,w.NavigationAccept),b.keyCodeMap.cancel.push(w.GamepadB,w.NavigationCancel),c.addEventListener("message",function(a){var b=null;try{if(b=a.source,!b)return}catch(a){return}if(a.data&&a.data[z.messageDataProperty]){var d=a.data[z.messageDataProperty];switch(d.type){case z.register:var e=I.getIFrameFromWindow(b);e&&I.registerIFrame(e);break;case z.unregister:var e=I.getIFrameFromWindow(b);e&&I.unregisterIFrame(e);break;case z.dFocusEnter:var f=k(d.direction,-1,d.referenceRect,!0);f||(p(c.document.body)?c.document.body.focus():k(d.direction,-1));break;case z.dFocusExit:var e=I.getIFrameFromWindow(b);if(c.document.activeElement!==e)break;var g=d.referenceRect,h=e.getBoundingClientRect();g.left+=h.left,g.top+=h.top,"number"==typeof g.right&&(g.right+=h.left),"number"==typeof g.bottom&&(g.bottom+=h.top),k(d.direction,-1,g)}}}),e.ready().then(function(){if(f.hasWinRT&&c.Windows&&c.Windows.Xbox&&f.addClass(c.document.body,y.xboxPlatform),c.document.addEventListener("keydown",v,!0),c.document.addEventListener("keydown",u),c.top!==c.window){var a={};a[z.messageDataProperty]={type:z.register,version:1},c.parent.postMessage(a,"*")}});var J={focusRoot:{get:function(){return b.focusRoot},set:function(a){b.focusRoot=a}},findNextFocusElement:i,keyCodeMap:b.keyCodeMap,moveFocus:j,onfocuschanged:g._createEventProperty(B.focusChanged),onfocuschanging:g._createEventProperty(B.focusChanging),_xyFocus:k,_iframeHelper:I};J=e._merge(J,g.eventMixin),J._listeners={};var K=J;d.Namespace.define("WinJS.UI.XYFocus",J)}}),define("WinJS/Fragments",["exports","./Core/_Global","./Core/_WinRT","./Core/_Base","./Core/_BaseUtils","./Core/_ErrorFromName","./Core/_Resources","./Core/_WriteProfilerMark","./Promise","./Utilities/_ElementUtilities","./Utilities/_SafeHtml","./Utilities/_Xhr"],function(a,b,c,d,e,f,g,h,i,j,k,l){"use strict";function m(a,c,d,e){var f=a.src,g=!f;if(g&&(f=c+"script["+d+"]"),f=f.toLowerCase(),!(f in D)){var h=null;D[f]=!0;var j=b.document.createElement("script");if(a.language&&j.setAttribute("language","javascript"),j.setAttribute("type",a.type),j.setAttribute("async","false"),a.id&&j.setAttribute("id",a.id),g){var k=a.text;h=e.then(function(){j.text=k}).then(null,function(){})}else h=new i(function(b){j.onload=j.onerror=function(){b()},j.setAttribute("src",a.src)});return C.appendChild(j),{promise:h,inline:g}}}function n(a,b,c){var d=(b+"script["+c+"]").toLowerCase();d in E||(E[d]=!0,C.appendChild(a.cloneNode(!0)))}function o(a){var b=a.href.toLowerCase();if(!(b in F)){F[b]=!0;var c=a.cloneNode(!1);c.href=a.href,C.appendChild(c)}}function p(a,c){if("string"==typeof a)return r(a,c);var d={docfrag:j.data(a).docFragment};if(!d.docfrag){for(var e=b.document.createDocumentFragment();a.childNodes.length>0;)e.appendChild(a.childNodes[0]);d.docfrag=j.data(a).docFragment=e,a.setAttribute("data-win-hasfragment","")}return c&&y(a),i.as(d)}function q(a,b){return z(a,b).then(function(){return a.document?s(b,a):a}).then(function(){return a.document&&delete a.document,a})}function r(a,b){var c=a.toLowerCase(),d=H[c];if(d)return b&&delete H[c],d.promise?d.promise:i.as(d);d={},b||(H[c]=d);var e=d.promise=q(d,a);return d.promise.then(function(){delete d.promise}),e}function s(a,c){var d=c.document,e=d.body,f=[];B(d.querySelectorAll('link[rel="stylesheet"], link[type="text/css"]'),o),B(d.getElementsByTagName("style"),function(b,c){n(b,a,c)});var g=i.as();B(d.getElementsByTagName("script"),function(b,c){var d=m(b,a,c,g);d&&(d.inline||(g=d.promise),f.push(d.promise))}),B(e.getElementsByTagName("img"),function(a){a.src=a.src}),B(e.getElementsByTagName("a"),function(a){if(""!==a.href){var b=a.getAttribute("href");b&&"#"!==b[0]&&(a.href=a.href)}});for(var h=e.getElementsByTagName("script");h.length>0;){var j=h[0];j.parentNode.removeChild(j)}return i.join(f).then(function(){for(var a=b.document.createDocumentFragment(),e=b.document.importNode(d.body,!0);e.childNodes.length>0;)a.appendChild(e.childNodes[0]);return c.docfrag=a,c})}function t(){G||(G=!0,B(C.querySelectorAll("script"),function(a){D[a.src.toLowerCase()]=!0}),B(C.querySelectorAll('link[rel="stylesheet"], link[type="text/css"]'),function(a){F[a.href.toLowerCase()]=!0}))}function u(a,b){return v(a,b,!0)}function v(a,c,d){var f=(a instanceof b.HTMLElement?e._getProfilerMarkIdentifier(a):" href='"+a+"'")+"["+ ++I+"]";return J("WinJS.UI.Fragments:render"+f+",StartTM"),t(),p(a,!d).then(function(a){var b=a.docfrag;d&&(b=b.cloneNode(!0));for(var e=b.firstChild;e;)1===e.nodeType&&(e.msParentSelectorScope=!0),e=e.nextSibling;var g;return c?(c.appendChild(b),g=c):g=b,J("WinJS.UI.Fragments:render"+f+",StopTM"),g})}function w(a,b){return v(a,b,!1)}function x(a){return t(),p(a).then(function(a){return a.docfrag})}function y(a){a?"string"==typeof a?delete H[a.toLowerCase()]:(delete j.data(a).docFragment,a.removeAttribute("data-win-hasfragment")):H={}}function z(a,c){var d=b.document.implementation.createHTMLDocument("frag"),e=d.createElement("base");d.head.appendChild(e);var f=d.createElement("a");return d.body.appendChild(f),e.href=b.document.location.href,f.setAttribute("href",c),e.href=f.href,a.document=d,K(c).then(function(a){k.setInnerHTMLUnsafe(d.documentElement,a),d.head.appendChild(e)})}function A(a){return l({url:a}).then(function(a){return a.responseText})}if(b.document){var B=function(a,b){for(var c=0,d=a.length;d>c;c++)b(a[c],c)},C=b.document.head||b.document.getElementsByTagName("head")[0],D={},E={},F={},G=!1,H={},I=1,J=h,K=A;d.Namespace._moduleDefine(a,"WinJS.UI.Fragments",{renderCopy:u,render:w,cache:x,clearCache:y,_cacheStore:{get:function(){return H}},_getFragmentContents:{get:function(){return K},set:function(a){K=a}},_writeProfilerMark:{get:function(){return J},set:function(a){J=a}}})}}),define("WinJS/Application/_State",["exports","../Core/_Global","../Core/_WinRT","../Core/_Base","../Core/_BaseUtils","../Promise"],function(a,b,c,d,e,f){"use strict";function g(){var b,e,f,g=d.Class.define(function(a){this.folder=a,this._path=a.path,a.tryGetItemAsync&&(this._tryGetItemAsync=a.tryGetItemAsync.bind(a))},{_tryGetItemAsync:function(a){return this.folder.getFileAsync(a).then(null,function(){return!1})},exists:function(a){return this._tryGetItemAsync(a).then(function(a){return!!a})},remove:function(a){return this._tryGetItemAsync(a).then(function(a){return a?a.deleteAsync():!1}).then(null,function(){return!1})},writeText:function(a,b){var d=c.Windows.Storage,e=this;return e.folder.createFileAsync(a,d.CreationCollisionOption.openIfExists).then(function(a){return d.FileIO.writeTextAsync(a,b)})},readText:function(a,b){var d=c.Windows.Storage;return this._tryGetItemAsync(a).then(function(a){return a?d.FileIO.readTextAsync(a):b}).then(null,function(){return b})}},{supportedForProcessing:!1});d.Namespace._moduleDefine(a,"WinJS.Application",{local:{get:function(){return b||(b=new g(c.Windows.Storage.ApplicationData.current.localFolder)),b}},temp:{get:function(){return e||(e=new g(c.Windows.Storage.ApplicationData.current.temporaryFolder)),e}},roaming:{get:function(){return f||(f=new g(c.Windows.Storage.ApplicationData.current.roamingFolder)),f}}})}function h(){var b=d.Class.define(function(){this.storage={}},{exists:function(a){return f.as(void 0!==this.storage[a])},remove:function(a){return delete this.storage[a],f.as()},writeText:function(a,b){return this.storage[a]=b,f.as(b.length)},readText:function(a,b){var c=this.storage[a];return f.as("string"==typeof c?c:b)}},{supportedForProcessing:!1});d.Namespace._moduleDefine(a,"WinJS.Application",{local:new b,temp:new b,roaming:new b})}c.Windows.Storage.FileIO&&c.Windows.Storage.ApplicationData&&c.Windows.Storage.CreationCollisionOption?g():h();var i={};d.Namespace._moduleDefine(a,"WinJS.Application",{sessionState:{get:function(){return i},set:function(a){i=a}},_loadState:function(b){return 3===b.previousExecutionState?a.local.readText("_sessionState.json","{}").then(function(b){var c=JSON.parse(b);c&&Object.keys(c).length>0&&(a._sessionStateLoaded=!0),a.sessionState=c}).then(null,function(){a.sessionState={}}):f.as()},_oncheckpoint:function(c,d){if(!(b.MSApp&&b.MSApp.getViewOpener&&b.MSApp.getViewOpener())){var e=a.sessionState;if(e&&Object.keys(e).length>0||a._sessionStateLoaded){var f;try{f=JSON.stringify(e)}catch(g){f="",d.queueEvent({type:"error",detail:g})}c.setPromise(a.local.writeText("_sessionState.json",f).then(null,function(a){d.queueEvent({type:"error",detail:a})}))}}}})}),define("WinJS/Navigation",["exports","./Core/_Base","./Core/_Events","./Core/_WriteProfilerMark","./Promise"],function(a,b,c,d,e){"use strict";var f="navigated",g="navigating",h="beforenavigate",i=b.Class.mix(b.Class.define(null,{},{supportedForProcessing:!1}),c.eventMixin),j=new i,k={backStack:[],current:{location:"",initialPlaceholder:!0},forwardStack:[]},l=c._createEventProperty,m=function(a){return d("WinJS.Navigation:navigation,StartTM"),e.as().then(function(){var b=e.as(),c=j.dispatchEvent(h,{setPromise:function(a){b=b.then(function(){return a})},location:a.location,state:a.state});return b.then(function(a){return c||a})})},n=function(a){return e.as().then(function(){var b=e.as();return j.dispatchEvent(g,{setPromise:function(a){b=b.then(function(){return a})},location:k.current.location,state:k.current.state,delta:a}),b})},o=function(a,b){d("WinJS.Navigation:navigation,StopTM");var c=e.as(),g={value:a,location:k.current.location,state:k.current.state,setPromise:function(a){c=c.then(function(){return a})}};return!a&&b&&(g.error=b),j.dispatchEvent(f,g),c},p=function(a,b,c,d){return a=Math.min(a,b.length),a>0?m(b[b.length-a]).then(function(e){if(e)return!1;for(c.push(k.current);a-1>0;)a--,c.push(b.pop());return k.current=b.pop(),n(d).then(o,function(a){throw o(void 0,a||!0),a}).then(function(){return!0})}):e.wrap(!1)};b.Namespace._moduleDefine(a,"WinJS.Navigation",{canGoForward:{get:function(){return k.forwardStack.length>0}},canGoBack:{get:function(){return k.backStack.length>0}},location:{get:function(){return k.current.location}},state:{get:function(){return k.current.state},set:function(a){k.current.state=a}},history:{get:function(){return k},set:function(a){k=a,k.backStack=k.backStack||[],k.forwardStack=k.forwardStack||[],k.current=k.current||{location:"",initialPlaceholder:!0},k.current.location=k.current.location||""}},forward:function(a){return a=a||1,p(a,k.forwardStack,k.backStack,a)},back:function(a){return a=a||1,p(a,k.backStack,k.forwardStack,-a)},navigate:function(a,b){var c={location:a,state:b};return m(c).then(function(a){return a?!1:(k.current.initialPlaceholder||k.backStack.push(k.current),k.forwardStack=[],k.current=c,n().then(o,function(a){throw o(void 0,a||!0),a}).then(function(){return!0}))})},addEventListener:function(a,b,c){j.addEventListener(a,b,c)},removeEventListener:function(a,b,c){j.removeEventListener(a,b,c)},onnavigated:l(f),onnavigating:l(g),onbeforenavigate:l(h)})}),define("WinJS/Application",["exports","./Core/_Global","./Core/_WinRT","./Core/_Base","./Core/_Events","./Core/_Log","./Core/_WriteProfilerMark","./Application/_State","./Navigation","./Promise","./_Signal","./Scheduler","./Utilities/_ElementUtilities"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){"use strict";function n(a){var c;try{var d=[];c=JSON.stringify(a,function(a,c){return c===b?"[window]":c instanceof b.HTMLElement?"[HTMLElement]":"function"==typeof c?"[function]":"object"==typeof c?null===c?c:-1===d.indexOf(c)?(d.push(c),c):"[circular]":c})}catch(e){c=JSON.stringify("[object]")}return c}function o(c){if(f.log&&f.log(n(c),"winjs","error"),b.document&&a._terminateApp){var d=c.detail,e=d&&(d.number||d.exception&&(d.exception.number||d.exception.code)||d.error&&d.error.number||d.errorCode||0),g={description:n(d),stack:d&&(d.stack||d.exception&&(d.exception.stack||d.exception.message)||d.error&&d.error.stack||null),errorNumber:e,number:e};a._terminateApp(g,c)}}function p(a,c){b.MSApp&&b.MSApp.terminateApp(a)}function q(a){var b="def"+ma++;return{deferral:la[b]=a.getDeferral(),id:b}}function r(a,b){b&&(a=la[b],delete la[b]),a&&a.complete()}function s(){la&&(Object.keys(la).forEach(function(a){la[a].complete()}),la={})}function t(a){function b(b){return g("WinJS.Application:Event_"+a.type+",StopTM"),a._deferral&&r(a._deferral,a._deferralID),b}g("WinJS.Application:Event_"+a.type+",StartTM");var c=j.as();a.setPromise=function(a){c=c.then(function(){return a})},a._stoppedImmediatePropagation=!1,a.stopImmediatePropagation=function(){a._stoppedImmediatePropagation=!0},a.detail=a.detail||{},"object"==typeof a.detail&&(a.detail.setPromise=a.setPromise);try{if(ja._listeners){var d=!1;if(h=ja._listeners[a.type])for(var e=0,f=h.length;f>e&&!a._stoppedImmediatePropagation;e++)d=h[e].listener(a)||d}var h=pa[a.type];h&&h.forEach(function(b){b(a,d)})}catch(i){a.type===V?o(a):y({type:V,detail:i})}return c.then(b,function(a){return a=b(a),a&&"Canceled"===a.name?void 0:j.wrapError(a)})}function u(){return da||(da=new k,da.promise.done(function(){da=null},function(){da=null})),da}function v(a){function b(a){y({type:V,detail:a})}return 0===a.length?u().promise:t(a.shift()).then(null,b)}function w(a){function b(){return w}var c=a.job._queue;0===c.length&&ba.length>0&&(c=a.job._queue=z()),a.setPromise(v(c).then(b,b))}function x(){function a(){d=!0}for(var b,c=[],d=!0;d;)0===c.length&&ba.length>0&&(c=z()),d=!1,b=v(c),b.done(a,a);ca=l.schedule(function(a){function c(){return w}a.setPromise(b.then(c,c))},l.Priority.high,null,"WinJS.Application._pumpEventQueue"),ca._queue=c}function y(a){g("WinJS.Application:Event_"+a.type+" queued,Info"),ba.push(a),ea&&da&&da.complete(w)}function z(){var a=ba;return ba=[],a}function A(a){var b=q(a.activatedOperation);h._loadState(a).then(function(){y({type:S,detail:a,_deferral:b.deferral,_deferralID:b.id})})}function B(a){var b=q(a.suspendingOperation);y({type:Q,_deferral:b.deferral,_deferralID:b.id})}function C(){if(y({type:T}),!b.document||!c.Windows.UI.WebUI.WebUIApplication){var a={arguments:"",kind:"Windows.Launch",previousExecutionState:0};h._loadState(a).then(function(){y({type:S,detail:a})})}}function D(){s(),y({type:R})}function E(b){var c={};for(var d in b)c[d]=b[d];var e,f=!0,g=a._terminateApp;try{a._terminateApp=function(a,b){f=!1,e=a,g!==p&&g(a,b)},t({type:V,detail:{error:c,errorLine:b.lineno,errorCharacter:b.colno,errorUrl:b.filename,errorMessage:b.message}})}finally{a._terminateApp=g}return f}function F(a){var b=a.detail,c=b.id;if(b.parent)return void(b.handler&&P&&delete P[c]);if(b.exception instanceof Error){var d={stack:b.exception.stack,message:b.exception.message};b.exception=d}var e=!P;P=P||[],P[c]=b,e&&l.schedule(function(){var a=P;P=null,a.forEach(function(a){y({type:V,detail:a})})},l.Priority.high,null,"WinJS.Application._queuePromiseErrors")}function G(a){var b={e:a,applicationcommands:void 0};ja.dispatchEvent(W,b)}function H(a){var b={type:X};Object.defineProperty(b,"_winRTBackPressedEvent",{value:a,enumerable:!1}),t(b)}function I(){t({type:Y})}function J(a){t({type:$,kind:a.kind})}function K(a){t({type:_,kind:a.kind})}function L(a){t({type:aa,kind:a.kind})}function M(){var a=c.Windows.UI.Core.SystemNavigationManager;return ha&&a?a.getForCurrentView():null}function N(){if(!fa){if(fa=!0,b.addEventListener("beforeunload",D,!1),b.document){if(b.addEventListener("error",E,!1),c.Windows.UI.WebUI.WebUIApplication){var a=c.Windows.UI.WebUI.WebUIApplication;a.addEventListener("activated",A,!1),a.addEventListener("suspending",B,!1)}if(c.Windows.UI.ApplicationSettings.SettingsPane){var d=c.Windows.UI.ApplicationSettings.SettingsPane.getForCurrentView();d.addEventListener("commandsrequested",G)}var e=M();if(e?e.addEventListener("backrequested",H):c.Windows.Phone.UI.Input.HardwareButtons&&c.Windows.Phone.UI.Input.HardwareButtons.addEventListener("backpressed",H),c.Windows.UI.Input.EdgeGesture){var f=c.Windows.UI.Input.EdgeGesture.getForCurrentView();f.addEventListener("starting",J),f.addEventListener("completed",K),f.addEventListener("canceled",L)}}j.addEventListener("error",F)}}function O(){if(fa){if(fa=!1,b.removeEventListener("beforeunload",D,!1),b.document){if(c.Windows.UI.WebUI.WebUIApplication){b.removeEventListener("error",E,!1);var a=c.Windows.UI.WebUI.WebUIApplication;a.removeEventListener("activated",A,!1),a.removeEventListener("suspending",B,!1)}if(c.Windows.UI.ApplicationSettings.SettingsPane){var d=c.Windows.UI.ApplicationSettings.SettingsPane.getForCurrentView();d.removeEventListener("commandsrequested",G)}var e=M();if(e?e.removeEventListener("backrequested",H):c.Windows.Phone.UI.Input.HardwareButtons&&c.Windows.Phone.UI.Input.HardwareButtons.removeEventListener("backpressed",H),c.Windows.UI.Input.EdgeGesture){var f=c.Windows.UI.Input.EdgeGesture.getForCurrentView();f.removeEventListener("starting",J),f.removeEventListener("completed",K),f.removeEventListener("canceled",L)}}j.removeEventListener("error",F)}}b.Debug&&(b.Debug.setNonUserCodeExceptions=!0);var P,Q="checkpoint",R="unload",S="activated",T="loaded",U="ready",V="error",W="settings",X="backclick",Y="beforerequestingfocusonkeyboardinput",Z="requestingfocusonkeyboardinput",$="edgystarting",_="edgycompleted",aa="edgycanceled",ba=[],ca=null,da=null,ea=!1,fa=!1,ga=b.Symbol,ha=!!ga&&"symbol"==typeof ga.iterator,ia=d.Class.mix(d.Class.define(null,{},{supportedForProcessing:!1}),e.eventMixin),ja=new ia,ka=e._createEventProperty,la={},ma=0,na={_registered:!1,updateRegistration:function(){var a=ja._listeners&&ja._listeners[Z]||[];!na._registered&&a.length>0&&(na._updateKeydownCaptureListeners(b.top,!0),na._registered=!0),na._registered&&0===a.length&&(na._updateKeydownCaptureListeners(b.top,!1),na._registered=!1)},_keydownCaptureHandler:function(a){na._registered&&na._shouldKeyTriggerTypeToSearch(a)&&I()},_frameLoadCaptureHandler:function(a){na._registered&&na._updateKeydownCaptureListeners(a.target.contentWindow,!0)},_updateKeydownCaptureListeners:function(a,b){if(a){try{b?a.document.addEventListener("keydown",na._keydownCaptureHandler,!0):a.document.removeEventListener("keydown",na._keydownCaptureHandler,!0)}catch(c){}if(a.frames)for(var d=0,e=a.frames.length;e>d;d++){var f=a.frames[d];na._updateKeydownCaptureListeners(f,b);try{b?f.frameElement&&f.frameElement.addEventListener("load",na._frameLoadCaptureHandler,!0):f.frameElement&&f.frameElement.removeEventListener("load",na._frameLoadCaptureHandler,!0)}catch(c){}}}},_shouldKeyTriggerTypeToSearch:function(a){var b=!1;if(!a.metaKey&&(!a.ctrlKey&&!a.altKey||a.getModifierState&&a.getModifierState("AltGraph")))switch(a.keyCode){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 96:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 186:case 187:case 188:case 189:case 190:case 191:case 192:case 219:case 220:case 221:case 222:case 223:case 226:case 229:case 231:b=!0}return b}},oa=p,pa={activated:[function(){y({type:U})}],checkpoint:[function(b){h._oncheckpoint(b,a)}],error:[function(a,b){b||o(a)}],backclick:[function(a,b){b?a._winRTBackPressedEvent.handled=!0:i.canGoBack&&(i.back(),a._winRTBackPressedEvent.handled=!0)}],beforerequestingfocusonkeyboardinput:[function(a,b){b||t({type:Z})}]};b.document&&b.document.addEventListener("DOMContentLoaded",C,!1);var qa=d.Namespace._moduleDefine(a,"WinJS.Application",{stop:function(){qa.onactivated=null,qa.oncheckpoint=null,qa.onerror=null,qa.onloaded=null,qa.onready=null,qa.onsettings=null,qa.onunload=null,qa.onbackclick=null,ja=new ia,h.sessionState={},ea=!1,z(),ca&&ca.cancel(),ca=null,da=null,O(),na.updateRegistration(),s()},addEventListener:function(a,b,c){ja.addEventListener(a,b,c),a===Z&&na.updateRegistration()},removeEventListener:function(a,b,c){ja.removeEventListener(a,b,c),a===Z&&na.updateRegistration()},checkpoint:function(){y({type:Q})},start:function(){N(),ea=!0,x()},queueEvent:y,_dispatchEvent:t,_terminateApp:{get:function(){return oa},set:function(a){oa=a}},_applicationListener:d.Namespace._lazy(function(){return new m._GenericListener("Application",qa)}),oncheckpoint:ka(Q),onunload:ka(R),onactivated:ka(S),onloaded:ka(T),onready:ka(U),onsettings:ka(W),onerror:ka(V),onbackclick:ka(X)})}),define("WinJS/Animations/_Constants",["exports","../Core/_Base"],function(a,b){"use strict";b.Namespace._moduleDefine(a,"WinJS.UI",{PageNavigationAnimation:{turnstile:"turnstile",slide:"slide",enterPage:"enterPage",continuum:"continuum"}})}),define("WinJS/Animations/_TransitionAnimation",["exports","../Core/_Global","../Core/_WinRT","../Core/_Base","../Core/_BaseUtils","../Promise","../Scheduler","../Utilities/_ElementUtilities"],function(a,b,c,d,e,f,g,h){"use strict";function i(a){return Array.isArray(a)||a instanceof b.NodeList||a instanceof b.HTMLCollection?a:a?[a]:[]}function j(){return++B,"WinJSUIAnimation"+B}function k(a){return"WinJSUIAnimation"===a.substring(0,16)}function l(a){h._getComputedStyle(a,null).opacity}function m(b,c){return function(d){var e={};for(var f in d){var g=d[f];"function"==typeof g&&(g=g(b,c)),e[f]=g}return e.exactTiming||(e.delay+=a._libraryDelay),e}}function n(a,b){var c=a+"|"+b,d=C[c];d&&d(D)}function o(a,b,c){C[a+"|"+b]=c}function p(a,b){delete C[a+"|"+b]}function q(a,b,c,d,e){var f=e.styleCaches[b]||new F(b,e,c);f.cref+=d.length,d.forEach(function(a){n(b,a.property)}),(e.isTransition||d.some(function(a){return f.removed[a[e.nameField]]}))&&(l(a),f.removed={});var g=d.map(function(a){return a[e.nameField]+" "+e.props.map(function(b){return(b[1]?a[b[1]]:"")+b[2]}).join(" ")}).join(", "),h=d.map(function(a){return a[e.nameField]}).join(", ");return""!==f.names&&(g=f.names+", "+g,h=f.names+", "+h),c[e.shorthandProp]=g,f.names=h,f}function r(a,b){b?a():g.schedule(function(){a()},g.Priority.normal,null,"WinJS.UI._Animation._completeAnimationPromise")}function s(a,c,d,g,i){if(d.length>0){var j=a.style,k=h._uniqueID(a);if(y||(y=b.document.createElement("DIV").style),d=d.map(m(c,a)),d.forEach(function(a){var b=e._getCamelCasedName(a.property);a.hasOwnProperty("from")&&(j[b]=a.from),y[b]=a.to,a.to=y[b],a.propertyScriptName=b}),i){var l=q(a,k,j,d,G),n=a.disabled?b.document:a;d.forEach(function(c){var d;g.push(new f(function(f){d=function(d){g&&(n.removeEventListener(e._browserEventEquivalents.transitionEnd,g,!1),p(k,c.property),l.removeName(j,c.propertyScriptName,d?a:null,c.skipStylesReset),b.clearTimeout(i),g=null),r(f,d===E)};var g=function(b){b.target===a&&b.propertyName===c.property&&d()};o(k,c.property,d),n.addEventListener(e._browserEventEquivalents.transitionEnd,g,!1);var h=0;j[c.propertyScriptName]!==c.to&&(j[c.propertyScriptName]=c.to,h=50);var i=b.setTimeout(function(){i=b.setTimeout(d,c.delay+c.duration)},h)},function(){d(E)}))})}else d.forEach(function(a){j[a.propertyScriptName]=a.to})}}function t(a,c,d,g,i){if(i&&d.length>0){var k=a.style,l=h._uniqueID(a);d=d.map(m(c,a));var n,s=a.disabled?b.document:a;d.forEach(function(a){if(a.keyframe)a.keyframe=A.animationPrefix+a.keyframe;else{n||(n=b.document.createElement("STYLE"),b.document.documentElement.appendChild(n)),a.keyframe=j();var c="@"+A.keyframes+" "+a.keyframe+" { from {"+a.property+":"+a.from+";} to {"+a.property+":"+a.to+";}}";n.sheet.insertRule(c,0)}});var t=q(a,l,k,d,H),u=[],v=[];d.forEach(function(c){var d;v.push(new f(function(f){d=function(a){g&&(s.removeEventListener(e._browserEventEquivalents.animationEnd,g,!1),b.clearTimeout(h),g=null),r(f,a===E)};var g=function(b){b.target===a&&b.animationName===c.keyframe&&d()};o(l,c.property,d),u.push({id:l,property:c.property,style:k,keyframe:c.keyframe});var h=b.setTimeout(function(){h=b.setTimeout(d,c.delay+c.duration)},50);s.addEventListener(e._browserEventEquivalents.animationEnd,g,!1)},function(){d(E)}))}),n&&b.setTimeout(function(){var a=n.parentElement;a&&a.removeChild(n)},50);var w=function(){for(var a=0;a<u.length;a++){var b=u[a];p(b.id,b.property),t.removeName(b.style,b.keyframe)}};g.push(f.join(v).then(w,w))}}function u(){z||(z=c.Windows.UI.ViewManagement.UISettings?new c.Windows.UI.ViewManagement.UISettings:{animationsEnabled:!0})}function v(b,c,d){try{for(var e=a.isAnimationEnabled(),h=i(b),j=i(c),k=[],l=0;l<h.length;l++)if(Array.isArray(h[l]))for(var m=0;m<h[l].length;m++)d(h[l][m],l,j,k,e);else d(h[l],l,j,k,e);
return k.length?f.join(k):g.schedulePromiseNormal(null,"WinJS.UI._Animation._completeActionPromise").then(null,function(){})}catch(n){return f.wrapError(n)}}function w(a){return Array.isArray(a)?a.map(function(a){return w(a)}):a?(a.delay=K(a.delay),a.duration=K(a.duration),a):void 0}function x(a){return 1===L?a:w(a)}if(b.document){var y,z,A=e._browserStyleEquivalents,B=0,C=[],D=1,E=2,F=d.Class.define(function(a,b,c){this.cref=0,this.id=a,this.desc=b,this.removed={},this.prevStyles=b.props.map(function(a){return c[a[0]]}),this.prevNames=this.names=c[b.nameProp],b.styleCaches[a]=this},{destroy:function(a,b){var c=this.desc;delete c.styleCaches[this.id],b||(""===this.prevNames&&this.prevStyles.every(function(a){return""===a})?a[c.shorthandProp]="":(c.props.forEach(function(b,c){a[b[0]]=this.prevStyles[c]},this),a[c.nameProp]=this.prevNames))},removeName:function(a,b,c,d){var e=this.names,f=e.split(", "),g=f.lastIndexOf(b);g>=0&&(f.splice(g,1),this.names=e=f.join(", "),""===e&&this.desc.isTransition&&(e="none")),--this.cref?(a[this.desc.nameProp]=e,k(b)||(this.removed[b]=!0)):(c&&"none"===e&&(a[this.desc.nameProp]=e,l(c)),this.destroy(a,d))}}),G={shorthandProp:A.transition.scriptName,nameProp:A["transition-property"].scriptName,nameField:"property",props:[[A["transition-duration"].scriptName,"duration","ms"],[A["transition-timing-function"].scriptName,"timing",""],[A["transition-delay"].scriptName,"delay","ms"]],isTransition:!0,styleCaches:[]},H={shorthandProp:A.animation.scriptName,nameProp:A["animation-name"].scriptName,nameField:"keyframe",props:[[A["animation-duration"].scriptName,"duration","ms"],[A["animation-timing-function"].scriptName,"timing",""],[A["animation-delay"].scriptName,"delay","ms"],[A["animation-iteration-count"].scriptName,"","1"],[A["animation-direction"].scriptName,"","normal"],[A["animation-fill-mode"].scriptName,"","both"]],isTransition:!1,styleCaches:[]},I=0,J=function(){return u(),I+z.animationsEnabled>0},K=function(a){return a*L},L=1,M=0;d.Namespace._moduleDefine(a,"WinJS.UI",{disableAnimations:function(){I--},enableAnimations:function(){I++},isAnimationEnabled:{get:function(){return J},set:function(a){J=a}},_libraryDelay:{get:function(){return M},set:function(a){M=a}},executeAnimation:function(a,b){return v(a,x(b),t)},executeTransition:function(a,b){return v(a,x(b),s)},_animationTimeAdjustment:{get:function(){return K},set:function(a){K=a}}}),d.Namespace._moduleDefine(a,"WinJS.Utilities",{_fastAnimations:{get:function(){return.05===L},set:function(a){L=a?.05:1}},_slowAnimations:{get:function(){return 3===L},set:function(a){L=a?3:1}},_animationFactor:{get:function(){return L},set:function(a){L=a}}})}}),define("WinJS/Animations",["exports","./Core/_Global","./Core/_Base","./Core/_BaseUtils","./Core/_WriteProfilerMark","./Utilities/_ElementUtilities","./Animations/_Constants","./Animations/_TransitionAnimation","./Promise"],function(a,b,c,d,e,f,g,h,i){"use strict";function j(a,b,c){return a.keyframe?a.keyframe:!c||a.left!==b.left||a.top!==b.top||a.rtlflip&&!b.rtlflip?null:a.rtlflip?l(c):c}function k(a,b){return b&&a.rtlflip?l(b):b}function l(a){var b=a+"-rtl";return function(c,d){return"ltr"===f._getComputedStyle(d).direction?a:b}}function m(a){return Array.isArray(a)||a instanceof b.NodeList||a instanceof b.HTMLCollection?a:a?[a]:[]}function n(a){for(var b=[],c=0;c<a.length;c++){var d={top:a[c].offsetTop,left:a[c].offsetLeft},e=f._getComputedStyle(a[c],null)[D.scriptName].split(",");6===e.length&&(d.left+=parseFloat(e[4]),d.top+=parseFloat(e[5])),b.push(d)}return b}function o(a,b,c,d){return function(e){for(var f=a,g=0;e>g;g++)b*=c,f+=b;return d&&(f=Math.min(f,d)),f}}function p(a,b){for(var c=0;c<b.length;c++)b[c].top-=a[c].offsetTop,b[c].left-=a[c].offsetLeft}function q(a,b,c){p(a,b);for(var d=0;d<a.length;d++)0===b[d].top&&0===b[d].left||(a[d].style[D.scriptName]="translate("+b[d].left+"px, "+b[d].top+"px)");return h.executeTransition(a,c)}function r(a,b,c,d,e,f,g,i){function j(a,b,c){if(a){var d={left:b+"px",top:"0px"},e={left:c+"px",top:"0px"};if(+a.length===a.length)for(var f=0,g=a.length;g>f;f++)k.push(a[f]),l.push(d),m.push(e);else k.push(a),l.push(d),m.push(e)}}var k=[],l=[],m=[],n=200,o=0!==b?0>b?-n:n:0,p=0!==c?0>c?-n:n:0;return j(e,b,c),j(f,o,p),j(g,2*o,2*p),j(i,3*o,3*p),l=new F(l),m=new F(m),h.executeTransition(k,[{property:D.cssName,delay:0,duration:350,timing:a,from:u(l),to:u(m)},{property:"opacity",delay:0,duration:350,timing:d?"steps(1, start)":"steps(1, end)",from:d?0:1,to:d?1:0}])}function s(a,b,c){function e(){t(a)}a=m(a),b=m(b);for(var g=0,i=a.length;i>g;g++){var j="rtl"===f._getComputedStyle(a[g]).direction;a[g].style[d._browserStyleEquivalents["transform-origin"].scriptName]=b[Math.min(b.length-1,g)][j?"rtl":"ltr"]}return h.executeTransition(a,c).then(e,e)}function t(a){for(var b=0,c=a.length;c>b;b++)a[b].style[d._browserStyleEquivalents["transform-origin"].scriptName]="",a[b].style[D.scriptName]="",a[b].style.opacity=""}function u(a,b){return b=b||"",function(c,d){var e=a.getOffset(c),g=e.left;return e.rtlflip&&"rtl"===f._getComputedStyle(d).direction&&(g=g.toString(),g="-"===g.charAt(0)?g.substring(1):"-"+g),b+"translate("+g+", "+e.top+")"}}function v(a,b){return b=b||"",function(c){var d=a[c];return"translate("+d.left+"px, "+d.top+"px) "+b}}function w(a,b){return function(c){var d=a[c];return 0===d.left&&0===d.top?b:null}}function x(a,b,c,d){var e=m(b),f=m(c),g=n(f);return new a(e,f,g,d)}function y(a){for(var c=[],d=0,e=a.length;e>d;d++){var f=a[d].getBoundingClientRect(),g=-(40+f.left),h=40+(b.innerWidth-f.right),i=b.innerHeight/2-f.top;c.push({ltr:g+"px "+i+"px",rtl:h+"px "+i+"px"})}return c}function z(a){e("WinJS.UI.Animation:"+a)}function A(a,c){var e=c.duration*h._animationFactor,f=d._browserStyleEquivalents.transition.scriptName;a.style[f]=e+"ms "+D.cssName+" "+c.timing,a.style[D.scriptName]=c.to;var g;return new i(function(c){var h=function(b){b.target===a&&b.propertyName===D.cssName&&g()},i=!1;g=function(){i||(b.clearTimeout(j),a.removeEventListener(d._browserEventEquivalents.transitionEnd,h),a.style[f]="",i=!0),c()};var j=b.setTimeout(function(){j=b.setTimeout(g,e)},50);a.addEventListener(d._browserEventEquivalents.transitionEnd,h)},function(){g()})}function B(){return{defaultResizeGrowTransition:{duration:350,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)"},defaultResizeShrinkTransition:{duration:120,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)"}}}function C(a,b,c){var e=B()[c.to>c.from?"defaultResizeGrowTransition":"defaultResizeShrinkTransition"];c=d._merge(c,{duration:void 0===c.duration?e.duration:c.duration,timing:void 0===c.timing?e.timing:c.timing});var g=c.actualSize-c.from,h=c.actualSize-c.to;c.anchorTrailingEdge||(g=-g,h=-h);var i="width"===c.dimension?"translateX":"translateY",j={duration:c.duration,timing:c.timing};a.style[D.scriptName]=i+"("+g+"px)",b.style[D.scriptName]=i+"("+-g+"px)",f._getComputedStyle(a).opacity,f._getComputedStyle(b).opacity;var k=d._merge(j,{to:i+"("+h+"px)"}),l=d._merge(j,{to:i+"("+-h+"px)"});return[{element:a,transition:k},{element:b,transition:l}]}var D=d._browserStyleEquivalents.transform,E=[{top:"0px",left:"11px",rtlflip:!0}],F=c.Class.define(function(a,b,c){c=c||E,Array.isArray(a)&&a.length>0?(this.offsetArray=a,1===a.length&&(this.keyframe=j(a[0],c[0],b))):a&&a.hasOwnProperty("top")&&a.hasOwnProperty("left")?(this.offsetArray=[a],this.keyframe=j(a,c[0],b)):(this.offsetArray=c,this.keyframe=k(c[0],b))},{getOffset:function(a){return a>=this.offsetArray.length&&(a=this.offsetArray.length-1),this.offsetArray[a]}},{supportedForProcessing:!1}),G=c.Class.define(function(a,b,c){this.revealedArray=a,this.affectedArray=b,this.offsetArray=c},{execute:function(){z("expandAnimation,StartTM");var a=h.executeAnimation(this.revealedArray,{keyframe:"WinJS-opacity-in",property:"opacity",delay:this.affectedArray.length>0?200:0,duration:167,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",from:0,to:1}),b=q(this.affectedArray,this.offsetArray,{property:D.cssName,delay:0,duration:367,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",to:""});return i.join([a,b]).then(function(){z("expandAnimation,StopTM")})}},{supportedForProcessing:!1}),H=c.Class.define(function(a,b,c){this.hiddenArray=a,this.affectedArray=b,this.offsetArray=c},{execute:function(){z("collapseAnimation,StartTM");var a=h.executeAnimation(this.hiddenArray,{keyframe:"WinJS-opacity-out",property:"opacity",delay:0,duration:167,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",from:1,to:0}),b=q(this.affectedArray,this.offsetArray,{property:D.cssName,delay:this.hiddenArray.length>0?167:0,duration:367,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",to:""});return i.join([a,b]).then(function(){z("collapseAnimation,StopTM")})}},{supportedForProcessing:!1}),I=c.Class.define(function(a,b,c){this.elementArray=b,this.offsetArray=c},{execute:function(){return z("repositionAnimation,StartTM"),q(this.elementArray,this.offsetArray,{property:D.cssName,delay:o(0,33,1,250),duration:367,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",to:""}).then(function(){z("repositionAnimation,StopTM")})}},{supportedForProcessing:!1}),J=c.Class.define(function(a,b,c){this.addedArray=a,this.affectedArray=b,this.offsetArray=c},{execute:function(){z("addToListAnimation,StartTM");var a=this.affectedArray.length>0?240:0,b=h.executeAnimation(this.addedArray,[{keyframe:"WinJS-scale-up",property:D.cssName,delay:a,duration:120,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",from:"scale(0.85)",to:"none"},{keyframe:"WinJS-opacity-in",property:"opacity",delay:a,duration:120,timing:"linear",from:0,to:1}]),c=q(this.affectedArray,this.offsetArray,{property:D.cssName,delay:0,duration:400,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",to:""});return i.join([b,c]).then(function(){z("addToListAnimation,StopTM")})}},{supportedForProcessing:!1}),K=c.Class.define(function(a,b,c){this.deletedArray=a,this.remainingArray=b,this.offsetArray=c},{execute:function(){z("deleteFromListAnimation,StartTM");var a=h.executeAnimation(this.deletedArray,[{keyframe:"WinJS-scale-down",property:D.cssName,delay:0,duration:120,timing:"cubic-bezier(0.11, 0.5, 0.24, .96)",from:"none",to:"scale(0.85)"},{keyframe:"WinJS-opacity-out",property:"opacity",delay:0,duration:120,timing:"linear",from:1,to:0}]),b=q(this.remainingArray,this.offsetArray,{property:D.cssName,delay:this.deletedArray.length>0?60:0,duration:400,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",to:""});return i.join([a,b]).then(function(){z("deleteFromListAnimation,StopTM")})}},{supportedForProcessing:!1}),L=c.Class.define(function(a,b,c,d){this.addedArray=a,this.affectedArray=b,this.offsetArray=c;var e=m(d);this.deletedArray=e,this.deletedOffsetArray=n(e)},{execute:function(){z("_updateListAnimation,StartTM"),p(this.deletedArray,this.deletedOffsetArray);var a=0,b=h.executeAnimation(this.deletedArray,[{keyframe:w(this.deletedOffsetArray,"WinJS-scale-down"),property:D.cssName,delay:0,duration:120,timing:"cubic-bezier(0.11, 0.5, 0.24, .96)",from:v(this.deletedOffsetArray),to:v(this.deletedOffsetArray,"scale(0.85)")},{keyframe:"WinJS-opacity-out",property:"opacity",delay:0,duration:120,timing:"linear",from:1,to:0}]);this.deletedArray.length>0&&(a+=60);var c=q(this.affectedArray,this.offsetArray,{property:D.cssName,delay:a,duration:400,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",to:""});this.affectedArray.length>0?a+=240:a&&(a+=60);var d=h.executeAnimation(this.addedArray,[{keyframe:"WinJS-scale-up",property:D.cssName,delay:a,duration:120,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",from:"scale(0.85)",to:"none"},{keyframe:"WinJS-opacity-in",property:"opacity",delay:a,duration:120,timing:"linear",from:0,to:1}]);return i.join([b,c,d]).then(function(){z("_updateListAnimation,StopTM")})}},{supportedForProcessing:!1}),M=c.Class.define(function(a,b,c){this.addedArray=a,this.affectedArray=b,this.offsetArray=c},{execute:function(){z("addToSearchListAnimation,StartTM");var a=h.executeAnimation(this.addedArray,{keyframe:"WinJS-opacity-in",property:"opacity",delay:this.affectedArray.length>0?240:0,duration:117,timing:"linear",from:0,to:1}),b=q(this.affectedArray,this.offsetArray,{property:D.cssName,delay:0,duration:400,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",to:""});return i.join([a,b]).then(function(){z("addToSearchListAnimation,StopTM")})}},{supportedForProcessing:!1}),N=c.Class.define(function(a,b,c){this.deletedArray=a,this.remainingArray=b,this.offsetArray=c},{execute:function(){z("deleteFromSearchListAnimation,StartTM");var a=h.executeAnimation(this.deletedArray,{keyframe:"WinJS-opacity-out",property:"opacity",delay:0,duration:93,timing:"linear",from:1,to:0}),b=q(this.remainingArray,this.offsetArray,{property:D.cssName,delay:this.deletedArray.length>0?60:0,duration:400,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",to:""});return i.join([a,b]).then(function(){z("deleteFromSearchListAnimation,StopTM")})}},{supportedForProcessing:!1}),O=c.Class.define(function(a,b,c){this.elementArray=b,this.offsetArray=c},{execute:function(){return z("peekAnimation,StartTM"),q(this.elementArray,this.offsetArray,{property:D.cssName,delay:0,duration:2e3,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",to:""}).then(function(){z("peekAnimation,StopTM")})}},{supportedForProcessing:!1});c.Namespace._moduleDefine(a,"WinJS.UI.Animation",{createExpandAnimation:function(a,b){return x(G,a,b)},createCollapseAnimation:function(a,b){return x(H,a,b)},createRepositionAnimation:function(a){return x(I,null,a)},fadeIn:function(a){return z("fadeIn,StartTM"),h.executeTransition(a,{property:"opacity",delay:0,duration:250,timing:"linear",from:0,to:1}).then(function(){z("fadeIn,StopTM")})},fadeOut:function(a){return z("fadeOut,StartTM"),h.executeTransition(a,{property:"opacity",delay:0,duration:167,timing:"linear",to:0}).then(function(){z("fadeOut,StopTM")})},createAddToListAnimation:function(a,b){return x(J,a,b)},createDeleteFromListAnimation:function(a,b){return x(K,a,b)},_createUpdateListAnimation:function(a,b,c){return x(L,a,c,b)},createAddToSearchListAnimation:function(a,b){return x(M,a,b)},createDeleteFromSearchListAnimation:function(a,b){return x(N,a,b)},showEdgeUI:function(a,b,c){z("showEdgeUI,StartTM");var d=c&&"transition"===c.mechanism,e=new F(b,"WinJS-showEdgeUI",[{top:"-70px",left:"0px"}]);return h[d?"executeTransition":"executeAnimation"](a,{keyframe:e.keyframe,property:D.cssName,delay:0,duration:367,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",from:d?u(e):e.keyframe||u(e),to:"none"}).then(function(){z("showEdgeUI,StopTM")})},showPanel:function(a,b){z("showPanel,StartTM");var c=new F(b,"WinJS-showPanel",[{top:"0px",left:"364px",rtlflip:!0}]);return h.executeAnimation(a,{keyframe:c.keyframe,property:D.cssName,delay:0,duration:550,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",from:c.keyframe||u(c),to:"none"}).then(function(){z("showPanel,StopTM")})},hideEdgeUI:function(a,b,c){z("hideEdgeUI,StartTM");var d=c&&"transition"===c.mechanism,e=new F(b,"WinJS-hideEdgeUI",[{top:"-70px",left:"0px"}]);return h[d?"executeTransition":"executeAnimation"](a,{keyframe:e.keyframe,property:D.cssName,delay:0,duration:367,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",from:"none",to:d?u(e):e.keyframe||u(e)}).then(function(){z("hideEdgeUI,StopTM")})},hidePanel:function(a,b){z("hidePanel,StartTM");var c=new F(b,"WinJS-hidePanel",[{top:"0px",left:"364px",rtlflip:!0}]);return h.executeAnimation(a,{keyframe:c.keyframe,property:D.cssName,delay:0,duration:550,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",from:"none",to:c.keyframe||u(c)}).then(function(){z("hidePanel,StopTM")})},showPopup:function(a,b){z("showPopup,StartTM");var c=new F(b,"WinJS-showPopup",[{top:"50px",left:"0px"}]);return h.executeAnimation(a,[{keyframe:"WinJS-opacity-in",property:"opacity",delay:83,duration:83,timing:"linear",from:0,to:1},{keyframe:c.keyframe,property:D.cssName,delay:0,duration:367,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",from:c.keyframe||u(c),to:"none"}]).then(function(){z("showPopup,StopTM")})},hidePopup:function(a){return z("hidePopup,StartTM"),h.executeAnimation(a,{keyframe:"WinJS-opacity-out",property:"opacity",delay:0,duration:83,timing:"linear",from:1,to:0}).then(function(){z("hidePopup,StopTM")})},pointerDown:function(a){return z("pointerDown,StartTM"),h.executeTransition(a,{property:D.cssName,delay:0,duration:167,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",to:"scale(0.975, 0.975)"}).then(function(){z("pointerDown,StopTM")})},pointerUp:function(a){return z("pointerUp,StartTM"),h.executeTransition(a,{property:D.cssName,delay:0,duration:167,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",to:""}).then(function(){z("pointerUp,StopTM")})},dragSourceStart:function(a,b){z("dragSourceStart,StartTM");var c=h.executeTransition(a,[{property:D.cssName,delay:0,duration:240,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",to:"scale(1.05)"},{property:"opacity",delay:0,duration:240,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",to:.65}]),d=h.executeTransition(b,{property:D.cssName,delay:0,duration:240,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",to:"scale(0.95)"});return i.join([c,d]).then(function(){z("dragSourceStart,StopTM")})},dragSourceEnd:function(a,b,c){z("dragSourceEnd,StartTM");var d=new F(b,"WinJS-dragSourceEnd"),e=h.executeTransition(a,[{property:D.cssName,delay:0,duration:500,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",to:""},{property:"opacity",delay:0,duration:500,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",to:1}]),f=h.executeAnimation(a,{keyframe:d.keyframe,property:D.cssName,delay:0,duration:500,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",from:d.keyframe||u(d,"scale(1.05) "),to:"none"}),g=h.executeTransition(c,{property:D.cssName,delay:0,duration:500,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",to:""});return i.join([e,f,g]).then(function(){z("dragSourceEnd,StopTM")})},enterContent:function(a,b,c){z("enterContent,StartTM");var d,e=new F(b,"WinJS-enterContent",[{top:"28px",left:"0px",rtlflip:!1}]);if(c&&"transition"===c.mechanism)d=h.executeTransition(a,[{property:D.cssName,delay:0,duration:550,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",from:u(e),to:"none"},{property:"opacity",delay:0,duration:170,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",from:0,to:1}]);else{var f=h.executeAnimation(a,{keyframe:e.keyframe,property:D.cssName,delay:0,duration:550,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",from:e.keyframe||u(e),to:"none"}),g=h.executeTransition(a,{property:"opacity",delay:0,duration:170,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",from:0,to:1});d=i.join([f,g])}return d.then(function(){z("enterContent,StopTM")})},exitContent:function(a,b){z("exitContent,StartTM");var c=new F(b,"WinJS-exit",[{top:"0px",left:"0px"}]),d=h.executeAnimation(a,b&&{keyframe:c.keyframe,property:D.cssName,delay:0,duration:117,timing:"linear",from:"none",to:c.keyframe||u(c)}),e=h.executeTransition(a,{property:"opacity",delay:0,duration:117,timing:"linear",to:0});return i.join([d,e]).then(function(){z("exitContent,StopTM")})},dragBetweenEnter:function(a,b){z("dragBetweenEnter,StartTM");var c=new F(b,null,[{top:"-40px",left:"0px"},{top:"40px",left:"0px"}]);return h.executeTransition(a,{property:D.cssName,delay:0,duration:200,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",to:u(c,"scale(0.95) ")}).then(function(){z("dragBetweenEnter,StopTM")})},dragBetweenLeave:function(a){return z("dragBetweenLeave,StartTM"),h.executeTransition(a,{property:D.cssName,delay:0,duration:200,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",to:"scale(0.95)"}).then(function(){z("dragBetweenLeave,StopTM")})},swipeSelect:function(a,b){z("swipeSelect,StartTM");var c=h.executeTransition(a,{property:D.cssName,delay:0,duration:300,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",to:""}),d=h.executeAnimation(b,{keyframe:"WinJS-opacity-in",property:"opacity",delay:0,duration:300,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",from:0,to:1});return i.join([c,d]).then(function(){z("swipeSelect,StopTM")})},swipeDeselect:function(a,b){z("swipeDeselect,StartTM");var c=h.executeTransition(a,{property:D.cssName,delay:0,duration:300,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",to:""}),d=h.executeAnimation(b,{keyframe:"WinJS-opacity-out",property:"opacity",delay:0,duration:300,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",from:1,to:0});return i.join([c,d]).then(function(){z("swipeDeselect,StopTM")})},swipeReveal:function(a,b){z("swipeReveal,StartTM");var c=new F(b,null,[{top:"25px",left:"0px"}]);return h.executeTransition(a,{property:D.cssName,delay:0,duration:300,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",to:u(c)}).then(function(){z("swipeReveal,StopTM")})},enterPage:function(a,b){z("enterPage,StartTM");var c=new F(b,"WinJS-enterPage",[{top:"28px",left:"0px",rtlflip:!1}]),d=h.executeAnimation(a,{keyframe:c.keyframe,property:D.cssName,delay:o(0,83,1,333),duration:1e3,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",from:c.keyframe||u(c),to:"none"}),e=h.executeTransition(a,{property:"opacity",delay:o(0,83,1,333),duration:170,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",from:0,to:1});return i.join([d,e]).then(function(){z("enterPage,StopTM")})},exitPage:function(a,b){z("exitPage,StartTM");var c=new F(b,"WinJS-exit",[{top:"0px",left:"0px"}]),d=h.executeAnimation(a,b&&{keyframe:c.keyframe,property:D.cssName,delay:0,duration:117,timing:"linear",from:"none",to:c.keyframe||u(c)}),e=h.executeTransition(a,{property:"opacity",delay:0,duration:117,timing:"linear",to:0});return i.join([d,e]).then(function(){z("exitPage,StopTM")})},crossFade:function(a,b){z("crossFade,StartTM");var c=h.executeTransition(a,{property:"opacity",delay:0,duration:167,timing:"linear",to:1}),d=h.executeTransition(b,{property:"opacity",delay:0,duration:167,timing:"linear",to:0});return i.join([c,d]).then(function(){z("crossFade,StopTM")})},createPeekAnimation:function(a){return x(O,null,a)},updateBadge:function(a,b){z("updateBadge,StartTM");var c=new F(b,"WinJS-updateBadge",[{top:"24px",left:"0px"}]);return h.executeAnimation(a,[{keyframe:"WinJS-opacity-in",property:"opacity",delay:0,duration:367,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",from:0,to:1},{keyframe:c.keyframe,property:D.cssName,delay:0,duration:1333,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",from:c.keyframe||u(c),to:"none"}]).then(function(){z("updateBadge,StopTM")})},turnstileForwardIn:function(a){z("turnstileForwardIn,StartTM"),a=m(a);var b=y(a);return s(a,b,[{property:D.cssName,delay:o(0,50,1,1e3),duration:300,timing:"cubic-bezier(0.01,0.975,0.4775,0.9775)",from:"perspective(600px) rotateY(80deg)",to:"perspective(600px) rotateY(0deg)"},{property:"opacity",delay:o(0,50,1,1e3),duration:300,timing:"cubic-bezier(0, 2, 0, 2)",from:0,to:1}]).then(function(){z("turnstileForwardIn,StopTM")})},turnstileForwardOut:function(a){z("turnstileForwardOut,StartTM"),a=m(a);var b=y(a);return s(a,b,[{property:D.cssName,delay:o(0,50,1,1e3),duration:128,timing:"cubic-bezier(0.4925,0.01,0.7675,-0.01)",from:"perspective(600px) rotateY(0deg)",to:"perspective(600px) rotateY(-50deg)"},{property:"opacity",delay:o(0,50,1,1e3),duration:128,timing:"cubic-bezier(1,-0.42,0.995,-0.425)",from:1,to:0}]).then(function(){z("turnstileForwardOut,StopTM")})},turnstileBackwardIn:function(a){z("turnstileBackwardIn,StartTM"),a=m(a);var b=y(a);return s(a,b,[{property:D.cssName,delay:o(0,50,1,1e3),duration:300,timing:"cubic-bezier(0.01,0.975,0.4775,0.9775)",from:"perspective(600px) rotateY(-50deg)",to:"perspective(600px) rotateY(0deg)"},{property:"opacity",delay:o(0,50,1,1e3),duration:300,timing:"cubic-bezier(0, 2, 0, 2)",from:0,to:1}]).then(function(){z("turnstileBackwardIn,StopTM")})},turnstileBackwardOut:function(a){z("turnstileBackwardOut,StartTM"),a=m(a);var b=y(a);return s(a,b,[{property:D.cssName,delay:o(0,50,1,1e3),duration:128,timing:"cubic-bezier(0.4925,0.01,0.7675,-0.01)",from:"perspective(800px) rotateY(0deg)",to:"perspective(800px) rotateY(80deg)"},{property:"opacity",delay:o(0,50,1,1e3),duration:128,timing:"cubic-bezier(1,-0.42,0.995,-0.425)",from:1,to:0}]).then(function(){z("turnstileBackwardOut,StopTM")})},slideDown:function(a){return z("slideDown,StartTM"),s(a,{ltr:"",rtl:""},[{property:D.cssName,delay:0,duration:250,timing:"cubic-bezier(0.3825,0.0025,0.8775,-0.1075)",from:"translate(0px, 0px)",to:"translate(0px, 200px)"},{property:"opacity",delay:0,duration:250,timing:"cubic-bezier(1,-0.42,0.995,-0.425)",from:1,to:0}]).then(function(){z("slideDown,StopTM")})},slideUp:function(a){return z("slideUp,StartTM"),s(a,{ltr:"",rtl:""},[{property:D.cssName,delay:0,duration:350,timing:"cubic-bezier(0.17,0.79,0.215,1.0025)",from:"translate(0px, 200px)",to:"translate(0px, 0px)"},{property:"opacity",delay:o(0,34,1,1e3),duration:350,timing:"cubic-bezier(0, 2, 0, 2)",from:0,to:1}]).then(function(){z("slideUp,StopTM")})},slideRightIn:function(a,c,d,e){return z("slideRightIn,StartTM"),r("cubic-bezier(0.17,0.79,0.215,1.0025)",-b.innerWidth,0,!0,a,c,d,e).then(function(){z("slideRightIn,StopTM")})},slideRightOut:function(a,c,d,e){return z("slideRightOut,StartTM"),r("cubic-bezier(0.3825,0.0025,0.8775,-0.1075)",0,b.innerWidth,!1,a,c,d,e).then(function(){z("slideRightOut,StopTM")})},slideLeftIn:function(a,c,d,e){return z("slideLeftIn,StartTM"),r("cubic-bezier(0.17,0.79,0.215,1.0025)",b.innerWidth,0,!0,a,c,d,e).then(function(){z("slideLeftIn,StopTM")})},slideLeftOut:function(a,c,d,e){return z("slideLeftOut,StartTM"),r("cubic-bezier(0.3825,0.0025,0.8775,-0.1075)",0,-b.innerWidth,!1,a,c,d,e).then(function(){z("slideLeftOut,StopTM")})},continuumForwardIn:function(a,b,c){return z("continuumForwardIn,StartTM"),i.join([h.executeTransition(a,[{property:D.cssName,delay:0,duration:350,timing:"cubic-bezier(0.33, 0.18, 0.11, 1)",from:"scale(0.5, 0.5)",to:"scale(1.0, 1.0)"},{property:"opacity",delay:0,duration:350,timing:"cubic-bezier(0, 2, 0, 2)",from:0,to:1}]),h.executeTransition(b,[{property:D.cssName,delay:0,duration:350,timing:"cubic-bezier(0.24,1.15,0.11,1.1575)",from:"translate(0px, 225px)",to:"translate(0px, 0px)"},{property:"opacity",delay:0,duration:350,timing:"cubic-bezier(0, 2, 0, 2)",from:0,to:1}]),s(c,{ltr:"0px 50%",rtl:"100% 50%"},[{property:D.cssName,delay:0,duration:350,timing:"cubic-bezier(0,0.62,0.8225,0.9625)",from:"rotateX(80deg) scale(1.5, 1.5)",to:"rotateX(0deg) scale(1.0, 1.0)"},{property:"opacity",delay:0,duration:350,timing:"cubic-bezier(0, 2, 0, 2)",from:0,to:1}])]).then(function(){z("continuumForwardIn,StopTM")})},continuumForwardOut:function(a,b){return z("continuumForwardOut,StartTM"),i.join([h.executeTransition(a,[{property:D.cssName,delay:0,duration:120,timing:"cubic-bezier(0.3825,0.0025,0.8775,-0.1075)",from:"scale(1.0, 1.0)",to:"scale(1.1, 1.1)"},{property:"opacity",delay:0,duration:120,timing:"cubic-bezier(1,-0.42,0.995,-0.425)",from:1,to:0}]),s(b,{ltr:"0px 100%",rtl:"100% 100%"},[{property:D.cssName,delay:0,duration:152,timing:"cubic-bezier(0.3825,0.0025,0.8775,-0.1075)",from:"rotateX(0deg) scale(1.0, 1.0) translate(0px, 0px)",to:"rotateX(80deg) scale(1.5, 1.5) translate(0px, 150px)"},{property:"opacity",delay:0,duration:152,timing:"cubic-bezier(1,-0.42,0.995,-0.425)",from:1,to:0}])]).then(function(){z("continuumForwardOut,StopTM")})},continuumBackwardIn:function(a,b){return z("continuumBackwardIn,StartTM"),i.join([h.executeTransition(a,[{property:D.cssName,delay:0,duration:200,timing:"cubic-bezier(0.33, 0.18, 0.11, 1)",from:"scale(1.25, 1.25)",to:"scale(1.0, 1.0)"},{property:"opacity",delay:0,duration:200,timing:"cubic-bezier(0, 2, 0, 2)",from:0,to:1}]),s(b,{ltr:"0px 50%",rtl:"100% 50%"},[{property:D.cssName,delay:0,duration:250,timing:"cubic-bezier(0.2975, 0.7325, 0.4725, 0.99)",from:"rotateX(80deg) translate(0px, -100px)",to:"rotateX(0deg) translate(0px, 0px)"},{property:"opacity",delay:0,duration:250,timing:"cubic-bezier(0, 2, 0, 2)",from:0,to:1}])]).then(function(){z("continuumBackwardIn,StopTM")})},continuumBackwardOut:function(a){return z("continuumBackwardOut,StartTM"),h.executeTransition(a,[{property:D.cssName,delay:0,duration:167,timing:"cubic-bezier(0.3825,0.0025,0.8775,-0.1075)",from:"scale(1.0, 1.0)",to:"scale(0.5, 0.5)"},{property:"opacity",delay:0,duration:167,timing:"cubic-bezier(1,-0.42,0.995,-0.425)",from:1,to:0}]).then(function(){z("continuumBackwardOut,StopTM")})},drillInIncoming:function(a){return z("drillInIncoming,StartTM"),h.executeTransition(a,[{property:D.cssName,delay:0,duration:500,timing:"cubic-bezier(0.1,0.9,0.2,1)",from:"scale(0.84)",to:"scale(1.0)"},{property:"opacity",delay:0,duration:500,timing:"cubic-bezier(0.1,0.9,0.2,1)",from:0,to:1}]).then(function(){z("drillInIncoming,StopTM")})},drillInOutgoing:function(a){return z("drillInOutgoing,StartTM"),h.executeTransition(a,[{property:D.cssName,delay:0,duration:233,timing:"cubic-bezier(0.1,0.9,0.2,1)",from:"scale(1.0)",to:"scale(1.29)"},{property:"opacity",delay:0,duration:233,timing:"cubic-bezier(0.1,0.9,0.2,1)",from:1,to:0}]).then(function(){z("drillInOutgoing,StopTM")})},drillOutIncoming:function(a){return z("drillOutIncoming,StartTM"),h.executeTransition(a,[{property:D.cssName,delay:0,duration:500,timing:"cubic-bezier(0.1,0.9,0.2,1)",from:"scale(1.29)",to:"scale(1.0)"},{property:"opacity",delay:0,duration:500,timing:"cubic-bezier(0.1,0.9,0.2,1)",from:0,to:1}]).then(function(){z("drillOutIncoming,StopTM")})},drillOutOutgoing:function(a){return z("drillOutOutgoing,StartTM"),h.executeTransition(a,[{property:D.cssName,delay:0,duration:233,timing:"cubic-bezier(0.1,0.9,0.2,1)",from:"scale(1.0)",to:"scale(0.84)"},{property:"opacity",delay:0,duration:233,timing:"cubic-bezier(0.1,0.9,0.2,1)",from:1,to:0}]).then(function(){z("drillOutOutgoing,StopTM")})},createPageNavigationAnimations:function(b,c,d){function e(){return i.wrap()}return{exit:e,entrance:a.enterPage}},_resizeTransition:function(a,b,c){if(c.to!==c.from&&h.isAnimationEnabled()){for(var d=C(a,b,c),e=[],f=0,g=d.length;g>f;f++)e.push(A(d[f].element,d[f].transition));return i.join(e)}return i.as()},_commandingSurfaceOpenAnimation:function(a){if(!h.isAnimationEnabled())return i.as();var b=a.actionAreaClipper,c=a.actionArea,e=a.overflowAreaClipper,g=a.overflowArea,j=a.oldHeight,k=a.newHeight,l=a.overflowAreaHeight,m=a.menuPositionedAbove,n=k-j,o=[],p=B().defaultResizeGrowTransition;if(m){c.style[D.scriptName]="translateY("+n+"px)",f._getComputedStyle(c).opacity;var q=d._merge(p,{to:"translateY(0px)"});o.push({element:c,transition:q})}else o=C(b,c,{from:j,to:k,actualSize:k,dimension:"height",anchorTrailingEdge:!1});e.style[D.scriptName]="translateY("+(m?n:-n)+"px)",g.style[D.scriptName]="translateY("+(m?l:-l)+"px)",f._getComputedStyle(e).opacity,f._getComputedStyle(g).opacity;for(var r=[],s=0,t=o.length;t>s;s++)r.push(A(o[s].element,o[s].transition));var u=d._merge(p,{to:"translateY(0px)"});return r.push(A(e,u)),r.push(A(g,u)),i.join(r)},_commandingSurfaceCloseAnimation:function(a){if(!h.isAnimationEnabled())return i.as();var b=a.actionAreaClipper,c=a.actionArea,e=a.overflowAreaClipper,g=a.overflowArea,j=a.oldHeight,k=a.newHeight,l=a.overflowAreaHeight,m=a.menuPositionedAbove,n=k-j,o=[],p=B().defaultResizeShrinkTransition;if(m){c.style[D.scriptName]="translateY(0px)",f._getComputedStyle(c).opacity;var q=d._merge(p,{to:"translateY("+-n+"px)"});o.push({element:c,transition:q})}else o=C(b,c,{from:j,to:k,actualSize:j,dimension:"height",anchorTrailingEdge:!1});e.style[D.scriptName]="translateY(0px)",g.style[D.scriptName]="translateY(0px)",f._getComputedStyle(e).opacity,f._getComputedStyle(g).opacity;for(var r=[],s=0,t=o.length;t>s;s++)r.push(A(o[s].element,o[s].transition));var u=d._merge(p,{to:"translateY("+(m?-n:n)+"px)"}),v=d._merge(p,{to:"translateY("+(m?l:-l)+"px)"});return r.push(A(e,u)),r.push(A(g,v)),i.join(r)}})}),define("WinJS/Binding/_BindingParser",["exports","../Core/_Base","../Core/_BaseUtils","../Core/_ErrorFromName","../Core/_Log","../Core/_Resources","../Core/_WriteProfilerMark","../ControlProcessor/_OptionsLexer","../ControlProcessor/_OptionsParser"],function(a,b,c,d,e,f,g,h,i){"use strict";function j(a,b){g("WinJS.Binding:bindingParser,StartTM");var c=m.lexer(a),d=new o.BindingInterpreter(c,a,b||{}),e=d.run();return g("WinJS.Binding:bindingParser,StopTM"),e}function k(a){g("WinJS.Binding:bindingParser,StartTM");var b=m.lexer(a),c=new o.BindingParser(b,a),d=c.run();return g("WinJS.Binding:bindingParser,StopTM"),d}var l={get invalidBinding(){return"Invalid binding:'{0}'. Expected to be '<destProp>:<sourceProp>;'. {1}";
},get bindingInitializerNotFound(){return"Initializer not found:'{0}'"}},m=b.Namespace.defineWithParent(null,null,{lexer:b.Namespace._lazy(function(){return h._optionsLexer}),tokenType:b.Namespace._lazy(function(){return h._optionsLexer.tokenType})}),n=c.requireSupportedForProcessing,o=b.Namespace.defineWithParent(null,null,{BindingInterpreter:b.Namespace._lazy(function(){return b.Class.derive(i.optionsParser._BaseInterpreter,function(a,b,c){this._initialize(a,b,c)},{_error:function(a){throw new d("WinJS.Binding.ParseError",f._formatString(l.invalidBinding,this._originalSource,a))},_evaluateInitializerName:function(){if(this._current.type===m.tokenType.identifier){var a=this._evaluateIdentifierExpression();return e.log&&!a&&e.log(f._formatString(l.bindingInitializerNotFound,this._originalSource),"winjs binding","error"),n(a)}},_evaluateValue:function(){switch(this._current.type){case m.tokenType.stringLiteral:case m.tokenType.numberLiteral:var a=this._current.value;return this._read(),a;default:return void this._unexpectedToken(m.tokenType.stringLiteral,m.tokenType.numberLiteral)}},_readBindDeclarations:function(){for(var a=[];;)switch(this._current.type){case m.tokenType.identifier:case m.tokenType.thisKeyword:a.push(this._readBindDeclaration());break;case m.tokenType.semicolon:this._read();break;case m.tokenType.eof:return a;default:return void this._unexpectedToken(m.tokenType.identifier,m.tokenType.semicolon,m.tokenType.eof)}},_readBindDeclaration:function(){var a=this._readDestinationPropertyName();this._read(m.tokenType.colon);var b=this._readSourcePropertyName(),c=this._evaluateInitializerName();return{destination:a,source:b,initializer:c}},_readDestinationPropertyName:function(){return this._readIdentifierExpression()},_readSourcePropertyName:function(){return this._readIdentifierExpression()},run:function(){return this._readBindDeclarations()}},{supportedForProcessing:!1})}),BindingParser:b.Namespace._lazy(function(){return b.Class.derive(o.BindingInterpreter,function(a,b){this._initialize(a,b,{})},{_readInitializerName:function(){return this._current.type===m.tokenType.identifier?this._readIdentifierExpression():void 0},_readBindDeclaration:function(){var a=this._readDestinationPropertyName();this._read(m.tokenType.colon);var b=this._readSourcePropertyName(),c=this._readInitializerName();return{destination:a,source:b,initializer:c}}},{supportedForProcessing:!1})})});b.Namespace._moduleDefine(a,"WinJS.Binding",{_bindingParser:j,_bindingParser2:k})}),define("WinJS/Binding/_DomWeakRefTable",["exports","../Core/_Global","../Core/_WinRT","../Core/_Base","../Core/_BaseUtils","../Scheduler"],function(a,b,c,d,e,f){"use strict";function g(){0===n&&(m=0);var a,b,c=Object.keys(p),d=Date.now()-o;for(a=0,b=c.length;b>a;a++){var e=c[a];p[e].time<d&&delete p[e]}i()}function h(){b.Debug&&b.Debug.debuggerEnabled&&q||m||(0===n?(f.schedule(g,f.Priority.idle,null,"WinJS.Utilities._DOMWeakRefTable.cleanup"),m=1):m=b.setInterval(g,n))}function i(){b.Debug&&b.Debug.debuggerEnabled&&q||(0===n?m||0!==Object.keys(p).length&&(f.schedule(g,f.Priority.idle,null,"WinJS.Utilities._DOMWeakRefTable.cleanup"),m=1):m&&0===Object.keys(p).length&&(b.clearInterval(m),m=0))}function j(a,b){return p[b]={element:a,time:Date.now()},h(),b}function k(a){if(r){var c=p[a];return c?c.element:b.document.getElementById(a)}var d=b.document.getElementById(a);if(d)delete p[a],i();else{var c=p[a];c&&(c.time=Date.now(),d=c.element)}return d}if(c.Windows.Foundation.Uri&&c.msSetWeakWinRTProperty&&c.msGetWeakWinRTProperty){var l=new c.Windows.Foundation.Uri("about://blank");return void d.Namespace._moduleDefine(a,"WinJS.Utilities",{_createWeakRef:function(a,b){return c.msSetWeakWinRTProperty(l,b,a),b},_getWeakRefElement:function(a){return c.msGetWeakWinRTProperty(l,a)}})}var m,n=500,o=1e3,p={},q=!0,r=!1;d.Namespace._moduleDefine(a,"WinJS.Utilities",{_DOMWeakRefTable_noTimeoutUnderDebugger:{get:function(){return q},set:function(a){q=a}},_DOMWeakRefTable_sweepPeriod:{get:function(){return n},set:function(a){n=a}},_DOMWeakRefTable_timeout:{get:function(){return o},set:function(a){o=a}},_DOMWeakRefTable_tableSize:{get:function(){return Object.keys(p).length}},_DOMWeakRefTable_fastLoadPath:{get:function(){return r},set:function(a){r=a}},_createWeakRef:j,_getWeakRefElement:k})}),define("WinJS/Binding/_Data",["exports","../Core/_WinRT","../Core/_Base","../Core/_BaseUtils","../Core/_ErrorFromName","../Core/_Log","../Core/_Resources","../Promise","../Scheduler","./_DomWeakRefTable"],function(a,b,c,d,e,f,g,h,i,j){"use strict";var k={get exceptionFromBindingInitializer(){return"Exception thrown from binding initializer: {0}"},get propertyIsUndefined(){return"{0} is undefined"},get unsupportedDataTypeForBinding(){return"Unsupported data type"}},l={_listeners:null,_pendingNotifications:null,_notifyId:0,_getObservable:function(){return this},_cancel:function(a){var b=this._pendingNotifications,c=!1;if(b)for(var d=Object.keys(b),e=d.length-1;e>=0;e--){var f=b[d[e]];f.target===a&&(f.promise&&(f.promise.cancel(),f.promise=null),delete b[d[e]],c=!0)}return c},notify:function(a,b,c){var d=this._listeners&&this._listeners[a];if(d){var e=this;e._cancel(a),e._pendingNotifications=e._pendingNotifications||{};var j=e._notifyId++,l=e._pendingNotifications[j]={target:a},m=function(){delete e._pendingNotifications[j]};return l.promise=i.schedulePromiseNormal(null,"WinJS.Binding.observableMixin.notify").then(function(){for(var a=0,e=d.length;e>a&&l.promise;a++)try{d[a](b,c)}catch(h){f.log&&f.log(g._formatString(k.exceptionFromBindingInitializer,h.toString()),"winjs binding","error")}return m(),b}),l.promise}return h.as()},bind:function(a,b){this._listeners=this._listeners||{};for(var c=this._listeners[a]=this._listeners[a]||[],d=!1,e=0,f=c.length;f>e;e++)if(c[e]===b){d=!0;break}return d||(c.push(b),b(w(this[a]))),this},unbind:function(a,b){if(this._listeners=this._listeners||{},a&&b){var c=this._listeners[a];if(c){for(var d,e=0,f=c.length;f>e;e++)c[e]!==b&&(d=d||[]).push(c[e]);this._listeners[a]=d}}else if(a)this._cancel(a),delete this._listeners[a];else{var g=this;if(g._pendingNotifications){var h=g._pendingNotifications;g._pendingNotifications={},Object.keys(h).forEach(function(a){var b=h[a];b.promise&&b.promise.cancel()})}this._listeners={}}return this}},m={_backingData:null,_initObservable:function(a){this._backingData=a||{}},getProperty:function(a){var b=this._backingData[a];return f.log&&void 0===b&&f.log(g._formatString(k.propertyIsUndefined,a),"winjs binding","warn"),v(b)},setProperty:function(a,b){return this.updateProperty(a,b),this},addProperty:function(a,b){return this[a]||Object.defineProperty(this,a,{get:function(){return this.getProperty(a)},set:function(b){this.setProperty(a,b)},enumerable:!0,configurable:!0}),this.setProperty(a,b)},updateProperty:function(a,b){var c=this._backingData[a],d=w(b);return c!==d&&(this._backingData[a]=d,this._backingData[a]===d)?this.notify(a,d,c):h.as()},removeProperty:function(a){var b,c=this._backingData[a];try{delete this._backingData[a]}catch(d){}try{delete this[a]}catch(d){}return this.notify(a,b,c),this}};Object.keys(l).forEach(function(a){m[a]=l[a]});var n=function(a,b){return r(a,b)},o=0,p=function(){return"bindHandler"+o++},q=function(a,c){if(!b.msGetWeakWinRTProperty)return a;var d=p();return j._getWeakRefElement(c)[d]=a,function(a,b){var e=j._getWeakRefElement(c);e&&e[d](a,b)}},r=function(a,b,c){function d(){h&&h.forEach(function(a){a.source.unbind(a.prop,a.listener)}),h=null}function e(a){g[a]&&(g[a].complexBind.cancel(),delete g[a])}if(a=v(a),!a)return{cancel:function(){},empty:!0};var f;c||(c=p(),f={},j._createWeakRef(f,c));var g={},h=null;return Object.keys(b).forEach(function(d){var i=b[d];if(i instanceof Function)i=q(i,c),i.bindState=f,h=h||[],h.push({source:a,prop:d,listener:i}),a.bind(d,i);else{var j=function(a){e(d);var b=r(v(a),i,c);if(b.empty){var f=function(a){Object.keys(a).forEach(function(b){var c=a[b];c instanceof Function?c(void 0,void 0):f(c)})};f(i)}g[d]={source:a,complexBind:b}};j=q(j,c),j.bindState=f,h=h||[],h.push({source:a,prop:d,listener:j}),a.bind(d,j)}}),{cancel:function(){d(),Object.keys(g).forEach(function(a){e(a)})}}},s=c.Class.mix(function(a){this._initObservable(a),Object.defineProperties(this,t(a))},m),t=function(a){function b(a){c[a]={get:function(){return this.getProperty(a)},set:function(b){this.setProperty(a,b)},enumerable:!0,configurable:!0}}for(var c={};a&&a!==Object.prototype;)Object.keys(a).forEach(b),a=Object.getPrototypeOf(a);return c},u=function(a){if(!(!a||"object"!=typeof a||a instanceof Date||Array.isArray(a)))return c.Class.mix(function(b){this._initObservable(b||Object.create(a))},m,t(a));if(d.validation)throw new e("WinJS.Binding.UnsupportedDataType",g._formatString(k.unsupportedDataTypeForBinding))},v=function(a){if(!a)return a;var b=typeof a;if("object"!==b||a instanceof Date||Array.isArray(a))return a;if(a._getObservable)return a._getObservable();var c=new s(a);return c.backingData=a,Object.defineProperty(a,"_getObservable",{value:function(){return c},enumerable:!1,writable:!1}),c},w=function(a){return a&&a.backingData?a.backingData:a};c.Namespace._moduleDefine(a,"WinJS.Binding",{mixin:{value:m,enumerable:!0,writable:!0,configurable:!0},dynamicObservableMixin:{value:m,enumerable:!0,writable:!0,configurable:!0},observableMixin:{value:l,enumerable:!0,writable:!0,configurable:!0},expandProperties:t,define:u,as:v,unwrap:w,bind:n})}),define("WinJS/Binding/_Declarative",["exports","../Core/_Global","../Core/_WinRT","../Core/_Base","../Core/_BaseUtils","../Core/_ErrorFromName","../Core/_Log","../Core/_Resources","../Core/_WriteProfilerMark","../Promise","../Utilities/_ElementUtilities","./_BindingParser","./_Data","./_DomWeakRefTable"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){"use strict";function o(a,b){var c=a._autoDispose;c&&c.push(b)}function p(a){a._autoDispose=(a._autoDispose||[]).filter(function(a){return a()})}function q(a,b){return a?a.winBindingToken===b?a:void(g.log&&g.log(h._formatString(N.duplicateBindingDetected,a.id),"winjs binding","error")):a}function r(a){if(a.winBindingToken)return a.winBindingToken;var b="_win_bind"+L++;return Object.defineProperty(a,"winBindingToken",{configurable:!1,writable:!1,enumerable:!1,value:b}),b}function s(a,b,c,d,e,f,g){var h=a.initializer;if(h&&(h=h.winControl||h["data-win-control"]||h),h instanceof Function){var i=h(d,a.source,e,a.destination);return g&&(i&&i.cancel?g.bindings.push(function(){i.cancel()}):g.nocache=!0),i}h&&h.render&&(f.count++,g&&(g.nocache=!0),P(h.render).call(h,A(d,a.source),e).then(function(){f.checkComplete()}))}function t(a,b,c,d,e,f){var i,j=!0,k=!1;p(d);var l=function(){if(!k){var c=q(n._getWeakRefElement(a),b);return c||(g.log&&g.log(h._formatString(N.elementNotFound,a),"winjs binding","info"),i&&i.cancel()),c}},m=function(a){var b=l();b&&B(b,e.destination,a),j&&(c.checkComplete(),j=!1)};if(o(d,l),i=H(d,e.source,m)){var r=i.cancel;i.cancel=function(){return k=!0,r.call(i)},f&&f.bindings.push(function(){i.cancel()})}return i}function u(a,c,d,e,f,g,h){var i;return e!==b&&(e=m.as(e)),e._getObservable&&(i=e._getObservable()),i?(g.count++,t(c,d,g,i,a,h)):void B(f,a.destination,A(e,a.source))}function v(a,b){for(var c=a.length-1;c>=0;c--){var d=a[c],i=d.destination;if(1===i.length&&"id"===i[0]){if(e.validation)throw new f("WinJS.Binding.IdBindingNotSupported",h._formatString(N.idBindingNotSupported,b));g.log&&g.log(h._formatString(N.idBindingNotSupported,b),"winjs binding","error"),a.splice(c,1)}}return a}function w(a,c){if(c){var d,e=c.expressions[a];return e||(d=v(l._bindingParser(a,b),a),c.expressions[a]=d),d||(d=e),d}return v(l._bindingParser(a,b),a)}function x(a,c,d,e,f,g){i("WinJS.Binding:processAll,StartTM");var h,j={count:0,checkComplete:function(){this.count--,0===this.count&&(i("WinJS.Binding:processAll,StopTM"),g())}},l=a||b.document.body,m="[data-win-bind],[data-win-control]",o=l.querySelectorAll(m);d||!l.getAttribute("data-win-bind")&&!l.winControl||(h=l),j.count++;var p=c||b;n._DOMWeakRefTable_fastLoadPath=!0;try{var q=k.data(l);q.winBindings=q.winBindings||[];for(var t=h?-1:0,v=o.length;v>t;t++){var x=0>t?h:o[t];if(x.winControl&&x.winControl.constructor&&x.winControl.constructor.isDeclarativeControlContainer){t+=x.querySelectorAll(m).length;var z=x.winControl.constructor.isDeclarativeControlContainer;"function"==typeof z&&(z=P(z))(x.winControl,function(a){return y(a,c,!1,e,f)})}if(x.hasAttribute("data-win-bind")){var A=x.getAttribute("data-win-bind"),B=w(A,e);if(!B.implemented){for(var C=0,D=B.length;D>C;C++){var E=B[C];E.initializer=E.initializer||f,E.initializer?E.implementation=s:E.implementation=u}B.implemented=!0}j.count++;var F=r(x),G=M?F:x.id;G||(x.id=G=F),n._createWeakRef(x,G);var H=k.data(x);H.winBindings=null;var I;e&&e.elements&&(I=e.elements[G],I||(e.elements[G]=I={bindings:[]}));for(var J=0,K=B.length;K>J;J++){var L=B[J],N=L.implementation(L,G,F,p,x,j,I);N&&(H.winBindings=H.winBindings||[],H.winBindings.push(N),q.winBindings.push(N))}j.count--}}}finally{n._DOMWeakRefTable_fastLoadPath=!1}j.checkComplete()}function y(a,b,c,d,e){return new j(function(f,g,h){x(a,b,c,d,e,f,g,h)}).then(null,function(a){return g.log&&g.log(h._formatString(N.errorInitializingBindings,a&&a.message),"winjs binding","error"),j.wrapError(a)})}function z(a){var c=function(c,d,e,f,i){var j=r(e),k=M?j:e.id;k||(e.id=k=j),n._createWeakRef(e,k);var l;if(c!==b&&(c=m.as(c)),c._getObservable&&(l=c._getObservable()),l){var o=H(m.as(c),d,function(b){var c=q(n._getWeakRefElement(k),j);c?B(c,f,a(P(b))):o&&(g.log&&g.log(h._formatString(N.elementNotFound,k),"winjs binding","info"),o.cancel())});return o}var p=A(c,d);p!==i&&B(e,f,a(p))};return O(c)}function A(a,c){if(a!==b&&(a=P(a)),c)for(var d=0,e=c.length;e>d&&null!==a&&void 0!==a;d++)a=P(a[c[d]]);return a}function B(a,c,d){P(d),a=P(a);for(var e=0,f=c.length-1;f>e;e++){if(a=P(a[c[e]]),!a)return void(g.log&&g.log(h._formatString(N.propertyDoesNotExist,c[e],c.join(".")),"winjs binding","error"));if(a instanceof b.Node)return void(g.log&&g.log(h._formatString(N.nestedDOMElementBindingNotSupported,c[e],c.join(".")),"winjs binding","error"))}if(0===c.length)return void(g.log&&g.log(N.cannotBindToThis,"winjs binding","error"));var i=c[c.length-1];g.log&&void 0===a[i]&&g.log(h._formatString(N.creatingNewProperty,i,c.join(".")),"winjs binding","warn"),a[i]=d}function C(a,b,c){return a=P(a),b&&1===b.length&&b[0]?void a.setAttribute(b[0],c):void(g.log&&g.log(N.attributeBindingSingleProperty,"winjs binding","error"))}function D(a,c,d,e,f){var i=r(d),j=M?i:d.id;j||(d.id=j=i),n._createWeakRef(d,j);var k;if(a!==b&&(a=m.as(a)),a._getObservable&&(k=a._getObservable()),k){var l=0,o=H(k,c,function(a){if(1!==++l||a!==f){var b=q(n._getWeakRefElement(j),i);b?C(b,e,P(a)):o&&(g.log&&g.log(h._formatString(N.elementNotFound,j),"winjs binding","info"),o.cancel())}});return o}var p=A(a,c);p!==f&&C(d,e,p)}function E(a,b,c,d){return C(c,d,A(a,b))}function F(a,b,c){c=P(c);var d=A(a,b);Array.isArray(d)?d.forEach(function(a){k.addClass(c,a)}):d&&k.addClass(c,d)}function G(a,b,c,d,e){return Q(a,b,c,d,e)}function H(a,b,c){if(b.length>1){for(var d={},e=d,f=0,g=b.length-1;g>f;f++)e=e[b[f]]={};return e[b[b.length-1]]=c,m.bind(a,d,!0)}return 1===b.length?(a.bind(b[0],c,!0),{cancel:function(){a.unbind(b[0],c),this.cancel=I}}):void c(a)}function I(){}function J(a,b,c,d){return B(c,d,A(a,b)),{cancel:I}}function K(a){return O(a)}var L=1e3*Math.random()>>0,M=c.msSetWeakWinRTProperty&&c.msGetWeakWinRTProperty,N={get attributeBindingSingleProperty(){return'Attribute binding requires a single destination attribute name, often in the form "this[\'aria-label\']" or "width".'},get cannotBindToThis(){return"Can't bind to 'this'."},get creatingNewProperty(){return"Creating new property {0}. Full path:{1}"},get duplicateBindingDetected(){return"Binding against element with id {0} failed because a duplicate id was detected."},get elementNotFound(){return"Element not found:{0}"},get errorInitializingBindings(){return"Error initializing bindings: {0}"},get propertyDoesNotExist(){return"{0} doesn't exist. Full path:{1}"},get idBindingNotSupported(){return"Declarative binding to ID field is not supported. Initializer: {0}"},get nestedDOMElementBindingNotSupported(){return"Binding through a property {0} of type HTMLElement is not supported, Full path:{1}."}},O=e.markSupportedForProcessing,P=e.requireSupportedForProcessing,Q=z(function(a){return a});d.Namespace._moduleDefine(a,"WinJS.Binding",{processAll:y,oneTime:K(J),defaultBind:K(G),converter:z,initializer:K,getValue:A,setAttribute:K(D),setAttributeOneTime:K(E),addClassOneTime:K(F)})}),define("WinJS/Binding",["./Binding/_BindingParser","./Binding/_Data","./Binding/_Declarative","./Binding/_DomWeakRefTable"],function(){}),define("WinJS/BindingTemplate/_DataTemplateCompiler",["exports","../Core/_Global","../Core/_Base","../Core/_BaseUtils","../Core/_ErrorFromName","../Core/_Log","../Core/_Resources","../Core/_WriteProfilerMark","../Binding/_BindingParser","../Binding/_Declarative","../ControlProcessor","../ControlProcessor/_OptionsParser","../Fragments","../Promise","../_Signal","../Utilities/_Dispose","../Utilities/_SafeHtml","../Utilities/_ElementUtilities"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){"use strict";if(b.document){var s={get attributeBindingSingleProperty(){return'Attribute binding requires a single destination attribute name, often in the form "this[\'aria-label\']" or "width".'},get cannotBindToThis(){return"Can't bind to 'this'."},get idBindingNotSupported(){return"Declarative binding to ID field is not supported. Initializer: {0}"}};c.Namespace._moduleDefine(a,"WinJS.Binding",{_TemplateCompiler:c.Namespace._lazy(function(){function a(a,b,c){var d=r.data(a).bindTokens;d&&d.forEach(function(a){a&&a.cancel&&a.cancel()}),b&&b.cancel(),c&&c.cancel()}function t(a,b){return function(c){return j.processAll(c,a,!1,null,b)}}function u(a){return a=Z(a),a instanceof b.Node?null:a}function v(a,b){var c=-1!==a.indexOf("\n"),d=arguments,f=a.replace(na,function(f,g,h,i,j,k,l){if(j||k)throw new e("Format:MalformedInputString","Did you forget to escape a: "+(j||k)+" at: "+l);if(g)return"{";if(h)return"}";var m,n=+i;if(m=n===+n?d[n+1]:b[i],void 0===m)throw new e("Format:MissingPart","Missing part '"+i+"'");if(c){for(var o=l;o>0&&" "===a[--o];);o>=0&&"\n"===a[o]&&(m=w(l-o-1,m))}return m});return f}function w(a,b){for(var c="",d=0;a>d;d++)c+=" ";return b.split("\n").map(function(a,b){return b?c+a:a}).join("\n")}function x(a){return a.trim()}function y(a){return a.join(";\n")}function z(a){return a.join(", ")||"empty"}function A(a){return a.map(function(a){return a.match(ja)?"."+a:+a===a?v("[{0}]",a):v("[{0}]",C(a))}).join("")}function B(a,b,c,d){var b=b.map(function(a){return a.match(ja)?"."+a:(+a===a&&(a=+a),G(C(a)))}).map(function(a){return v("{filter}({temp} = {temp}{part})",{filter:d,temp:c,part:a})});return b.unshift(F(E(c,a))),b.push(c),F(b.join(" && "))}function C(a){return JSON.stringify(a)}function D(a){return a?"new Array("+ +a+")":"[]"}function E(a,b){return""+a+" = "+b}function F(a){return"("+a+")"}function G(a){return"["+a+"]"}function H(a){return a.match(ja)?a:+a===a?+a:C(a)}function I(a){return a=""+a,a.replace(la,function(a){return ma[a]||" "})}function J(a,b,c){return c?new String(""+a+b+"_"+c):new String(""+a+b)}function K(a){return a.replace(/\\n/g,"\\n\\\n")}function L(a){return Object.keys(a)}function M(a){return Object.keys(a).map(function(b){return a[b]})}function N(a,b){return O([a,b])}function O(a){for(var b={},c=0,d=a.length;d>c;c++)for(var e=a[c],f=Object.keys(e),g=0,h=f.length;h>g;g++){var i=f[g];b[i]=e[i]}return b}function P(a){return a.reduce(function(a,b){return a?Z(a[b]):null},b)}function Q(a,b,c,d){var e=a.children;if(e){var f=Object.keys(e);b&&c&&c(a,b,f.length);for(var g=0,h=f.length;h>g;g++){var i=f[g],j=e[i];Q(j,i,c,d)}b&&d&&d(a,b,Object.keys(e).length)}else b&&c&&c(a,b,0),b&&d&&d(a,b,0)}function R(a){return a.replace(/^\s*$/gm,"").replace(/^(.*[^\s])( *)$/gm,function(a,b){return b})}var S=n._cancelBlocker,T=j.defaultBind,U=j.oneTime,V=j.setAttribute,W=j.setAttributeOneTime,X=j.addClassOneTime,Y=n.as,Z=d.requireSupportedForProcessing,$=q.insertAdjacentHTMLUnsafe,_=r.data,aa=p.markDisposable,ba=k.processAll,ca=j.processAll,da=l._optionsParser,ea=l._CallExpression,fa=l._IdentifierExpression,ga=i._bindingParser2,ha=k.scopedSelect,ia=h,ja=/^[A-Za-z]\w*$/,ka=/[^A-Za-z\w$]/g,la=/[&<>'"]/g,ma={"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},na=/({{)|(}})|{(\w+)}|({)|(})/g,oa=/^\s*;\s*$/,pa=/[A-Z]/g,qa=c.Class.define(function(a,b,c,d,e){var f=this;this.compiler=a,this.kind=c,this.base=new String(b),this.tree={children:{},parent:this.base,reference:function(){return f.base}},this.accessExpression=d,this.filter=e||""},{createPathExpression:function(a,b){if(a.length){var c=this,d=a.reduce(function(a,b){return a.children=a.children||{},a.children[b]=a.children[b]||{parent:a},a.children[b]},this.tree);return d.name=d.name||c.compiler.defineInstance(c.kind,b||"",function(){return c.accessExpression(d.parent.name?d.parent.name:d.parent.reference(),a.slice(-1)[0],d.parent.parent===c.base,c.filter,!0)}),d.name}return this.base},lower:function(){var a=this,b=[],c=function(b,c,d){return a.accessExpression(b.parent.name?b.parent.name:b.parent.reference(),c,b.parent.parent===a.base,a.filter,d)};Q(this.tree,"",function(d,e,f){b.push(e),f>1?(d.name=d.name||a.compiler.defineInstance(a.kind,b.join("_"),c.bind(null,d,e,!0)),d.reference=function(){return d.name}):1===f&&(d.reference=c.bind(null,d,e))},function(){b.pop()})},deadNodeElimination:function(){Q(this.tree,"",null,function(a,b,c){a.name&&!a.name.dead||0===c&&a.parent&&a.parent.children&&delete a.parent.children[b]})},definitions:function(){var a=[];return Q(this.tree,"",function(b){b.name&&a.push(b)}),a.map(function(a){return a.name.definition()})}}),ra={capture:"capture",temporary:"temporary",variable:"variable",data:"data",global:"global"},sa={capture:"c",temporary:"t",variable:"iv",data:"d",global:"g"},ta={imported:"import",variable:"variable"},ua={imported:"i",variable:"sv"},va={tree:"tree",text:"text",initializer:"initializer",template:"template",error:"error"},wa={attribute:"attribute",booleanAttribute:"booleanAttribute",inlineStyle:"inlineStyle",textContent:"textContent"},xa="imports",ya={initial:0,analyze:1,optimze:2,lower:3,compile:4,link:5,done:6},za=c.Class.define(function(a,c){if(this._stage=ya.initial,this._staticVariables={},this._staticVariablesCount=0,this._instanceVariables={},this._instanceVariablesCount={},this._debugBreak=c.debugBreakOnRender,this._defaultInitializer=Z(c.defaultInitializer||T),this._optimizeTextBindings=!c.disableTextBindingOptimization,this._templateElement=a,this._templateContent=b.document.createElement(a.tagName),this._extractChild=c.extractChild||!1,this._controls=null,this._bindings=null,this._bindTokens=null,this._textBindingPrefix=null,this._textBindingId=0,this._suffix=[],this._htmlProcessors=[],this._profilerMarkIdentifier=c.profilerMarkIdentifier,this._captureCSE=new qa(this,"container",ra.capture,this.generateElementCaptureAccess.bind(this)),this._dataCSE=new qa(this,"data",ra.data,this.generateNormalAccess.bind(this),this.importFunctionSafe("dataSecurityCheck",Z)),this._globalCSE=new qa(this,this.importFunctionSafe("global",b),ra.global,this.generateNormalAccess.bind(this),this.importFunctionSafe("globalSecurityCheck",Z)),m.renderCopy(this._templateElement,this._templateContent),this._extractChild)for(;this._templateContent.childElementCount>1;)this._templateContent.removeChild(this._templateContent.lastElementChild)},{addClassOneTimeTextBinding:function(a){var b=this,c=this.createTextBindingHole(a.elementCapture.element.tagName,"class",++this._textBindingId);a.textBindingId=c,a.kind=va.text,a.elementCapture.element.classList.add(c),a.elementCapture.refCount--,a.definition=function(){return b.formatCode("{htmlEscape}({value})",{htmlEscape:b._staticVariables.htmlEscape,value:a.value()})}},addClassOneTimeTreeBinding:function(a){var b=this;a.pathExpression=this.bindingExpression(a),a.value=function(){return a.pathExpression},a.kind=va.tree,a.definition=function(){return b.formatCode("{element}.classList.add({value})",{element:a.elementCapture,value:a.value()})}},analyze:function(){if(this._stage>ya.analyze)throw"Illegal: once we have moved past analyze we cannot revist it";this._stage=ya.analyze,this._controls=this.gatherControls(),this._bindings=this.gatherBindings(),this._children=this.gatherChildren(),this.cleanControlAndBindingAttributes(),this.async&&this.createAsyncParts(),this.nullableIdentifierAccessTemporary=this.defineInstance(ra.temporary);var a=this._templateContent.innerHTML;this._html=function(){return K(C(a))},this._html.text=a},bindingExpression:function(a){return this._dataCSE.createPathExpression(a.source,a.source.join("_"))},capture:function(a){var b=a._capture;if(b)return b.refCount++,b;for(var c=[a],d=a.parentNode,e=a.tagName;d!==this._templateContent;)e=d.tagName+"_"+e,c.unshift(d),d=d.parentNode;for(var f=0,g=c.length;g>f;f++){var h=c[f];c[f]=Array.prototype.indexOf.call(d.children,h),d=h}return b=this._captureCSE.createPathExpression(c,e.toLowerCase()),b.element=a,b.element._capture=b,b.refCount=1,b},cleanControlAndBindingAttributes:function(){for(var a="[data-win-bind],[data-win-control]",b=this._templateContent.querySelectorAll(a),c=0,d=b.length;d>c;c++){var e=b[c];e.isDeclarativeControlContainer&&(c+=e.querySelectorAll("[data-win-bind],[data-win-control]").length),e.removeAttribute("data-win-bind"),e.removeAttribute("data-win-control"),e.removeAttribute("data-win-options")}},compile:function(a,b,c){if(this._stage>ya.compile)throw"Illegal: once we have moved past compile we cannot revist it";this._stage=ya.compile;var d=this;this._returnedElement=this._extractChild?"container.firstElementChild":"container";var e,f,g=this._controls.map(function(a){var b;b=a.async?"{target}.winControl = {target}.winControl || new {SafeConstructor}({target}, {options}, controlDone)":"{target}.winControl = {target}.winControl || new {SafeConstructor}({target}, {options})";var c=d.formatCode(b,{target:a.elementCapture,SafeConstructor:a.SafeConstructor,options:d.generateOptionsLiteral(a.optionsParsed,a.elementCapture)});if(a.isDeclarativeControlContainer&&"function"==typeof a.isDeclarativeControlContainer.imported){var e=[c];return e.push(d.formatCode("{isDeclarativeControlContainer}({target}.winControl, {delayedControlProcessing})",{target:a.elementCapture,isDeclarativeControlContainer:a.isDeclarativeControlContainer,delayedControlProcessing:d._staticVariables.ui_processAll})),e.push(d.formatCode("{isDeclarativeControlContainer}({target}.winControl, {delayedBindingProcessing}(data, {templateDefaultInitializer}))",{target:a.elementCapture,isDeclarativeControlContainer:a.isDeclarativeControlContainer,delayedBindingProcessing:d._staticVariables.delayedBindingProcessing,templateDefaultInitializer:d._staticVariables.templateDefaultInitializer||C(null)})),e.join(";\n")}return c}),h=this._bindings.map(function(a){switch(a.kind){case va.template:return d.formatCode("({nestedTemplates}[{nestedTemplate}] = {template}.render({path}, {dest}))",{nestedTemplates:d._nestedTemplates,nestedTemplate:C(a.nestedTemplate),template:a.template,path:a.pathExpression,dest:a.elementCapture});case va.initializer:var b;return b=a.initialValue?"({bindTokens}[{bindToken}] = {initializer}(data, {sourceProperties}, {dest}, {destProperties}, {initialValue}))":"({bindTokens}[{bindToken}] = {initializer}(data, {sourceProperties}, {dest}, {destProperties}))",d.formatCode(b,{bindTokens:d._bindTokens,bindToken:C(a.bindToken),initializer:a.initializer,sourceProperties:C(a.source),destProperties:C(a.destination),dest:a.elementCapture,initialValue:a.initialValue});case va.tree:return a.definition();case va.text:break;case va.error:break;default:throw"NYI"}});c?(e=h.filter(function(a,b){return!d._bindings[b].delayable}),f=h.filter(function(a,b){return d._bindings[b].delayable})):(e=h,f=[]);var i=M(this._instanceVariables),j=i.filter(function(a){return a.kind===ra.variable}).map(function(a){return a.definition()}),k=this._captureCSE.definitions(),l=this._globalCSE.definitions(),m=this._dataCSE.definitions(),n=this._children.map(function(a){return d.formatCodeN("{0}.msParentSelectorScope = true",a)}),o=this._suffix.map(function(a){return a()}),p="";c&&f.length&&(p=d.formatCode(Ia,{delayed_binding_processing:y(f)}));var q=d.formatCode(a,O([this._staticVariables,b||{},{profilerMarkIdentifierStart:C("WinJS.Binding.Template:render"+this._profilerMarkIdentifier+",StartTM"),profilerMarkIdentifierStop:C("WinJS.Binding.Template:render"+this._profilerMarkIdentifier+",StopTM"),html:this._html(),tagName:C(this._templateElement.tagName),instance_variable_declarations:z(i),global_definitions:y(l),data_definitions:y(m),instance_variable_definitions:y(j),capture_definitions:y(k),set_msParentSelectorScope:y(n),debug_break:this.generateDebugBreak(),control_processing:y(g),control_counter:this._controlCounter,binding_processing:y(e),renderComplete:p,suffix_statements:y(o),nestedTemplates:this._nestedTemplates,returnedElement:this._returnedElement}]));return this.prettify(q)},createAsyncParts:function(){this._nestedTemplates=this._nestedTemplates||this.defineInstance(ra.variable,"nestedTemplates",function(){return D(0)}),this._controlCounter=this._controlCounter||this.defineInstance(ra.variable,"controlCounter",function(){return C(1)})},createTextBindingHole:function(a,b,c){if(!this._textBindingPrefix){for(var d="";-1!==this._html.text.indexOf("textbinding"+d);)d=d||0,d++;this._textBindingPrefix="textbinding"+d,this._textBindingRegex=new RegExp("(#?"+this._textBindingPrefix+"_\\d+)")}var e=this._textBindingPrefix+"_"+c;return"IMG"===a&&"src"===b&&(e="#"+e),e},deadCodeElimination:function(){var a=this;Object.keys(this._instanceVariables).forEach(function(b){var c=a._instanceVariables[b];c.kind===ra.capture&&(a._templateContent.contains(c.element)||(c.dead=!0),0===c.refCount&&(c.dead=!0),c.dead&&(c.definition=function(){},c.name=null,delete a._instanceVariables[b]))}),this._controls=this._controls.filter(function(a){return!a.elementCapture.dead}),this._bindings=this._bindings.filter(function(a){return!a.elementCapture.dead}),this._captureCSE.deadNodeElimination()},defineInstance:function(a,b,c){if(this._stage>=ya.compile)throw"Illegal: define instance variable after compilation stage has started";var d=this._instanceVariablesCount[a]||0,e=b?b.replace(ka,"_"):"",f=J(sa[a],d,e);return f.definition=function(){return E(f,c())},f.kind=a,this._instanceVariables[f]=f,this._instanceVariablesCount[a]=d+1,f},defineStatic:function(a,b,c){if(this._stage>=ya.link)throw"Illegal: define static variable after link stage has started";if(b){var d=this._staticVariables[b];if(d)return d}var e=b?b.replace(ka,"_"):"",f=J(ua[a],this._staticVariablesCount,e);return f.definition=function(){return E(f,c())},f.kind=a,this._staticVariables[b||f]=f,this._staticVariablesCount++,f},done:function(){if(this._stage>ya.done)throw"Illegal: once we have moved past done we cannot revist it";this._stage=ya.done},emitScopedSelect:function(a,b){return this.formatCode("{scopedSelect}({selector}, {element})",{scopedSelect:this._staticVariables.scopedSelect,selector:C(a),element:b})},emitOptionsNode:function(a,b,c){var d=this;if(a)switch(typeof a){case"object":if(Array.isArray(a)){b.push("[");for(var e=0,f=a.length;f>e;e++)this.emitOptionsNode(a[e],b,c),b.push(",");b.push("]")}else if(a instanceof ea)b.push("select"===a.target?this.emitScopedSelect(a.arg0Value,c):C(null));else if(a instanceof fa&&a.parts[0]instanceof ea){var g=a.parts[0];b.push(B("select"===g.target?this.emitScopedSelect(g.arg0Value,c):C(null),a.parts.slice(1),this.nullableIdentifierAccessTemporary,this.importFunctionSafe("requireSupportedForProcessing",Z)))}else a instanceof fa?b.push(a.pathExpression):(b.push("{"),Object.keys(a).forEach(function(e){b.push(H(e)),b.push(":"),
d.emitOptionsNode(a[e],b,c),b.push(",")}),b.push("}"));break;default:b.push(C(a))}else b.push(C(null))},findGlobalIdentifierExpressions:function(a,b){b=b||[];var c=this;return Object.keys(a).forEach(function(d){var e=a[d];"object"==typeof e&&(e instanceof fa?e.parts[0]instanceof ea||b.push(e):c.findGlobalIdentifierExpressions(e,b))}),b},formatCodeN:function(){if(this._stage<ya.compile)throw"Illegal: format code at before compilation stage has started";return v.apply(null,arguments)},formatCode:function(a,b){if(this._stage<ya.compile)throw"Illegal: format code at before compilation stage has started";return v(a,b)},gatherBindings:function(){for(var a=-1,c=this,d=-1,e=[],f="[data-win-bind],[data-win-control]",g=this._templateContent.querySelectorAll(f),h=0,i=g.length;i>h;h++){var j=g[h];if(j.isDeclarativeControlContainer&&(h+=j.querySelectorAll(f).length),j.hasAttribute("data-win-bind")){var k=j.getAttribute("data-win-bind"),l=ga(k,b);l.forEach(function(b){if(b.initializer){var e=b.initializer.join("."),f=P(b.initializer);f.render?(Z(f.render),b.template=c.importFunctionSafe(e,f),b.pathExpression=c.bindingExpression(b),b.nestedTemplate=++d,b.kind=va.template):f.winControl&&f.winControl.render?(Z(f.winControl.render),b.template=c.importFunctionSafe(e,f.winControl),b.pathExpression=c.bindingExpression(b),b.nestedTemplate=++d,b.kind=va.template):(b.initializer=c.importFunction(e,f),b.bindToken=++a,b.kind=va.initializer)}else b.initializer=c.importFunctionSafe("templateDefaultInitializer",c._defaultInitializer),b.bindToken=++a,b.kind=va.initializer;b.elementCapture=c.capture(j),b.bindingText=k}),e.push.apply(e,l)}}var m=d+1;m>0&&(this.async=!0,this._nestedTemplates=this.defineInstance(ra.variable,"nestedTemplates",function(){return D(m)}));var n=a+1;return n>0&&(this._bindTokens=this.defineInstance(ra.variable,"bindTokens",function(){return D(n)}),this._suffix.push(function(){return c.formatCode("{utilities_data}(returnedElement).bindTokens = {bindTokens}",{utilities_data:c._staticVariables.utilities_data,bindTokens:c._bindTokens})})),e},gatherChildren:function(){var a=this;return Array.prototype.map.call(this._templateContent.children,function(b){return a.capture(b)})},gatherControls:function(){for(var a=this,c=0,e=[],f="[data-win-control]",g=this._templateContent.querySelectorAll(f),h=0,i=g.length;i>h;h++){var j=g[h],k=j.getAttribute("data-win-control"),l=d._getMemberFiltered(k.trim(),b,Z);if(l){var m=j.getAttribute("data-win-options")||C({}),n=l.length>2;n&&(c++,this.async=!0);var o=l.isDeclarativeControlContainer;o&&("function"==typeof o&&(o=this.importFunction(k+"_isDeclarativeControlContainer",o)),j.isDeclarativeControlContainer=o,h+=j.querySelectorAll(f).length);var p={elementCapture:this.capture(j),name:k,SafeConstructor:this.importFunctionSafe(k,l),async:n,optionsText:C(m),optionsParsed:da(m),isDeclarativeControlContainer:o};e.push(p);var q=this.findGlobalIdentifierExpressions(p.optionsParsed);q.forEach(function(b){b.pathExpression=a.globalExpression(b.parts)})}}return c>0&&(this._controlCounter=this.defineInstance(ra.variable,"controlCounter",function(){return C(c+1)})),e},generateElementCaptureAccess:function(a,b,c){if(c){var d=""+b=="0"?"":" + "+b;return this.formatCodeN("{0}.children[startIndex{1}]",a,d)}return this.formatCodeN("{0}.children[{1}]",a,b)},generateNormalAccess:function(a,b,c,d,e){if(a.indexOf(this.nullableIdentifierAccessTemporary)>=0){var f;return f=e?"{left} && {filter}({temp}{right})":"{left} && ({temp} = {filter}({temp}{right}))",this.formatCode(f,{temp:this.nullableIdentifierAccessTemporary,left:a,right:A([b]),filter:d})}var f;return f=e?"({temp} = {left}) && {filter}({temp}{right})":"({temp} = {left}) && ({temp} = {filter}({temp}{right}))",this.formatCode(f,{temp:this.nullableIdentifierAccessTemporary,left:a,right:A([b]),filter:d})},generateOptionsLiteral:function(a,b){var c=[];return this.emitOptionsNode(a,c,b),c.join(" ")},generateDebugBreak:function(){if(this._debugBreak){var a=this.defineStatic(ta.variable,"debugCounter",function(){return C(0)});return this.formatCodeN("if (++{0} === 1) {{ debugger; }}",a)}return""},globalExpression:function(a){return this._globalCSE.createPathExpression(a,a.join("_"))},importFunction:function(a,b){return this.importFunctionSafe(a,Z(b))},importFunctionSafe:function(a,b){var c=this,d=this.defineStatic(ta.imported,a,function(){return c.formatCodeN("({0}{1})",xa,A([a]))});if(d.imported&&d.imported!==b)throw"Duplicate import: '"+a+"'";return d.imported=b,d},importAll:function(a){return Object.keys(a).forEach(function(b){Z(a[b])}),this.importAllSafe(a)},importAllSafe:function(a){var b=this,c=Object.keys(a).reduce(function(c,d){return c[d]=b.importFunctionSafe(d,a[d]),c},{});return c},link:function(a){if(this._stage>ya.link)throw"Illegal: once we have moved past link we cannot revist it";this._stage=ya.link;var b=this,c=L(this._staticVariables).filter(function(a){return b._staticVariables[a].kind===ta.imported}).reduce(function(a,c){return a[c]=b._staticVariables[c].imported,a},{}),d=M(this._staticVariables);return new Function(xa,this.formatCode(Ka,{static_variable_declarations:z(d),static_variable_definitions:y(d.map(function(a){return a.definition()})),body:a.trim()}))(c)},lower:function(){if(this._stage>ya.lower)throw"Illegal: once we have moved past lower we cannot revist it";this._stage=ya.lower,this._captureCSE.lower(),this._dataCSE.lower(),this._globalCSE.lower()},markBindingAsError:function(a){a&&(a.kind=va.error,this.markBindingAsError(a.original))},oneTimeTextBinding:function(a){var b=this,c=this.oneTimeTextBindingAnalyze(a);if(c){var d;a.original&&(d=a.original.initialValue);var e=this.createTextBindingHole(a.elementCapture.element.tagName,c.attribute,++this._textBindingId);switch(a.textBindingId=e,a.kind=va.text,a.elementCapture.refCount--,a.definition=function(){var c;return c=d?"{htmlEscape}({initialValue})":"{htmlEscape}({getter})",b.formatCode(c,{htmlEscape:b._staticVariables.htmlEscape,getter:a.value(),initialValue:d})},c.kind){case wa.attribute:a.elementCapture.element.setAttribute(c.attribute,e);break;case wa.booleanAttribute:a.elementCapture.element.setAttribute(c.attribute,e),a.definition=function(){var e;return e=d?'({initialValue} ? {attribute} : "")':'({value} ? {attribute} : "")',b.formatCode(e,{value:a.value(),attribute:C(c.attribute),initialValue:d})},this._htmlProcessors.push(function(a){return a.replace(new RegExp(c.attribute+'="'+e+'"',"i"),e)});break;case wa.textContent:a.elementCapture.element.textContent=e;break;case wa.inlineStyle:var f=a.elementCapture.element;if(!f.msReplaceStyle){f.msReplaceStyle=f.getAttribute("style")||"",""!==f.msReplaceStyle&&";"!==f.msReplaceStyle[f.msReplaceStyle.length-1]&&(f.msReplaceStyle=f.msReplaceStyle+";"),f.setAttribute("style","msReplaceStyle:'"+e+"'");var g=f.getAttribute("style");this._htmlProcessors.push(function(a){return a.replace(g,f.msReplaceStyle)})}f.msReplaceStyle=f.msReplaceStyle+c.property+":"+e+";";break;default:throw"NYI"}}},oneTimeTextBindingAnalyze:function(a){var b=a.elementCapture.element,c=b.tagName,d=a.destination[0];switch(c){case"A":switch(d){case"href":return{kind:wa.attribute,attribute:d}}break;case"IMG":switch(d){case"alt":case"src":case"width":case"height":return{kind:wa.attribute,attribute:d}}break;case"SELECT":switch(d){case"disabled":case"multiple":case"required":return{kind:wa.booleanAttribute,attribute:d};case"size":return{kind:wa.attribute,attribute:d}}break;case"OPTION":switch(d){case"label":case"value":return{kind:wa.attribute,attribute:d};case"disabled":case"selected":return{kind:wa.booleanAttribute,attribute:d}}break;case"INPUT":switch(d){case"checked":switch(b.type){case"checkbox":case"radio":return{kind:wa.booleanAttribute,attribute:d}}break;case"disabled":return{kind:wa.booleanAttribute,attribute:d};case"max":case"maxLength":case"min":case"step":case"value":return{kind:wa.attribute,attribute:d};case"size":switch(b.type){case"text":case"search":case"tel":case"url":case"email":case"password":return{kind:wa.attribute,attribute:d}}break;case"readOnly":switch(b.type){case"hidden":case"range":case"color":case"checkbox":case"radio":case"file":case"button":break;default:return{kind:wa.booleanAttribute,attribute:d}}}break;case"BUTTON":switch(d){case"disabled":return{kind:wa.booleanAttribute,attribute:d};case"value":return{kind:wa.attribute,attribute:d}}break;case"TEXTAREA":switch(d){case"disabled":case"readOnly":case"required":return{kind:wa.booleanAttribute,attribute:d};case"cols":case"maxLength":case"placeholder":case"rows":case"wrap":return{kind:wa.attribute,attribute:d}}}switch(d){case"className":return{kind:wa.attribute,attribute:"class"};case"dir":case"lang":case"name":case"title":case"tabIndex":return{kind:wa.attribute,attribute:d};case"style":if(a.destination.length>1){var e=a.destination[1];if("cssText"===e)return;var f="string"==typeof b.style[e];if(f)return("m"===e[0]&&"s"===e[1]||"webkit"===e.substring(0,6))&&(e="-"+e),e=e.replace(pa,function(a){return"-"+a.toLowerCase()}),{kind:wa.inlineStyle,property:e,attribute:"style"}}break;case"innerText":case"textContent":return{kind:wa.textContent,attribute:"textContent"}}},oneTimeTreeBinding:function(a){if(1===a.destination.length&&"id"===a.destination[0]){if(d.validation)throw new e("WinJS.Binding.IdBindingNotSupported",g._formatString(s.idBindingNotSupported,a.bindingText));return f.log&&f.log(g._formatString(s.idBindingNotSupported,a.bindingText),"winjs binding","error"),void this.markBindingAsError(a)}if(0===a.destination.length)return f.log&&f.log(s.cannotBindToThis,"winjs binding","error"),void this.markBindingAsError(a);var b,c=this;a.pathExpression=this.bindingExpression(a),a.value=function(){return a.pathExpression},a.original&&(b=a.pathExpression,a.original.initialValue=b),a.kind=va.tree,a.definition=function(){var d;return d=b?"({targetPath} || {{}}){prop} = {initialValue}":"({targetPath} || {{}}){prop} = {sourcePath}",c.formatCode(d,{targetPath:B(a.elementCapture,a.destination.slice(0,-1),c.nullableIdentifierAccessTemporary,c.importFunctionSafe("targetSecurityCheck",u)),prop:A(a.destination.slice(-1)),sourcePath:a.value(),initialValue:b})}},optimize:function(){if(this._stage>ya.optimze)throw"Illegal: once we have moved past link we cannot revist it";this._stage=ya.optimze;for(var a=0;a<this._bindings.length;a++){var b=this._bindings[a];if(!b.template)switch(b.initializer.imported){case T:var c=N(b,{kind:va.tree,initializer:this.importFunctionSafe("init_oneTime",U),original:b});c.elementCapture.refCount++,this.oneTimeTreeBinding(c),this._bindings.splice(a,0,c),b.delayable=!0,a++;break;case V:var c=N(b,{kind:va.tree,initializer:this.importFunctionSafe("init_setAttributeOneTime",W),original:b});c.elementCapture.refCount++,this.setAttributeOneTimeTreeBinding(c),this._bindings.splice(a,0,c),b.delayable=!0,a++;break;case U:this.oneTimeTreeBinding(b);break;case W:this.setAttributeOneTimeTreeBinding(b);break;case X:this.addClassOneTimeTreeBinding(b);break;default:b.initializer&&(b.delayable=!!b.initializer.imported.delayable)}}if(this._optimizeTextBindings){for(var d={},a=0;a<this._bindings.length;a++){var b=this._bindings[a];if(!b.template&&b.kind!==va.error){switch(b.initializer.imported){case U:this.oneTimeTextBinding(b);break;case W:this.setAttributeOneTimeTextBinding(b);break;case X:this.addClassOneTimeTextBinding(b)}b.textBindingId&&(d[b.textBindingId]=b)}}if(Object.keys(d).length){var e=this._templateContent.innerHTML;e=this._htmlProcessors.reduce(function(a,b){return b(a)},e);for(var f=e.split(this._textBindingRegex),a=1;a<f.length;a+=2){var b=d[f[a]];f[a]=b.definition}this._html=function(){var a=f.map(function(a){return"string"==typeof a?C(a):a()}).join(" + ");return K(a)}}}},prettify:function(a){var b=a.split("\n");return b.filter(function(a){return!oa.test(a)}).join("\n")},setAttributeOneTimeTextBinding:function(a){var b,c=this,d=a.destination[0],e=this.createTextBindingHole(a.elementCapture.element.tagName,d,++this._textBindingId);a.original&&(b=a.original.initialValue),a.textBindingId=e,a.kind=va.text,a.elementCapture.element.setAttribute(d,e),a.elementCapture.refCount--,a.definition=function(){var d;return d=b?"{htmlEscape}({initialValue})":"{htmlEscape}({value})",c.formatCode(d,{htmlEscape:c._staticVariables.htmlEscape,initialValue:b,value:a.value()})}},setAttributeOneTimeTreeBinding:function(a){if(1===a.destination.length&&"id"===a.destination[0]){if(d.validation)throw new e("WinJS.Binding.IdBindingNotSupported",g._formatString(s.idBindingNotSupported,a.bindingText));return f.log&&f.log(g._formatString(s.idBindingNotSupported,a.bindingText),"winjs binding","error"),void this.markBindingAsError(a)}if(1!==a.destination.length||!a.destination[0])return f.log&&f.log(s.attributeBindingSingleProperty,"winjs binding","error"),void this.markBindingAsError(a);var b,c=this;a.pathExpression=this.bindingExpression(a),a.value=function(){return a.pathExpression},a.original&&(b=this.defineInstance(ra.variable,"",a.value),a.original.initialValue=b),a.kind=va.tree,a.definition=function(){var d;return d=b?'{element}.setAttribute({attribute}, "" + {initialValue})':'{element}.setAttribute({attribute}, "" + {value})',c.formatCode(d,{element:a.elementCapture,attribute:C(a.destination[0]),initialValue:b,value:a.value()})}}},{_TreeCSE:qa,compile:function(c,d,e){if(!(d instanceof b.HTMLElement))throw"Illegal";ia("WinJS.Binding.Template:compile"+e.profilerMarkIdentifier+",StartTM");var f=new za(d,e);f.analyze();var g=f.importAllSafe({Signal:o,global:b,document:b.document,cancelBlocker:S,promise_as:Y,disposeInstance:a,markDisposable:aa,ui_processAll:ba,binding_processAll:ca,insertAdjacentHTMLUnsafe:$,promise:n,utilities_data:_,requireSupportedForProcessing:Z,htmlEscape:I,scopedSelect:ha,delayedBindingProcessing:t,writeProfilerMark:ia});f.optimize(),f.deadCodeElimination(),f.lower();var h,i;switch(e.target){case"render":h=f.async?Fa:Ea,i=!1;break;case"renderItem":h=f.async?Ja:Ha,i=!0}var j=f.compile(h,g,i),k=f.link(j);return f.done(),ia("WinJS.Binding.Template:compile"+e.profilerMarkIdentifier+",StopTM"),k}}),Aa=R('container.classList.add("win-template");                                                              \nvar html = {html};                                                                                      \n{insertAdjacentHTMLUnsafe}(container, "beforeend", html);                                             \nreturnedElement = {returnedElement};                                                                    \n                                                                                                        \n// Capture Definitions                                                                                  \n{capture_definitions};                                                                                  \n{set_msParentSelectorScope};                                                                            \n                                                                                                        \n'),Ba=R("// Control Processing                                                                                   \n{control_processing};                                                                                   \n                                                                                                        \n// Binding Processing                                                                                   \n{binding_processing};                                                                                   \n                                                                                                        \nvar result = {promise_as}(returnedElement);                                                             \n"),Ca=R('var controlSignal = new {Signal}();                                                                     \nvar controlDone = function () {{ if (--{control_counter} === 0) {{ controlSignal.complete(); }} }};     \ncontrolDone();                                                                                          \n                                                                                                        \n// Control Processing                                                                                   \n{control_processing};                                                                                   \n                                                                                                        \nvar result = controlSignal.promise.then(function () {{                                                  \n    // Binding Processing                                                                               \n    {binding_processing};                                                                               \n    return {promise}.join({nestedTemplates});                                                           \n}}).then(function () {{                                                                                 \n    return returnedElement;                                                                             \n}}).then(null, function (e) {{                                                                          \n    if (typeof e === "object" && e.name === "Canceled") {{ returnedElement.dispose(); }}            \n    return {promise}.wrapError(e);                                                                      \n}});                                                                                                    \n'),Da=R("{markDisposable}(returnedElement, function () {{ {disposeInstance}(returnedElement, result); }});       \n{suffix_statements};                                                                                    \n"),Ea=R('function render(data, container) {{                                                                     \n    {debug_break}                                                                                       \n    if (typeof data === "object" && typeof data.then === "function") {{                             \n        // async data + a container falls back to interpreted path                                      \n        if (container) {{                                                                               \n            var result = this._renderInterpreted(data, container);                                      \n            return result.element.then(function () {{ return result.renderComplete; }});                \n        }}                                                                                              \n        return {cancelBlocker}(data).then(function(data) {{ return render(data); }});                   \n    }}                                                                                                  \n                                                                                                        \n    {writeProfilerMark}({profilerMarkIdentifierStart});                                                 \n                                                                                                        \n    // Declarations                                                                                     \n    var {instance_variable_declarations};                                                               \n    var returnedElement;                                                                                \n                                                                                                        \n    // Global Definitions                                                                               \n    {global_definitions};                                                                               \n                                                                                                        \n    // Data Definitions                                                                                 \n    data = (data === {global} ? data : {requireSupportedForProcessing}(data));                          \n    {data_definitions};                                                                                 \n                                                                                                        \n    // Instance Variable Definitions                                                                    \n    {instance_variable_definitions};                                                                    \n                                                                                                        \n    // HTML Processing                                                                                  \n    container = container || {document}.createElement({tagName});                                       \n    var startIndex = container.childElementCount;                                                       \n    '+x(w(4,Aa))+"                                           \n                                                                                                        \n    "+x(w(4,Ba))+"                                      \n    "+x(w(4,Da))+"                                           \n                                                                                                        \n    {writeProfilerMark}({profilerMarkIdentifierStop});                                                  \n                                                                                                        \n    return result;                                                                                      \n}}                                                                                                      \n"),Fa=R('function render(data, container) {{                                                                     \n    {debug_break}                                                                                       \n    if (typeof data === "object" && typeof data.then === "function") {{                             \n        // async data + a container falls back to interpreted path                                      \n        if (container) {{                                                                               \n            var result = this._renderInterpreted(data, container);                                      \n            return result.element.then(function () {{ return result.renderComplete; }});                \n        }}                                                                                              \n        return {cancelBlocker}(data).then(function(data) {{ return render(data, container); }});        \n    }}                                                                                                  \n                                                                                                        \n    {writeProfilerMark}({profilerMarkIdentifierStart});                                                 \n                                                                                                        \n    // Declarations                                                                                     \n    var {instance_variable_declarations};                                                               \n    var returnedElement;                                                                                \n                                                                                                        \n    // Global Definitions                                                                               \n    {global_definitions};                                                                               \n                                                                                                        \n    // Data Definitions                                                                                 \n    data = (data === {global} ? data : {requireSupportedForProcessing}(data));                          \n    {data_definitions};                                                                                 \n                                                                                                        \n    // Instance Variable Definitions                                                                    \n    {instance_variable_definitions};                                                                    \n                                                                                                        \n    // HTML Processing                                                                                  \n    container = container || {document}.createElement({tagName});                                       \n    var startIndex = container.childElementCount;                                                       \n    '+x(w(4,Aa))+"                                           \n                                                                                                        \n    "+x(w(4,Ca))+"                                 \n    "+x(w(4,Da))+"                                           \n                                                                                                        \n    {writeProfilerMark}({profilerMarkIdentifierStop});                                                  \n                                                                                                        \n    return result;                                                                                      \n}}                                                                                                      \n"),Ga=R("{markDisposable}(returnedElement, function () {{ {disposeInstance}(returnedElement, result, renderComplete); }});\n{suffix_statements};                                                                                    \n"),Ha=R('function renderItem(itemPromise) {{                                                                     \n    {debug_break}                                                                                       \n    // Declarations                                                                                     \n    var {instance_variable_declarations};                                                               \n    var element, renderComplete, data, returnedElement;                                                 \n                                                                                                        \n    element = itemPromise.then(function renderItem(item) {{                                             \n        if (typeof item.data === "object" && typeof item.data.then === "function") {{               \n            return {cancelBlocker}(item.data).then(function (data) {{ return renderItem({{ data: data }}); }});\n        }}                                                                                              \n                                                                                                        \n        {writeProfilerMark}({profilerMarkIdentifierStart});                                             \n                                                                                                        \n        // Global Definitions                                                                           \n        {global_definitions};                                                                           \n                                                                                                        \n        // Data Definitions                                                                             \n        data = item.data;                                                                               \n        data = (data === {global} ? data : {requireSupportedForProcessing}(data));                      \n        {data_definitions};                                                                             \n                                                                                                        \n        // Instance Variable Definitions                                                                \n        {instance_variable_definitions};                                                                \n                                                                                                        \n        // HTML Processing                                                                              \n        var container = {document}.createElement({tagName});                                            \n        var startIndex = 0;                                                                             \n        '+x(w(8,Aa))+"                                       \n                                                                                                        \n        "+x(w(8,Ba))+"                                  \n        "+x(w(8,Ga))+"                                   \n                                                                                                        \n        {writeProfilerMark}({profilerMarkIdentifierStop});                                              \n                                                                                                        \n        return result;                                                                                  \n    }});                                                                                                \n    {renderComplete};                                                                                   \n    return {{                                                                                           \n        element: element,                                                                               \n        renderComplete: renderComplete || element,                                                      \n    }};                                                                                                 \n}}                                                                                                      \n"),Ia=R("renderComplete = element.then(function () {{                                                            \n    return itemPromise;                                                                                 \n}}).then(function (item) {{                                                                             \n    return item.ready || item;                                                                          \n}}).then(function (item) {{                                                                             \n    {delayed_binding_processing};                                                                       \n    return element;                                                                                     \n}});                                                                                                    \n"),Ja=R('function renderItem(itemPromise) {{                                                                     \n    {debug_break}                                                                                       \n    // Declarations                                                                                     \n    var {instance_variable_declarations};                                                               \n    var element, renderComplete, data, returnedElement;                                                 \n                                                                                                        \n    element = itemPromise.then(function renderItem(item) {{                                             \n        if (typeof item.data === "object" && typeof item.data.then === "function") {{               \n            return {cancelBlocker}(item.data).then(function (data) {{ return renderItem({{ data: data }}); }});\n        }}                                                                                              \n                                                                                                        \n        {writeProfilerMark}({profilerMarkIdentifierStart});                                             \n                                                                                                        \n        // Global Definitions                                                                           \n        {global_definitions};                                                                           \n                                                                                                        \n        // Data Definitions                                                                             \n        data = item.data;                                                                               \n        data = (data === {global} ? data : {requireSupportedForProcessing}(data));                      \n        {data_definitions};                                                                             \n                                                                                                        \n        // Instance Variable Definitions                                                                \n        {instance_variable_definitions};                                                                \n                                                                                                        \n        // HTML Processing                                                                              \n        var container = {document}.createElement({tagName});                                            \n        var startIndex = 0;                                                                             \n        '+x(w(8,Aa))+"                                       \n                                                                                                        \n        "+x(w(8,Ca))+"                             \n        "+x(w(8,Ga))+"                                   \n                                                                                                        \n        {writeProfilerMark}({profilerMarkIdentifierStop});                                              \n                                                                                                        \n        return result;                                                                                  \n    }});                                                                                                \n    {renderComplete};                                                                                   \n    return {{                                                                                           \n        element: element,                                                                               \n        renderComplete: renderComplete || element,                                                      \n    }};                                                                                                 \n}}                                                                                                      \n"),Ka=R('"use strict";                                                                                         \n                                                                                                        \n// statics                                                                                              \nvar {static_variable_declarations};                                                                     \n{static_variable_definitions};                                                                          \n                                                                                                        \n// generated template rendering function                                                                \nreturn {body};                                                                                          \n');
return za})})}}),define("WinJS/BindingTemplate",["exports","./Core/_Global","./Core/_WinRT","./Core/_Base","./Core/_BaseUtils","./Core/_Log","./Core/_WriteProfilerMark","./Binding/_Declarative","./BindingTemplate/_DataTemplateCompiler","./ControlProcessor","./Fragments","./Promise","./Utilities/_Dispose","./Utilities/_ElementUtilities"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){"use strict";if(b.document){var o=l._cancelBlocker;d.Namespace._moduleDefine(a,"WinJS.Binding",{Template:d.Namespace._lazy(function(){function a(a,c,d){function e(){return n.removeClass(i,"win-loading"),g("WinJS.Binding:templateRender"+a._profilerMarkIdentifier+",StopTM"),r||i}g("WinJS.Binding:templateRender"+a._profilerMarkIdentifier+",StartTM"),1===++a._counter&&(a.debugBreakOnRender||p._debugBreakOnRender);var f=l.wrap(),i=d||b.document.createElement(a.element.tagName);n.addClass(i,"win-template"),n.addClass(i,"win-loading");var q,r,s=a,t=i.children.length,u=function(){var a=n.data(i).winBindings;a&&a.forEach(function(a){a.cancel()}),f.cancel()};a.extractChild?q=k.renderCopy(s.href||s.element,b.document.createElement(s.element.tagName)).then(function(a){var b=a.firstElementChild;return r=b,m.markDisposable(b,u),i.appendChild(b),b}):(m.markDisposable(i,u),q=k.renderCopy(s.href||s.element,i));var v=q.then(function(){function a(){return b(j.processAll).then(function(){return o(c)}).then(function(a){return b(h.processAll,a,!r&&!t,s.bindingCache)}).then(null,function(a){return"object"==typeof a&&"Canceled"===a.name&&(r||i).dispose(),l.wrapError(a)})}var b;if(0===t)b=function(a,b,c,d){return a(r||i,b,c,d)};else{var d=i.children;if(d.length===t+1)b=function(a,b,c,e){return a(d[t],b,c,e)};else{for(var e=[],g=t,k=d.length;k>g;g++)e.push(d[g]);b=function(a,b,c,d){var f=[];return e.forEach(function(e){f.push(a(e,b,c,d))}),l.join(f)}}}for(var m=i.firstElementChild;m;)m.msParentSelectorScope=!0,m=m.nextElementSibling;var n=s.processTimeout;return n?(0>n&&(n=0),l.timeout(n).then(function(){return f=a()})):f=a()}).then(e,function(a){return e(),l.wrapError(a)});return{element:q,renderComplete:v}}var p=d.Class.define(function(a,c){this._element=a||b.document.createElement("div"),this._element.winControl=this,this._profilerMarkIdentifier=e._getProfilerMarkIdentifier(this._element),g("WinJS.Binding:newTemplate"+this._profilerMarkIdentifier+",StartTM");var d=this;this._element.renderItem=function(a,b){return d._renderItemImpl(a,b)},c=c||{},this.href=c.href,this.enableRecycling=!!c.enableRecycling,this.processTimeout=c.processTimeout||0,this.bindingInitializer=c.bindingInitializer,this.debugBreakOnRender=c.debugBreakOnRender,this.disableOptimizedProcessing=c.disableOptimizedProcessing,this.extractChild=c.extractChild,this._counter=0,this._compile=!!c._compile,this.href||(this.element.style.display="none"),this.bindingCache={expressions:{}},g("WinJS.Binding:newTemplate"+this._profilerMarkIdentifier+",StopTM")},{_shouldCompile:{get:function(){var a=!0;return a=a&&!p._interpretAll,a=a&&!this.disableOptimizedProcessing,a&&(a=a&&0===this.processTimeout,a=a&&(!this.href||this.href instanceof b.HTMLElement),a||f.log&&f.log("Cannot compile templates which use processTimeout or href properties","winjs binding","warn")),a}},bindingInitializer:{get:function(){return this._bindingInitializer},set:function(a){this._bindingInitializer=a,this._reset()}},debugBreakOnRender:{get:function(){return this._debugBreakOnRender},set:function(a){this._debugBreakOnRender=!!a,this._reset()}},disableOptimizedProcessing:{get:function(){return this._disableOptimizedProcessing},set:function(a){this._disableOptimizedProcessing=!!a,this._reset()}},element:{get:function(){return this._element}},extractChild:{get:function(){return this._extractChild},set:function(a){this._extractChild=!!a,this._reset()}},processTimeout:{get:function(){return this._processTimeout||0},set:function(a){this._processTimeout=a,this._reset()}},render:e.markSupportedForProcessing(function(a,b){return this._renderImpl(a,b)}),_renderImpl:function(b,c){if(this._shouldCompile)try{return this._renderImpl=this._compileTemplate({target:"render"}),this._renderImpl(b,c)}catch(d){return l.wrapError(d)}var e=a(this,b,c);return e.element.then(function(){return e.renderComplete})},_renderInterpreted:function(b,c){return a(this,b,c)},renderItem:function(a,b){return this._renderItemImpl(a,b)},_renderItemImpl:function(b,c){if(this._shouldCompile)try{return this._renderItemImpl=this._compileTemplate({target:"renderItem"}),this._renderItemImpl(b)}catch(d){return{element:l.wrapError(d),renderComplete:l.wrapError(d)}}var e=this;if(this.enableRecycling&&!this.bindingCache.elements&&(this.bindingCache.elements={}),this.enableRecycling&&c&&c.msOriginalTemplate===this){var f=this.bindingCache.elements[c.id],g=!0;if(f&&(f.bindings.forEach(function(a){a()}),f.bindings=[],g=!f.nocache),g)return{element:c,renderComplete:b.then(function(a){return h.processAll(c,a.data,!0,e.bindingCache)})}}var i=a(this,b.then(function(a){return a.data}));return i.element=i.element.then(function(a){return a.msOriginalTemplate=e,a}),i},_compileTemplate:function(a){var b=this,d=i._TemplateCompiler.compile(this,this.href||this.element,{debugBreakOnRender:this.debugBreakOnRender||p._debugBreakOnRender,defaultInitializer:this.bindingInitializer||a.defaultInitializer,disableTextBindingOptimization:a.disableTextBindingOptimization||!1,target:a.target,extractChild:this.extractChild,profilerMarkIdentifier:this._profilerMarkIdentifier}),e=a.resetOnFragmentChange||c.Windows.ApplicationModel.DesignMode.designModeEnabled;if(e){var f=new n._MutationObserver(function(){b._reset(),f.disconnect()});f.observe(n.data(this.element).docFragment,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}return d},_reset:function(){delete this._renderImpl,delete this._renderItemImpl}},{isDeclarativeControlContainer:{value:!0,writable:!1,configurable:!1},render:{value:function(a,b,c){return new p(null,{href:a}).render(b,c)}}});return p})})}}),define("WinJS/BindingList/_BindingListDataSource",["exports","../Core/_WinRT","../Core/_Base","../Core/_ErrorFromName","../Binding/_DomWeakRefTable","../Promise","../Scheduler","../Utilities/_UI"],function(a,b,c,d,e,f,g,h){"use strict";c.Namespace._moduleDefine(a,"WinJS.Binding",{_BindingListDataSource:c.Namespace._lazy(function(){function a(a,b){for(var c=a.length;c-1>b;){var d=a.getItem(++b);if(d)return d.key}return null}function i(a,b){for(;b>0;){var c=a.getItem(--b);if(c)return c.key}return null}function j(a,b){Object.keys(b).forEach(function(c){a.addEventListener(c,b[c])})}function k(a,b){Object.keys(b).forEach(function(c){a.removeEventListener(c,b[c])})}function l(a,b){return b?new B(a,b):new A}function m(a,b,c){return b?new C(a,b,c):new A}function n(a,b,c){return b&&a._annotateWithIndex(b,c)}function o(a,b){return this._list.unshift(b),this.itemFromIndex(0)}function p(a,b,c){var d=this._list.indexOfKey(c);return-1===d?y.noLongerMeaningful:(this._list.splice(d,0,b),this.itemFromIndex(d))}function q(a,b,c){var d=this._list.indexOfKey(c);return-1===d?y.noLongerMeaningful:(d+=1,this._list.splice(d,0,b),this.itemFromIndex(d))}function r(a,b){return this._list.push(b),this.itemFromIndex(this._list.length-1)}function s(a,b){var c=this._list.indexOfKey(a);return-1===c?y.noLongerMeaningful:(this._list.setAt(c,b),this.itemFromIndex(c))}function t(a){var b=this._list.indexOfKey(a);if(-1===b)return y.noLongerMeaningful;var c=0;return this._list.move(b,c),this.itemFromIndex(c)}function u(a,b){var c=this._list.indexOfKey(a),d=this._list.indexOfKey(b);return-1===c||-1===d?y.noLongerMeaningful:(d=d>c?d-1:d,this._list.move(c,d),this.itemFromIndex(d))}function v(a,b){var c=this._list.indexOfKey(a),d=this._list.indexOfKey(b);return-1===c||-1===d?y.noLongerMeaningful:(d=d>=c?d:d+1,this._list.move(c,d),this.itemFromIndex(d))}function w(a){var b=this._list.indexOfKey(a);if(-1===b)return y.noLongerMeaningful;var c=this._list.length-1;return this._list.move(b,c),this.itemFromIndex(c)}function x(a){var b=this._list.indexOfKey(a);return-1===b?y.noLongerMeaningful:(this._list.splice(b,1),f.wrap())}var y={get noLongerMeaningful(){return f.wrapError(new d(h.EditError.noLongerMeaningful))}},z=f.wrap().constructor,A=c.Class.derive(z,function(){this._value=null},{release:function(){},retain:function(){return this}},{supportedForProcessing:!1}),B=c.Class.derive(z,function(a,b){this._value=b,this._listBinding=a},{handle:{get:function(){return this._value.key}},index:{get:function(){return this._value.index}},release:function(){this._listBinding._release(this._value,this._listBinding._list.indexOfKey(this._value.key))},retain:function(){return this._listBinding._addRef(this._value,this._listBinding._list.indexOfKey(this._value.key)),this}},{supportedForProcessing:!1}),C=c.Class.derive(f,function(a,b,c){var d=this;this._item=b,this._listBinding=a,f.call(this,function(e){g.schedule(function(){return a._released?void d.cancel():void e(b)},g.Priority.normal,null,"WinJS.Binding.List."+c)})},{handle:{get:function(){return this._item.key}},index:{get:function(){return this._item.index}},release:function(){this._listBinding._release(this._item,this._listBinding._list.indexOfKey(this._item.key))},retain:function(){return this._listBinding._addRef(this._item,this._listBinding._list.indexOfKey(this._item.key)),this}},{supportedForProcessing:!1}),D=c.Class.define(function(a,c,d,f){this._dataSource=a,this._list=c,this._editsCount=0,this._notificationHandler=d,this._pos=-1,this._retained=[],this._retained.length=c.length,this._retainedKeys={},this._affectedRange=null;var g=null;if(b.msSetWeakWinRTProperty&&b.msGetWeakWinRTProperty||(g=this),d){var h=function(a,b){var c=e._getWeakRefElement(f)||g;return c?(c["_"+a](b),!0):!1};this._handlers={itemchanged:function i(a){h("itemchanged",a)||c.removeEventListener("itemchanged",i)},iteminserted:function k(a){h("iteminserted",a)||c.removeEventListener("iteminserted",k)},itemmoved:function l(a){h("itemmoved",a)||c.removeEventListener("itemmoved",l)},itemremoved:function m(a){h("itemremoved",a)||c.removeEventListener("itemremoved",m)},reload:function n(){h("reload")||c.removeEventListener("reload",n)}},j(this._list,this._handlers)}},{_itemchanged:function(a){var b=a.detail.key,c=a.detail.index;this._updateAffectedRange(c,"changed");var d=a.detail.newItem,e=this._retained[c];if(e){var f=this._notificationHandler;if(e.index!==c){var g=e.index;e.index=c,f&&f.indexChanged&&f.indexChanged(d.key,c,g)}d=n(this._list,d,c),d._retainedCount=e._retainedCount,this._retained[c]=d,this._retainedKeys[b]=d,this._beginEdits(this._list.length),f&&f.changed&&f.changed(d,e),this._endEdits()}else this._beginEdits(this._list.length),this._endEdits()},_iteminserted:function(b){var c=b.detail.index;this._updateAffectedRange(c,"inserted"),this._beginEdits(this._list.length-1),c<=this._pos&&(this._pos=Math.min(this._pos+1,this._list.length));var d=this._retained;if(d.splice(c,0,0),delete d[c],this._shouldNotify(c)||1===this._list.length){var e=this._notificationHandler;e&&e.inserted&&e.inserted(l(this,n(this._list,this._list.getItem(c),c)),i(this._list,c),a(this._list,c))}this._endEdits()},_itemmoved:function(a){var b=a.detail.oldIndex,c=a.detail.newIndex;this._updateAffectedRange(b,"moved"),this._updateAffectedRange(c,"moved"),this._beginEdits(this._list.length),(b<this._pos||c<=this._pos)&&(c>this._pos?this._pos=Math.max(-1,this._pos-1):b>this._pos&&(this._pos=Math.min(this._pos+1,this._list.length)));var d=this._retained,e=d.splice(b,1)[0];d.splice(c,0,e),e||(delete d[c],e=n(this._list,this._list.getItem(c),c)),e._moved=!0,this._addRef(e,c),this._endEdits()},_itemremoved:function(a){var b=a.detail.key,c=a.detail.index;this._updateAffectedRange(c,"removed"),this._beginEdits(this._list.length+1),c<this._pos&&(this._pos=Math.max(-1,this._pos-1));var d=this._retained,e=this._retainedKeys,f=c in d;d.splice(c,1),delete e[b];var g=this._notificationHandler;f&&g&&g.removed&&g.removed(b,!1),this._endEdits()},_reload:function(){this._retained=[],this._retainedKeys={};var a=this._notificationHandler;a&&a.reload&&a.reload()},_addRef:function(a,b){b in this._retained?this._retained[b]._retainedCount++:(this._retained[b]=a,this._retainedKeys[a.key]=a,a._retainedCount=1)},_release:function(a,b){var c=this._retained[b];c&&(1===c._retainedCount?(delete this._retained[b],delete this._retainedKeys[c.key]):c._retainedCount--)},_shouldNotify:function(a){var b=this._retained;return a in b||a+1 in b||a-1 in b},_updateAffectedRange:function(a,b){if(this._notificationHandler.affectedRange){var c=a,d="removed"!==b?a+1:a;if(this._affectedRange){switch(b){case"inserted":a<=this._affectedRange.end&&++this._affectedRange.end;break;case"removed":a<this._affectedRange.end&&--this._affectedRange.end;break;case"moved":case"changed":}this._affectedRange.start=Math.min(this._affectedRange.start,c),this._affectedRange.end=Math.max(this._affectedRange.end,d)}else this._affectedRange={start:c,end:d}}},_notifyAffectedRange:function(){this._affectedRange&&(this._notificationHandler&&this._notificationHandler.affectedRange&&this._notificationHandler.affectedRange(this._affectedRange),this._affectedRange=null)},_notifyCountChanged:function(){var a=this._countAtBeginEdits,b=this._list.length;if(a!==b){var c=this._notificationHandler;c&&c.countChanged&&c.countChanged(b,a)}},_notifyIndicesChanged:function(){for(var a=this._retained,b=0,c=a.length;c>b;b++){var d=a[b];if(d&&d.index!==b){var e=b,f=d.index;d.index=e;var g=this._notificationHandler;g&&g.indexChanged&&g.indexChanged(d.key,e,f)}}},_notifyMoved:function(){for(var b=this._retained,c=0,d=b.length;d>c;c++){var e=b[c];if(e&&e._moved&&(e._moved=!1,this._release(e,c),this._shouldNotify(c))){var f=this._notificationHandler;f&&f.moved&&f.moved(l(this,e),i(this._list,c),a(this._list,c))}}},_beginEdits:function(a,b){this._editsCount++;var c=this._notificationHandler;if(1===this._editsCount&&c){if(!b){this._editsCount++;var d=this;g.schedule(function(){d._endEdits()},g.Priority.high,null,"WinJS.Binding.List._endEdits")}c.beginNotifications&&c.beginNotifications(),this._countAtBeginEdits=a}},_endEdits:function(){this._editsCount--;var a=this._notificationHandler;0===this._editsCount&&a&&(this._notifyIndicesChanged(),this._notifyMoved(),this._notifyCountChanged(),this._notifyAffectedRange(),a.endNotifications&&a.endNotifications())},jumpToItem:function(a){var b=this._list.indexOfKey(a.handle);return-1===b?f.wrap(null):(this._pos=b,this.current())},current:function(){return this.fromIndex(this._pos)},previous:function(){return this._pos=Math.max(-1,this._pos-1),this._fromIndex(this._pos,!0,"previous")},next:function(){return this._pos=Math.min(this._pos+1,this._list.length),this._fromIndex(this._pos,!0,"next")},releaseItem:function(a){a.release?a.release():this._release(a,this._list.indexOfKey(a.key))},release:function(){this._notificationHandler&&k(this._list,this._handlers),this._notificationHandler=null,this._dataSource._releaseBinding(this),this._released=!0},first:function(){return this.fromIndex(0)},last:function(){return this.fromIndex(this._list.length-1)},fromKey:function(a){var b,c=this._retainedKeys;return b=a in c?c[a]:n(this._list,this._list.getItemFromKey(a),this._list.indexOfKey(a)),l(this,b)},fromIndex:function(a){return this._fromIndex(a,!1,"fromIndex")},_fromIndex:function(a,b,c){var d,e=this._retained;return d=a in e?e[a]:n(this._list,this._list.getItem(a),a),b?m(this,d,c):l(this,d)}},{supportedForProcessing:!1}),E=0,F=c.Class.define(function(a){this._usingWeakRef=b.msSetWeakWinRTProperty&&b.msGetWeakWinRTProperty,this._bindings={},this._list=a,a.unshift&&(this.insertAtStart=o),a.push&&(this.insertAtEnd=r),a.setAt&&(this.change=s),a.splice&&(this.insertAfter=q,this.insertBefore=p,this.remove=x),a.move&&(this.moveAfter=v,this.moveBefore=u,this.moveToEnd=w,this.moveToStart=t)},{_releaseBinding:function(a){delete this._bindings[a._id]},addEventListener:function(){},removeEventListener:function(){},createListBinding:function(a){var b="ds_"+ ++E,c=new D(this,this._list,a,b);return c._id=b,this._usingWeakRef?(e._createWeakRef(c,b),this._bindings[b]=b):this._bindings[b]=c,c},getCount:function(){return f.wrap(this._list.length)},itemFromKey:function(a){var b=this._list,c=n(b,b.getItemFromKey(a),-1);return Object.defineProperty(c,"index",{get:function(){return b.indexOfKey(a)},enumerable:!1,configurable:!0}),f.wrap(c)},itemFromIndex:function(a){return f.wrap(n(this._list,this._list.getItem(a),a))},list:{get:function(){return this._list}},beginEdits:function(){var a=this._list.length;this._forEachBinding(function(b){b._beginEdits(a,!0)})},endEdits:function(){this._forEachBinding(function(a){a._endEdits()})},_forEachBinding:function(a){if(this._usingWeakRef){var b=[];Object.keys(this._bindings).forEach(function(c){var d=e._getWeakRefElement(c);d?a(d):b.push(c)});for(var c=0,d=b.length;d>c;c++)delete this._bindings[b[c]]}else{var f=this;Object.keys(this._bindings).forEach(function(b){a(f._bindings[b])})}},invalidateAll:function(){return f.wrap()},moveAfter:void 0,moveBefore:void 0,moveToEnd:void 0,moveToStart:void 0},{supportedForProcessing:!1});return F})})}),define("WinJS/BindingList",["exports","./Core/_Base","./Core/_BaseUtils","./Core/_ErrorFromName","./Core/_Events","./Core/_Resources","./Binding/_Data","./BindingList/_BindingListDataSource"],function(a,b,c,d,e,f,g,h){"use strict";function i(a){return Array.prototype.slice.call(a,0)}function j(a){return{handle:a.handle,key:a.key,data:a.data,groupKey:a.groupKey,groupSize:a.groupSize,firstItemKey:a.firstItemKey,firstItemIndexHint:a.firstItemIndexHint}}function k(a){return void 0===a?void 0:+a}function l(a,b){function c(b,c){for(;c>b;b++)a[b]=f[b]}function d(a,b){if(!(2>b-a)){var f=Math.floor((b+a)/2);d(a,f),d(f,b),e(a,f,b),c(a,b)}}function e(c,d,e){for(var g=c,h=d,i=c;e>i;i++)d>g&&(h>=e||b(a[g],a[h])<=0)?(f[i]=a[g],g++):(f[i]=a[h],h++)}var f=new Array(a.length);return d(0,a.length),a}var m={get sparseArrayNotSupported(){return"Sparse arrays are not supported with proxy: true"},get illegalListLength(){return"List length must be assigned a finite positive number"}},n=e._createEventProperty,o={},p=b.Namespace.defineWithParent(null,null,{ListBase:b.Namespace._lazy(function(){var a=b.Class.define(null,{_annotateWithIndex:function(a,b){var c=j(a);return c.index=b,c},onitemchanged:n("itemchanged"),oniteminserted:n("iteminserted"),onitemmoved:n("itemmoved"),onitemmutated:n("itemmutated"),onitemremoved:n("itemremoved"),onreload:n("reload"),_notifyItemChanged:function(a,b,c,d,e,f){this._listeners&&this._listeners.itemchanged&&this.dispatchEvent("itemchanged",{key:a,index:b,oldValue:c,newValue:d,oldItem:e,newItem:f})},_notifyItemInserted:function(a,b,c){this._listeners&&this._listeners.iteminserted&&this.dispatchEvent("iteminserted",{key:a,index:b,value:c});var d=this.length;d!==this._lastNotifyLength&&(this.notify("length",d,this._lastNotifyLength),this._lastNotifyLength=d)},_notifyItemMoved:function(a,b,c,d){this._listeners&&this._listeners.itemmoved&&this.dispatchEvent("itemmoved",{key:a,oldIndex:b,newIndex:c,value:d})},_notifyItemMutated:function(a,b,c){this._listeners&&this._listeners.itemmutated&&this.dispatchEvent("itemmutated",{key:a,value:b,item:c})},_notifyItemRemoved:function(a,b,c,d){this._listeners&&this._listeners.itemremoved&&this.dispatchEvent("itemremoved",{key:a,index:b,value:c,item:d});var e=this.length;e!==this._lastNotifyLength&&(this.notify("length",e,this._lastNotifyLength),this._lastNotifyLength=e)},_notifyReload:function(){if(this._listeners&&this._listeners.reload&&this.dispatchEvent("reload"),a!==this._lastNotifyLength){var a=this.length;this.notify("length",a,this._lastNotifyLength),this._lastNotifyLength=a}},_normalizeIndex:function(a){return a=k(a),0>a?this.length+a:a},_notifyMutatedFromKey:function(a){var b=this.getItemFromKey(a);this._notifyItemMutated(a,b.data,b)},notifyReload:function(){this._notifyReload()},getAt:function(a){a=k(a);var b=this.getItem(a);return b&&b.data},_getArray:function(){for(var a=new Array(this.length),b=0,c=this.length;c>b;b++){var d=this.getItem(b);d&&(a[b]=d.data)}return a},_getFromKey:function(a){var b=this.getItemFromKey(a);return b&&b.data},_getKey:function(a){a=k(a);var b=this.getItem(a);return b&&b.key},concat:function(){var a=this._getArray();return a.concat.apply(a,arguments)},join:function(a){return this._getArray().join(a||",")},slice:function(a,b){return this._getArray().slice(a,b)},indexOf:function(a,b){b=k(b),b=Math.max(0,this._normalizeIndex(b)||0);for(var c=b,d=this.length;d>c;c++){var e=this.getItem(c);if(e&&e.data===a)return c}return-1},lastIndexOf:function(a,b){b=k(b);var c=this.length;b=Math.min(this._normalizeIndex(void 0!==b?b:c),c-1);var d;for(d=b;d>=0;d--){var e=this.getItem(d);if(e&&e.data===a)return d}return-1},every:function(a,b){return this._getArray().every(a,b)},filter:function(a,b){return this._getArray().filter(a,b)},forEach:function(a,b){this._getArray().forEach(a,b)},map:function(a,b){return this._getArray().map(a,b)},some:function(a,b){return this._getArray().some(a,b)},reduce:function(a,b){return arguments.length>1?this._getArray().reduce(a,b):this._getArray().reduce(a)},reduceRight:function(a,b){return arguments.length>1?this._getArray().reduceRight(a,b):this._getArray().reduceRight(a)},createFiltered:function(a){return new p.FilteredListProjection(this,a)},createGrouped:function(a,b,c){return new p.GroupedSortedListProjection(this,a,b,c)},createSorted:function(a){return new p.SortedListProjection(this,a)},dataSource:{get:function(){return this._dataSource=this._dataSource||new h._BindingListDataSource(this)}}},{supportedForProcessing:!1});return b.Class.mix(a,g.observableMixin),b.Class.mix(a,e.eventMixin),a}),ListBaseWithMutators:b.Namespace._lazy(function(){return b.Class.derive(p.ListBase,null,{pop:function(){return this.splice(-1,1)[0]},push:function(a){if(1===arguments.length)return this.splice(this.length,0,a),this.length;var b=i(arguments);return b.splice(0,0,this.length,0),this.splice.apply(this,b),this.length},shift:function(){return this.splice(0,1)[0]},unshift:function(a){if(1===arguments.length)this.splice(0,0,a);else{var b=i(arguments);b.splice(0,0,0,0),this.splice.apply(this,b)}return this.length}},{supportedForProcessing:!1})}),ListProjection:b.Namespace._lazy(function(){return b.Class.derive(p.ListBaseWithMutators,null,{_list:null,_myListeners:null,_addListListener:function(a,b){var c={name:a,handler:b.bind(this)};this._myListeners=this._myListeners||[],this._myListeners.push(c),this._list.addEventListener(a,c.handler)},dispose:function(){var b=this._list,c=this._myListeners;this._myListeners=[];for(var d=0,e=c.length;e>d;d++){var f=c[d];b.removeEventListener(f.name,f.handler)}this._list=new a.List,this._listReload()},getItemFromKey:function(a){return this._list.getItemFromKey(a)},move:function(a,b){a=k(a),b=k(b),a===b||0>a||0>b||a>=this.length||b>=this.length||(a=this._list.indexOfKey(this._getKey(a)),b=this._list.indexOfKey(this._getKey(b)),this._list.move(a,b))},_notifyMutatedFromKey:function(a){this._list._notifyMutatedFromKey(a)},splice:function(a,b,c){a=k(a),a=Math.max(0,this._normalizeIndex(a));var d=i(arguments);return a===this.length?(d[0]=this._list.length,this._list.splice.apply(this._list,d)):(d[0]=this._getKey(a),this._spliceFromKey.apply(this,d))},_setAtKey:function(a,b){this._list._setAtKey(a,b)}},{supportedForProcessing:!1})}),FilteredListProjection:b.Namespace._lazy(function(){return b.Class.derive(p.ListProjection,function(a,b){this._list=a,this._addListListener("itemchanged",this._listItemChanged),this._addListListener("iteminserted",this._listItemInserted),this._addListListener("itemmutated",this._listItemMutated),this._addListListener("itemmoved",this._listItemMoved),this._addListListener("itemremoved",this._listItemRemoved),this._addListListener("reload",this._listReload),this._filter=b,this._initFilteredKeys()},{_filter:null,_filteredKeys:null,_initFilteredKeys:function(){for(var a=this._filter,b=this._list,c=[],d=0,e=b.length;e>d;d++){var f=b.getItem(d);f&&a(f.data)&&c.push(f.key)}this._filteredKeys=c},_findInsertionPosition:function(a,b){for(var c,d=this._filter;--b>=0;){var e=this._list.getItem(b);if(e&&d(e.data)){c=e.key;break}}var f=this._filteredKeys,g=c?f.indexOf(c)+1:0;return g},_listItemChanged:function(a){var b=a.detail.key,c=a.detail.index,d=a.detail.oldValue,e=a.detail.newValue,f=a.detail.oldItem,g=a.detail.newItem,h=this._filter,i=h(d),j=h(e);if(i&&j){var k=this._filteredKeys,l=k.indexOf(b);this._notifyItemChanged(b,l,d,e,f,g)}else i&&!j?this._listItemRemoved({detail:{key:b,index:c,value:d,item:f}}):!i&&j&&this._listItemInserted({detail:{key:b,index:c,value:e}})},_listItemInserted:function(a){var b=a.detail.key,c=a.detail.index,d=a.detail.value,e=this._filter;if(e(d)){var f=this._findInsertionPosition(b,c),g=this._filteredKeys;g.splice(f,0,b),this._notifyItemInserted(b,f,d)}},_listItemMoved:function(a){var b=a.detail.key,c=a.detail.newIndex,d=a.detail.value,e=this._filteredKeys,f=e.indexOf(b);if(-1!==f){e.splice(f,1);var g=this._findInsertionPosition(b,c);e.splice(g,0,b),this._notifyItemMoved(b,f,g,d)}},_listItemMutated:function(a){var b=a.detail.key,c=a.detail.value,d=a.detail.item,e=this._filter,f=this._filteredKeys,g=f.indexOf(b),h=-1!==g,i=e(c);h&&i?this._notifyItemMutated(b,c,d):h&&!i?(f.splice(g,1),this._notifyItemRemoved(b,g,c,d)):!h&&i&&this._listItemInserted({detail:{key:b,index:this._list.indexOfKey(b),value:c}})},_listItemRemoved:function(a){var b=a.detail.key,c=a.detail.value,d=a.detail.item,e=this._filteredKeys,f=e.indexOf(b);-1!==f&&(e.splice(f,1),this._notifyItemRemoved(b,f,c,d))},_listReload:function(){this._initFilteredKeys(),this._notifyReload()},length:{get:function(){return this._filteredKeys.length},set:function(a){if(!("number"==typeof a&&a>=0))throw new d("WinJS.Binding.List.IllegalLength",m.illegalListLength);var b=this.length;b>a&&this.splice(a,b-a)}},getItem:function(a){return a=k(a),this.getItemFromKey(this._filteredKeys[a])},indexOfKey:function(a){return this._filteredKeys.indexOf(a)},notifyMutated:function(a){return a=k(a),this._notifyMutatedFromKey(this._filteredKeys[a])},setAt:function(a,b){a=k(a),this._setAtKey(this._filteredKeys[a],b)},_spliceFromKey:function(a,b){if(arguments.length>2){var c=i(arguments);c[1]=0,this._list._spliceFromKey.apply(this._list,c)}var d=[];if(b){for(var e=[],f=this._filteredKeys,g=f.indexOf(a),h=g,j=f.length;j>h&&b>h-g;h++){var a=f[h];e.push(a)}var k=this;e.forEach(function(a){d.push(k._list._spliceFromKey(a,1)[0])})}return d}},{supportedForProcessing:!1})}),SortedListProjection:b.Namespace._lazy(function(){return b.Class.derive(p.ListProjection,function(a,b){this._list=a,this._addListListener("itemchanged",this._listItemChanged),this._addListListener("iteminserted",this._listItemInserted),this._addListListener("itemmoved",this._listItemMoved),this._addListListener("itemmutated",this._listItemMutated),this._addListListener("itemremoved",this._listItemRemoved),this._addListListener("reload",this._listReload),this._sortFunction=b,this._initSortedKeys()},{_sortFunction:null,_sortedKeys:null,_initSortedKeys:function(){for(var a=this._list,b=[],c=0,d=a.length;d>c;c++){var e=a.getItem(c);e&&(b[c]=e.key)}var f=this._sortFunction,g=l(b,function(b,c){return b=a.getItemFromKey(b).data,c=a.getItemFromKey(c).data,f(b,c)});this._sortedKeys=g},_findInsertionPos:function(a,b,c,d,e){for(var f=this._sortFunction,g=this._sortedKeys,h=Math.max(0,d||-1),i=Math.min(g.length,e||Number.MAX_VALUE),j=h;i>=h;){j=(h+i)/2>>>0;var k=g[j];if(!k)break;var l=this.getItemFromKey(k),m=f(l.data,c);if(0>m)h=j+1;else{if(0===m)return this._findStableInsertionPos(a,b,h,i,j,c);i=j-1}}return h},_findBeginningOfGroup:function(a,b,c,d,e){for(var f=0,g=a;g>=f;){a=(f+g)/2>>>0;var h=d[a],i=c.getItemFromKey(h),j=b(i.data,e);0>j?f=a+1:g=a-1}return f},_findEndOfGroup:function(a,b,c,d,e){for(var f=a,g=d.length;g>=f;){a=(f+g)/2>>>0;var h=d[a];if(!h)return d.length;var i=c.getItemFromKey(h),j=b(i.data,e);0>=j?f=a+1:g=a-1}return f},_findStableInsertionPos:function(a,b,c,d,e,f){var g=this._list,h=g.length,i=this._sortFunction,j=this._sortedKeys;if(h/2>b){for(var k=b-1;k>=0;k--){var l=g.getItem(k);if(0===i(l.data,f))return h-c>d?j.indexOf(l.key,c)+1:j.lastIndexOf(l.key,d)+1}return this._findBeginningOfGroup(e,i,g,j,f)}for(var k=b+1;h>k;k++){var l=g.getItem(k);if(0===i(l.data,f))return h-c>d?j.indexOf(l.key,c):j.lastIndexOf(l.key,d)}return this._findEndOfGroup(e,i,g,j,f)},_listItemChanged:function(a){var b=a.detail.key,c=a.detail.newValue,d=a.detail.oldValue,e=this._sortFunction;if(0===e(d,c)){var f=this.indexOfKey(b);this._notifyItemChanged(b,f,d,c,a.detail.oldItem,a.detail.newItem)}else this._listItemRemoved({detail:{key:b,index:a.detail.index,value:a.detail.oldValue,item:a.detail.oldItem}}),this._listItemInserted({detail:{key:b,index:a.detail.index,value:a.detail.newValue}})},_listItemInserted:function(a,b,c){var d=a.detail.key,e=a.detail.index,f=a.detail.value,g=this._findInsertionPos(d,e,f,b,c);this._sortedKeys.splice(g,0,d),this._notifyItemInserted(d,g,f)},_listItemMoved:function(a,b,c){var d=a.detail.key,e=a.detail.newIndex,f=a.detail.value,g=this._sortedKeys,h=g.indexOf(d,b);g.splice(h,1);var i=this._findInsertionPos(d,e,f,b,c);g.splice(i,0,d),i!==h&&this._notifyItemMoved(d,h,i,f)},_listItemMutated:function(a){var b=a.detail.key,c=a.detail.value,d=a.detail.item,e=this._list.indexOfKey(b),f=this._sortedKeys.indexOf(b);this._sortedKeys.splice(f,1);var g=this._findInsertionPos(b,e,c);return this._sortedKeys.splice(f,0,b),f===g?void this._notifyItemMutated(b,c,d):(this._listItemRemoved({detail:{key:b,index:e,value:c,item:d}}),void this._listItemInserted({detail:{key:b,index:e,value:c}}))},_listItemRemoved:function(a,b){var c=a.detail.key,d=a.detail.value,e=a.detail.item,f=this._sortedKeys,g=f.indexOf(c,b);f.splice(g,1),this._notifyItemRemoved(c,g,d,e)},_listReload:function(){this._initSortedKeys(),this._notifyReload()},length:{get:function(){return this._sortedKeys.length},set:function(a){if(!("number"==typeof a&&a>=0))throw new d("WinJS.Binding.List.IllegalLength",m.illegalListLength);var b=this.length;b>a&&this.splice(a,b-a)}},getItem:function(a){return a=k(a),this.getItemFromKey(this._sortedKeys[a])},indexOfKey:function(a){return this._sortedKeys.indexOf(a)},notifyMutated:function(a){a=k(a),this._notifyMutatedFromKey(this._sortedKeys[a])},setAt:function(a,b){a=k(a),this._setAtKey(this._sortedKeys[a],b)},_spliceFromKey:function(a,b){if(arguments.length>2){var c=i(arguments);c[1]=0,this._list._spliceFromKey.apply(this._list,c)}var d=[];if(b){for(var e=[],f=this._sortedKeys,g=f.indexOf(a),h=g,j=f.length;j>h&&b>h-g;h++)e.push(f[h]);var k=this;e.forEach(function(a){d.push(k._list._spliceFromKey(a,1)[0])})}return d}},{supportedForProcessing:!1})}),GroupedSortedListProjection:b.Namespace._lazy(function(){return b.Class.derive(p.SortedListProjection,function(a,b,c,d){this._list=a,this._addListListener("itemchanged",this._listGroupedItemChanged),this._addListListener("iteminserted",this._listGroupedItemInserted),this._addListListener("itemmoved",this._listGroupedItemMoved),this._addListListener("itemmutated",this._listGroupedItemMutated),this._addListListener("itemremoved",this._listGroupedItemRemoved),this._addListListener("reload",this._listReload),this._sortFunction=function(a,c){return a=b(a),c=b(c),d?d(a,c):c>a?-1:a===c?0:1},this._groupKeyOf=b,this._groupDataOf=c,this._initSortedKeys(),this._initGroupedItems()},{_groupKeyOf:null,_groupDataOf:null,_groupedItems:null,_initGroupedItems:function(){for(var a={},b=this._list,c=this._groupKeyOf,d=0,e=b.length;e>d;d++){var f=j(b.getItem(d));f.groupKey=c(f.data),a[f.key]=f}this._groupedItems=a},_groupsProjection:null,_listGroupedItemChanged:function(a){var b=a.detail.key,c=a.detail.oldValue,d=a.detail.newValue,e=this._groupedItems,f=e[b],g=j(f);g.data=d,g.groupKey=this._groupKeyOf(d),e[b]=g;var h;f.groupKey===g.groupKey?(h=this.indexOfKey(b),this._notifyItemChanged(b,h,c,d,f,g)):(h=a.detail.index,this._listItemChanged({
detail:{key:b,index:h,oldValue:c,newValue:d,oldItem:f,newItem:g}}))},_listGroupedItemInserted:function(a){var b=a.detail.key,c=a.detail.value,d=this._groupKeyOf(c);this._groupedItems[b]={handle:b,key:b,data:c,groupKey:d};var e,f;if(this._groupsProjection){var g=this._groupsProjection._groupItems[d];g&&(e=g.firstItemIndexHint,f=e+g.groupSize)}this._listItemInserted(a,e,f)},_listGroupedItemMoved:function(a){var b,c,d=this._groupedItems[a.detail.key].groupKey;if(this._groupsProjection){var e=this._groupsProjection._groupItems[d];b=e.firstItemIndexHint,c=b+e.groupSize}this._listItemMoved(a,b,c)},_listGroupedItemMutated:function(a){var b=a.detail.key,c=a.detail.value,d=this._groupedItems,e=d[b],f=this._groupKeyOf(c);if(e.groupKey===f)this._notifyItemMutated(b,c,e);else{var g=j(e);g.groupKey=f,d[b]=g;var h=this._list.indexOfKey(b);this._listItemRemoved({detail:{key:b,index:h,value:c,item:e}}),this._listItemInserted({detail:{key:b,index:h,value:c}})}},_listGroupedItemRemoved:function(a){var b=a.detail.key,c=a.detail.index,d=a.detail.value,e=this._groupedItems,f=e[b];delete e[b];var g,h;if(this._groupsProjection){var i=this._groupsProjection._groupItems[f.groupKey];g=i.firstItemIndexHint,h=g+i.groupSize}this._listItemRemoved({detail:{key:b,index:c,value:d,item:f}},g,h)},_listReload:function(){this._initGroupedItems(),p.SortedListProjection.prototype._listReload.call(this)},groups:{get:function(){return null===this._groupsProjection&&(this._groupsProjection=new p.GroupsListProjection(this,this._groupKeyOf,this._groupDataOf)),this._groupsProjection}},getItemFromKey:function(a){return this._groupedItems[a]}},{supportedForProcessing:!1})}),GroupsListProjection:b.Namespace._lazy(function(){return b.Class.derive(p.ListBase,function(a,b,c){this._list=a,this._addListListener("itemchanged",this._listItemChanged),this._addListListener("iteminserted",this._listItemInserted),this._addListListener("itemmoved",this._listItemMoved),this._addListListener("itemremoved",this._listItemRemoved),this._addListListener("reload",this._listReload),this._groupKeyOf=b,this._groupDataOf=c,this._initGroupKeysAndItems()},{_list:null,_addListListener:function(a,b){this._list.addEventListener(a,b.bind(this))},_groupDataOf:null,_groupKeyOf:null,_groupOf:function(a){return this.getItemFromKey(this._groupKeyOf(a.data))},_groupKeys:null,_groupItems:null,_initGroupKeysAndItems:function(){for(var a,b=this._groupDataOf,c=this._list,d={},e=[],f=null,g=null,h=0,i=c.length;i>h;h++){var j=c.getItem(h),k=j.groupKey;k!==f?(g&&(g.groupSize=a),a=1,f=k,g={handle:k,key:k,data:b(j.data),firstItemKey:j.key,firstItemIndexHint:h},d[k]=g,e.push(k)):a++}g&&(g.groupSize=a),this._groupKeys=e,this._groupItems=d},_listItemChanged:function(a){var b=a.detail.key,c=a.detail.index,d=a.detail.newValue,e=this._list,f=e.getItemFromKey(b).groupKey,g=this._groupItems,h=g[f];if(h.firstItemIndexHint===c){var i=j(h);i.data=this._groupDataOf(d),i.firstItemKey=b,g[f]=i,this._notifyItemChanged(f,this._groupKeys.indexOf(f),h.data,i.data,h,i)}},_listItemInserted:function(a){var b,c,d,e,f,g=a.detail.key,h=a.detail.index,i=a.detail.value,k=this._list,l=k.getItemFromKey(g).groupKey,m=this._groupItems,n=this._groupKeys,o=m[l];if(o)c=o,d=j(c),d.groupSize++,c.firstItemIndexHint===h&&(d.groupData=this._groupDataOf(i),d.firstItemKey=g,d.firstItemIndexHint=h),m[l]=d,b=n.indexOf(l),this._notifyItemChanged(l,b,c.data,d.data,c,d);else{for(e=0,f=n.length;f>e&&(o=m[n[e]],!(o.firstItemIndexHint>=h));e++);b=e,o={handle:l,key:l,data:this._groupDataOf(i),groupSize:1,firstItemKey:g,firstItemIndexHint:h},n.splice(b,0,l),m[l]=o,this._notifyItemInserted(l,b,o.data)}for(e=b+1,f=n.length;f>e;e++)c=m[n[e]],d=j(c),d.firstItemIndexHint++,m[d.key]=d,this._notifyItemChanged(d.key,e,c.data,d.data,c,d)},_listItemMoved:function(a){var b=a.detail.key,c=a.detail.oldIndex,d=a.detail.newIndex,e=this._list,f=e.getItemFromKey(b).groupKey,g=this._groupItems,h=g[f];if(h.firstItemIndexHint===d||h.firstItemIndexHint===c){var i=e.getItem(h.firstItemIndexHint),k=j(h);k.data=this._groupDataOf(i.data),k.firstItemKey=i.key,g[f]=k,this._notifyItemChanged(f,this._groupKeys.indexOf(f),h.data,k.data,h,k)}},_listItemRemoved:function(a){var b,c,d=a.detail.index,e=a.detail.item,f=this._groupItems,g=this._groupKeys,h=e.groupKey,i=f[h],k=g.indexOf(h);if(1===i.groupSize)g.splice(k,1),delete f[h],this._notifyItemRemoved(h,k,i.data,i),k--;else{if(b=i,c=j(b),c.groupSize--,b.firstItemIndexHint===d){var l=this._list.getItem(d);c.data=this._groupDataOf(l.data),c.firstItemKey=l.key}f[h]=c,this._notifyItemChanged(h,k,b.data,c.data,b,c)}for(var m=k+1,n=g.length;n>m;m++)b=f[g[m]],c=j(b),c.firstItemIndexHint--,f[c.key]=c,this._notifyItemChanged(c.key,m,b.data,c.data,b,c)},_listReload:function(){this._initGroupKeysAndItems(),this._notifyReload()},length:{get:function(){return this._groupKeys.length}},getItem:function(a){return a=k(a),this._groupItems[this._groupKeys[a]]},getItemFromKey:function(a){return this._groupItems[a]},indexOfKey:function(a){return this._groupKeys.indexOf(a)}},{supportedForProcessing:!1})})});b.Namespace._moduleDefine(a,"WinJS.Binding",{List:b.Namespace._lazy(function(){return b.Class.derive(p.ListBaseWithMutators,function(a,b){if(this._currentKey=0,this._keys=null,this._keyMap={},b=b||o,this._proxy=b.proxy,this._binding=b.binding,this._proxy){if(Object.keys(a).length!==a.length)throw new d("WinJS.Binding.List.NotSupported",m.sparseArrayNotSupported);this._data=a,this._currentKey=a.length}else if(a){for(var c=this._keyMap,e=0,f=0,h=a.length;h>f;f++)if(f in a){var i=a[f];this._binding&&(i=g.as(i));var j=e.toString();e++,c[j]={handle:j,key:j,data:i}}e!==f&&this._initializeKeys(),this._currentKey=e}},{_currentKey:0,_keys:null,_keyMap:null,_modifyingData:0,_initializeKeys:function(){if(!this._keys){var a=[];if(this._data){for(var b=this._keyMap,c=this._data,d=0,e=c.length;e>d;d++)if(d in c){var f=d.toString();if(a[d]=f,!(f in b)){var h=c[d];this._binding&&(h=g.as(h)),b[f]={handle:f,key:f,data:h}}}}else Object.keys(this._keyMap).forEach(function(b){a[b>>>0]=b});this._keys=a}},_lazyPopulateEntry:function(a){if(this._data&&a in this._data){var b=this._data[a];this._binding&&(b=g.as(b));var c=a.toString(),d={handle:c,key:c,data:b};return this._keyMap[d.key]=d,d}},_assignKey:function(){return(++this._currentKey).toString()},length:{get:function(){return this._data?this._data.length:this._keys?this._keys.length:this._currentKey},set:function(a){if(!("number"==typeof a&&a>=0))throw new d("WinJS.Binding.List.IllegalLength",m.illegalListLength);this._initializeKeys();var b=this.length;if(b>a?this.splice(a,b-a):a=b,this._data){this._modifyingData++;try{this._data.length=a}finally{this._modifyingData--}}this._keys&&(this._keys.length=a)}},getItem:function(a){var b,c;return a=k(a),this._keys?(c=this._keys[a],b=c&&this._keyMap[c]):(c=a.toString(),b=this._keyMap[c]||this._lazyPopulateEntry(a)),b},getItemFromKey:function(a){var b;return b=this._keys||!this._data?this._keyMap[a]:this.getItem(a>>>0)},indexOfKey:function(a){var b=-1;if(this._keys)b=this._keys.indexOf(a);else{var c=a>>>0;c<this._currentKey&&(b=c)}return b},move:function(a,b){if(a=k(a),b=k(b),this._initializeKeys(),!(a===b||0>a||0>b||a>=this.length||b>=this.length)){if(this._data){this._modifyingData++;try{var c=this._data.splice(a,1)[0];this._data.splice(b,0,c)}finally{this._modifyingData--}}var d=this._keys.splice(a,1)[0];this._keys.splice(b,0,d),this._notifyItemMoved(d,a,b,this.getItemFromKey(d).data)}},notifyMutated:function(a){a=k(a);var b=this._keys?this._keys[a]:a.toString();this._notifyMutatedFromKey(b)},setAt:function(a,b){a=k(a),this._initializeKeys();var c=this.length;if(a===c)this.push(b);else if(c>a){if(this._data){this._modifyingData++;try{this._data[a]=b}finally{this._modifyingData--}}if(this._binding&&(b=g.as(b)),a in this._keys){var d=this._keys[a],e=this._keyMap[d],f=j(e);f.data=b,this._keyMap[d]=f,this._notifyItemChanged(d,a,e.data,b,e,f)}}},_setAtKey:function(a,b){this.setAt(this.indexOfKey(a),b)},reverse:function(){if(this._initializeKeys(),this._data){this._modifyingData++;try{this._data.reverse()}finally{this._modifyingData--}}return this._keys.reverse(),this._notifyReload(),this},sort:function(a){if(this._initializeKeys(),this._data){this._modifyingData++;try{this._data.sort(a)}finally{this._modifyingData--}}var b=this;return this._keys.sort(function(c,d){return c=b._keyMap[c],d=b._keyMap[d],a?a(c.data,d.data):(c=(c&&c.data||"").toString(),d=(c&&d.data||"").toString(),d>c?-1:c===d?0:1)}),this._notifyReload(),this},pop:function(){if(0!==this.length){this._initializeKeys();var a=this._keys.pop(),b=this._keyMap[a],c=b&&b.data;if(this._data){this._modifyingData++;try{this._data.pop()}finally{this._modifyingData--}}return delete this._keyMap[a],this._notifyItemRemoved(a,this._keys.length,c,b),c}},push:function(){this._initializeKeys();for(var a=arguments.length,b=0;a>b;b++){var c=arguments[b];this._binding&&(c=g.as(c));var d=this._assignKey();if(this._keys.push(d),this._data){this._modifyingData++;try{this._data.push(arguments[b])}finally{this._modifyingData--}}this._keyMap[d]={handle:d,key:d,data:c},this._notifyItemInserted(d,this._keys.length-1,c)}return this.length},shift:function(){if(0!==this.length){this._initializeKeys();var a=this._keys.shift(),b=this._keyMap[a],c=b&&b.data;if(this._data){this._modifyingData++;try{this._data.shift()}finally{this._modifyingData--}}return delete this._keyMap[a],this._notifyItemRemoved(a,0,c,b),c}},unshift:function(){this._initializeKeys();for(var a=arguments.length,b=a-1;b>=0;b--){var c=arguments[b];this._binding&&(c=g.as(c));var d=this._assignKey();if(this._keys.unshift(d),this._data){this._modifyingData++;try{this._data.unshift(arguments[b])}finally{this._modifyingData--}}this._keyMap[d]={handle:d,key:d,data:c},this._notifyItemInserted(d,0,c)}return this.length},splice:function(a,b,c){a=k(a),this._initializeKeys(),a=Math.max(0,this._normalizeIndex(a)),b=Math.max(0,Math.min(b||0,this.length-a));for(var d=[];b;){var e=this._keys[a],f=this._keyMap[e],h=f&&f.data;if(d.push(h),this._keys.splice(a,1),this._data){this._modifyingData++;try{this._data.splice(a,1)}finally{this._modifyingData--}}delete this._keyMap[e],this._notifyItemRemoved(e,a,h,f),--b}if(arguments.length>2)for(var i=2,j=arguments.length;j>i;i++){var l=arguments[i];this._binding&&(l=g.as(l));var m=Math.min(a+i-2,this.length),n=this._assignKey();if(this._keys.splice(m,0,n),this._data){this._modifyingData++;try{this._data.splice(m,0,arguments[i])}finally{this._modifyingData--}}this._keyMap[n]={handle:n,key:n,data:l},this._notifyItemInserted(n,m,l)}return d},_spliceFromKey:function(a){this._initializeKeys();var b=i(arguments);return b[0]=this._keys.indexOf(a),this.splice.apply(this,b)}},{supportedForProcessing:!1})})})}),define("WinJS/Res",["exports","./Core/_Global","./Core/_Base","./Core/_BaseUtils","./Core/_ErrorFromName","./Core/_Resources","./ControlProcessor/_OptionsParser","./Promise"],function(a,b,c,d,e,f,g,h){"use strict";function i(a,c){a=a||b.document.body;var c=c||0;if(4>c){if(0===c&&a.getAttribute){var f=a.getAttribute("data-win-res");if(f){var i=g.optionsParser(f);l(a,a,i,c)}}var j="[data-win-res],[data-win-control]",k=a.querySelectorAll(j);if(0===k.length)return h.as(a);for(var n=0,p=k.length;p>n;n++){var q=k[n];if(q.winControl&&q.winControl.constructor&&q.winControl.constructor.isDeclarativeControlContainer){var r=q.winControl.constructor.isDeclarativeControlContainer;"function"==typeof r&&(r=o(r),r(q.winControl,m),n+=q.querySelectorAll(j).length)}if(q.hasAttribute("data-win-res")){var i=g.optionsParser(q.getAttribute("data-win-res"));l(q,q,i,c)}}}else if(d.validation)throw new e("WinJS.Res.NestingExceeded","NestingExceeded");return h.as(a)}function j(a,b){for(var c=Object.keys(b),e=0,g=c.length;g>e;e++){var h=c[e],i=b[h],j=f.getString(i);j&&j.empty?d.validation&&k(i):(a.setAttribute(h,j.value),void 0!==j.lang&&void 0!==a.lang&&a.lang!==j.lang&&(a.lang=j.lang))}}function k(a){throw new e("WinJS.Res.NotFound",f._formatString("NotFound: {0}",a))}function l(a,b,c,e){var g=Object.keys(c);b=o(b);for(var h=0,m=g.length;m>h;h++){var n=g[h],p=c[n];if("string"==typeof p){var q=f.getString(p);q&&q.empty?d.validation&&k(p):(b[n]=q.value,void 0!==q.lang&&void 0!==a.lang&&a.lang!==q.lang&&(a.lang=q.lang),"innerHTML"===n&&i(b,e+1))}else a===b&&"attributes"===n?j(a,p):l(a,b[n],p,e)}}function m(a){if(!n)return d.ready().then(function(){return n=!0,i(a)});try{return i(a)}catch(b){return h.wrapError(b)}}var n=!1,o=d.requireSupportedForProcessing;c.Namespace._moduleDefine(a,"WinJS.Resources",{processAll:m})}),define("WinJS/Pages/_BasePage",["exports","../Core/_Global","../Core/_Base","../Core/_BaseUtils","../Core/_WriteProfilerMark","../Promise","../Utilities/_Control","../Utilities/_Dispose","../Utilities/_ElementUtilities"],function(a,b,c,d,e,f,g,h,i){"use strict";function j(a){var c=b.document.createElement("a");return c.href=a,c.href}function k(a){return b.document.location.href.toLowerCase()===a.toLowerCase()}function l(a,h){var l=m(a);return a=j(a),l||(l=c.Class.define(function(c,g,h,j){var l=this;this._disposed=!1,this.element=c=c||b.document.createElement("div"),i.addClass(c,"win-disposable"),c.msSourceLocation=a,this.uri=a,this.selfhost=k(a),c.winControl=this,i.addClass(c,"pagecontrol");var m=" uri='"+a+"'"+d._getProfilerMarkIdentifier(this.element);e("WinJS.UI.Pages:createPage"+m+",StartTM");var n=f.wrap().then(function(){return l.load(a)}),o=n.then(function(a){return f.join({loadResult:a,initResult:l.init(c,g)})}).then(function(a){return l.render(c,g,a.loadResult)});this.elementReady=o.then(function(){return c}),this.renderComplete=o.then(function(){return l.process(c,g)}).then(function(){return l.processed(c,g)}).then(function(){return l});var p=function(){h&&h(l),e("WinJS.UI.Pages:createPage"+m+",StopTM")};this.renderComplete.then(p,p),this.readyComplete=this.renderComplete.then(function(){return j}).then(function(){return l.ready(c,g),l}).then(null,function(a){return l.error(a)})},p),l=c.Class.mix(l,g.DOMEventMixin),o[a.toLowerCase()]=l),h&&(l=c.Class.mix(l,h)),l.selfhost=k(a),l}function m(a){return a=j(a),o[a.toLowerCase()]}function n(a){a=j(a),delete o[a.toLowerCase()]}if(b.document){var o={},p={dispose:function(){this._disposed||(this._disposed=!0,h.disposeSubTree(this.element),this.element=null)},load:function(a){},init:function(a,b){},process:function(a,b){},processed:function(a,b){},render:function(a,b,c){},ready:function(a,b){},error:function(a){return f.wrapError(a)}};c.Namespace._moduleDefine(a,null,{abs:j,define:l,get:m,remove:n,viewMap:o})}}),define("WinJS/Pages",["exports","./Core/_Global","./Core/_Base","./Core/_BaseUtils","./ControlProcessor","./Fragments","./Pages/_BasePage","./Promise"],function(a,b,c,d,e,f,g,h){"use strict";function i(a,e){var f=g.get(a);return f||(f=g.define(a,m)),e&&(f=c.Class.mix(f,e)),f.selfhost&&d.ready(function(){l(g.abs(a),b.document.body)},!0),f}function j(a){var b=g.get(a);return b||(b=i(a)),b}function k(a){f.clearCache(g.abs(a)),g.remove(a)}function l(a,b,c,d){var e=j(a),f=new e(b,c,null,d);return f.renderComplete.then(null,function(a){return h.wrapError({error:a,page:f})})}if(b.document){var m={load:function(a){return this.selfhost?void 0:f.renderCopy(g.abs(a))},process:function(a,b){return e.processAll(a)},render:function(a,b,c){return this.selfhost||a.appendChild(c),a}};c.Namespace._moduleDefine(a,"WinJS.UI.Pages",{define:i,get:j,_remove:k,render:l,_viewMap:g.viewMap})}}),define("WinJS/Controls/HtmlControl",["exports","../Core/_Global","../Core/_Base","../Pages"],function(a,b,c,d){"use strict";b.document&&c.Namespace._moduleDefine(a,"WinJS.UI",{HtmlControl:c.Class.define(function(a,b,c){d.render(b.uri,a,b).then(c,function(){c()})})})}),define("base",["WinJS/Core/_WinJS","WinJS/Core","WinJS/Promise","WinJS/_Signal","WinJS/Scheduler","WinJS/Utilities","WinJS/XYFocus","WinJS/Fragments","WinJS/Application","WinJS/Navigation","WinJS/Animations","WinJS/Binding","WinJS/BindingTemplate","WinJS/BindingList","WinJS/Res","WinJS/Pages","WinJS/ControlProcessor","WinJS/Controls/HtmlControl"],function(a){"use strict";return a.Namespace.define("WinJS.Utilities",{_require:$__require,_define:define}),a}),$__require(["WinJS/Core/_WinJS","base"],function(a){globalObject.WinJS=a,"undefined"!=typeof module&&(module.exports=a)}),globalObject.WinJS})}()}($__require("6")),module.exports}),$__System.registerDynamic("7",["5","6"],!0,function(a,b,c){var d,e=this;return function(f){!function(){var f="undefined"!=typeof window?window:"undefined"!=typeof self?self:"undefined"!=typeof e?e:{};!function(c){"function"==typeof d&&d.amd?d(["./base"],c):(f.msWriteProfilerMark&&msWriteProfilerMark("WinJS.4.4 4.4.0.winjs.2015.10.2 ui.js,StartTM"),c("object"==typeof b&&"string"!=typeof b.nodeName?a("5"):f.WinJS),f.msWriteProfilerMark&&msWriteProfilerMark("WinJS.4.4 4.4.0.winjs.2015.10.2 ui.js,StopTM"))}(function(a){var b=a.Utilities._require,d=a.Utilities._define;d("WinJS/VirtualizedDataSource/_VirtualizedDataSourceImpl",["exports","../Core/_Global","../Core/_Base","../Core/_BaseUtils","../Core/_ErrorFromName","../Core/_Events","../Core/_Log","../Core/_Resources","../Core/_WriteProfilerMark","../Promise","../Scheduler","../_Signal","../Utilities/_UI"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){"use strict";c.Namespace._moduleDefine(a,"WinJS.UI",{VirtualizedDataSource:c.Namespace._lazy(function(){function a(a,c){function f(a){var b="WinJS.UI.VirtualizedDataSource:"+pd+":"+a+",StartTM";i(b),g.log&&g.log(b,"winjs vds","perf")}function u(a){var b="WinJS.UI.VirtualizedDataSource:"+pd+":"+a+",StopTM";i(b),g.log&&g.log(b,"winjs vds","perf")}function v(a){return"number"==typeof a&&a>=0}function w(a){return v(a)&&a===Math.floor(a)}function x(a){if(null===a)a=void 0;else if(void 0!==a&&!w(a))throw new e("WinJS.UI.ListDataSource.InvalidIndexReturned",s.invalidIndexReturned);return a}function y(a){if(null===a)a=void 0;else if(void 0!==a&&!w(a)&&a!==p.unknown)throw new e("WinJS.UI.ListDataSource.InvalidCountReturned",s.invalidCountReturned);return a}function z(){var a=(nc++).toString(),b={handle:a,item:null,itemNew:null,fetchListeners:null,cursorCount:0,bindingMap:null};return Nc[a]=b,b}function A(){return z()}function B(a,b){a.prev=b.prev,a.next=b,a.prev.next=a,b.prev=a}function C(a){a.lastInSequence&&(delete a.lastInSequence,a.prev.lastInSequence=!0),a.firstInSequence&&(delete a.firstInSequence,a.next.firstInSequence=!0),a.prev.next=a.next,a.next.prev=a.prev}function D(a){for(;!a.firstInSequence;)a=a.prev;return a}function E(a){for(;!a.lastInSequence;)a=a.next;return a}function F(a,b,c){return b.prev.next=c.next,c.next.prev=b.prev,b.prev=a.prev,c.next=a,b.prev.next=b,a.prev=c,!0}function G(a,b,c){return b.prev.next=c.next,c.next.prev=b.prev,b.prev=a,c.next=a.next,a.next=b,c.next.prev=c,!0}function H(a){delete a.lastInSequence,delete a.next.firstInSequence}function I(a){var b=a.next;a.lastInSequence=!0,b.firstInSequence=!0,b===Lc&&na(Lc,void 0)}function J(a,b,c,d){B(a,b);var e=a.prev;e.lastInSequence&&(c?delete e.lastInSequence:a.firstInSequence=!0,d?delete b.firstInSequence:a.lastInSequence=!0)}function K(a,b){a.key=b,Oc[a.key]=a}function L(a,b,c){+b===b&&(a.index=b,c[b]=a,Ac||(a.firstInSequence&&a.prev&&a.prev.index===b-1&&H(a.prev),a.lastInSequence&&a.next&&a.next.index===b+1&&H(a)))}function M(a,b){var c=b===Pc?A():z();return B(c,a),c}function N(a,b,c){var d=M(a,c);return d.firstInSequence=!0,d.lastInSequence=!0,L(d,b,c),d}function O(a,b){return N(a,b,Pc)}function P(a,b){var c=M(a,b);return delete a.firstInSequence,c.prev.index===c.index-1?delete c.prev.lastInSequence:c.firstInSequence=!0,L(c,a.index-1,b),c}function Q(a,b){var c=M(a.next,b);return delete a.lastInSequence,c.next.index===c.index+1?delete c.next.firstInSequence:c.lastInSequence=!0,L(c,a.index+1,b),c}function R(a,b,c,d){J(a,b,c,d),Oc[a.key]=a,void 0!==a.index&&(Pc[a.index]=a)}function S(a){C(a),a.key&&delete Oc[a.key],void 0!==a.index&&Pc[a.index]===a&&delete Pc[a.index];var b=a.bindingMap;for(var c in b){var d=b[c].handle;d&&Nc[d]===a&&delete Nc[d]}Nc[a.handle]===a&&delete Nc[a.handle]}function T(a){return!Nc[a.handle]}function U(a,b,c,d,e){var f=e?null:b[a-1];if(f&&(f.next!==d||d.firstInSequence))f=f.next;else if(f=b[a+1],!f){f=c.next;for(var g;;){if(f.firstInSequence&&(g=f),!(a>=f.index)||f===d)break;f=f.next}f!==d||d.firstInSequence||(f=g&&void 0===g.index?g:void 0)}return f}function V(a){return!a.item&&!a.itemNew&&a!==Lc}function W(a,b){Object.defineProperty(a,"handle",{value:b,writable:!1,enumerable:!1,configurable:!0})}function X(a,b,c){W(a,c),Object.defineProperty(a,"index",{get:function(){for(;b.slotMergedWith;)b=b.slotMergedWith;return b.index},enumerable:!1,configurable:!0})}function Y(a){if(void 0===a)return a;var b=JSON.stringify(a);if(void 0===b)throw new e("WinJS.UI.ListDataSource.ObjectIsNotValidJson",s.objectIsNotValidJson);return b}function Z(b){return a.itemSignature?a.itemSignature(b.data):Y(b.data)}function $(b){var c=b.itemNew;b.itemNew=null,c&&(c=Object.create(c),X(c,b,b.handle),a.compareByIdentity||(b.signature=Z(c))),b.item=c,delete b.indexRequested,delete b.keyRequested}function _(a){return a.bindingMap||a.cursorCount>0}function aa(a){return _(a)||a.fetchListeners||a.directFetchListeners}function ba(a){return aa(a)||!a.firstInSequence&&_(a.prev)||!a.lastInSequence&&_(a.next)||!id&&(!a.firstInSequence&&a.prev!==Kc&&!(a.prev.item||a.prev.itemNew))|(!a.lastInSequence&&a.next!==Lc&&!(a.next.item||a.next.itemNew))}function ca(a){I(a),S(a)}function da(){if(!vc){Rc&&!T(Rc)||(Rc=Lc.prev);for(var a=Rc.prev,b=Rc.next,c=0,d=function(a){a===Lc||ba(a)||(hc>=c?c++:ca(a))};a||b;){if(a){var e=a;a=e.prev,e!==Kc&&d(e)}if(b){var f=b;b=f.next,f!==Mc&&d(f)}}Qc=0}}function ea(a){aa(a)||(Qc++,vc||Uc||(Rc=a,Qc>hc&&!Sc&&(Sc=!0,k.schedule(function(){Sc=!1,da()},k.Priority.idle,null,"WinJS.UI.VirtualizedDataSource.releaseSlotIfUnrequested"))))}function fa(a){for(var b in lc)a(lc[b])}function ga(a,b){for(var c in a.bindingMap)b(a.bindingMap[c].bindingRecord,c)}function ha(a){return a.notificationsSent||(a.notificationsSent=!0,a.notificationHandler.beginNotifications&&a.notificationHandler.beginNotifications()),a.notificationHandler}function ia(){sc||yc||fa(function(a){a.notificationsSent&&(a.notificationsSent=!1,a.notificationHandler.endNotifications&&a.notificationHandler.endNotifications())})}function ja(a,b){var c=a.bindingMap;if(c){var d=c[b];if(d){var e=d.handle;if(e)return e}}return a.handle}function ka(a,b){return a&&a.handle!==b&&(a=Object.create(a),W(a,b)),a}function la(a){var b=Jc;Jc=a,fa(function(a){a.notificationHandler&&a.notificationHandler.countChanged&&ha(a).countChanged(Jc,b)})}function ma(a,b){ga(a,function(c,d){c.notificationHandler.indexChanged&&ha(c).indexChanged(ja(a,d),a.index,b)})}function na(a,b){var c=a.index;if(void 0!==c&&Pc[c]===a&&delete Pc[c],+b===b)L(a,b,Pc);else{if(+c!==c)return;delete a.index}ma(a,c)}function oa(a,b,c,d,e){var f={};if((d||!b.lastInSequence)&&(e||!c.firstInSequence))if(b===Kc)if(c===Lc)for(var g in lc)f[g]=lc[g];else for(var g in c.bindingMap)f[g]=lc[g];else if(c===Lc||c.bindingMap)for(var g in b.bindingMap)(c===Lc||c.bindingMap[g])&&(f[g]=lc[g]);for(var g in a.bindingMap)f[g]=lc[g];return f}function pa(a){var b,c=a.prev,d=a.next,e=oa(a,c,d);for(b in e){var f=e[b];f.notificationHandler&&ha(f).inserted(f.itemPromiseFromKnownSlot(a),c.lastInSequence||c===Kc?null:ja(c,b),d.firstInSequence||d===Lc?null:ja(d,b))}}function qa(a){var b=a.item;$(a),ga(a,function(c,d){var e=ja(a,d);ha(c).changed(ka(a.item,e),ka(b,e))})}function ra(a,b,c,d,e){var f,g=b.prev;if(b===a){if(!a.firstInSequence||!c)return;b=a.next}else if(g===a){if(!a.lastInSequence||!d)return;g=a.prev}if(!e){var h=oa(a,g,b,c,d);for(f in h){var i=h[f];ha(i).moved(i.itemPromiseFromKnownSlot(a),(g.lastInSequence||g===a.prev)&&!c||g===Kc?null:ja(g,f),(b.firstInSequence||b===a.next)&&!d||b===Lc?null:ja(b,f))}fa(function(b){b.adjustCurrentSlot(a)})}C(a),J(a,b,c,d)}function sa(a,b){Ba(a,!0),ga(a,function(c,d){ha(c).removed(ja(a,d),b)}),fa(function(b){b.adjustCurrentSlot(a)}),S(a)}function ta(a){for(;!a.firstInSequence;)a=a.prev;var b;do{b=a.lastInSequence;var c=a.next;sa(a,!0),a=c}while(!b)}function ua(a){var b;if(!a)return b;for(var c=0;!a.firstInSequence;)c++,a=a.prev;return"number"==typeof a.indexNew?a.indexNew+c:"number"==typeof a.index?a.index+c:b}function va(a,b){for(a=a.next;a;a=a.next)if(a.firstInSequence){var c=void 0!==a.indexNew?a.indexNew:a.index;void 0!==c&&(a.indexNew=c+b)}zc+=b,Ac=!0,Uc?wb():Cc++}function wa(a,b){if(a.firstInSequence){var c;if(0>b)c=a.indexNew,void 0!==c?delete a.indexNew:c=a.index,a.lastInSequence||(a=a.next,void 0!==c&&(a.indexNew=c));else if(!a.lastInSequence){var d=a.next;c=d.indexNew,void 0!==c?delete d.indexNew:c=d.index,void 0!==c&&(a.indexNew=c)}}va(a,b)}function xa(a,b){for(var c=Kc;c!==Lc;c=c.next){var d=c.indexNew;if(void 0!==d&&d>=a){va(c,b);break}}}function ya(){var a,b,c;for(a=Kc;;a=a.next){if(a.firstInSequence){if(b=a,void 0!==a.indexNew){if(c=a.indexNew,delete a.indexNew,isNaN(c))break}else c=a.index;a!==Kc&&a.prev.index===c-1&&H(a.prev)}if(a.lastInSequence)for(var d=c,e=b;e!==a.next;e=e.next)d!==e.index&&na(e,d),+d===d&&d++;if(a===Lc)break}for(;a!==Mc;a=a.next)void 0!==a.index&&a!==Lc&&na(a,void 0);Ac=!1,zc&&+Jc===Jc&&(pc?pc.reset():la(Jc+zc),zc=0)}function za(a,b,c,d,e){if(a.item)return new j(function(b){e?e(b,a.item):b(a.item)});var f={listBindingID:d,retained:!1};return a[b]||(a[b]={}),a[b][c]=f,f.promise=new j(function(a,b){f.complete=e?function(b){e(a,b)}:a,f.error=b},function(){for(;a.slotMergedWith;)a=a.slotMergedWith;var d=a[b];if(d){if(delete d[c],Object.keys(d).length>0)return;delete a[b]}ea(a)}),f.promise}function Aa(a,b){for(var c in b)b[c].complete(a)}function Ba(a,b){var c=a.fetchListeners,d=a.directFetchListeners;if(c||d){$(a);var e=a.item,f=function(a){b?Aa(e,a):Gc.push(function(){Aa(e,a)})};d&&(a.directFetchListeners=null,f(d)),c&&(a.fetchListeners=null,f(c)),ea(a)}}function Ca(){var a=Gc;Gc=[];for(var b=0,c=a.length;c>b;b++)a[b]()}function Da(a,b){var c=a.directFetchListeners;if(c){a.directFetchListeners=null;for(var d in c)c[d].error(b);ea(a)}}function Ea(a){return a.firstInSequence&&P(a,Pc),a.lastInSequence&&Q(a,Pc),a.itemNew&&$(a),ab(),a}function Fa(a){if(!a.firstInSequence){var b=a.prev;return b===Kc?null:Ea(b)}return Ea(P(a,Pc))}function Ga(a){if(!a.lastInSequence){var b=a.next;return b===Lc?null:Ea(b)}return Ea(Q(a,Pc))}function Ha(a){return a?za(a,"directFetchListeners",(oc++).toString()):j.wrap(null)}function Ia(a){if("string"!=typeof a||!a)throw new e("WinJS.UI.ListDataSource.KeyIsInvalid",s.keyIsInvalid)}function Ja(a){var b=O(Mc);return K(b,a),b.keyRequested=!0,b}function Ka(a,b){Ia(a);var c=Oc[a];return c||(c=Ja(a),c.hints=b),Ea(c)}function La(a){if("number"!=typeof a||0>a)throw new e("WinJS.UI.ListDataSource.IndexIsInvalid",s.indexIsInvalid);if(Lc.index<=a)return null;var b=Pc[a];if(!b){var c=U(a,Pc,Kc,Lc);if(!c)return null;c===Lc&&a>=Lc&&na(Lc,void 0),b=c.prev.index===a-1?Q(c.prev,Pc):c.index===a+1?P(c,Pc):O(c,a)}return b.item||(b.indexRequested=!0),Ea(b)}function Ma(a){var b=O(Mc);return b.description=a,Ea(b)}function Na(a){if(jc=a,ic!==jc){var c=function(){kc=!1,ic!==jc&&(ic=jc,qd.dispatchEvent(t,ic))};jc===o.failure?c():kc||(kc=!0,b.setTimeout(c,40))}}function Oa(a){var b=a.fetchID;return b&&Fc[b]}function Pa(a,b){a.fetchID=b}function Qa(){var a=Ec;return Ec++,Fc[a]=!0,a}function Ra(a,b,c){var d=Qa();Pa(a,d);for(var e=a;!e.firstInSequence&&b>0;)e=e.prev,b--,Pa(e,d);for(var f=a;!f.lastInSequence&&c>0;)f=f.next,c--,Pa(f,d);return d}function Sa(a){var b=a.items,c=a.offset,d=a.totalCount,e=a.absoluteIndex,f=a.atStart,g=a.atEnd;if(v(e)){if(v(d)){var h=b.length;e-c+h===d&&(g=!0)}c===e&&(f=!0)}f&&(b.unshift(Hc),a.offset++),g&&b.push(Ic)}function Ta(a,b,c){return delete Fc[c],b!==Cc||T(a)?(ab(),!1):!0}function Ua(a,b,c,d){var g=Cc;c.then(function(c){if(!c.items||!c.items.length)return j.wrapError(new e(q.doesNotExist));var h="itemsFetched id="+b+" count="+c.items.length;f(h),Ta(a,g,b)&&(+d===d&&(c.absoluteIndex=d),Sa(c),qb(a,c.items,c.offset,c.totalCount,c.absoluteIndex)),u(h)}).then(null,function(c){Ta(a,g,b)&&rb(a,c)})}function Va(a,b,c,d){var g=Cc;d.then(function(d){if(!d.items||!d.items.length)return j.wrapError(new e(q.doesNotExist));var h="itemsFetched id="+c+" count="+d.items.length;f(h),Ta(b,g,c)&&(d.absoluteIndex=a,Sa(d),sb(a,b,d.items,d.offset,d.totalCount,d.absoluteIndex)),u(h)}).then(null,function(){Ta(b,g,c)&&tb(a,b,g)})}function Wa(a,b){var c=Ra(a,0,b-1);jd?Ua(a,c,jd(c,b),0):Ua(a,c,id(c,0,0,b-1),0)}function Xa(a,b){var c=Ra(a,b-1,0);Ua(a,c,kd(c,b))}function Ya(a,b,c){var d=Ra(a,b,c);Ua(a,d,hd(d,a.key,b,c,a.hints))}function Za(a,b,c){var d=a.index;if(b>d&&(b=d),id){var e=Ra(a,b,c);Ua(a,e,id(e,d,b,c),d)}else if(a.key)Ya(a,b,c);else{var f,g,h=Kc,i=d+1;for(f=a.prev;f!==Kc;f=f.prev)if(void 0!==f.index&&f.key){g=d-f.index,i>g&&(i=g,h=f);break}for(f=a.next;f!==Lc;f=f.next)if(void 0!==f.index&&f.key){g=f.index-d,i>g&&(i=g,h=f);break}if(h===Kc){var e=Ra(a,0,d+1);Va(0,a,e,jd(e,d+1))}else{var j=Math.max(h.index-d,0),k=Math.max(d-h.index,0),e=Ra(h,j,k);Va(h.index,a,e,hd(e,h.key,j,k,a.hints))}}}function $a(a,b,c){var d=Ra(a,b,c);Ua(a,d,ld(d,a.description,b,c))}function _a(){if(!Uc){for(var a,b,c,d,e,f,g,h,i=!1,j=!1,k=Kc.next;k!==Mc;){var l=k.next;if(k!==Lc&&V(k)&&(j=!0,a?b++:(a=k,b=1),Oa(k)&&(i=!0),k.keyRequested&&!c&&(c=k,d=b-1),void 0===k.description||e||(e=k,f=b-1),k.indexRequested&&!g&&(g=k,h=b-1),k.lastInSequence||l===Mc||!V(l))){if(i)i=!1;else{if(qc=!1,!a.firstInSequence&&a.prev.key&&hd?Ya(a.prev,0,b):!k.lastInSequence&&l.key&&hd?Ya(l,b,0):a.prev!==Kc||a.firstInSequence||!jd&&!id?l===Lc&&!k.lastInSequence&&kd?Xa(k,b):c?Ya(c,d,b-1-d):e?$a(e,f,b-1-f):g?Za(g,h,b-1-h):"number"==typeof a.index?Za(a,b-1,0):ta(a):Wa(a,b),qc)return void ab();if(Uc)return}a=g=c=null}k=l}Na(j?o.waiting:o.ready)}}function ab(){Dc||(Dc=!0,k.schedule(function(){Dc=!1,_a(),ia()},k.Priority.max,null,"WinJS.UI.ListDataSource._fetch"))}function bb(b){var c=b.itemNew;if(!c)return!1;var d=b.item;for(var e in d)switch(e){case"data":break;default:if(d[e]!==c[e])return!0}return a.compareByIdentity?d.data!==c.data:b.signature!==Z(c)}function cb(a){aa(a)?bb(a)?qa(a):a.itemNew=null:a.item=null}function db(a){a.item?cb(a):Ba(a)}function eb(a,b){a.key||K(a,b.key),a.itemNew=b,db(a)}function fb(a,b,c){var d=b.bindingMap;if(d)for(var e in c)if(d[e]){var f=b.fetchListeners;for(var g in f){var h=f[g];h.listBindingID===e&&h.retained&&(delete f[g],h.complete(null))}var i=d[e].bindingRecord;ha(i).removed(ja(b,e),!0,ja(a,e)),b.bindingMap&&delete b.bindingMap[e]}}function gb(a,b){if(a.index!==b.index){var c=b.index;b.index=a.index,ma(b,c)}b.slotMergedWith=a;var d=b.bindingMap;for(var e in d){a.bindingMap||(a.bindingMap={});var f=d[e];f.handle||(f.handle=b.handle),Nc[f.handle]=a,a.bindingMap[e]=f}fa(function(c){c.adjustCurrentSlot(b,a)});var g=b.itemNew||b.item;if(g&&(g=Object.create(g),X(g,a,a.handle),eb(a,g)),a.item)b.directFetchListeners&&Gc.push(function(){Aa(a.item,b.directFetchListeners)}),b.fetchListeners&&Gc.push(function(){Aa(a.item,b.fetchListeners)});else{var h;for(h in b.directFetchListeners)a.directFetchListeners||(a.directFetchListeners={}),a.directFetchListeners[h]=b.directFetchListeners[h];for(h in b.fetchListeners)a.fetchListeners||(a.fetchListeners={}),a.fetchListeners[h]=b.fetchListeners[h]}a.itemNew&&Ba(a),b.handle=(nc++).toString(),I(b),S(b)}function hb(a,b,c){b&&b.key&&(c||(c=b.itemNew||b.item),delete b.key,delete Oc[c.key],b.itemNew=null,b.item=null),c&&eb(a,c),b&&gb(a,b)}function ib(a){if("object"!=typeof a)throw new e("WinJS.UI.ListDataSource.InvalidItemReturned",s.invalidItemReturned);if(a===Hc)return Kc;if(a===Ic)return Lc;if(a.key)return d.validation&&Ia(a.key),Oc[a.key];throw new e("WinJS.UI.ListDataSource.InvalidKeyReturned",s.invalidKeyReturned)}function jb(a,b){var c=ib(b);c===a&&(c=null),c&&fb(a,c,a.bindingMap),hb(a,c,b)}function kb(a,b,c,d){if(b&&a.key&&a.key!==b.key)return wb(),!1;var e=Pc[c];if(e)if(e===a)e=null;else{if(e.key&&(a.key||b&&e.key!==b.key))return wb(),
!1;if(!a.key&&e.bindingMap)return!1}var f;if(b)if(f=Oc[b.key],f===a)f=null;else if(f&&f.bindingMap)return!1;return e?(fb(a,e,a.bindingMap),delete Pc[c],na(a,c),a.prev.index===c-1&&H(a.prev),a.next.index===c+1&&H(a),d.slotNext=e.slotNext,b||(b=e.itemNew||e.item,b&&(f=Oc[b.key]))):na(a,c),f&&e!==f&&fb(a,f,a.bindingMap),hb(a,f,b),e&&e!==f&&gb(a,e),!0}function lb(a,b,c){if(b.key&&a.key&&b.key!==a.key)return wb(),!1;for(var d in a.bindingMap)c[d]=!0;return fb(a,b,c),hb(a,b),!0}function mb(a,b){for(var c={};a;){var d=a.firstInSequence?null:a.prev;if(b.firstInSequence||b.prev!==Kc){if(b=b.firstInSequence?P(b,Pc):b.prev,!lb(b,a,c))return}else sa(a,!0);a=d}}function nb(a,b){for(var c={};a;){var d=a.lastInSequence?null:a.next;if(b.lastInSequence||b.next!==Lc){if(b=b.lastInSequence?Q(b,Pc):b.next,!lb(b,a,c))return}else sa(a,!0);a=d}}function ob(a){for(var b=0;b<a.length;b++){var c=a[b];mb(c.slotBeforeSequence,c.slotFirstInSequence),nb(c.slotAfterSequence,c.slotLastInSequence)}}function pb(a,b){function c(b){for(var c=Lc.prev;!(c.index<a)&&c!==b;){var e=c.prev;void 0!==c.index&&sa(c,!0),c=e}d=0}for(var d=0,e=Lc.prev;!(e.index<a)||d>0;){var f=e.prev;if(e===Kc){c(Kc);break}if(e.key){if(e.index>=a)return wb(),!1;if(!(e.index>=b))return hd?Ya(e,0,d):Za(e,0,d),!1;c(e)}else e.indexRequested||e.firstInSequence?c(f):d++;e=f}return!0}function qb(a,b,c,d,e){var g="WinJS.UI.ListDataSource.processResults";return f(g),e=x(e),d=y(d),vc?void u(g):(Ac&&ya(),!v(d)&&d!==p.unknown||d===Jc||Lc.firstInSequence?(qc=!0,function(){var f,g,h,i,j=b.length;if("number"!=typeof e)for(f=0;j>f;f++)if(h=ib(b[f]),h&&void 0!==h.index){e=h.index+c-f;break}"number"==typeof e&&b[j-1]===Ic?d=e-c+j-1:!v(d)||void 0!==e&&null!==e||(e=d-(j-1)+c),v(d)&&!pb(d,e-c)&&(d=void 0);var k=new Array(j);for(f=0;j>f;f++){var l=null;if(h=ib(b[f])){if(f>0&&!h.firstInSequence&&h.prev.key&&h.prev.key!==b[f-1].key||"number"==typeof e&&void 0!==h.index&&h.index!==e-c+f)return void wb();(h===Kc||h===Lc||h.bindingMap)&&(l=h)}if("number"==typeof e&&(h=Pc[e-c+f])){if(h.key&&h.key!==b[f].key)return void wb();!l&&h.bindingMap&&(l=h)}if(f===c){if(a.key&&a.key!==b[f].key||"number"==typeof a.index&&"number"==typeof e&&a.index!==e)return void wb();l||(l=a)}k[f]=l}for(f=0;j>f;f++)h=k[f],h&&void 0!==h.index&&h!==Kc&&h!==Lc&&jb(h,b[f]);var m,n,o=[],p=!0;for(f=0;j>f;f++)if(h=k[f],h&&h!==Lc){var q=f;if(void 0===h.index){var r={};kb(h,b[f],e-c+f,r);var s,t=h,u=h;for(g=f-1;!t.firstInSequence&&(s=b[g],s!==Hc);g--){var w=e-c+g;if(0>w)break;if(!kb(t.prev,s,w,r))break;t=t.prev,g>=0&&(k[g]=t)}for(g=f+1;!u.lastInSequence&&(s=b[g],s!==Ic&&g!==d||u.next===Lc)&&(u.next===Lc||kb(u.next,s,e-c+g,r))&&(u=u.next,j>g&&(k[g]=u),q=g,u!==Lc);g++);if(m=t.firstInSequence?null:t.prev,n=u.lastInSequence?null:u.next,m&&I(m),n&&I(u),"number"==typeof e){if(u===Lc)m&&G(Lc,D(m),m);else{var x=r.slotNext;x||(x=U(u.index,Pc,Kc,Lc,!0)),F(x,t,u)}t.prev.index===t.index-1&&H(t.prev),u.next.index===u.index+1&&H(u)}else p||(i=k[f-1],i&&(t.prev!==i&&(u===Lc?(m&&G(Lc,D(m),m),F(t,D(i),i)):G(i,t,u)),H(i)));if(p=!1,Tc)return;o.push({slotBeforeSequence:m,slotFirstInSequence:t,slotLastInSequence:u,slotAfterSequence:n})}f!==c||h===a||T(a)||(m=a.firstInSequence?null:a.prev,n=a.lastInSequence?null:a.next,fb(h,a,h.bindingMap),gb(h,a),o.push({slotBeforeSequence:m,slotFirstInSequence:h,slotLastInSequence:h,slotAfterSequence:n})),f=q}for(v(d)&&Lc.index!==d&&na(Lc,d),ob(o),f=0;j>f;f++)if(h=k[f]){for(g=f-1;g>=0;g--){var y=k[g+1];jb(k[g]=y.firstInSequence?P(k[g+1],Pc):y.prev,b[g])}for(g=f+1;j>g;g++)i=k[g-1],h=k[g],h?h.firstInSequence&&(h.prev!==i&&G(i,h,E(h)),H(i)):jb(k[g]=i.lastInSequence?Q(i,Pc):i.next,b[g]);break}delete a.description}(),Tc||(void 0!==d&&d!==Jc&&la(d),ab()),ia(),Ca(),void u(g)):(wb(),void u(g)))}function rb(a,b){switch(b.name){case q.noResponse:Na(o.failure),Da(a,b);break;case q.doesNotExist:a.indexRequested?pb(a.index):(a.keyRequested||a.description)&&ta(a),ia(),wb()}}function sb(a,b,c,d,f,g){g=x(g),f=y(f);var h=a-d,i=c.length;if(b.index>=h&&b.index<h+i)qb(b,c,b.index-h,f,b.index);else if(d===i-1&&a<b.index||v(f)&&f<=b.index)rb(b,new e(q.doesNotExist));else if(b.index<h){var j=Ra(b,0,h-b.index);Va(h,b,j,hd(j,c[0].key,h-b.index,0))}else{var k=h+i-1,j=Ra(b,b.index-k,0);Va(k,b,j,hd(j,c[i-1].key,0,b.index-k))}}function tb(a,b,c){switch(c.name){case q.doesNotExist:a===Kc.index?(pb(0),rb(b,c)):wb();break;default:rb(b,c)}}function ub(){for(var a=0;a<nd.length&&"beginRefresh"!==nd[a].kind;a++);for(var b=a;b<nd.length&&"beginRefresh"!==nd[b].kind;b++);if(b>a&&b+(b-a)<nd.length){for(var c=!0,d=b-a,e=0;d>e;e++)if(nd[a+e].kind!==nd[b+e].kind){c=!1;break}if(c&&g.log){g.log(s.refreshCycleIdentified,"winjs vds","error");for(var e=a;b>e;e++)g.log(""+(e-a)+": "+JSON.stringify(nd[e]),"winjs vds","error")}return c}}function vb(){return++md>h&&ub()?void Na(o.failure):(nd[++od%nd.length]={kind:"beginRefresh"},Zc={firstInSequence:!0,lastInSequence:!0,index:-1},$c={firstInSequence:!0,lastInSequence:!0},Zc.next=$c,$c.prev=Zc,Xc=!1,Yc=void 0,_c={},ad={},bd={},bd[-1]=Zc,void(cd={}))}function wb(){if(!Tc){if(Tc=!0,Na(o.waiting),xc)return xc=!1,void Zb();if(!vc){var a=++Cc;Uc=!0,Wc=0,k.schedule(function(){if(Cc===a){Tc=!1,vb();for(var b=Kc.next;b!==Mc;){var c=b.next;ba(b)||b===Lc||ca(b),b=c}Eb()}},k.Priority.high,null,"WinJS.VirtualizedDataSource.beginRefresh")}}}function xb(){return Vc=Vc||new l,wb(),Vc.promise}function yb(a,b){return delete Fc[b],a!==Cc?!1:(Wc--,!0)}function zb(a,b,c,d,g){var h=Cc;Wc++,d.then(function(b){if(!b.items||!b.items.length)return j.wrapError(new e(q.doesNotExist));var d="itemsFetched id="+c+" count="+b.items.length;f(d),yb(h,c)&&(Sa(b),Kb(a,b.items,b.offset,b.totalCount,"number"==typeof g?g:b.absoluteIndex)),u(d)}).then(null,function(d){yb(h,c)&&Lb(a,b,d)})}function Ab(a,b,c,d){if(hd)zb(a.key,!1,b,hd(b,a.key,c,d,a.hints));else{var e=10,f=a.index;bd[f]&&bd[f].firstInSequence?zb(a.key,!1,b,id(b,f-1,Math.min(c+e,f)-1,d+1+e),f-1):bd[f]&&bd[f].lastInSequence?zb(a.key,!1,b,id(b,f+1,Math.min(c+e,f)+1,d-1+e),f+1):zb(a.key,!1,b,id(b,f,Math.min(c+e,f),d+e),f)}}function Bb(a){jd?zb(null,!0,a,jd(a,1),0):id&&zb(null,!0,a,id(a,0,0,0),0)}function Cb(a){return Fc[_c[a]]}function Db(a,b){for(var c,d,e,f=3,g=Cc,h=0,i=a;i!==Mc;i=i.next){if(!c&&i.key&&!cd[i.key]&&!Cb(i.key)){var j=ad[i.key];(!j||j.firstInSequence||j.lastInSequence)&&(c=i,d=j,e=Qa())}if(c){var k=Cb(i.key);if(cd[i.key]||ad[i.key]||k||(i.key&&(_c[i.key]=e),h++),i.lastInSequence||i.next===Lc||k){if(Ab(c,e,!d||d.firstInSequence?f:0,h-1+f),!b)break;c=null,h=0}}else i.key&&V(i)&&!cd[i.key]&&(ad[i.key]||(e=Qa(),zb(i.key,!1,e,hd(e,i.key,1,1,i.hints))))}0!==Wc||Xc||Cc!==g||Bb(Qa())}function Eb(){var a=Cc;do dd=!1,ed=!0,Db(Kc.next,!0),ed=!1;while(0===Wc&&dd&&Cc===a&&Uc);0===Wc&&Cc===a&&Ub()}function Fb(a){var b=Cc;if(a){var c=Oc[a];c||(c=Kc.next);do fd=!1,gd=!0,Db(c,!1),gd=!1;while(fd&&Cc===b&&Uc)}ed?dd=!0:0===Wc&&Cc===b&&Eb()}function Gb(a){if("object"==typeof a&&a){if(a===Hc)return Zc;if(a===Ic)return $c;if(a.key)return ad[a.key];throw new e("WinJS.UI.ListDataSource.InvalidKeyReturned",s.invalidKeyReturned)}throw new e("WinJS.UI.ListDataSource.InvalidItemReturned",s.invalidItemReturned)}function Hb(a,b){for(;void 0===a.index;){if(L(a,b,bd),a.firstInSequence)return!0;a=a.prev,b--}return a.index!==b?(wb(),!1):!0}function Ib(a,b){a.key=b.key,ad[a.key]=a,a.item=b}function Jb(){for(var a=$c;!a.firstInSequence;)if(a=a.prev,a===Zc)return null;return a}function Kb(a,b,c,d,e){e=x(e),d=y(d);var f=!1;Xc=!0;var g=e-c,h=b[0];h.key===a&&(f=!0);var i=Gb(h);if(i){if(+g===g&&!Hb(i,g))return}else{if(bd[g])return void wb();var j;if(void 0!==e&&(j=bd[g-1])){if(!j.lastInSequence)return void wb();i=Q(j,bd)}else{var k=+g===g?U(g,bd,Zc,$c):Jb(Zc,$c);if(!k)return void wb();i=N(k,g,bd)}Ib(i,b[0])}for(var l=b.length,m=1;l>m;m++){h=b[m],h.key===a&&(f=!0);var n=Gb(h);if(n){if(void 0!==i.index&&!Hb(n,i.index+1))return;if(n!==i.next){if(!i.lastInSequence||!n.firstInSequence)return void wb();var o=E(n);if(o!==$c)G(i,n,o);else{var q=D(i);if(q===Zc)return void wb();F(n,q,i)}H(i)}else i.lastInSequence&&H(i)}else{if(!i.lastInSequence)return void wb();n=Q(i,bd),Ib(n,h)}i=n}if(f||(cd[a]=!0),!v(d)&&!$c.firstInSequence){var r=$c.prev.index;void 0!==r&&(d=r+1)}if(v(d)||d===p.unknown){if(v(Yc)){if(d!==Yc)return void wb()}else Yc=d;v(Yc)&&!bd[Yc]&&L($c,Yc,bd)}gd?fd=!0:Fb(a)}function Lb(a,b,c){switch(c.name){case q.noResponse:Na(o.failure);break;case q.doesNotExist:b?(L($c,0,bd),Yc=0,Ub()):(cd[a]=!0,gd?fd=!0:Fb(a))}}function Mb(a){return a===Zc?Kc:a===$c?Lc:Oc[a.key]}function Nb(a){return a===Kc?Zc:a===Lc?$c:ad[a.key]}function Ob(a){H(a),a.next.mergedForRefresh=!0}function Pb(a,b){K(b,a.key),b.itemNew=a.item}function Qb(a,b,c){var d=A();Pb(a,d),J(d,b,c,!c);var e=a.index;return+e!==e&&(e=c?d.prev.index+1:b.next.index-1),L(d,e,Pc),d}function Rb(a,b,c){a?(fb(a,b,a.bindingMap),hb(a,b,c.item)):(Pb(c,b),b.indexRequested&&db(b))}function Sb(a,b,c){return b.key?!1:(a?(c.mergeWithPrev=!b.firstInSequence,c.mergeWithNext=!b.lastInSequence):c.stationary=!0,Rb(a,b,c),!0)}function Tb(a){var b;if(a.indexRequested)b=a.index;else{var c=Nb(a);c&&(b=c.index)}return b}function Ub(){md=0,nd=new Array(100),od=-1,Ac=!0,_c={};var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s=[],t=[];for(o=0,h=Zc;h;h=h.next)h.sequenceNumber=o,h.firstInSequence&&(j=h),h.lastInSequence&&(t[o]={first:j,last:h,matchingItems:0},o++);for(Rc=null,Qc=0,c=Kc.next;c!==Mc;)h=ad[c.key],e=c.next,c!==Lc&&(ba(c)?c.key&&!h?sa(c,!1):0===Yc||c.indexRequested&&c.index>=Yc?sa(c,!0):c.item||c.keyRequested?c.itemNew=h.item:c.key&&(c.keyRequested||(delete Oc[c.key],delete c.key),c.itemNew=null):ca(c)),c=e;for(c=Kc.next;c!==Lc;)e=c.next,c.indexRequested&&(h=bd[c.index],h&&Rb(Mb(h),c,h)),c=e;var u,v,w,x,y,z=0,A=[];for(k=0,c=Kc;c!==Mc;c=c.next){if(c.firstInSequence)for(j=c,w=null,a=0;o>a;a++)A[a]=0;if(c.indexRequested&&(w=c),h=Nb(c),h&&A[h.sequenceNumber]++,c.lastInSequence){for(v=0,a=z;o>a;a++)v<A[a]&&(v=A[a],u=a);l={first:j,last:c,sequenceNew:v>0?t[u]:void 0,matchingItems:v},w&&(l.indexRequested=!0,l.stationarySlot=w),s[k]=l,c===Lc&&(x=k,y=l),k++,void 0!==t[u].first.index&&(z=u)}}s[0].sequenceNew!==t[0]&&(I(Kc),s[0].first=Kc.next,s.unshift({first:Kc,last:Kc,sequenceNew:t[0],matchingItems:1}),x++,k++);var B=!Lc.firstInSequence;for(y.sequenceNew!==t[o-1]&&(I(Lc.prev),y.last=Lc.prev,x++,s.splice(x,0,{first:Lc,last:Lc,sequenceNew:t[o-1],matchingItems:1}),k++,y=s[x]),a=0;k>a;a++)p=s[a].sequenceNew,p&&p.matchingItems<s[a].matchingItems&&(p.matchingItems=s[a].matchingItems,p.sequenceOld=s[a]);for(t[o-1].sequenceOld=y,y.stationarySlot=Lc,t[0].sequenceOld=s[0],s[0].stationarySlot=Kc,a=0;x>=a;a++)l=s[a],l.sequenceNew&&(n=l.sequenceNew.sequenceOld)===m&&m.last!==Lc?(Ob(n.last),n.last=l.last,delete s[a]):m=l;for(m=null,a=x;a>=0;a--)l=s[a],l&&(l.sequenceNew&&(n=l.sequenceNew.sequenceOld)===m&&l.last!==Lc?(Ob(l.last),n.first=l.first,delete s[a]):m=l);B&&delete Lc.mergedForRefresh;var C=[];for(a=x+1;k>a;a++)if(l=s[a],l&&(!l.sequenceNew||l.sequenceNew.sequenceOld!==l)){var D=!0,E=null,J=null,K=0;for(h=Nb(l.first),h&&(E=J=h,K=1),c=l.first;c!==l.last;c=c.next){var L=Nb(c.next);if(h&&L&&(h.lastInSequence||h.next!==L)){D=!1;break}h&&!E&&(E=J=h),L&&E&&(J=L,K++),h=L}if(D&&E&&void 0!==E.index){var M;E.firstInSequence||(f=Mb(E.prev),f&&(M=f.index));var N;if(J.lastInSequence||(g=Mb(J.next),g&&(N=g.index)),(!g||g.lastInSequence||g.mergedForRefresh)&&(void 0===M||void 0===N||N-M-1>=K)){for(l.locationJustDetermined=!0,h=E;h.locationJustDetermined=!0,h!==J;h=h.next);var j=Mb(E),O=Mb(J);C.push({slotBeforeSequence:j.firstInSequence?null:j.prev,slotFirstInSequence:j,slotLastInSequence:O,slotAfterSequence:O.lastInSequence?null:O.next})}}}for(a=0;k>a;a++)if(l=s[a],l&&!l.indexRequested&&!l.locationJustDetermined&&(!l.sequenceNew||l.sequenceNew.sequenceOld!==l)){l.sequenceNew=null,c=l.first;var P;do{if(P=c===l.last,e=c.next,c!==Kc&&c!==Lc&&c!==Mc&&!c.item&&!c.keyRequested)if(sa(c,!0),l.first===c){if(l.last===c){delete s[a];break}l.first=c.next}else l.last===c&&(l.last=c.prev);c=e}while(!P)}for(a=0;o>a;a++){for(p=t[a],h=p.first;!Mb(h)&&!h.lastInSequence;h=h.next);if(h.lastInSequence&&!Mb(h))p.firstInner=p.lastInner=null;else{for(p.firstInner=h,h=p.last;!Mb(h);h=h.prev);p.lastInner=h}}for(a=0;o>a;a++)if(p=t[a],p&&p.firstInner&&(l=p.sequenceOld)){var Q=0;for(c=l.first;!0&&(h=Nb(c),h&&h.sequenceNumber===p.firstInner.sequenceNumber&&(h.ordinal=Q),!c.lastInSequence);c=c.next,Q++);var R=[];for(h=p.firstInner;!0;h=h.next){if(Q=h.ordinal,void 0!==Q){for(var S=0,T=R.length-1;T>=S;){var U=Math.floor(.5*(S+T));R[U].ordinal<Q?S=U+1:T=U-1}R[S]=h,S>0&&(h.predecessor=R[S-1])}if(h===p.lastInner)break}var W=[],X=R.length;for(h=R[X-1],b=X;b--;)h.stationary=!0,W[b]=h,h=h.predecessor;l.stationarySlot=Mb(W[0]),h=W[0],c=Mb(h),d=c.prev;for(var Y=c.firstInSequence;!h.firstInSequence;)if(h=h.prev,i=Mb(h),!i||h.locationJustDetermined)for(;!Y&&d!==Kc&&(c=d,d=c.prev,Y=c.firstInSequence,!Sb(i,c,h)););for(b=0;X-1>b;b++){h=W[b],c=Mb(h);var i,Z=W[b+1],_=null,aa=Mb(Z);for(e=c.next,h=h.next;h!==Z&&!_&&c!==aa;h=h.next)if(i=Mb(h),!i||h.locationJustDetermined)for(;e!==aa;){if(e.mergedForRefresh){_=h.prev;break}if(c=e,e=c.next,Sb(i,c,h))break}if(_)for(d=aa.prev,h=Z.prev;h!==_&&aa!==c;h=h.prev)if(i=Mb(h),!i||h.locationJustDetermined)for(;d!==c&&(aa=d,d=aa.prev,!Sb(i,aa,h)););for(;e!==aa;)c=e,e=c.next,c!==Kc&&V(c)&&!c.keyRequested&&sa(c)}for(h=W[X-1],c=Mb(h),e=c.next,Y=c.lastInSequence;!h.lastInSequence;)if(h=h.next,i=Mb(h),!i||h.locationJustDetermined)for(;!Y&&e!==Lc&&(c=e,e=c.next,Y=c.lastInSequence,!Sb(i,c,h)););}for(a=0;o>a;a++)if(p=t[a],p.firstInner)for(d=null,h=p.firstInner;!0;h=h.next){if(c=Mb(h)){if(!h.stationary){var da,ea=!1,fa=!1;if(d)da=d.next,ea=!0;else{var ga;for(ga=p.firstInner;!ga.stationary&&ga!==p.lastInner;ga=ga.next);if(ga.stationary)da=Mb(ga),fa=!0;else if(q=h.index,0===q)da=Kc.next,ea=!0;else if(void 0===q)da=Mc;else{da=Kc.next;for(var ha=null;;){if(da.firstInSequence&&(ha=da),q<da.index&&ha||da===Lc)break;da=da.next}!da.firstInSequence&&ha&&(da=ha)}}c.mergedForRefresh&&(delete c.mergedForRefresh,c.lastInSequence||(c.next.mergedForRefresh=!0)),ea=ea||h.mergeWithPrev,fa=fa||h.mergeWithNext;var ja=h.locationJustDetermined;ra(c,da,ea,fa,ja),ja&&fa&&(da.mergedForRefresh=!0)}d=c}if(h===p.lastInner)break}for(a=0;o>a;a++)if(p=t[a],p.firstInner)for(d=null,h=p.firstInner;!0;h=h.next){if(c=Mb(h),!c){var ka;if(d)ka=d.next;else{var ma;for(ma=p.firstInner;!Mb(ma);ma=ma.next);ka=Mb(ma)}c=Qb(h,ka,!!d);var L=Nb(ka);ka.mergedForRefresh||L&&L.locationJustDetermined||($(c),pa(c))}if(d=c,h===p.lastInner)break}Pc=[];var oa=-1;for(c=Kc,r=0;c!==Mc;r++){var e=c.next;if(c.firstInSequence&&(j=c,r=0),void 0===oa){var qa=Tb(c);void 0!==qa&&(oa=qa-r)}if(void 0!==oa&&!c.lastInSequence){var ta=Tb(c.next);if(void 0!==ta&&ta!==oa+r+1){I(c);for(var ua=!0,va=c.next,wa=!1;!wa&&va!==Lc;){var xa=va.next;wa=va.lastInSequence,ra(va,xa,!ua,!1),ua=!1,va=xa}}}if(c.lastInSequence){q=oa;for(var ya=j;ya!==e;){var za=ya.next;if(q>=Yc&&ya!==Lc)sa(ya,!0);else{var Aa=Pc[q];q!==ya.index?(delete Pc[q],na(ya,q)):+q===q&&Pc[q]!==ya&&(Pc[q]=ya),ya.itemNew&&db(ya),Aa&&(ya.key?(fb(ya,Aa,ya.bindingMap),gb(ya,Aa),+q===q&&(Pc[q]=ya)):(fb(Aa,ya,Aa.bindingMap),gb(Aa,ya),+q===q&&(Pc[q]=Aa))),+q===q&&q++}ya=za}oa=void 0}c=e}var Ba,Da=-2;for(c=Kc,r=0;c!==Mc;r++){var e=c.next;if(c.firstInSequence&&(j=c,r=0),delete c.mergedForRefresh,c.lastInSequence)if(void 0===j.index){f=j.prev;var Ea;f&&(Ea=Nb(f))&&!Ea.lastInSequence&&(h=Nb(c))&&h.prev===Ea?(G(f,j,c),H(f)):c===Lc||Ba||F(Mc,j,c)}else{if(Da<c.index&&!Ba)Da=c.index;else{for(g=Kc.next;g.index<c.index;g=g.next);for(var va=j;va!==e;){var xa=va.next;h=Nb(va),ra(va,g,g.prev.index===va.index-1,g.index===va.index+1,h&&h.locationJustDetermined),va=xa}}f=j.prev,f&&f.index===j.index-1&&H(f)}c===Lc&&(Ba=!0),c=e}Ac=!1,ob(C),void 0!==Yc&&Yc!==Jc&&la(Yc),ia();var Fa=[];for(a=0;o>a;a++){p=t[a];var Ga=[];c=null,r=0;var Ha;for(h=p.first;!0&&(h===Zc?Ga.push(Hc):h===$c?Ga.push(Ic):(Ga.push(h.item),c||(c=Mb(h),Ha=r)),!h.lastInSequence);h=h.next,r++);c&&Fa.push({slot:c,results:Ga,offset:Ha})}for(vb(),Uc=!1,Ca(),a=0;a<Fa.length;a++){var Ia=Fa[a];qb(Ia.slot,Ia.results,Ia.offset,Jc,Ia.slot.index)}if(Vc){var Ja=Vc;Vc=null,Ja.complete()}ab()}function Vb(a,b,c,d,e,f,g){var h=uc.prev,i={prev:h,next:uc,applyEdit:a,editType:b,complete:c,error:d,keyUpdate:e};h.next=i,uc.prev=i,vc=!0,(Tc||Uc)&&(Cc++,Uc=!1,Tc=!0),uc.next===i&&Zb(),i.failed||(f(),i.undo=g),sc||$b()}function Wb(){tc=!1;var a=uc.next.next;uc.next=a,a.prev=uc}function Xb(){for(;uc.prev!==uc;){var a=uc.prev;a.error&&a.error(new e(r.canceled)),a.undo&&!Tc&&a.undo(),uc.prev=a.prev}uc.next=uc,sc=!1,$b()}function Yb(b){function c(){xc||(f?wc=!0:Zb())}function d(a){if(a){var d;if(g&&g.key!==a.key){var e=a.key;if(b.undo){if(d=g.slot){var h=d.key;h&&delete Oc[h],K(d,e),d.itemNew=a,d.item?(qa(d),ia()):Ba(d)}}else g.key=e}else b.editType===rd.change&&(d.itemNew=a,f||cb(d))}Wb(),b.complete&&b.complete(a),c()}function e(a){switch(a.Name){case r.noResponse:return Na(o.failure),xc=!0,void(tc=!1);case r.notPermitted:break;case r.noLongerMeaningful:wb()}b.failed=!0,Wb(),Xb(),b.error&&b.error(a),c()}if(!tc){var f=!0,g=b.keyUpdate;a.beginEdits&&!rc&&(rc=!0,a.beginEdits()),tc=!0,b.applyEdit().then(d,e),f=!1}}function Zb(){for(;uc.next!==uc;)if(wc=!1,Yb(uc.next),!wc)return;_b()}function $b(){ya(),ia(),Ca(),uc.next===uc&&_b()}function _b(){vc=!1,a.endEdits&&rc&&!sc&&(rc=!1,a.endEdits()),Tc?(Tc=!1,wb()):ab()}function ac(a){return Ia(a),Oc[a]||Ja(a)}function bc(a,b,c,d,e){var f=A();return J(f,c,d,e),a&&K(f,a),f.itemNew=b,wa(f,1),sc||yc||(f.firstInSequence||"number"!=typeof f.prev.index?f.lastInSequence||"number"!=typeof f.next.index||L(f,f.next.index-1,Pc):L(f,f.prev.index+1,Pc)),$(f),pa(f),f}function cc(a,b,c,d,e){var f={key:a};return new j(function(a,g){Vb(e,rd.insert,a,g,f,function(){if(c){var a={key:f.key,data:b};f.slot=bc(f.key,a,c,d,!d)}},function(){var a=f.slot;a&&(wa(a,-1),sa(a,!1))})})}function dc(a,b,c,d){return new j(function(e,f){var g,h,i,j;Vb(d,rd.move,e,f,null,function(){h=a.next,i=a.firstInSequence,j=a.lastInSequence;var d=a.prev;g="number"!=typeof a.index&&(i||!d.item)&&(j||!h.item),wa(a,-1),ra(a,b,c,!c),wa(a,1),g&&(I(d),i||mb(d,a),j||nb(h,a))},function(){g?wb():(wa(a,-1),ra(a,h,!i,!j),wa(a,1))})})}function ec(){function a(){yc||(ya(),ia(),Ca())}this.invalidateAll=function(){return 0===Jc?(this.reload(),j.wrap()):xb()},this.reload=function(){pc&&pc.cancel(),Vc&&Vc.cancel();for(var a=Kc.next;a!==Mc;a=a.next){var b=a.fetchListeners;for(var c in b)b[c].promise.cancel();var d=a.directFetchListeners;for(var c in d)d[c].promise.cancel()}fc(),fa(function(a){a.notificationHandler&&a.notificationHandler.reload()})},this.beginNotifications=function(){yc=!0},this.inserted=function(b,c,d,e){if(vc)wb();else{var f=b.key,g=Oc[c],h=Oc[d],i="string"==typeof c,j="string"==typeof d;if(i?h&&!h.firstInSequence&&(g=h.prev):j&&g&&!g.lastInSequence&&(h=g.next),(i||j)&&!g&&!h&&Kc.next===Lc)return void wb();if(Oc[f])return void wb();if(g&&h&&(g.next!==h||g.lastInSequence||h.firstInSequence))return void wb();if(g&&(g.keyRequested||g.indexRequested)||h&&(h.keyRequested||h.indexRequested))return void wb();if(g||h)bc(f,b,h?h:g.next,!!g,!!h);else if(Kc.next===Lc)bc(f,b,Kc.next,!0,!0);else{if(void 0===e)return void wb();xa(e,1)}a()}},this.changed=function(b){if(vc)wb();else{var c=b.key,d=Oc[c];d&&(d.keyRequested?wb():(d.itemNew=b,d.item&&(qa(d),a())))}},this.moved=function(b,c,d,e,f){if(vc)wb();else{var g=b.key,h=Oc[g],i=Oc[c],j=Oc[d];h&&h.keyRequested||i&&i.keyRequested||j&&j.keyRequested?wb():h?i&&j&&(i.next!==j||i.lastInSequence||j.firstInSequence)?wb():i||j?(wa(h,-1),ra(h,j?j:i.next,!!i,!!j),wa(h,1),a()):(wa(h,-1),sa(h,!1),void 0!==e&&(f>e&&f--,xa(f,1)),a()):i||j?(void 0!==e&&(xa(e,-1),f>e&&f--),this.inserted(b,c,d,f)):void 0!==e&&(xa(e,-1),f>e&&f--,xa(f,1),a())}},this.removed=function(b,c){if(vc)wb();else{var d;d="string"==typeof b?Oc[b]:Pc[c],d?d.keyRequested?wb():(wa(d,-1),sa(d,!1),a()):void 0!==c&&(xa(c,-1),a())}},this.endNotifications=function(){yc=!1,a()}}function fc(){Na(o.ready),pc=null,rc=!1,sc=!1,tc=!1,uc={},uc.next=uc,uc.prev=uc,vc=!1,xc=!1,zc=0,Ac=!1,Bc=0,Fc={},Gc=[],Jc=p.unknown,Kc={firstInSequence:!0,lastInSequence:!0,index:-1},Lc={firstInSequence:!0,lastInSequence:!0},Mc={firstInSequence:!0,lastInSequence:!0},Kc.next=Lc,Lc.prev=Kc,Lc.next=Mc,Mc.prev=Lc,Nc={},Oc={},Pc={},Pc[-1]=Kc,Qc=0,Rc=null,Sc=!1,Tc=!1,Uc=!1,Vc=null}var gc,hc,ic,jc,kc,lc,mc,nc,oc,pc,qc,rc,sc,tc,uc,vc,wc,xc,yc,zc,Ac,Bc,Cc,Dc,Ec,Fc,Gc,Hc,Ic,Jc,Kc,Lc,Mc,Nc,Oc,Pc,Qc,Rc,Sc,Tc,Uc,Vc,Wc,Xc,Yc,Zc,$c,_c,ad,bd,cd,dd,ed,fd,gd,hd,id,jd,kd,ld,md=0,nd=new Array(100),od=-1;a.itemsFromKey&&(hd=function(b,c,d,e,g){var h="fetchItemsFromKey id="+b+" key="+c+" countBefore="+d+" countAfter="+e;f(h),nd[++od%nd.length]={kind:"itemsFromKey",key:c,countBefore:d,countAfter:e};var i=a.itemsFromKey(c,d,e,g);return u(h),i}),a.itemsFromIndex&&(id=function(b,c,d,e){var g="fetchItemsFromIndex id="+b+" index="+c+" countBefore="+d+" countAfter="+e;f(g),nd[++od%nd.length]={kind:"itemsFromIndex",index:c,countBefore:d,countAfter:e};var h=a.itemsFromIndex(c,d,e);return u(g),h}),a.itemsFromStart&&(jd=function(b,c){var d="fetchItemsFromStart id="+b+" count="+c;f(d),nd[++od%nd.length]={kind:"itemsFromStart",count:c};var e=a.itemsFromStart(c);return u(d),e}),a.itemsFromEnd&&(kd=function(b,c){var d="fetchItemsFromEnd id="+b+" count="+c;f(d),nd[++od%nd.length]={kind:"itemsFromEnd",count:c};var e=a.itemsFromEnd(c);return u(d),e}),a.itemsFromDescription&&(ld=function(b,c,d,e){var g="fetchItemsFromDescription id="+b+" desc="+c+" countBefore="+d+" countAfter="+e;f(g),nd[++od%nd.length]={kind:"itemsFromDescription",description:c,countBefore:d,countAfter:e};var h=a.itemsFromDescription(c,d,e);return u(g),h});var pd=++n,qd=this,rd={insert:"insert",change:"change",move:"move",remove:"remove"};if(!a)throw new e("WinJS.UI.ListDataSource.ListDataAdapterIsInvalid",s.listDataAdapterIsInvalid);hc=a.compareByIdentity?0:200,c&&"number"==typeof c.cacheSize&&(hc=c.cacheSize),a.setNotificationHandler&&(gc=new ec,a.setNotificationHandler(gc)),ic=o.ready,kc=!1,lc={},mc=0,nc=1,oc=0,Cc=0,Dc=!1,Ec=1,Hc={},Ic={},fc(),this.createListBinding=function(a){function b(a){a&&a.cursorCount++}function c(a){a&&0===--a.cursorCount&&ea(a)}function d(a){b(a),c(m),m=a}function e(a,b){a===m&&(b||(b=!m||m.lastInSequence||m.next===Lc?null:m.next),d(b))}function f(a){var b=a.bindingMap,c=b[l].handle;delete a.bindingMap[l];var d=!0,e=!0;for(var f in b)if(d=!1,c&&b[f].handle===c){e=!1;break}c&&e&&delete Nc[c],d&&(a.bindingMap=null,ea(a))}function g(a,b){a.bindingMap||(a.bindingMap={});var c=a.bindingMap[l];if(c?c.count++:a.bindingMap[l]={bindingRecord:lc[l],count:1},a.fetchListeners){var d=a.fetchListeners[b];d&&(d.retained=!0)}}function h(a){var b=Nc[a];if(b){var c=b.bindingMap[l];if(0===--c.count){var d=b.fetchListeners;for(var e in d){var g=d[e];g.listBindingID===l&&(g.retained=!1)}f(b)}}}function i(b){var c=ja(b,l),d=(oc++).toString(),e=za(b,"fetchListeners",d,l,function(a,b){a(ka(b,c))});return X(e,b,c),a&&(e.retain=function(){return o._retainItem(b,d),e},e.release=function(){o._releaseItem(c)}),e}function k(b){var c;return!n&&b?c=i(b):(n?(c=new j(function(){}),c.cancel()):c=j.wrap(null),W(c,null),a&&(c.retain=function(){return c},c.release=function(){})),d(b),c}var l=(mc++).toString(),m=null,n=!1;lc[l]={notificationHandler:a,notificationsSent:!1,adjustCurrentSlot:e,itemPromiseFromKnownSlot:i};var o={_retainItem:function(a,b){g(a,b)},_releaseItem:function(a){h(a)},jumpToItem:function(a){return k(a?Nc[a.handle]:null)},current:function(){return k(m)},previous:function(){return k(m?Fa(m):null)},next:function(){return k(m?Ga(m):null)},releaseItem:function(a){this._releaseItem(a.handle)},release:function(){n=!0,c(m),m=null;for(var a=Kc.next;a!==Mc;){var b=a.next,d=a.fetchListeners;for(var e in d){var g=d[e];g.listBindingID===l&&(g.promise.cancel(),delete d[e])}a.bindingMap&&a.bindingMap[l]&&f(a),a=b}delete lc[l]}};return(jd||id)&&(o.first=function(){return k(Ga(Kc))}),kd&&(o.last=function(){return k(Fa(Lc))}),hd&&(o.fromKey=function(a,b){return k(Ka(a,b))}),(id||jd&&hd)&&(o.fromIndex=function(a){return k(La(a))}),ld&&(o.fromDescription=function(a){return k(Ma(a))}),o},this.invalidateAll=function(){return xb()};var sd=function(a,b){var c=new l;a.then(function(a){c.complete(a)},function(a){c.error(a)});var d=c.promise.then(null,function(c){return"WinJS.UI.VirtualizedDataSource.resetCount"===c.name?(pc=null,a=b.getCount()):j.wrapError(c)}),f=0,g={get:function(){return f++,new j(function(a,b){d.then(a,b)},function(){0===--f&&(c.promise.cancel(),a.cancel(),g===pc&&(pc=null))})},reset:function(){c.error(new e("WinJS.UI.VirtualizedDataSource.resetCount"))},cancel:function(){c.promise.cancel(),a.cancel(),g===pc&&(pc=null)}};return g};this.getCount=function(){if(a.getCount){var b=this;return j.wrap().then(function(){if(sc||vc)return Jc;var c;if(!pc){var d;c=a.getCount();var e;c.then(function(){pc===d&&(pc=null),e=!0},function(){pc===d&&(pc=null),e=!0}),zc=0,e||(d=pc=sd(c,b))}return pc?pc.get():c}).then(function(a){if(!w(a)&&void 0!==a)throw new e("WinJS.UI.ListDataSource.InvalidRequestedCountReturned",s.invalidRequestedCountReturned);return a!==Jc&&(Jc===p.unknown?Jc=a:(la(a),ia())),0===a&&(Kc.next!==Lc||Lc.next!==Mc?wb():Kc.lastInSequence&&(H(Kc),Lc.index=0)),a}).then(null,function(a){return a.name===m.CountError.noResponse?(Na(o.failure),Jc):j.wrapError(a)})}return j.wrap(Jc)},hd&&(this.itemFromKey=function(a,b){return Ha(Ka(a,b))}),(id||jd&&hd)&&(this.itemFromIndex=function(a){return Ha(La(a))}),ld&&(this.itemFromDescription=function(a){return Ha(Ma(a))}),this.beginEdits=function(){sc=!0},a.insertAtStart&&(this.insertAtStart=function(b,c){return cc(b,c,Kc.lastInSequence?null:Kc.next,!0,function(){return a.insertAtStart(b,c)})}),a.insertBefore&&(this.insertBefore=function(b,c,d){var e=ac(d);return cc(b,c,e,!1,function(){return a.insertBefore(b,c,d,ua(e))})}),a.insertAfter&&(this.insertAfter=function(b,c,d){var e=ac(d);return cc(b,c,e?e.next:null,!0,function(){return a.insertAfter(b,c,d,ua(e))})}),a.insertAtEnd&&(this.insertAtEnd=function(b,c){return cc(b,c,Lc.firstInSequence?null:Lc,!1,function(){return a.insertAtEnd(b,c)})}),a.change&&(this.change=function(b,c){var d=ac(b);return new j(function(e,f){var g;Vb(function(){return a.change(b,c,ua(d))},rd.change,e,f,null,function(){g=d.item,d.itemNew={key:b,data:c},g?qa(d):Ba(d)},function(){g?(d.itemNew=g,qa(d)):wb()})})}),a.moveToStart&&(this.moveToStart=function(b){var c=ac(b);return dc(c,Kc.next,!0,function(){return a.moveToStart(b,ua(c))})}),a.moveBefore&&(this.moveBefore=function(b,c){var d=ac(b),e=ac(c);return dc(d,e,!1,function(){return a.moveBefore(b,c,ua(d),ua(e))})}),a.moveAfter&&(this.moveAfter=function(b,c){var d=ac(b),e=ac(c);return dc(d,e.next,!0,function(){return a.moveAfter(b,c,ua(d),ua(e))})}),a.moveToEnd&&(this.moveToEnd=function(b){var c=ac(b);return dc(c,Lc,!1,function(){return a.moveToEnd(b,ua(c))})}),a.remove&&(this.remove=function(b){Ia(b);var c=Oc[b];return new j(function(d,e){var f,g,h;Vb(function(){return a.remove(b,ua(c))},rd.remove,d,e,null,function(){c&&(f=c.next,g=c.firstInSequence,h=c.lastInSequence,wa(c,-1),sa(c,!1))},function(){c&&(R(c,f,!g,!h),wa(c,1),pa(c))})})}),this.endEdits=function(){sc=!1,$b()}}var h=100,n=1,o=m.DataSourceStatus,p=m.CountResult,q=m.FetchError,r=m.EditError,s={get listDataAdapterIsInvalid(){return"Invalid argument: listDataAdapter must be an object or an array."},get indexIsInvalid(){return"Invalid argument: index must be a non-negative integer."},get keyIsInvalid(){return"Invalid argument: key must be a string."},get invalidItemReturned(){return"Error: data adapter returned item that is not an object."},get invalidKeyReturned(){return"Error: data adapter returned item with undefined or null key."},get invalidIndexReturned(){return"Error: data adapter should return undefined, null or a non-negative integer for the index."},get invalidCountReturned(){return"Error: data adapter should return undefined, null, CountResult.unknown, or a non-negative integer for the count."},get invalidRequestedCountReturned(){return"Error: data adapter should return CountResult.unknown, CountResult.failure, or a non-negative integer for the count."},get refreshCycleIdentified(){return"refresh cycle found, likely data inconsistency"}},t="statuschanged",u=c.Class.define(function(){},{_baseDataSourceConstructor:a,_isVirtualizedDataSource:!0},{supportedForProcessing:!1});return c.Class.mix(u,f.eventMixin),u})})}),d("WinJS/VirtualizedDataSource/_GroupDataSource",["exports","../Core/_Base","../Core/_ErrorFromName","../Promise","../Scheduler","../Utilities/_UI","./_VirtualizedDataSourceImpl"],function(a,b,c,d,e,f,g){"use strict";b.Namespace._moduleDefine(a,"WinJS.UI",{_GroupDataSource:b.Namespace._lazy(function(){function a(){return new c(f.FetchError.doesNotExist)}function h(a){return a&&a.firstReached&&a.lastReached}var i=101,j=b.Class.define(function(a){this._groupDataAdapter=a},{beginNotifications:function(){},inserted:function(a,b,c){this._groupDataAdapter._inserted(a,b,c)},changed:function(a,b){this._groupDataAdapter._changed(a,b)},moved:function(a,b,c){this._groupDataAdapter._moved(a,b,c)},removed:function(a,b){this._groupDataAdapter._removed(a,b)},countChanged:function(a,b){0===a&&0!==b&&this._groupDataAdapter.invalidateGroups()},indexChanged:function(a,b,c){this._groupDataAdapter._indexChanged(a,b,c)},endNotifications:function(){this._groupDataAdapter._endNotifications()},reload:function(){this._groupDataAdapter._reload()}},{supportedForProcessing:!1}),k=b.Class.define(function(a,b,c,d){this._listBinding=a.createListBinding(new j(this)),this._groupKey=b,this._groupData=c,this._initializeState(),this._batchSize=i,this._count=null,d&&("number"==typeof d.groupCountEstimate&&(this._count=d.groupCountEstimate<0?null:Math.max(d.groupCountEstimate,1)),"number"==typeof d.batchSize&&(this._batchSize=d.batchSize+1)),this._listBinding.last&&(this.itemsFromEnd=function(a){var b=this;return this._fetchItems(function(){return b._lastGroup},function(a){if(a)return!1;var c=b._count;return+c!==c?!0:c>0?!0:void 0},function(){b._fetchBatch(b._listBinding.last(),b._batchSize-1,0)},a-1,0)})},{setNotificationHandler:function(a){this._listDataNotificationHandler=a},compareByIdentity:!0,itemsFromKey:function(a,b,c,d){var e=this;return this._fetchItems(function(){return e._keyMap[a]},function(){var a=e._lastGroup;return a?+a.index!==a.index?!0:void 0:!0},function(){d=d||{};var a="string"==typeof d.groupMemberKey&&e._listBinding.fromKey?e._listBinding.fromKey(d.groupMemberKey):"number"==typeof d.groupMemberIndex&&e._listBinding.fromIndex?e._listBinding.fromIndex(d.groupMemberIndex):void 0!==d.groupMemberDescription&&e._listBinding.fromDescription?e._listBinding.fromDescription(d.groupMemberDescription):e._listBinding.first(),b=Math.floor(.5*(e._batchSize-1));e._fetchBatch(a,b,e._batchSize-1-b)},b,c)},itemsFromIndex:function(a,b,c){var d=this;return this._fetchItems(function(){return d._indexMap[a]},function(){var b=d._lastGroup;return b?+b.index!==b.index?!0:a<=b.index?!0:void 0:!0},function(){d._fetchNextIndex()},b,c)},getCount:function(){if(this._lastGroup&&"number"==typeof this._lastGroup.index)return d.wrap(this._count);var a=this,b=new d(function(b){var c={initialBatch:function(){a._fetchNextIndex()},getGroup:function(){return null},countBefore:0,countAfter:0,complete:function(c){c&&(a._count=0);var d=a._count;return"number"==typeof d?(b(d),!0):!1}};a._fetchQueue.push(c),a._itemBatch||a._continueFetch(c)});return"number"==typeof this._count?d.wrap(this._count):b},invalidateGroups:function(){this._beginRefresh(),this._initializeState()},_initializeState:function(){this._count=null,this._indexMax=null,this._keyMap={},this._indexMap={},this._lastGroup=null,this._handleMap={},this._fetchQueue=[],this._itemBatch=null,this._itemsToFetch=0,this._indicesChanged=!1},_releaseItem:function(a){delete this._handleMap[a.handle],this._listBinding.releaseItem(a)},_processBatch:function(){for(var a=null,b=null,c=null,d=0,f=!0,g=0;g<this._batchSize;g++){
var h=this._itemBatch[g],i=h?this._groupKey(h):null;if(h&&(f=!1),b&&null!==i&&i===b.key)d++,b.lastItem===a?(b.lastItem.handle!==b.firstItem.handle&&this._releaseItem(b.lastItem),b.lastItem=h,this._handleMap[h.handle]=b,b.size++):b.firstItem===h&&(b.firstItem.handle!==b.lastItem.handle&&this._releaseItem(b.firstItem),b.firstItem=c,this._handleMap[c.handle]=b,b.size+=d);else{var j=null;if(b&&(b.lastReached=!0,"number"==typeof b.index&&(j=b.index+1)),h){var k=this._keyMap[i];if(k||(k={key:i,data:this._groupData(h),firstItem:h,lastItem:h,size:1},this._keyMap[k.key]=k,this._handleMap[h.handle]=k),g>0&&(k.firstReached=!0,b||(j=0)),"number"!=typeof k.index&&"number"==typeof j){for(var l=k;l;l=this._nextGroup(l))l.index=j,this._indexMap[j]=l,j++;this._indexMax=j,"number"==typeof this._count&&!this._lastGroup&&this._count<=this._indexMax&&(this._count=this._indexMax+1)}c=h,d=0,b=k}else b&&(this._lastGroup=b,"number"==typeof b.index&&(this._count=b.index+1),this._listDataNotificationHandler.invalidateAll(),b=null)}a=h}var m;for(m=this._fetchQueue[0];m&&m.complete(f);m=this._fetchQueue[0])this._fetchQueue.splice(0,1);if(m){var n=this;e.schedule(function(){n._continueFetch(m)},e.Priority.normal,null,"WinJS.UI._GroupDataSource._continueFetch")}else this._itemBatch=null},_processPromise:function(a,b){a.retain(),this._itemBatch[b]=a;var c=this;a.then(function(a){c._itemBatch[b]=a,0===--c._itemsToFetch&&c._processBatch()})},_fetchBatch:function(a,b){this._itemBatch=new Array(this._batchSize),this._itemsToFetch=this._batchSize,this._processPromise(a,b);var c;for(this._listBinding.jumpToItem(a),c=b-1;c>=0;c--)this._processPromise(this._listBinding.previous(),c);for(this._listBinding.jumpToItem(a),c=b+1;c<this._batchSize;c++)this._processPromise(this._listBinding.next(),c)},_fetchAdjacent:function(a,b){this._fetchBatch(this._listBinding.fromKey?this._listBinding.fromKey(a.key):this._listBinding.fromIndex(a.index),b?0:this._batchSize-1,b?this._batchSize-1:0)},_fetchNextIndex:function(){var a=this._indexMap[this._indexMax-1];a?this._fetchAdjacent(a.lastItem,!0):this._fetchBatch(this._listBinding.first(),1,this._batchSize-2)},_continueFetch:function(a){if(a.initialBatch)a.initialBatch(),a.initialBatch=null;else{var b=a.getGroup();if(b){var c,d;b.firstReached?b.lastReached?a.countBefore>0&&0!==b.index&&!h(c=this._previousGroup(b))?this._fetchAdjacent(c&&c.lastReached?c.firstItem:b.firstItem,!1):(d=this._nextGroup(b),this._fetchAdjacent(d&&d.firstReached?d.lastItem:b.lastItem,!0)):this._fetchAdjacent(b.lastItem,!0):this._fetchAdjacent(b.firstItem,!1)}else this._fetchNextIndex()}},_fetchComplete:function(a,b,c,d,e){if(h(a)){var g=this._previousGroup(a);if(d||h(g)||0===a.index||0===b){var i=this._nextGroup(a);if(d||h(i)||this._lastGroup===a||0===c){for(var j=0,k=a;b>j&&(g=this._previousGroup(k),h(g));)k=g,j++;for(var l=0,m=a;c>l&&(i=this._nextGroup(m),h(i));)m=i,l++;for(var n=j+1+l,o=new Array(n),p=0;n>p;p++){var q={key:k.key,data:k.data,firstItemKey:k.firstItem.key,groupSize:k.size},r=k.firstItem.index;"number"==typeof r&&(q.firstItemIndexHint=r),o[p]=q,k=this._nextGroup(k)}var s={items:o,offset:j};return s.totalCount="number"==typeof this._count?this._count:f.CountResult.unknown,"number"==typeof a.index&&(s.absoluteIndex=a.index),m===this._lastGroup&&(s.atEnd=!0),e(s),!0}}}return!1},_fetchItems:function(b,c,e,f,g){var h=this;return new d(function(d,i){function j(e){var j=b();return j?h._fetchComplete(j,f,g,l,d,i):l&&!c(e)?(i(a()),!0):m>2?(i(a()),!0):(e?m++:m=0,!1)}var k=b(),l=!k,m=0;if(!j()){var n={initialBatch:l?e:null,getGroup:b,countBefore:f,countAfter:g,complete:j};h._fetchQueue.push(n),h._itemBatch||h._continueFetch(n)}})},_previousGroup:function(a){return a&&a.firstReached?(this._listBinding.jumpToItem(a.firstItem),this._handleMap[this._listBinding.previous().handle]):null},_nextGroup:function(a){return a&&a.lastReached?(this._listBinding.jumpToItem(a.lastItem),this._handleMap[this._listBinding.next().handle]):null},_invalidateIndices:function(a){this._count=null,this._lastGroup=null,"number"==typeof a.index&&(this._indexMax=a.index>0?a.index:null);for(var b=a;b&&"number"==typeof b.index;b=this._nextGroup(b))delete this._indexMap[b.index],b.index=null},_releaseGroup:function(a){this._invalidateIndices(a),delete this._keyMap[a.key],this._lastGroup===a&&(this._lastGroup=null),a.firstItem!==a.lastItem&&this._releaseItem(a.firstItem),this._releaseItem(a.lastItem)},_beginRefresh:function(){if(this._fetchQueue=[],this._itemBatch){for(var a=0;a<this._batchSize;a++){var b=this._itemBatch[a];b&&(b.cancel&&b.cancel(),this._listBinding.releaseItem(b))}this._itemBatch=null}this._itemsToFetch=0,this._listDataNotificationHandler.invalidateAll()},_processInsertion:function(a,b,c){var d=this._handleMap[b],e=this._handleMap[c],f=null;d&&(d.lastReached&&b===d.lastItem.handle&&(f=this._groupKey(a))!==d.key?this._lastGroup===d&&(this._lastGroup=null,this._count=null):this._releaseGroup(d),this._beginRefresh()),e&&e!==d&&(this._invalidateIndices(e),e.firstReached&&c===e.firstItem.handle&&(null!==f?f:this._groupKey(a))!==e.key||this._releaseGroup(e),this._beginRefresh())},_processRemoval:function(a){var b=this._handleMap[a];if(!b||a!==b.firstItem.handle&&a!==b.lastItem.handle){if(this._itemBatch)for(var c=0;c<this._batchSize;c++){var d=this._itemBatch[c];if(d&&d.handle===a){this._beginRefresh();break}}}else this._releaseGroup(b),this._beginRefresh()},_inserted:function(a,b,c){var d=this;a.then(function(a){d._processInsertion(a,b,c)})},_changed:function(a,b){var c=this._handleMap[a.handle];if(c&&a.handle===c.firstItem.handle&&(this._releaseGroup(c),this._beginRefresh()),this._groupKey(a)!==this._groupKey(b)){this._listBinding.jumpToItem(a);var d=this._listBinding.previous().handle;this._listBinding.jumpToItem(a);var e=this._listBinding.next().handle;this._processRemoval(a.handle),this._processInsertion(a,d,e)}},_moved:function(a,b,c){this._processRemoval(a.handle);var d=this;a.then(function(a){d._processInsertion(a,b,c)})},_removed:function(a,b){b||this._processRemoval(a)},_indexChanged:function(a,b,c){"number"==typeof c&&(this._indicesChanged=!0)},_endNotifications:function(){if(this._indicesChanged){this._indicesChanged=!1;for(var a in this._keyMap){var b=this._keyMap[a];if(b.firstReached&&b.lastReached){var c=b.lastItem.index+1-b.firstItem.index;isNaN(c)||(b.size=c)}}this._beginRefresh()}},_reload:function(){this._initializeState(),this._listDataNotificationHandler.reload()}},{supportedForProcessing:!1});return b.Class.derive(g.VirtualizedDataSource,function(a,b,c,d){var e=new k(a,b,c,d);this._baseDataSourceConstructor(e),this.extensions={invalidateGroups:function(){e.invalidateGroups()}}},{},{supportedForProcessing:!1})})})}),d("WinJS/VirtualizedDataSource/_GroupedItemDataSource",["../Core/_Base","./_GroupDataSource"],function(a,b){"use strict";a.Namespace.define("WinJS.UI",{computeDataSourceGroups:function(a,c,d,e){function f(a){if(a){var b=Object.create(a);return b.groupKey=c(a),d&&(b.groupData=d(a)),b}return null}function g(a){var b=Object.create(a);return b.then=function(b,c,d){return a.then(function(a){return b(f(a))},c,d)},b}var h=Object.create(a);h.createListBinding=function(b){var c;b?(c=Object.create(b),c.inserted=function(a,c,d){return b.inserted(g(a),c,d)},c.changed=function(a,c){return b.changed(f(a),f(c))},c.moved=function(a,c,d){return b.moved(g(a),c,d)}):c=null;for(var d=a.createListBinding(c),e=Object.create(d),h=["first","last","fromDescription","jumpToItem","current"],i=0,j=h.length;j>i;i++)!function(a){d[a]&&(e[a]=function(){return g(d[a].apply(d,arguments))})}(h[i]);return d.fromKey&&(e.fromKey=function(a){return g(d.fromKey(a))}),d.fromIndex&&(e.fromIndex=function(a){return g(d.fromIndex(a))}),e.prev=function(){return g(d.prev())},e.next=function(){return g(d.next())},e};for(var i=["itemFromKey","itemFromIndex","itemFromDescription","insertAtStart","insertBefore","insertAfter","insertAtEnd","change","moveToStart","moveBefore","moveAfter","moveToEnd"],j=0,k=i.length;k>j;j++)!function(b){a[b]&&(h[b]=function(){return g(a[b].apply(a,arguments))})}(i[j]);["addEventListener","removeEventListener","dispatchEvent"].forEach(function(b){a[b]&&(h[b]=function(){return a[b].apply(a,arguments)})});var l=null;return Object.defineProperty(h,"groups",{get:function(){return l||(l=new b._GroupDataSource(a,c,d,e)),l},enumerable:!0,configurable:!0}),h}})}),d("WinJS/VirtualizedDataSource/_StorageDataSource",["exports","../Core/_WinRT","../Core/_Global","../Core/_Base","../Core/_ErrorFromName","../Core/_WriteProfilerMark","../Animations","../Promise","../Utilities/_UI","./_VirtualizedDataSourceImpl"],function(a,b,c,d,e,f,g,h,i,j){"use strict";d.Namespace._moduleDefine(a,"WinJS.UI",{StorageDataSource:d.Namespace._lazy(function(){var a=d.Class.define(function(a,c){f("WinJS.UI.StorageDataSource:constructor,StartTM");var d,e=b.Windows.Storage.FileProperties.ThumbnailMode.singleItem,g=256,h=b.Windows.Storage.FileProperties.ThumbnailOptions.useCurrentScale,i=!0;if("Pictures"===a?(e=b.Windows.Storage.FileProperties.ThumbnailMode.picturesView,d=b.Windows.Storage.KnownFolders.picturesLibrary,g=190):"Music"===a?(e=b.Windows.Storage.FileProperties.ThumbnailMode.musicView,d=b.Windows.Storage.KnownFolders.musicLibrary,g=256):"Documents"===a?(e=b.Windows.Storage.FileProperties.ThumbnailMode.documentsView,d=b.Windows.Storage.KnownFolders.documentsLibrary,g=40):"Videos"===a&&(e=b.Windows.Storage.FileProperties.ThumbnailMode.videosView,d=b.Windows.Storage.KnownFolders.videosLibrary,g=190),d){var j=new b.Windows.Storage.Search.QueryOptions;j.folderDepth=b.Windows.Storage.Search.FolderDepth.deep,j.indexerOption=b.Windows.Storage.Search.IndexerOption.useIndexerWhenAvailable,this._query=d.createFileQueryWithOptions(j)}else this._query=a;if(c){if("number"==typeof c.mode&&(e=c.mode),"number"==typeof c.requestedThumbnailSize)g=Math.max(1,Math.min(c.requestedThumbnailSize,1024));else switch(e){case b.Windows.Storage.FileProperties.ThumbnailMode.picturesView:case b.Windows.Storage.FileProperties.ThumbnailMode.videosView:g=190;break;case b.Windows.Storage.FileProperties.ThumbnailMode.documentsView:case b.Windows.Storage.FileProperties.ThumbnailMode.listView:g=40;break;case b.Windows.Storage.FileProperties.ThumbnailMode.musicView:case b.Windows.Storage.FileProperties.ThumbnailMode.singleItem:g=256}"number"==typeof c.thumbnailOptions&&(h=c.thumbnailOptions),"boolean"==typeof c.waitForFileLoad&&(i=!c.waitForFileLoad)}this._loader=new b.Windows.Storage.BulkAccess.FileInformationFactory(this._query,e,g,h,i),this.compareByIdentity=!1,this.firstDataRequest=!0,f("WinJS.UI.StorageDataSource:constructor,StopTM")},{setNotificationHandler:function(a){this._notificationHandler=a,this._query.addEventListener("contentschanged",function(){a.invalidateAll()}),this._query.addEventListener("optionschanged",function(){a.invalidateAll()})},itemsFromEnd:function(a){var b=this;return f("WinJS.UI.StorageDataSource:itemsFromEnd,info"),this.getCount().then(function(c){return 0===c?h.wrapError(new e(i.FetchError.doesNotExist)):b.itemsFromIndex(c-1,Math.min(c-1,a-1),1)})},itemsFromIndex:function(a,b,c){function d(a){k._notificationHandler.changed(k._item(a.target))}b+c>64&&(b=Math.min(b,32),c=64-(b+1));var g=a-b,j=b+1+c,k=this;k.firstDataRequest&&(k.firstDataRequest=!1,j=Math.max(j,32));var l="WinJS.UI.StorageDataSource:itemsFromIndex("+g+"-"+(g+j-1)+")";return f(l+",StartTM"),this._loader.getItemsAsync(g,j).then(function(c){var m=c.size;if(b>=m)return h.wrapError(new e(i.FetchError.doesNotExist));var n=new Array(m),o=new Array(m);c.getMany(0,o);for(var p=0;m>p;p++)n[p]=k._item(o[p]),o[p].addEventListener("propertiesupdated",d);var q={items:n,offset:b,absoluteIndex:a};return j>m&&(q.totalCount=g+m),f(l+",StopTM"),q})},itemsFromDescription:function(a,b,c){var d=this;return f("WinJS.UI.StorageDataSource:itemsFromDescription,info"),this._query.findStartIndexAsync(a).then(function(a){return d.itemsFromIndex(a,b,c)})},getCount:function(){return f("WinJS.UI.StorageDataSource:getCount,info"),this._query.getItemCountAsync()},itemSignature:function(a){return a.folderRelativeId},_item:function(a){return{key:a.path||a.folderRelativeId,data:a}}},{supportedForProcessing:!1});return d.Class.derive(j.VirtualizedDataSource,function(b,c){this._baseDataSourceConstructor(new a(b,c))},{},{loadThumbnail:function(a,d){var e,i,j=!1;return new h(function(k){var l=!!d,m=function(m){if(m){var n=c.URL.createObjectURL(m,{oneTimeOnly:!0});i=i?i.then(function(b){return a.loadImage(n,b)}):a.loadImage(n,d).then(function(b){return a.isOnScreen().then(function(a){var c;return a&&l?c=g.fadeIn(b).then(function(){return b}):(b.style.opacity=1,c=h.wrap(b)),c})}),m.type===b.Windows.Storage.FileProperties.ThumbnailType.icon||m.returnedSmallerCachedSize||(f("WinJS.UI.StorageDataSource:loadThumbnail complete,info"),a.data.removeEventListener("thumbnailupdated",e),j=!1,i=i.then(function(a){e=null,i=null,k(a)}))}};e=function(a){j&&m(a.target.thumbnail)},a.data.addEventListener("thumbnailupdated",e),j=!0,m(a.data.thumbnail)},function(){a.data.removeEventListener("thumbnailupdated",e),j=!1,e=null,i&&(i.cancel(),i=null)})},supportedForProcessing:!1})})})}),d("WinJS/VirtualizedDataSource",["./VirtualizedDataSource/_VirtualizedDataSourceImpl","./VirtualizedDataSource/_GroupDataSource","./VirtualizedDataSource/_GroupedItemDataSource","./VirtualizedDataSource/_StorageDataSource"],function(){}),d("WinJS/Vui",["require","exports","./Core/_Global","./Utilities/_ElementUtilities"],function(a,b,c,d){function e(a){if(!a.defaultPrevented){var b=a.target,c=f[b.tagName];if(c)switch(a.state){case j.active:b[g.vuiData]||d.hasClass(b,h.active)?(d.removeClass(b,h.disambiguation),c.reactivate(b,a.label)):(d.addClass(b,h.active),c.activate(b,a.label));break;case j.disambiguation:d.addClass(b,h.active),d.addClass(b,h.disambiguation),c.disambiguate(b,a.label);break;case j.inactive:d.removeClass(b,h.active),d.removeClass(b,h.disambiguation),c.deactivate(b)}}}var f,g={vuiData:"_winVuiData"},h={active:"win-vui-active",disambiguation:"win-vui-disambiguation"},i={ListeningModeStateChanged:"ListeningStateChanged"},j={active:"active",disambiguation:"disambiguation",inactive:"inactive"};!function(a){a.BUTTON={activate:function(a,b){var c={nodes:[],width:a.style.width,height:a.style.height},e=d._getComputedStyle(a);for(a.style.width=e.width,a.style.height=e.height;a.childNodes.length;)c.nodes.push(a.removeChild(a.childNodes[0]));a[g.vuiData]=c,a.textContent=b},disambiguate:function(a,b){a.textContent=b},reactivate:function(a,b){a.textContent=b},deactivate:function(a){a.innerHTML="";var b=a[g.vuiData];a.style.width=b.width,a.style.height=b.height,b.nodes.forEach(function(b){return a.appendChild(b)}),delete a[g.vuiData]}}}(f||(f={})),c.document&&c.document.addEventListener(i.ListeningModeStateChanged,e)}),d("WinJS/_Accents",["require","exports","./Core/_Global","./Core/_WinRT","./Core/_Base","./Core/_BaseUtils","./Utilities/_ElementUtilities"],function(a,b,c,d,e,f,g){function h(a,b){t.push({selector:a,props:b}),i()}function i(){0!==t.length&&-1===u&&(u=f._setImmediate(function(){u=-1,m();var a=s?o.lightThemeSelector:o.darkThemeSelector,b=o.hoverSelector+" "+a,d=c.document.createElement("style");d.id=o.accentStyleId,d.textContent=t.map(function(c){var d="  "+c.props.map(function(a){return a.name+": "+r[a.value]+";"}).join("\n  "),e=c.selector.split(",").map(function(a){return l(a)}),f=e.join(",\n"),g=f+" {\n"+d+"\n}",h=c.props.some(function(a){return 0!==a.value});if(h){var i="  "+c.props.map(function(a){return a.name+": "+r[a.value?a.value+3:a.value]+";"}).join("\n  "),j=[];e.forEach(function(c){if(-1!==c.indexOf(o.hoverSelector)&&-1===c.indexOf(b)){j.push(c.replace(o.hoverSelector,b));var d=c.replace(o.hoverSelector,"").trim();-1!==p.indexOf(d[0])&&j.push(c.replace(o.hoverSelector+" ",b))}else j.push(a+" "+c),-1!==p.indexOf(c[0])&&j.push(a+c);g+="\n"+j.join(",\n")+" {\n"+i+"\n}"})}return g}).join("\n"),c.document.head.appendChild(d)}))}function j(){var a=(d.Windows.UI.ViewManagement.UIColorType,q.getColorValue(d.Windows.UI.ViewManagement.UIColorType.accent)),b=k(a,1);r[0]!==b&&(r.length=0,r.push(b,k(a,s?.6:.4),k(a,s?.8:.6),k(a,s?.9:.7),k(a,s?.4:.6),k(a,s?.6:.8),k(a,s?.7:.9)),i())}function k(a,b){return"rgba("+a.r+","+a.g+","+a.b+","+b+")"}function l(a){return a.replace(/  /g," ").replace(/  /g," ").trim()}function m(){var a=c.document.head.querySelector("#"+o.accentStyleId);a&&a.parentNode.removeChild(a)}function n(){t.length=0,m()}var o={accentStyleId:"WinJSAccentsStyle",themeDetectionTag:"winjs-themedetection-tag",hoverSelector:"html.win-hoverable",lightThemeSelector:".win-ui-light",darkThemeSelector:".win-ui-dark"},p=[".","#",":"],q=null,r=[],s=!1,t=[],u=-1;!function(a){a[a.accent=0]="accent",a[a.listSelectRest=1]="listSelectRest",a[a.listSelectHover=2]="listSelectHover",a[a.listSelectPress=3]="listSelectPress",a[a._listSelectRestInverse=4]="_listSelectRestInverse",a[a._listSelectHoverInverse=5]="_listSelectHoverInverse",a[a._listSelectPressInverse=6]="_listSelectPressInverse"}(b.ColorTypes||(b.ColorTypes={}));var v=b.ColorTypes;b.createAccentRule=h;var w=c.document.createElement(o.themeDetectionTag);c.document.head.appendChild(w);var x=g._getComputedStyle(w);s="0"===x.opacity,w.parentElement.removeChild(w);try{q=new d.Windows.UI.ViewManagement.UISettings,q.addEventListener("colorvalueschanged",j),j()}catch(y){r.push("rgb(0, 120, 215)","rgba(0, 120, 215, "+(s?"0.6":"0.4")+")","rgba(0, 120, 215, "+(s?"0.8":"0.6")+")","rgba(0, 120, 215, "+(s?"0.9":"0.7")+")","rgba(0, 120, 215, "+(s?"0.4":"0.6")+")","rgba(0, 120, 215, "+(s?"0.6":"0.8")+")","rgba(0, 120, 215, "+(s?"0.7":"0.9")+")")}var z={ColorTypes:v,createAccentRule:h,_colors:r,_reset:n,_isDarkTheme:s};e.Namespace.define("WinJS.UI._Accents",z)}),d("require-style",{load:function(a){throw new Error("Dynamic load not allowed: "+a)}}),d("require-style!less/styles-intrinsic",[],function(){}),d("require-style!less/colors-intrinsic",[],function(){}),d("WinJS/Controls/IntrinsicControls",["../Utilities/_Hoverable","../_Accents","require-style!less/styles-intrinsic","require-style!less/colors-intrinsic"],function(a,b){"use strict";b.createAccentRule(".win-link,         .win-progress-bar,         .win-progress-ring,         .win-ring",[{name:"color",value:b.ColorTypes.accent}]),b.createAccentRule("::selection,         .win-button.win-button-primary,         .win-dropdown option:checked,         select[multiple].win-dropdown option:checked",[{name:"background-color",value:b.ColorTypes.accent}]),b.createAccentRule(".win-textbox:focus,         .win-textarea:focus,         .win-textbox:focus:hover,         .win-textarea:focus:hover",[{name:"border-color",value:b.ColorTypes.accent}]),b.createAccentRule(".win-textbox::-ms-clear:hover:not(:active),         .win-textbox::-ms-reveal:hover:not(:active)",[{name:"color",value:b.ColorTypes.accent}]),b.createAccentRule(".win-checkbox:checked::-ms-check,         .win-textbox::-ms-clear:active,         .win-textbox::-ms-reveal:active",[{name:"background-color",value:b.ColorTypes.accent}]),b.createAccentRule(".win-progress-bar::-webkit-progress-value,         .win-progress-ring::-webkit-progress-value,         .win-ring::-webkit-progress-value",[{name:"background-color",value:b.ColorTypes.accent}]),b.createAccentRule(".win-progress-bar:not(:indeterminate)::-moz-progress-bar,         .win-progress-ring:not(:indeterminate)::-moz-progress-bar,         .win-ring:not(:indeterminate)::-moz-progress-bar",[{name:"background-color",value:b.ColorTypes.accent}]),b.createAccentRule(".win-checkbox:indeterminate::-ms-check,         .win-checkbox:hover:indeterminate::-ms-check,         .win-radio:checked::-ms-check",[{name:"border-color",value:b.ColorTypes.accent}]),b.createAccentRule(".win-slider::-ms-thumb,         .win-slider::-ms-fill-lower",[{name:"background",value:b.ColorTypes.accent}]),b.createAccentRule(".win-slider::-webkit-slider-thumb",[{name:"background",value:b.ColorTypes.accent}]),b.createAccentRule(".win-slider::-moz-range-thumb",[{name:"background",value:b.ColorTypes.accent}])}),d("WinJS/Controls/ElementResizeInstrument/_ElementResizeInstrument",["require","exports","../../Core/_BaseUtils","../../Core/_Base","../../Core/_Global","../../Core/_Log","../../Core/_ErrorFromName","../../Core/_Events","../../Promise","../../Utilities/_ElementUtilities"],function(a,b,c,d,e,f,g,h,i,j){"use strict";var k="display: block;position:absolute;top: 0;left: 0;height: 100%;width: 100%;overflow: hidden;pointer-events: none;z-index: -1;",l="win-resizeinstrument",m="about:blank",n={resize:"resize",_ready:"_ready"},o="resize",p="msHighContrastAdjust"in document.documentElement.style,q=function(){function a(){var a=this;this._disposed=!1,this._elementLoaded=!1,this._running=!1,this._objectWindowResizeHandlerBound=this._objectWindowResizeHandler.bind(this);var b=e.document.createElement("OBJECT");b.setAttribute("style",k),p?b.style.visibility="hidden":b.data=m,b.type="text/html",b.winControl=this,j.addClass(b,l),j.addClass(b,"win-disposable"),this._element=b,this._elementLoadPromise=new i(function(c){b.onload=function(){a._disposed||(a._elementLoaded=!0,a._objWindow.addEventListener(o,a._objectWindowResizeHandlerBound),c())}})}return Object.defineProperty(a.prototype,"element",{get:function(){return this._element},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"_objWindow",{get:function(){return this._elementLoaded&&this._element.contentDocument&&this._element.contentDocument.defaultView||null},enumerable:!0,configurable:!0}),a.prototype.addedToDom=function(){var a=this;if(!this._disposed){var b=this.element;if(!e.document.body.contains(b))throw new g("WinJS.UI._ElementResizeInstrument","ElementResizeInstrument initialization failed");f.log&&"static"===j._getComputedStyle(b.parentElement).position&&f.log("_ElementResizeInstrument can only detect size changes that are made to it's nearest positioned ancestor. Its parent element is not currently positioned."),!this._elementLoaded&&p&&(b.data="about:blank"),this._elementLoadPromise.then(function(){a._running=!0,a.dispatchEvent(n._ready,null);var b=i.timeout(50),c=function(){a.removeEventListener(n.resize,c),b.cancel()};a.addEventListener(n.resize,c),b.then(function(){a._objectWindowResizeHandler()})})}},a.prototype.dispose=function(){this._disposed||(this._disposed=!0,this._elementLoadPromise.cancel(),this._objWindow&&this._objWindow.removeEventListener.call(this._objWindow,o,this._objectWindowResizeHandlerBound),this._running=!1)},a.prototype.addEventListener=function(a,b,c){},a.prototype.dispatchEvent=function(a,b){return!1},a.prototype.removeEventListener=function(a,b,c){},a.prototype._objectWindowResizeHandler=function(){var a=this;this._running&&this._batchResizeEvents(function(){a._fireResizeEvent()})},a.prototype._batchResizeEvents=function(a){this._pendingResizeAnimationFrameId&&c._cancelAnimationFrame(this._pendingResizeAnimationFrameId),this._pendingResizeAnimationFrameId=c._requestAnimationFrame(function(){a()})},a.prototype._fireResizeEvent=function(){this._disposed||this.dispatchEvent(n.resize,null)},a.EventNames=n,a}();b._ElementResizeInstrument=q,d.Class.mix(q,h.eventMixin)}),d("WinJS/Controls/ElementResizeInstrument",["require","exports"],function(a,b){function c(){return d||a(["./ElementResizeInstrument/_ElementResizeInstrument"],function(a){d=a}),d._ElementResizeInstrument}var d=null,e=Object.create({},{_ElementResizeInstrument:{get:function(){return c()}}});return e}),d("WinJS/Controls/ItemContainer/_Constants",["exports","../../Core/_Base"],function(a,b){"use strict";var c={};c._listViewClass="win-listview",c._viewportClass="win-viewport",c._rtlListViewClass="win-rtl",c._horizontalClass="win-horizontal",c._verticalClass="win-vertical",c._scrollableClass="win-surface",c._itemsContainerClass="win-itemscontainer",c._listHeaderContainerClass="win-headercontainer",c._listFooterContainerClass="win-footercontainer",c._padderClass="win-itemscontainer-padder",c._proxyClass="_win-proxy",c._itemClass="win-item",c._itemBoxClass="win-itembox",c._itemsBlockClass="win-itemsblock",c._containerClass="win-container",c._containerEvenClass="win-container-even",c._containerOddClass="win-container-odd",c._backdropClass="win-backdrop",c._footprintClass="win-footprint",c._groupsClass="win-groups",c._selectedClass="win-selected",c._selectionBorderClass="win-selectionborder",c._selectionBackgroundClass="win-selectionbackground",c._selectionCheckmarkClass="win-selectioncheckmark",c._selectionCheckmarkBackgroundClass="win-selectioncheckmarkbackground",c._pressedClass="win-pressed",c._headerClass="win-groupheader",c._headerContainerClass="win-groupheadercontainer",c._groupLeaderClass="win-groupleader",c._progressClass="win-progress",c._revealedClass="win-revealed",c._itemFocusClass="win-focused",c._itemFocusOutlineClass="win-focusedoutline",c._zoomingXClass="win-zooming-x",c._zoomingYClass="win-zooming-y",c._listLayoutClass="win-listlayout",c._gridLayoutClass="win-gridlayout",c._headerPositionTopClass="win-headerpositiontop",c._headerPositionLeftClass="win-headerpositionleft",c._structuralNodesClass="win-structuralnodes",c._singleItemsBlockClass="win-single-itemsblock",c._uniformGridLayoutClass="win-uniformgridlayout",c._uniformListLayoutClass="win-uniformlistlayout",c._cellSpanningGridLayoutClass="win-cellspanninggridlayout",c._laidOutClass="win-laidout",c._nonDraggableClass="win-nondraggable",c._nonSelectableClass="win-nonselectable",c._dragOverClass="win-dragover",c._dragSourceClass="win-dragsource",c._clipClass="win-clip",c._selectionModeClass="win-selectionmode",c._noCSSGrid="win-nocssgrid",c._hidingSelectionMode="win-hidingselectionmode",c._hidingSelectionModeAnimationTimeout=250,c._INVALID_INDEX=-1,c._UNINITIALIZED=-1,c._LEFT_MSPOINTER_BUTTON=0,c._RIGHT_MSPOINTER_BUTTON=2,c._TAP_END_THRESHOLD=10,c._DEFAULT_PAGES_TO_LOAD=5,c._DEFAULT_PAGE_LOAD_THRESHOLD=2,c._MIN_AUTOSCROLL_RATE=150,c._MAX_AUTOSCROLL_RATE=1500,c._AUTOSCROLL_THRESHOLD=100,c._AUTOSCROLL_DELAY=50,c._DEFERRED_ACTION=250,c._DEFERRED_SCROLL_END=250,c._SELECTION_CHECKMARK="",c._LISTVIEW_PROGRESS_DELAY=2e3;var d={uninitialized:0,low:1,medium:2,high:3},e={rebuild:0,remeasure:1,relayout:2,realize:3};c._ScrollToPriority=d,c._ViewChange=e,b.Namespace._moduleDefine(a,"WinJS.UI",c)}),d("WinJS/Controls/ItemContainer/_ItemEventsHandler",["exports","../../Core/_Global","../../Core/_WinRT","../../Core/_Base","../../Core/_BaseUtils","../../Core/_WriteProfilerMark","../../Animations","../../Animations/_TransitionAnimation","../../Promise","../../Utilities/_ElementUtilities","../../Utilities/_UI","./_Constants"],function(a,b,c,d,e,f,g,h,i,j,k,l){"use strict";var m=e._browserStyleEquivalents.transform;d.Namespace._moduleDefine(a,"WinJS.UI",{_ItemEventsHandler:d.Namespace._lazy(function(){function a(a,c){var d=b.document.createElement("div");return d.className=a,c||d.setAttribute("aria-hidden",!0),d}var g=j._MSPointerEvent.MSPOINTER_TYPE_TOUCH||"touch",h=d.Class.define(function(a){this._site=a,this._work=[],this._animations={}},{dispose:function(){this._disposed||(this._disposed=!0,j._removeEventListener(b,"pointerup",this._resetPointerDownStateBound),j._removeEventListener(b,"pointercancel",this._resetPointerDownStateBound))},onPointerDown:function(a){f("WinJS.UI._ItemEventsHandler:MSPointerDown,StartTM");var d,h,i=this._site,m=a.pointerType===g;if(i.pressedElement=a.target,c.Windows.UI.Input.PointerPoint){var n=this._getCurrentPoint(a),o=n.properties;m||o.isInverted||o.isEraser||o.isMiddleButtonPressed?d=h=!1:(h=o.isRightButtonPressed,d=!h&&o.isLeftButtonPressed)}else d=a.button===l._LEFT_MSPOINTER_BUTTON,h=a.button===l._RIGHT_MSPOINTER_BUTTON;this._DragStartBound=this._DragStartBound||this.onDragStart.bind(this),this._PointerEnterBound=this._PointerEnterBound||this.onPointerEnter.bind(this),this._PointerLeaveBound=this._PointerLeaveBound||this.onPointerLeave.bind(this);var p=this._isInteractive(a.target),q=i.indexForItemElement(a.target),r=i.indexForHeaderElement(a.target),s=!p&&q!==l._INVALID_INDEX;if((m||d)&&this._site.pressedEntity.index===l._INVALID_INDEX&&!p&&(r===l._INVALID_INDEX?this._site.pressedEntity={type:k.ObjectType.item,index:q}:this._site.pressedEntity={type:k.ObjectType.groupHeader,index:r},this._site.pressedEntity.index!==l._INVALID_INDEX)){this._site.pressedPosition=j._getCursorPos(a);var t=i.verifySelectionAllowed(this._site.pressedEntity);this._canSelect=t.canSelect,this._canTapSelect=t.canTapSelect,this._site.pressedEntity.type===k.ObjectType.item?(this._site.pressedItemBox=i.itemBoxAtIndex(this._site.pressedEntity.index),this._site.pressedContainer=i.containerAtIndex(this._site.pressedEntity.index),this._site.animatedElement=this._site.pressedContainer,this._site.pressedHeader=null,this._togglePressed(!0,a),this._site.pressedContainer.addEventListener("dragstart",this._DragStartBound),m||(j._addEventListener(this._site.pressedContainer,"pointerenter",this._PointerEnterBound,!1),j._addEventListener(this._site.pressedContainer,"pointerleave",this._PointerLeaveBound,!1))):(this._site.pressedHeader=this._site.headerFromElement(a.target),e.isPhone?(this._site.animatedElement=this._site.pressedHeader,this._togglePressed(!0,a)):(this._site.pressedItemBox=null,this._site.pressedContainer=null,this._site.animatedElement=null)),this._resetPointerDownStateBound||(this._resetPointerDownStateBound=this._resetPointerDownStateForPointerId.bind(this)),m||(j._addEventListener(b,"pointerup",this._resetPointerDownStateBound,!1),j._addEventListener(b,"pointercancel",this._resetPointerDownStateBound,!1)),this._pointerId=a.pointerId,this._pointerRightButton=h}if(s&&m)try{j._setPointerCapture(i.canvasProxy,a.pointerId)}catch(u){return void f("WinJS.UI._ItemEventsHandler:MSPointerDown,StopTM")}this._site.pressedEntity.type===k.ObjectType.item&&this._selectionAllowed()&&this._multiSelection()&&this._site.pressedEntity.index!==l._INVALID_INDEX&&i.selection._getFocused().index!==l._INVALID_INDEX&&i.selection._pivot===l._INVALID_INDEX&&(i.selection._pivot=i.selection._getFocused().index),f("WinJS.UI._ItemEventsHandler:MSPointerDown,StopTM")},onPointerEnter:function(a){this._site.pressedContainer&&this._pointerId===a.pointerId&&this._togglePressed(!0,a)},onPointerLeave:function(a){this._site.pressedContainer&&this._pointerId===a.pointerId&&this._togglePressed(!1,a)},onDragStart:function(){this._resetPressedContainer()},_resetPressedContainer:function(){(this._site.pressedContainer||this._site.pressedHeader)&&this._site.animatedElement&&(this._togglePressed(!1),this._site.pressedContainer&&(this._site.pressedContainer.style[m.scriptName]="",this._site.pressedContainer.removeEventListener("dragstart",this._DragStartBound),j._removeEventListener(this._site.pressedContainer,"pointerenter",this._PointerEnterBound,!1),j._removeEventListener(this._site.pressedContainer,"pointerleave",this._PointerLeaveBound,!1)))},onClick:function(a){if(!this._skipClick){var b={type:k.ObjectType.item,index:this._site.indexForItemElement(a.target)};if(b.index===l._INVALID_INDEX&&(b.index=this._site.indexForHeaderElement(a.target),b.index!==l._INVALID_INDEX&&(b.type=k.ObjectType.groupHeader)),b.index!==l._INVALID_INDEX&&(j.hasClass(a.target,this._site.accessibleItemClass)||j.hasClass(a.target,l._headerClass))){var c=this._site.verifySelectionAllowed(b);c.canTapSelect&&this.handleTap(b),this._site.fireInvokeEvent(b,a.target)}}},onPointerUp:function(a){f("WinJS.UI._ItemEventsHandler:MSPointerUp,StartTM");var b=this._site;this._skipClick=!0;var c=this;e._yieldForEvents(function(){c._skipClick=!1});try{j._releasePointerCapture(b.canvasProxy,a.pointerId)}catch(d){}var h=a.pointerType===g,i=this._releasedElement(a),m=b.indexForItemElement(i),n=i&&j.hasClass(i,l._headerContainerClass)?b.indexForHeaderElement(b.pressedHeader):b.indexForHeaderElement(i);if(this._pointerId===a.pointerId){var o;if(o=n===l._INVALID_INDEX?{type:k.ObjectType.item,index:m}:{type:k.ObjectType.groupHeader,index:n},this._resetPressedContainer(),this._site.pressedEntity.type===k.ObjectType.item&&o.type===k.ObjectType.item&&this._site.pressedContainer&&this._site.pressedEntity.index===o.index)if(a.shiftKey||(b.selection._pivot=l._INVALID_INDEX),
a.shiftKey){if(this._selectionAllowed()&&this._multiSelection()&&b.selection._pivot!==l._INVALID_INDEX){var p=Math.min(this._site.pressedEntity.index,b.selection._pivot),q=Math.max(this._site.pressedEntity.index,b.selection._pivot),r=this._pointerRightButton||a.ctrlKey||b.tapBehavior===k.TapBehavior.toggleSelect;b.selectRange(p,q,r)}}else a.ctrlKey&&this.toggleSelectionIfAllowed(this._site.pressedEntity.index);if(this._site.pressedHeader||this._site.pressedContainer){var s=j._getCursorPos(a),t=Math.abs(s.left-this._site.pressedPosition.left)<=l._TAP_END_THRESHOLD&&Math.abs(s.top-this._site.pressedPosition.top)<=l._TAP_END_THRESHOLD;this._pointerRightButton||a.ctrlKey||a.shiftKey||!(h&&t||!h&&this._site.pressedEntity.index===o.index&&this._site.pressedEntity.type===o.type)||(o.type===k.ObjectType.groupHeader?(this._site.pressedHeader=b.headerAtIndex(o.index),this._site.pressedItemBox=null,this._site.pressedContainer=null):(this._site.pressedItemBox=b.itemBoxAtIndex(o.index),this._site.pressedContainer=b.containerAtIndex(o.index),this._site.pressedHeader=null),this._canTapSelect&&this.handleTap(this._site.pressedEntity),this._site.fireInvokeEvent(this._site.pressedEntity,this._site.pressedItemBox||this._site.pressedHeader))}this._site.pressedEntity.index!==l._INVALID_INDEX&&b.changeFocus(this._site.pressedEntity,!0,!1,!0),this.resetPointerDownState()}f("WinJS.UI._ItemEventsHandler:MSPointerUp,StopTM")},onPointerCancel:function(a){this._pointerId===a.pointerId&&(f("WinJS.UI._ItemEventsHandler:MSPointerCancel,info"),this.resetPointerDownState())},onLostPointerCapture:function(a){this._pointerId===a.pointerId&&(f("WinJS.UI._ItemEventsHandler:MSLostPointerCapture,info"),this.resetPointerDownState())},onContextMenu:function(a){this._shouldSuppressContextMenu(a.target)&&a.preventDefault()},onMSHoldVisual:function(a){this._shouldSuppressContextMenu(a.target)&&a.preventDefault()},onDataChanged:function(){this.resetPointerDownState()},toggleSelectionIfAllowed:function(a){this._selectionAllowed(a)&&this._toggleItemSelection(a)},handleTap:function(a){if(a.type!==k.ObjectType.groupHeader){var b=this._site,c=b.selection;this._selectionAllowed(a.index)&&this._selectOnTap()&&(b.tapBehavior===k.TapBehavior.toggleSelect?this._toggleItemSelection(a.index):b.selectionMode!==k.SelectionMode.multi&&c._isIncluded(a.index)||c.set(a.index))}},_toggleItemSelection:function(a){var b=this._site,c=b.selection,d=c._isIncluded(a);b.selectionMode===k.SelectionMode.single?d?c.clear():c.set(a):d?c.remove(a):c.add(a)},_getCurrentPoint:function(a){return c.Windows.UI.Input.PointerPoint.getCurrentPoint(a.pointerId)},_containedInElementWithClass:function(a,b){if(a.parentNode)for(var c=a.parentNode.querySelectorAll("."+b+", ."+b+" *"),d=0,e=c.length;e>d;d++)if(c[d]===a)return!0;return!1},_isSelected:function(a){return this._site.selection._isIncluded(a)},_isInteractive:function(a){return this._containedInElementWithClass(a,"win-interactive")},_shouldSuppressContextMenu:function(a){var b=this._site.containerFromElement(a);return this._selectionAllowed()&&b&&!this._isInteractive(a)},_togglePressed:function(a,b){var c=this._site.pressedEntity.type===k.ObjectType.groupHeader;!c&&j.hasClass(this._site.pressedItemBox,l._nonSelectableClass)||this._staticMode(c)||(a?j.addClass(this._site.animatedElement,l._pressedClass):j.removeClass(this._site.animatedElement,l._pressedClass))},_resetPointerDownStateForPointerId:function(a){this._pointerId===a.pointerId&&this.resetPointerDownState()},resetPointerDownState:function(){this._site.pressedElement=null,j._removeEventListener(b,"pointerup",this._resetPointerDownStateBound),j._removeEventListener(b,"pointercancel",this._resetPointerDownStateBound),this._resetPressedContainer(),this._site.pressedContainer=null,this._site.animatedElement=null,this._site.pressedHeader=null,this._site.pressedItemBox=null,this._site.pressedEntity={type:k.ObjectType.item,index:l._INVALID_INDEX},this._pointerId=null},_releasedElement:function(a){return b.document.elementFromPoint(a.clientX,a.clientY)},_applyUIInBatches:function(a){function b(){c._work.length>0?(c._flushUIBatches(),c._paintedThisFrame=e._requestAnimationFrame(b.bind(c))):c._paintedThisFrame=null}var c=this;this._work.push(a),this._paintedThisFrame||b()},_flushUIBatches:function(){if(this._work.length>0){var a=this._work;this._work=[];for(var b=0;b<a.length;b++)a[b]()}},_selectionAllowed:function(a){var b=void 0!==a?this._site.itemAtIndex(a):null,c=!(b&&j.hasClass(b,l._nonSelectableClass));return c&&this._site.selectionMode!==k.SelectionMode.none},_multiSelection:function(){return this._site.selectionMode===k.SelectionMode.multi},_selectOnTap:function(){return this._site.tapBehavior===k.TapBehavior.toggleSelect||this._site.tapBehavior===k.TapBehavior.directSelect},_staticMode:function(a){return a?this._site.headerTapBehavior===k.GroupHeaderTapBehavior.none:this._site.tapBehavior===k.TapBehavior.none&&this._site.selectionMode===k.SelectionMode.none}},{setAriaSelected:function(a,b){var c="true"===a.getAttribute("aria-selected");b!==c&&a.setAttribute("aria-selected",b)},renderSelection:function(b,c,d,e,f){if(!h._selectionTemplate){h._selectionTemplate=[],h._selectionTemplate.push(a(l._selectionBackgroundClass)),h._selectionTemplate.push(a(l._selectionBorderClass)),h._selectionTemplate.push(a(l._selectionCheckmarkBackgroundClass));var g=a(l._selectionCheckmarkClass);g.textContent=l._SELECTION_CHECKMARK,h._selectionTemplate.push(g)}if(d!==j._isSelectionRendered(b)){if(d){b.insertBefore(h._selectionTemplate[0].cloneNode(!0),b.firstElementChild);for(var i=1,k=h._selectionTemplate.length;k>i;i++)b.appendChild(h._selectionTemplate[i].cloneNode(!0))}else for(var m=b.querySelectorAll(j._selectionPartsSelector),i=0,k=m.length;k>i;i++)b.removeChild(m[i]);j[d?"addClass":"removeClass"](b,l._selectedClass),f&&j[d?"addClass":"removeClass"](f,l._selectedClass)}e&&h.setAriaSelected(c,d)}});return h})})}),d("WinJS/Controls/ListView/_SelectionManager",["exports","../../Core/_Global","../../Core/_Base","../../Promise","../../_Signal","../../Utilities/_UI","../ItemContainer/_Constants"],function(a,b,c,d,e,f,g){"use strict";c.Namespace._moduleDefine(a,"WinJS.UI",{_ItemSet:c.Namespace._lazy(function(){var b=c.Class.define(function(a,b,c){this._listView=a,this._ranges=b,this._itemsCount=c});return b.prototype={getRanges:function(){for(var a=[],b=0,c=this._ranges.length;c>b;b++){var d=this._ranges[b];a.push({firstIndex:d.firstIndex,lastIndex:d.lastIndex,firstKey:d.firstKey,lastKey:d.lastKey})}return a},getItems:function(){return a.getItemsFromRanges(this._listView._itemsManager.dataSource,this._ranges)},isEverything:function(){return this.count()===this._itemsCount},count:function(){for(var a=0,b=0,c=this._ranges.length;c>b;b++){var d=this._ranges[b];a+=d.lastIndex-d.firstIndex+1}return a},getIndices:function(){for(var a=[],b=0,c=this._ranges.length;c>b;b++)for(var d=this._ranges[b],e=d.firstIndex;e<=d.lastIndex;e++)a.push(e);return a}},b}),getItemsFromRanges:function(a,b){function c(){for(var a=[],c=0,e=b.length;e>c;c++)for(var f=b[c],g=f.firstIndex;g<=f.lastIndex;g++)a.push(g);return d.wrap(a)}var e=a.createListBinding(),f=[];return c().then(function(a){for(var b=0;b<a.length;b++)f.push(e.fromIndex(a[b]));return d.join(f).then(function(a){return e.release(),a})})},_Selection:c.Namespace._lazy(function(){function b(a){return a&&0===a.firstIndex&&a.lastIndex===Number.MAX_VALUE}return c.Class.derive(a._ItemSet,function(a,b){this._listView=a,this._itemsCount=-1,this._ranges=[],b&&this.set(b)},{clear:function(){return this._releaseRanges(this._ranges),this._ranges=[],d.wrap()},set:function(a){if(b(a))return this.selectAll();this._releaseRanges(this._ranges),this._ranges=[];var c=this;return this._execute("_set",a).then(function(){return c._ranges.sort(function(a,b){return a.firstIndex-b.firstIndex}),c._ensureKeys()}).then(function(){return c._ensureCount()})},add:function(a){if(b(a))return this.selectAll();var c=this;return this._execute("_add",a).then(function(){return c._ensureKeys()}).then(function(){return c._ensureCount()})},remove:function(a){var b=this;return this._execute("_remove",a).then(function(){return b._ensureKeys()})},selectAll:function(){var a=this;return a._ensureCount().then(function(){if(a._itemsCount){var b={firstIndex:0,lastIndex:a._itemsCount-1};return a._retainRange(b),a._releaseRanges(a._ranges),a._ranges=[b],a._ensureKeys()}})},_execute:function(a,b){function c(a,b,c){var d={};return d["first"+a]=b,d["last"+a]=c,d}function e(b){var c=f._getListBinding(),e=d.join([c.fromKey(b.firstKey),c.fromKey(b.lastKey)]).then(function(c){return c[0]&&c[1]&&(b.firstIndex=c[0].index,b.lastIndex=c[1].index,f[a](b)),b});i.push(e)}for(var f=this,g=!!f._getListBinding().fromKey,h=Array.isArray(b)?b:[b],i=[d.wrap()],j=0,k=h.length;k>j;j++){var l=h[j];"number"==typeof l?this[a](c("Index",l,l)):l&&(g&&void 0!==l.key?e(c("Key",l.key,l.key)):g&&void 0!==l.firstKey&&void 0!==l.lastKey?e(c("Key",l.firstKey,l.lastKey)):void 0!==l.index&&"number"==typeof l.index?this[a](c("Index",l.index,l.index)):void 0!==l.firstIndex&&void 0!==l.lastIndex&&"number"==typeof l.firstIndex&&"number"==typeof l.lastIndex&&this[a](c("Index",l.firstIndex,l.lastIndex)))}return d.join(i)},_set:function(a){this._retainRange(a),this._ranges.push(a)},_add:function(a){for(var b,c,d,e=this,f=null,g=function(a,b){b.lastIndex>a.lastIndex&&(a.lastIndex=b.lastIndex,a.lastKey=b.lastKey,a.lastPromise&&a.lastPromise.release(),a.lastPromise=e._getListBinding().fromIndex(a.lastIndex).retain())},h=0,i=this._ranges.length;i>h;h++){if(b=this._ranges[h],a.firstIndex<b.firstIndex){d=f&&a.firstIndex<f.lastIndex+1,d?(c=h-1,g(f,a)):(this._insertRange(h,a),c=h);break}if(a.firstIndex===b.firstIndex){g(b,a),c=h;break}f=b}if(void 0===c){var j=this._ranges.length?this._ranges[this._ranges.length-1]:null,k=j&&a.firstIndex<j.lastIndex+1;k?g(j,a):(this._retainRange(a),this._ranges.push(a))}else{for(f=null,h=c+1,i=this._ranges.length;i>h;h++){if(b=this._ranges[h],a.lastIndex<b.firstIndex){d=f&&f.lastIndex>a.lastIndex,d&&g(this._ranges[c],f),this._removeRanges(c+1,h-c-1);break}if(a.lastIndex===b.firstIndex){g(this._ranges[c],b),this._removeRanges(c+1,h-c);break}f=b}h>=i&&(g(this._ranges[c],this._ranges[i-1]),this._removeRanges(c+1,i-c-1))}},_remove:function(a){function b(a){return c._getListBinding().fromIndex(a).retain()}for(var c=this,d=[],e=0,f=this._ranges.length;f>e;e++){var g=this._ranges[e];g.lastIndex<a.firstIndex||g.firstIndex>a.lastIndex?d.push(g):g.firstIndex<a.firstIndex&&g.lastIndex>=a.firstIndex&&g.lastIndex<=a.lastIndex?(d.push({firstIndex:g.firstIndex,firstKey:g.firstKey,firstPromise:g.firstPromise,lastIndex:a.firstIndex-1,lastPromise:b(a.firstIndex-1)}),g.lastPromise.release()):g.lastIndex>a.lastIndex&&g.firstIndex>=a.firstIndex&&g.firstIndex<=a.lastIndex?(d.push({firstIndex:a.lastIndex+1,firstPromise:b(a.lastIndex+1),lastIndex:g.lastIndex,lastKey:g.lastKey,lastPromise:g.lastPromise}),g.firstPromise.release()):g.firstIndex<a.firstIndex&&g.lastIndex>a.lastIndex?(d.push({firstIndex:g.firstIndex,firstKey:g.firstKey,firstPromise:g.firstPromise,lastIndex:a.firstIndex-1,lastPromise:b(a.firstIndex-1)}),d.push({firstIndex:a.lastIndex+1,firstPromise:b(a.lastIndex+1),lastIndex:g.lastIndex,lastKey:g.lastKey,lastPromise:g.lastPromise})):(g.firstPromise.release(),g.lastPromise.release())}this._ranges=d},_ensureKeys:function(){for(var a=[d.wrap()],b=this,c=function(a,b){var c=a+"Key";if(b[c])return d.wrap();var e=b[a+"Promise"];return e.then(function(a){a&&(b[c]=a.key)}),e},e=0,f=this._ranges.length;f>e;e++){var g=this._ranges[e];a.push(c("first",g)),a.push(c("last",g))}return d.join(a).then(function(){b._ranges=b._ranges.filter(function(a){return a.firstKey&&a.lastKey})}),d.join(a)},_mergeRanges:function(a,b){a.lastIndex=b.lastIndex,a.lastKey=b.lastKey},_isIncluded:function(a){if(this.isEverything())return!0;for(var b=0,c=this._ranges.length;c>b;b++){var d=this._ranges[b];if(d.firstIndex<=a&&a<=d.lastIndex)return!0}return!1},_ensureCount:function(){var a=this;return this._listView._itemsCount().then(function(b){a._itemsCount=b})},_insertRange:function(a,b){this._retainRange(b),this._ranges.splice(a,0,b)},_removeRanges:function(a,b){for(var c=0;b>c;c++)this._releaseRange(this._ranges[a+c]);this._ranges.splice(a,b)},_retainRange:function(a){a.firstPromise||(a.firstPromise=this._getListBinding().fromIndex(a.firstIndex).retain()),a.lastPromise||(a.lastPromise=this._getListBinding().fromIndex(a.lastIndex).retain())},_retainRanges:function(){for(var a=0,b=this._ranges.length;b>a;a++)this._retainRange(this._ranges[a])},_releaseRange:function(a){a.firstPromise.release(),a.lastPromise.release()},_releaseRanges:function(a){for(var b=0,c=a.length;c>b;++b)this._releaseRange(a[b])},_getListBinding:function(){return this._listView._itemsManager._listBinding}},{supportedForProcessing:!1})}),_SelectionManager:c.Namespace._lazy(function(){var c=function(b){this._listView=b,this._selected=new a._Selection(this._listView),this._pivot=g._INVALID_INDEX,this._focused={type:f.ObjectType.item,index:0},this._pendingChange=d.wrap()};return c.prototype={count:function(){return this._selected.count()},getIndices:function(){return this._selected.getIndices()},getItems:function(){return this._selected.getItems()},getRanges:function(){return this._selected.getRanges()},isEverything:function(){return this._selected.isEverything()},set:function(b){var c=this,f=new e;return this._synchronize(f).then(function(){var e=new a._Selection(c._listView);return e.set(b).then(function(){c._set(e),f.complete()},function(a){return e.clear(),f.complete(),d.wrapError(a)})})},clear:function(){var b=this,c=new e;return this._synchronize(c).then(function(){var e=new a._Selection(b._listView);return e.clear().then(function(){b._set(e),c.complete()},function(a){return e.clear(),c.complete(),d.wrapError(a)})})},add:function(a){var b=this,c=new e;return this._synchronize(c).then(function(){var e=b._cloneSelection();return e.add(a).then(function(){b._set(e),c.complete()},function(a){return e.clear(),c.complete(),d.wrapError(a)})})},remove:function(a){var b=this,c=new e;return this._synchronize(c).then(function(){var e=b._cloneSelection();return e.remove(a).then(function(){b._set(e),c.complete()},function(a){return e.clear(),c.complete(),d.wrapError(a)})})},selectAll:function(){var b=this,c=new e;return this._synchronize(c).then(function(){var e=new a._Selection(b._listView);return e.selectAll().then(function(){b._set(e),c.complete()},function(a){return e.clear(),c.complete(),d.wrapError(a)})})},_synchronize:function(a){var b=this;return this._listView._versionManager.unlocked.then(function(){var c=b._pendingChange;return b._pendingChange=d.join([c,a.promise]).then(function(){}),c})},_reset:function(){this._pivot=g._INVALID_INDEX,this._setFocused({type:f.ObjectType.item,index:0},this._keyboardFocused()),this._pendingChange.cancel(),this._pendingChange=d.wrap(),this._selected.clear(),this._selected=new a._Selection(this._listView)},_dispose:function(){this._selected.clear(),this._selected=null,this._listView=null},_set:function(a){var b=this;return this._fireSelectionChanging(a).then(function(c){return c?(b._selected.clear(),b._selected=a,b._listView._updateSelection(),b._fireSelectionChanged()):a.clear(),c})},_fireSelectionChanging:function(a){var c=b.document.createEvent("CustomEvent"),e=d.wrap();c.initCustomEvent("selectionchanging",!0,!0,{newSelection:a,preventTapBehavior:function(){},setPromise:function(a){e=a}});var f=this._listView._element.dispatchEvent(c);return e.then(function(){return f})},_fireSelectionChanged:function(){var a=b.document.createEvent("CustomEvent");a.initCustomEvent("selectionchanged",!0,!1,null),this._listView._element.dispatchEvent(a)},_getFocused:function(){return{type:this._focused.type,index:this._focused.index}},_setFocused:function(a,b){this._focused={type:a.type,index:a.index},this._focusedByKeyboard=b},_keyboardFocused:function(){return this._focusedByKeyboard},_updateCount:function(a){this._selected._itemsCount=a},_isIncluded:function(a){return this._selected._isIncluded(a)},_cloneSelection:function(){var b=new a._Selection(this._listView);return b._ranges=this._selected.getRanges(),b._itemsCount=this._selected._itemsCount,b._retainRanges(),b}},c.supportedForProcessing=!1,c})})}),d("WinJS/Controls/ListView/_BrowseMode",["exports","../../Core/_Global","../../Core/_Base","../../Core/_BaseUtils","../../Animations","../../Promise","../../Utilities/_ElementUtilities","../../Utilities/_UI","../ItemContainer/_Constants","../ItemContainer/_ItemEventsHandler","./_SelectionManager"],function(a,b,c,d,e,f,g,h,i,j,k){"use strict";var l=d._browserStyleEquivalents.transform.scriptName;c.Namespace._moduleDefine(a,"WinJS.UI",{_SelectionMode:c.Namespace._lazy(function(){function a(a,b,c){return Math.max(a,Math.min(b,c))}function e(a,c,d){var e=b.document.createEvent("CustomEvent");return e.initCustomEvent("keyboardnavigating",!0,!0,{oldFocus:c.index,oldFocusType:c.type,newFocus:d.index,newFocusType:d.type}),a.dispatchEvent(e)}var m=c.Class.define(function(a){this.inboundFocusHandled=!1,this._pressedContainer=null,this._pressedItemBox=null,this._pressedHeader=null,this._pressedEntity={type:h.ObjectType.item,index:i._INVALID_INDEX},this._pressedPosition=null,this.initialize(a)},{_dispose:function(){this._itemEventsHandler&&this._itemEventsHandler.dispose(),this._setNewFocusItemOffsetPromise&&this._setNewFocusItemOffsetPromise.cancel()},initialize:function(a){function b(b,c){var d=function(c){return a._view.getAdjacent(c,b)};return d.clampToBounds=c,d}this.site=a,this._keyboardNavigationHandlers={},this._keyboardAcceleratorHandlers={};var c=this.site,d=this;this._itemEventsHandler=new j._ItemEventsHandler(Object.create({containerFromElement:function(a){return c._view.items.containerFrom(a)},indexForItemElement:function(a){return c._view.items.index(a)},indexForHeaderElement:function(a){return c._groups.index(a)},itemBoxAtIndex:function(a){return c._view.items.itemBoxAt(a)},itemAtIndex:function(a){return c._view.items.itemAt(a)},headerAtIndex:function(a){return c._groups.group(a).header},headerFromElement:function(a){return c._groups.headerFrom(a)},containerAtIndex:function(a){return c._view.items.containerAt(a)},isZombie:function(){return c._isZombie()},getItemPosition:function(a){return c._getItemPosition(a)},rtl:function(){return c._rtl()},fireInvokeEvent:function(a,b){return d._fireInvokeEvent(a,b)},verifySelectionAllowed:function(a){return d._verifySelectionAllowed(a)},changeFocus:function(a,b,d,e,f){return c._changeFocus(a,b,d,e,f)},selectRange:function(a,b,c){return d._selectRange(a,b,c)}},{pressedEntity:{enumerable:!0,get:function(){return d._pressedEntity},set:function(a){d._pressedEntity=a}},pressedContainerScaleTransform:{enumerable:!0,get:function(){return d._pressedContainerScaleTransform},set:function(a){d._pressedContainerScaleTransform=a}},pressedContainer:{enumerable:!0,get:function(){return d._pressedContainer},set:function(a){d._pressedContainer=a}},pressedItemBox:{enumerable:!0,get:function(){return d._pressedItemBox},set:function(a){d._pressedItemBox=a}},pressedHeader:{enumerable:!0,get:function(){return d._pressedHeader},set:function(a){return d._pressedHeader=a}},pressedPosition:{enumerable:!0,get:function(){return d._pressedPosition},set:function(a){d._pressedPosition=a}},pressedElement:{enumerable:!0,set:function(a){d._pressedElement=a}},eventHandlerRoot:{enumerable:!0,get:function(){return c._viewport}},selectionMode:{enumerable:!0,get:function(){return c._selectionMode}},accessibleItemClass:{enumerable:!0,get:function(){return i._itemClass}},canvasProxy:{enumerable:!0,get:function(){return c._canvasProxy}},tapBehavior:{enumerable:!0,get:function(){return c._tap}},headerTapBehavior:{enumerable:!0,get:function(){return c._groupHeaderTap}},draggable:{enumerable:!0,get:function(){return c.itemsDraggable||c.itemsReorderable}},selection:{enumerable:!0,get:function(){return c._selection}},customFootprintParent:{enumerable:!0,get:function(){return null}}}));var e=g.Key;this._keyboardNavigationHandlers[e.upArrow]=b(e.upArrow),this._keyboardNavigationHandlers[e.downArrow]=b(e.downArrow),this._keyboardNavigationHandlers[e.leftArrow]=b(e.leftArrow),this._keyboardNavigationHandlers[e.rightArrow]=b(e.rightArrow),this._keyboardNavigationHandlers[e.pageUp]=b(e.pageUp,!0),this._keyboardNavigationHandlers[e.pageDown]=b(e.pageDown,!0),this._keyboardNavigationHandlers[e.home]=function(a){return!d.site._header||a.type!==h.ObjectType.groupHeader&&a.type!==h.ObjectType.footer?f.wrap({type:a.type!==h.ObjectType.footer?a.type:h.ObjectType.groupHeader,index:0}):f.wrap({type:h.ObjectType.header,index:0})},this._keyboardNavigationHandlers[e.end]=function(a){if(!d.site._footer||a.type!==h.ObjectType.groupHeader&&a.type!==h.ObjectType.header){if(a.type===h.ObjectType.groupHeader||a.type===h.ObjectType.header)return f.wrap({type:h.ObjectType.groupHeader,index:c._groups.length()-1});var b=d.site._view.lastItemIndex();return b>=0?f.wrap({type:a.type,index:b}):f.cancel}return f.wrap({type:h.ObjectType.footer,index:0})},this._keyboardAcceleratorHandlers[e.a]=function(){d.site._multiSelection()&&d._selectAll()}},staticMode:function(){return this.site._tap===h.TapBehavior.none&&this.site._selectionMode===h.SelectionMode.none},itemUnrealized:function(a,b){if(this._pressedEntity.type!==h.ObjectType.groupHeader&&(this._pressedEntity.index===a&&this._resetPointerDownState(),this._itemBeingDragged(a)))for(var c=this._draggedItemBoxes.length-1;c>=0;c--)this._draggedItemBoxes[c]===b&&(g.removeClass(b,i._dragSourceClass),this._draggedItemBoxes.splice(c,1))},_fireInvokeEvent:function(a,c){function d(d,f){var g=d.createListBinding(),h=g.fromIndex(a.index),i=f?"groupheaderinvoked":"iteminvoked";h.done(function(){g.release()});var j=b.document.createEvent("CustomEvent");j.initCustomEvent(i,!0,!0,f?{groupHeaderPromise:h,groupHeaderIndex:a.index}:{itemPromise:h,itemIndex:a.index}),c.dispatchEvent(j)&&e.site._defaultInvoke(a)}if(c){var e=this;a.type===h.ObjectType.groupHeader?this.site._groupHeaderTap===h.GroupHeaderTapBehavior.invoke&&a.index!==i._INVALID_INDEX&&d(this.site.groupDataSource,!0):this.site._tap===h.TapBehavior.none||a.index===i._INVALID_INDEX||this.site._isInSelectionMode()||d(this.site.itemDataSource,!1)}},_verifySelectionAllowed:function(a){if(a.type===h.ObjectType.groupHeader)return{canSelect:!1,canTapSelect:!1};var c=a.index,d=this.site,e=this.site._view.items.itemAt(c);if(!d._selectionAllowed()||!d._selectOnTap()||e&&g.hasClass(e,i._nonSelectableClass))return{canSelect:!1,canTapSelect:!1};var j=d._selection._isIncluded(c),k=!d._multiSelection(),l=d._selection._cloneSelection();j?k?l.clear():l.remove(c):k?l.set(c):l.add(c);var m,n=b.document.createEvent("CustomEvent"),o=f.wrap(),p=!1,q=!1;n.initCustomEvent("selectionchanging",!0,!0,{newSelection:l,preventTapBehavior:function(){q=!0},setPromise:function(a){o=a}});var r=d._element.dispatchEvent(n);o.then(function(){p=!0,m=l._isIncluded(c),l.clear()});var s=r&&p&&(j||m);return{canSelect:s,canTapSelect:s&&!q}},_containedInElementWithClass:function(a,b){if(a.parentNode)for(var c=a.parentNode.querySelectorAll("."+b+", ."+b+" *"),d=0,e=c.length;e>d;d++)if(c[d]===a)return!0;return!1},_isDraggable:function(a){return!this._containedInElementWithClass(a,i._nonDraggableClass)},_isInteractive:function(a){return this._containedInElementWithClass(a,"win-interactive")},_resetPointerDownState:function(){this._itemEventsHandler.resetPointerDownState()},onPointerDown:function(a){this._itemEventsHandler.onPointerDown(a)},onclick:function(a){this._itemEventsHandler.onClick(a)},onPointerUp:function(a){this._itemEventsHandler.onPointerUp(a)},onPointerCancel:function(a){this._itemEventsHandler.onPointerCancel(a)},onLostPointerCapture:function(a){this._itemEventsHandler.onLostPointerCapture(a)},onContextMenu:function(a){this._itemEventsHandler.onContextMenu(a)},onMSHoldVisual:function(a){this._itemEventsHandler.onMSHoldVisual(a)},onDataChanged:function(a){this._itemEventsHandler.onDataChanged(a)},_removeTransform:function(a,b){b&&-1!==a.style[l].indexOf(b)&&(a.style[l]=a.style[l].replace(b,""))},_selectAll:function(){var a=[];this.site._view.items.each(function(b,c){c&&g.hasClass(c,i._nonSelectableClass)&&a.push(b)}),this.site._selection.selectAll(),a.length>0&&this.site._selection.remove(a)},_selectRange:function(a,b,c){for(var d=[],e=-1,f=a;b>=f;f++){var h=this.site._view.items.itemAt(f);h&&g.hasClass(h,i._nonSelectableClass)?-1!==e&&(d.push({firstIndex:e,lastIndex:f-1}),e=-1):-1===e&&(e=f)}-1!==e&&d.push({firstIndex:e,lastIndex:b}),d.length>0&&this.site._selection[c?"add":"set"](d)},onDragStart:function(a){if(this._pressedEntity={type:h.ObjectType.item,index:this.site._view.items.index(a.target)},this.site._selection._pivot=i._INVALID_INDEX,this._pressedEntity.index===i._INVALID_INDEX||!this.site.itemsDraggable&&!this.site.itemsReorderable||this.site._view.animating||!this._isDraggable(a.target)||this._pressedElement&&this._isInteractive(this._pressedElement))a.preventDefault();else{this._dragging=!0,this._dragDataTransfer=a.dataTransfer,this._pressedPosition=g._getCursorPos(a),this._dragInfo=null,this._lastEnteredElement=a.target,this.site._selection._isIncluded(this._pressedEntity.index)?this._dragInfo=this.site.selection:(this._draggingUnselectedItem=!0,this._dragInfo=new k._Selection(this.site,[{firstIndex:this._pressedEntity.index,lastIndex:this._pressedEntity.index}]));var c=this.site.itemsReorderable,e=b.document.createEvent("CustomEvent");if(e.initCustomEvent("itemdragstart",!0,!1,{dataTransfer:a.dataTransfer,dragInfo:this._dragInfo}),a.dataTransfer.setData("text",""),a.dataTransfer.setDragImage){var f=this.site._view.items.itemDataAt(this._pressedEntity.index);if(f&&f.container){var j=f.container.getBoundingClientRect();a.dataTransfer.setDragImage(f.container,a.clientX-j.left,a.clientY-j.top)}}this.site.element.dispatchEvent(e),this.site.itemsDraggable&&!this.site.itemsReorderable&&(this._firedDragEnter||this._fireDragEnterEvent(a.dataTransfer)&&(c=!0,this._dragUnderstood=!0)),c&&(this._addedDragOverClass=!0,g.addClass(this.site._element,i._dragOverClass)),this._draggedItemBoxes=[];var l=this,m=a.target;m.addEventListener("dragend",function n(a){m.removeEventListener("dragend",n),l.onDragEnd(a)}),d._yieldForDomModification(function(){if(l._dragging)for(var a=l._dragInfo.getIndices(),b=0,c=a.length;c>b;b++){var d=l.site._view.items.itemDataAt(a[b]);d&&d.itemBox&&l._addDragSourceClass(d.itemBox)}})}},onDragEnter:function(a){var c=this._dragUnderstood;this._lastEnteredElement=a.target,this._exitEventTimer&&(b.clearTimeout(this._exitEventTimer),this._exitEventTimer=0),this._firedDragEnter||this._fireDragEnterEvent(a.dataTransfer)&&(c=!0),(c||this._dragging&&this.site.itemsReorderable)&&(a.preventDefault(),this._dragUnderstood=!0,this._addedDragOverClass||(this._addedDragOverClass=!0,g.addClass(this.site._element,i._dragOverClass))),this._pointerLeftRegion=!1},onDragLeave:function(a){a.target===this._lastEnteredElement&&(this._pointerLeftRegion=!0,this._handleExitEvent())},fireDragUpdateEvent:function(){var a=b.document.createEvent("CustomEvent");a.initCustomEvent("itemdragchanged",!0,!1,{dataTransfer:this._dragDataTransfer,dragInfo:this._dragInfo}),this.site.element.dispatchEvent(a)},_fireDragEnterEvent:function(a){var c=b.document.createEvent("CustomEvent");c.initCustomEvent("itemdragenter",!0,!0,{dataTransfer:a});var d=!this.site.element.dispatchEvent(c);return this._firedDragEnter=!0,d},_fireDragBetweenEvent:function(a,c,d){var e=b.document.createEvent("CustomEvent");return e.initCustomEvent("itemdragbetween",!0,!0,{index:a,insertAfterIndex:c,dataTransfer:d}),this.site.element.dispatchEvent(e)},_fireDropEvent:function(a,c,d){var e=b.document.createEvent("CustomEvent");return e.initCustomEvent("itemdragdrop",!0,!0,{index:a,insertAfterIndex:c,dataTransfer:d}),this.site.element.dispatchEvent(e)},_handleExitEvent:function(){this._exitEventTimer&&(b.clearTimeout(this._exitEventTimer),this._exitEventTimer=0);var a=this;this._exitEventTimer=b.setTimeout(function(){if(!a.site._disposed&&a._pointerLeftRegion){if(a.site._layout.dragLeave&&a.site._layout.dragLeave(),a._pointerLeftRegion=!1,a._dragUnderstood=!1,a._lastEnteredElement=null,a._lastInsertPoint=null,a._dragBetweenDisabled=!1,a._firedDragEnter){var c=b.document.createEvent("CustomEvent");c.initCustomEvent("itemdragleave",!0,!1,{}),a.site.element.dispatchEvent(c),a._firedDragEnter=!1}a._addedDragOverClass&&(a._addedDragOverClass=!1,g.removeClass(a.site._element,i._dragOverClass)),a._exitEventTimer=0,a._stopAutoScroll()}},40)},_getEventPositionInElementSpace:function(a,b){var c={left:0,top:0};try{c=a.getBoundingClientRect()}catch(d){}var e=g._getComputedStyle(a,null),f=parseInt(e.paddingLeft),h=parseInt(e.paddingTop),i=parseInt(e.borderLeftWidth),j=parseInt(e.borderTopWidth),k=b.clientX,l=b.clientY,m={x:+k===k?k-c.left-f-i:0,y:+l===l?l-c.top-h-j:0};return this.site._rtl()&&(m.x=c.right-c.left-m.x),m},_getPositionInCanvasSpace:function(a){var b=this.site._horizontal()?this.site.scrollPosition:0,c=this.site._horizontal()?0:this.site.scrollPosition,d=this._getEventPositionInElementSpace(this.site.element,a);return{x:d.x+b,y:d.y+c}},_itemBeingDragged:function(a){return this._dragging?this._draggingUnselectedItem&&this._dragInfo._isIncluded(a)||!this._draggingUnselectedItem&&this.site._isSelected(a):!1},_addDragSourceClass:function(a){this._draggedItemBoxes.push(a),g.addClass(a,i._dragSourceClass),a.parentNode&&g.addClass(a.parentNode,i._footprintClass)},renderDragSourceOnRealizedItem:function(a,b){this._itemBeingDragged(a)&&this._addDragSourceClass(b)},onDragOver:function(b){if(this._dragUnderstood){this._pointerLeftRegion=!1,b.preventDefault();var c=this._getPositionInCanvasSpace(b),d=this._getEventPositionInElementSpace(this.site.element,b);if(this._checkAutoScroll(d.x,d.y),this.site._layout.hitTest)if(this._autoScrollFrame)this._lastInsertPoint&&(this.site._layout.dragLeave(),this._lastInsertPoint=null);else{var e=this.site._view.hitTest(c.x,c.y);e.insertAfterIndex=a(-1,this.site._cachedCount-1,e.insertAfterIndex),this._lastInsertPoint&&this._lastInsertPoint.insertAfterIndex===e.insertAfterIndex&&this._lastInsertPoint.index===e.index||(this._dragBetweenDisabled=!this._fireDragBetweenEvent(e.index,e.insertAfterIndex,b.dataTransfer),this._dragBetweenDisabled?this.site._layout.dragLeave():this.site._layout.dragOver(c.x,c.y,this._dragInfo)),this._lastInsertPoint=e}}},_clearDragProperties:function(){if(this._addedDragOverClass&&(this._addedDragOverClass=!1,g.removeClass(this.site._element,i._dragOverClass)),this._draggedItemBoxes){for(var a=0,b=this._draggedItemBoxes.length;b>a;a++)g.removeClass(this._draggedItemBoxes[a],i._dragSourceClass),this._draggedItemBoxes[a].parentNode&&g.removeClass(this._draggedItemBoxes[a].parentNode,i._footprintClass);this._draggedItemBoxes=[]}this.site._layout.dragLeave(),this._dragging=!1,this._dragInfo=null,this._draggingUnselectedItem=!1,this._dragDataTransfer=null,this._lastInsertPoint=null,this._resetPointerDownState(),this._lastEnteredElement=null,this._dragBetweenDisabled=!1,this._firedDragEnter=!1,this._dragUnderstood=!1,this._stopAutoScroll()},onDragEnd:function(){var a=b.document.createEvent("CustomEvent");a.initCustomEvent("itemdragend",!0,!1,{}),this.site.element.dispatchEvent(a),this._clearDragProperties()},_findFirstAvailableInsertPoint:function(a,b,c){for(var d=a.getIndices(),e=-1,f=this.site._cachedCount,g=d.length,h=-1,i=b,j=0;g>j;j++)if(d[j]===i){e=j,h=j;break}for(;e>=0&&i>=0;)c?(i++,g>e&&d[e+1]===i&&f>i?e++:i>=f?(c=!1,i=b,e=h):e=-1):(i--,e>0&&d[e-1]===i?e--:e=-1);return i},_reorderItems:function(a,b,c,d,e){var f=this.site,g=function(a){c?f._selection.remove({key:a[0].key}):f._selection.set({firstKey:a[0].key,lastKey:a[a.length-1].key}),e&&f.ensureVisible(f._selection._getFocused())};b.getItems().then(function(b){var c=f.itemDataSource;if(-1===a){c.beginEdits();
for(var e=b.length-1;e>=0;e--)c.moveToStart(b[e].key);c.endEdits(),g(b)}else{var h=c.createListBinding();h.fromIndex(a).then(function(a){if(h.release(),c.beginEdits(),d)for(var e=0,f=b.length;f>e;e++)c.moveBefore(b[e].key,a.key);else for(var e=b.length-1;e>=0;e--)c.moveAfter(b[e].key,a.key);c.endEdits(),g(b)})}})},onDrop:function(b){if(this._draggedItemBoxes)for(var c=0,d=this._draggedItemBoxes.length;d>c;c++)this._draggedItemBoxes[c].parentNode&&g.removeClass(this._draggedItemBoxes[c].parentNode,i._footprintClass);if(!this._dragBetweenDisabled){var e=this._getPositionInCanvasSpace(b),f=this.site._view.hitTest(e.x,e.y),h=a(-1,this.site._cachedCount-1,f.insertAfterIndex),j=!0;if(this._lastInsertPoint&&this._lastInsertPoint.insertAfterIndex===h&&this._lastInsertPoint.index===f.index||(j=this._fireDragBetweenEvent(f.index,h,b.dataTransfer)),j&&(this._lastInsertPoint=null,this.site._layout.dragLeave(),this._fireDropEvent(f.index,h,b.dataTransfer)&&this._dragging&&this.site.itemsReorderable)){if(this._dragInfo.isEverything()||this.site._groupsEnabled())return;h=this._findFirstAvailableInsertPoint(this._dragInfo,h,!1),this._reorderItems(h,this._dragInfo,this._draggingUnselectedItem)}}this._clearDragProperties(),b.preventDefault()},_checkAutoScroll:function(a,c){var e=this.site._getViewportLength(),f=this.site._horizontal(),h=f?a:c,j=this.site._viewport[f?"scrollWidth":"scrollHeight"],k=Math.floor(this.site.scrollPosition),l=0;if(h<i._AUTOSCROLL_THRESHOLD?l=h-i._AUTOSCROLL_THRESHOLD:h>e-i._AUTOSCROLL_THRESHOLD&&(l=h-(e-i._AUTOSCROLL_THRESHOLD)),l=Math.round(l/i._AUTOSCROLL_THRESHOLD*(i._MAX_AUTOSCROLL_RATE-i._MIN_AUTOSCROLL_RATE)),(0===k&&0>l||k>=j-e&&l>0)&&(l=0),0===l)this._autoScrollDelay&&(b.clearTimeout(this._autoScrollDelay),this._autoScrollDelay=0);else if(!this._autoScrollDelay&&!this._autoScrollFrame){var m=this;this._autoScrollDelay=b.setTimeout(function(){if(m._autoScrollRate){m._lastDragTimeout=d._now();var a=function(){if(!m._autoScrollRate&&m._autoScrollFrame||m.site._disposed)m._stopAutoScroll();else{var b=d._now(),c=m._autoScrollRate*((b-m._lastDragTimeout)/1e3);c=0>c?Math.min(-1,c):Math.max(1,c);var e={};e[m.site._scrollProperty]=m.site._viewportScrollPosition+c,g.setScrollPosition(m.site._viewport,e),m._lastDragTimeout=b,m._autoScrollFrame=d._requestAnimationFrame(a)}};m._autoScrollFrame=d._requestAnimationFrame(a)}},i._AUTOSCROLL_DELAY)}this._autoScrollRate=l},_stopAutoScroll:function(){this._autoScrollDelay&&(b.clearTimeout(this._autoScrollDelay),this._autoScrollDelay=0),this._autoScrollRate=0,this._autoScrollFrame=0},onKeyDown:function(a){function b(a,b,g){function k(j){var k=!0,m=!1;if(g?a.index=Math.max(0,Math.min(j,a.index)):(a.index<0||a.index>j)&&(m=!0),!m&&(l.index!==a.index||l.type!==a.type)){var o=e(d._element,l,a);o&&(k=!1,c._setNewFocusItemOffsetPromise&&c._setNewFocusItemOffsetPromise.cancel(),d._batchViewUpdates(i._ViewChange.realize,i._ScrollToPriority.high,function(){return c._setNewFocusItemOffsetPromise=d._getItemOffset(l,!0).then(function(e){e=d._convertFromCanvasCoordinates(e);var g=e.end<=d.scrollPosition||e.begin>=d.scrollPosition+d._getViewportLength()-1;return c._setNewFocusItemOffsetPromise=d._getItemOffset(a).then(function(e){c._setNewFocusItemOffsetPromise=null;var h={position:d.scrollPosition,direction:"right"};return g&&(d._selection._setFocused(a,!0),e=d._convertFromCanvasCoordinates(e),a.index>l.index?(h.direction="right",h.position=e.end-d._getViewportLength()):(h.direction="left",h.position=e.begin)),d._changeFocus(a,b,n,g,!0),g?h:f.cancel},function(c){return d._changeFocus(a,b,n,!0,!0),f.wrapError(c)}),c._setNewFocusItemOffsetPromise},function(c){return d._changeFocus(a,b,n,!0,!0),f.wrapError(c)}),c._setNewFocusItemOffsetPromise},!0))}return k&&(d._selection._setFocused(l,!0),d.ensureVisible(l)),m?{type:h.ObjectType.item,index:i._INVALID_INDEX}:a}return a.type===h.ObjectType.item?f.wrap(j.lastItemIndex()).then(k):a.type===h.ObjectType.groupHeader?f.wrap(d._groups.length()-1).then(k):f.wrap(0).then(k)}var c=this,d=this.site,j=d._view,l=d._selection._getFocused(),m=!0,n=a.ctrlKey,o=g.Key,p=a.keyCode,q=d._rtl();if(!this._isInteractive(a.target)){if(a.ctrlKey&&!a.altKey&&!a.shiftKey&&this._keyboardAcceleratorHandlers[p]&&this._keyboardAcceleratorHandlers[p](),d.itemsReorderable&&!a.ctrlKey&&a.altKey&&a.shiftKey&&l.type===h.ObjectType.item&&(p===o.leftArrow||p===o.rightArrow||p===o.upArrow||p===o.downArrow)){var r=d._selection,s=l.index,t=!1,u=!0;if(!r.isEverything()){if(!r._isIncluded(s)){var v=d._view.items.itemAt(s);v&&g.hasClass(v,i._nonDraggableClass)?u=!1:(t=!0,r=new k._Selection(this.site,[{firstIndex:s,lastIndex:s}]))}if(u){var w=s;p===o.rightArrow?w+=q?-1:1:p===o.leftArrow?w+=q?1:-1:p===o.upArrow?w--:w++;var x=w>s,y=x;x&&w>=this.site._cachedCount&&(y=!1,w=this.site._cachedCount-1),w=this._findFirstAvailableInsertPoint(r,w,y),w=Math.min(Math.max(-1,w),this.site._cachedCount-1);var z=w-(x||-1===w?0:1),A=w,B=this.site._groupsEnabled();if(B){var C=this.site._groups,D=w>-1?C.groupFromItem(w):0;x?C.group(D).startIndex===w&&z--:D<C.length()-1&&w===C.group(D+1).startIndex-1&&z++}if(this._fireDragBetweenEvent(A,z,null)&&this._fireDropEvent(A,z,null)){if(B)return;this._reorderItems(w,r,t,!x,!0)}}}}else if(a.altKey)m=!1;else if(this._keyboardNavigationHandlers[p])this._keyboardNavigationHandlers[p](l).then(function(e){if(e.index!==l.index||e.type!==l.type){var f=c._keyboardNavigationHandlers[p].clampToBounds;e.type!==h.ObjectType.groupHeader&&a.shiftKey&&d._selectionAllowed()&&d._multiSelection()?(d._selection._pivot===i._INVALID_INDEX&&(d._selection._pivot=l.index),b(e,!0,f).then(function(b){if(b.index!==i._INVALID_INDEX){var e=Math.min(b.index,d._selection._pivot),f=Math.max(b.index,d._selection._pivot),g=a.ctrlKey||d._tap===h.TapBehavior.toggleSelect;c._selectRange(e,f,g)}})):(d._selection._pivot=i._INVALID_INDEX,b(e,!1,f))}else m=!1});else if(a.ctrlKey||p!==o.enter)l.type!==h.ObjectType.groupHeader&&(a.ctrlKey&&p===o.enter||p===o.space)?(this._itemEventsHandler.toggleSelectionIfAllowed(l.index),d._changeFocus(l,!0,n,!1,!0)):p===o.escape&&d._selection.count()>0?(d._selection._pivot=i._INVALID_INDEX,d._selection.clear()):m=!1;else{var E=l.type===h.ObjectType.groupHeader?d._groups.group(l.index).header:d._view.items.itemBoxAt(l.index);if(E){l.type===h.ObjectType.groupHeader?(this._pressedHeader=E,this._pressedItemBox=null,this._pressedContainer=null):(this._pressedItemBox=E,this._pressedContainer=d._view.items.containerAt(l.index),this._pressedHeader=null);var F=this._verifySelectionAllowed(l);F.canTapSelect&&this._itemEventsHandler.handleTap(l),this._fireInvokeEvent(l,E)}}this._keyDownHandled=m,m&&(a.stopPropagation(),a.preventDefault())}p===o.tab&&(this.site._keyboardFocusInbound=!0)},onKeyUp:function(a){this._keyDownHandled&&(a.stopPropagation(),a.preventDefault())},onTabEntered:function(a){if(0!==this.site._groups.length()||this.site._hasHeaderOrFooter){var b=this.site,c=b._selection._getFocused(),d=a.detail,f=!b._hasKeyboardFocus||a.target===b._viewport;if(f)if(this.inboundFocusHandled=!0,c.index=c.index===i._INVALID_INDEX?0:c.index,d||!this.site._supportsGroupHeaderKeyboarding&&!this.site._hasHeaderOrFooter){var g={type:h.ObjectType.item};c.type===h.ObjectType.groupHeader?(g.index=b._groupFocusCache.getIndexForGroup(c.index),e(b._element,c,g)?b._changeFocus(g,!0,!1,!1,!0):b._changeFocus(c,!0,!1,!1,!0)):(g.index=c.type!==h.ObjectType.item?b._groupFocusCache.getLastFocusedItemIndex():c.index,b._changeFocus(g,!0,!1,!1,!0)),a.preventDefault()}else{var g={type:h.ObjectType.groupHeader};this.site._hasHeaderOrFooter?this.site._lastFocusedElementInGroupTrack.type===h.ObjectType.groupHeader&&this.site._supportsGroupHeaderKeyboarding?(g.index=b._groups.groupFromItem(c.index),e(b._element,c,g)?b._changeFocus(g,!0,!1,!1,!0):b._changeFocus(c,!0,!1,!1,!0)):(g.type=this.site._lastFocusedElementInGroupTrack.type,g.index=0,b._changeFocus(g,!0,!1,!1,!0)):c.type!==h.ObjectType.groupHeader&&this.site._supportsGroupHeaderKeyboarding?(g.index=b._groups.groupFromItem(c.index),e(b._element,c,g)?b._changeFocus(g,!0,!1,!1,!0):b._changeFocus(c,!0,!1,!1,!0)):(g.index=c.index,b._changeFocus(g,!0,!1,!1,!0)),a.preventDefault()}}},onTabExiting:function(a){if(this.site._hasHeaderOrFooter||this.site._supportsGroupHeaderKeyboarding&&0!==this.site._groups.length()){var b=this.site,c=b._selection._getFocused(),d=a.detail;if(d){var f=null;if(c.type===h.ObjectType.item){var g=this.site._lastFocusedElementInGroupTrack.type;if(g!==h.ObjectType.header&&g!==h.ObjectType.footer&&this.site._supportsGroupHeaderKeyboarding)var f={type:h.ObjectType.groupHeader,index:b._groups.groupFromItem(c.index)};else var f={type:g===h.ObjectType.item?h.ObjectType.header:g,index:0}}f&&e(b._element,c,f)&&(b._changeFocus(f,!0,!1,!1,!0),a.preventDefault())}else if(!d&&c.type!==h.ObjectType.item){var i=0;i=c.type===h.ObjectType.groupHeader?b._groupFocusCache.getIndexForGroup(c.index):c.type===h.ObjectType.header?0:b._view.lastItemIndex();var f={type:h.ObjectType.item,index:i};e(b._element,c,f)&&(b._changeFocus(f,!0,!1,!1,!0),a.preventDefault())}}}});return m})})}),d("WinJS/Controls/ListView/_ErrorMessages",["exports","../../Core/_Base","../../Core/_Resources"],function(a,b,c){"use strict";b.Namespace._moduleDefine(a,null,{modeIsInvalid:{get:function(){return"Invalid argument: mode must be one of following values: 'none', 'single' or 'multi'."}},loadingBehaviorIsDeprecated:{get:function(){return"Invalid configuration: loadingBehavior is deprecated. The control will default this property to 'randomAccess'. Please refer to the 'ListView loading behaviors' SDK Sample for guidance on how to implement incremental load behavior."}},pagesToLoadIsDeprecated:{get:function(){return"Invalid configuration: pagesToLoad is deprecated. The control will not use this property. Please refer to the 'ListView loading behaviors' SDK Sample for guidance on how to implement incremental load behavior."}},pagesToLoadThresholdIsDeprecated:{get:function(){return"Invalid configuration: pagesToLoadThreshold is deprecated.  The control will not use this property. Please refer to the 'ListView loading behaviors' SDK Sample for guidance on how to implement incremental load behavior."}},automaticallyLoadPagesIsDeprecated:{get:function(){return"Invalid configuration: automaticallyLoadPages is deprecated. The control will default this property to false. Please refer to the 'ListView loading behaviors' SDK Sample for guidance on how to implement incremental load behavior."}},invalidTemplate:{get:function(){return"Invalid template: Templates must be created before being passed to the ListView, and must contain a valid tree of elements."}},loadMorePagesIsDeprecated:{get:function(){return"loadMorePages is deprecated. Invoking this function will not have any effect. Please refer to the 'ListView loading behaviors' SDK Sample for guidance on how to implement incremental load behavior."}},disableBackdropIsDeprecated:{get:function(){return"Invalid configuration: disableBackdrop is deprecated. Style: .win-listview .win-container.win-backdrop { background-color:transparent; } instead."}},backdropColorIsDeprecated:{get:function(){return"Invalid configuration: backdropColor is deprecated. Style: .win-listview .win-container.win-backdrop { rgba(155,155,155,0.23); } instead."}},itemInfoIsDeprecated:{get:function(){return"GridLayout.itemInfo may be altered or unavailable in future versions. Instead, use CellSpanningLayout."}},groupInfoIsDeprecated:{get:function(){return"GridLayout.groupInfo may be altered or unavailable in future versions. Instead, use CellSpanningLayout."}},resetItemIsDeprecated:{get:function(){return"resetItem may be altered or unavailable in future versions. Instead, mark the element as disposable using WinJS.Utilities.markDisposable."}},resetGroupHeaderIsDeprecated:{get:function(){return"resetGroupHeader may be altered or unavailable in future versions. Instead, mark the header element as disposable using WinJS.Utilities.markDisposable."}},maxRowsIsDeprecated:{get:function(){return"GridLayout.maxRows may be altered or unavailable in future versions. Instead, use the maximumRowsOrColumns property."}},swipeOrientationDeprecated:{get:function(){return"Invalid configuration: swipeOrientation is deprecated. The control will default this property to 'none'"}},swipeBehaviorDeprecated:{get:function(){return"Invalid configuration: swipeBehavior is deprecated. The control will default this property to 'none'"}}})}),d("WinJS/Controls/ListView/_GroupFocusCache",["exports","../../Core/_Base"],function(a,b){"use strict";b.Namespace._moduleDefine(a,"WinJS.UI",{_GroupFocusCache:b.Namespace._lazy(function(){return b.Class.define(function(a){this._listView=a,this.clear()},{updateCache:function(a,b,c){this._lastFocusedItemKey=b,this._lastFocusedItemIndex=c,c=""+c,this._itemToIndex[b]=c,this._groupToItem[a]=b},deleteItem:function(a){if(a===this._lastFocusedItemKey&&(this._lastFocusedItemKey=null,this._lastFocusedItemIndex=0),this._itemToIndex[a])for(var b=this,c=Object.keys(this._groupToItem),d=0,e=c.length;e>d;d++){var f=c[d];if(b._groupToItem[f]===a){b.deleteGroup(f);break}}},deleteGroup:function(a){var b=this._groupToItem[a];b&&delete this._itemToIndex[b],delete this._groupToItem[a]},updateItemIndex:function(a,b){a===this._lastFocusedItemKey&&(this._lastFocusedItemIndex=b),this._itemToIndex[a]&&(this._itemToIndex[a]=""+b)},getIndexForGroup:function(a){var b=this._listView._groups.group(a).key,c=this._groupToItem[b];return c&&this._itemToIndex[c]?+this._itemToIndex[c]:this._listView._groups.fromKey(b).group.startIndex},clear:function(){this._groupToItem={},this._itemToIndex={},this._lastFocusedItemIndex=0,this._lastFocusedItemKey=null},getLastFocusedItemIndex:function(){return this._lastFocusedItemIndex}})}),_UnsupportedGroupFocusCache:b.Namespace._lazy(function(){return b.Class.define(null,{updateCache:function(a,b,c){this._lastFocusedItemKey=b,this._lastFocusedItemIndex=c},deleteItem:function(a){a===this._lastFocusedItemKey&&(this._lastFocusedItemKey=null,this._lastFocusedItemIndex=0)},deleteGroup:function(){},updateItemIndex:function(a,b){a===this._lastFocusedItemKey&&(this._lastFocusedItemIndex=b)},getIndexForGroup:function(){return 0},clear:function(){this._lastFocusedItemIndex=0,this._lastFocusedItemKey=null},getLastFocusedItemIndex:function(){return this._lastFocusedItemIndex}})})})}),d("WinJS/Controls/ListView/_GroupsContainer",["exports","../../Core/_Base","../../Promise","../../Utilities/_Dispose","../../Utilities/_ElementUtilities","../../Utilities/_ItemsManager","../../Utilities/_UI","../ItemContainer/_Constants"],function(a,b,c,d,e,f,g,h){"use strict";b.Namespace._moduleDefine(a,"WinJS.UI",{_GroupsContainerBase:b.Namespace._lazy(function(){return b.Class.define(function(){},{index:function(a){var b=this.headerFrom(a);if(b)for(var c=0,d=this.groups.length;d>c;c++)if(b===this.groups[c].header)return c;return h._INVALID_INDEX},headerFrom:function(a){for(;a&&!e.hasClass(a,h._headerClass);)a=a.parentNode;return a},requestHeader:function(a){this._waitingHeaderRequests=this._waitingHeaderRequests||{},this._waitingHeaderRequests[a]||(this._waitingHeaderRequests[a]=[]);var b=this;return new c(function(c){var d=b.groups[a];d&&d.header?c(d.header):b._waitingHeaderRequests[a].push(c)})},notify:function(a,b){if(this._waitingHeaderRequests&&this._waitingHeaderRequests[a]){for(var c=this._waitingHeaderRequests[a],d=0,e=c.length;e>d;d++)c[d](b);this._waitingHeaderRequests[a]=[]}},groupFromImpl:function(a,b,c){if(a>b)return null;var d=a+Math.floor((b-a)/2),e=this.groups[d];return c(e,d)?this.groupFromImpl(a,d-1,c):b>d&&!c(this.groups[d+1],d+1)?this.groupFromImpl(d+1,b,c):d},groupFrom:function(a){if(this.groups.length>0){var b=this.groups.length-1,c=this.groups[b];return a(c,b)?this.groupFromImpl(0,this.groups.length-1,a):b}return null},groupFromItem:function(a){return this.groupFrom(function(b){return a<b.startIndex})},groupFromOffset:function(a){return this.groupFrom(function(b){return a<b.offset})},group:function(a){return this.groups[a]},length:function(){return this.groups.length},cleanUp:function(){if(this.listBinding){for(var a=0,b=this.groups.length;b>a;a++){var c=this.groups[a];c.userData&&this.listBinding.releaseItem(c.userData)}this.listBinding.release()}},_dispose:function(){this.cleanUp()},synchronizeGroups:function(){var a=this;return this.pendingChanges=[],this.ignoreChanges=!0,this.groupDataSource.invalidateAll().then(function(){return c.join(a.pendingChanges)}).then(function(){return a._listView._ifZombieDispose()?c.cancel:void 0}).then(function(){a.ignoreChanges=!1},function(b){return a.ignoreChanges=!1,c.wrapError(b)})},fromKey:function(a){for(var b=0,c=this.groups.length;c>b;b++){var d=this.groups[b];if(d.key===a)return{group:d,index:b}}return null},fromHandle:function(a){for(var b=0,c=this.groups.length;c>b;b++){var d=this.groups[b];if(d.handle===a)return{group:d,index:b}}return null}})}),_UnvirtualizedGroupsContainer:b.Namespace._lazy(function(){return b.Class.derive(a._GroupsContainerBase,function(a,b){this._listView=a,this.groupDataSource=b,this.groups=[],this.pendingChanges=[],this.dirty=!0;var c=this,f={beginNotifications:function(){c._listView._versionManager.beginNotifications()},endNotifications:function(){c._listView._versionManager.endNotifications(),c._listView._ifZombieDispose()||!c.ignoreChanges&&c._listView._groupsChanged&&c._listView._scheduleUpdate()},indexChanged:function(){c._listView._versionManager.receivedNotification(),c._listView._ifZombieDispose()||this.scheduleUpdate()},itemAvailable:function(){},countChanged:function(a){c._listView._versionManager.receivedNotification(),c._listView._writeProfilerMark("groupCountChanged("+a+"),info"),c._listView._ifZombieDispose()||this.scheduleUpdate()},changed:function(a){if(c._listView._versionManager.receivedNotification(),!c._listView._ifZombieDispose()){var b=c.fromKey(a.key);b&&(c._listView._writeProfilerMark("groupChanged("+b.index+"),info"),b.group.userData=a,b.group.startIndex=a.firstItemIndexHint,this.markToRemove(b.group)),this.scheduleUpdate()}},removed:function(a){if(c._listView._versionManager.receivedNotification(),c._listView._groupRemoved(a),!c._listView._ifZombieDispose()){var b=c.fromHandle(a);if(b){c._listView._writeProfilerMark("groupRemoved("+b.index+"),info"),c.groups.splice(b.index,1);var d=c.groups.indexOf(b.group,b.index);d>-1&&c.groups.splice(d,1),this.markToRemove(b.group)}this.scheduleUpdate()}},inserted:function(a,b,d){if(c._listView._versionManager.receivedNotification(),!c._listView._ifZombieDispose()){c._listView._writeProfilerMark("groupInserted,info");var e=this;a.retain().then(function(f){var g;if(g=b||d||c.groups.length?e.findIndex(b,d):0,-1!==g){var h={key:f.key,startIndex:f.firstItemIndexHint,userData:f,handle:a.handle};c.groups.splice(g,0,h)}e.scheduleUpdate()}),c.pendingChanges.push(a)}},moved:function(a,b,d){if(c._listView._versionManager.receivedNotification(),!c._listView._ifZombieDispose()){c._listView._writeProfilerMark("groupMoved,info");var e=this;a.then(function(f){var g=e.findIndex(b,d),h=c.fromKey(f.key);if(h)c.groups.splice(h.index,1),-1!==g&&(h.index<g&&g--,h.group.key=f.key,h.group.userData=f,h.group.startIndex=f.firstItemIndexHint,c.groups.splice(g,0,h.group));else if(-1!==g){var i={key:f.key,startIndex:f.firstItemIndexHint,userData:f,handle:a.handle};c.groups.splice(g,0,i),a.retain()}e.scheduleUpdate()}),c.pendingChanges.push(a)}},reload:function(){c._listView._versionManager.receivedNotification(),c._listView._ifZombieDispose()||c._listView._processReload()},markToRemove:function(a){if(a.header){var b=a.header;a.header=null,a.left=-1,a.width=-1,a.decorator=null,a.tabIndex=-1,b.tabIndex=-1,c._listView._groupsToRemove[e._uniqueID(b)]={group:a,header:b}}},scheduleUpdate:function(){c.dirty=!0,c.ignoreChanges||(c._listView._groupsChanged=!0)},findIndex:function(a,b){var d,e=-1;return a&&(d=c.fromHandle(a),d&&(e=d.index+1)),-1===e&&b&&(d=c.fromHandle(b),d&&(e=d.index)),e},removeElements:function(a){if(a.header){var b=a.header.parentNode;b&&(d.disposeSubTree(a.header),b.removeChild(a.header)),a.header=null,a.left=-1,a.width=-1}}};this.listBinding=this.groupDataSource.createListBinding(f)},{initialize:function(){this.initializePromise&&this.initializePromise.cancel(),this._listView._writeProfilerMark("GroupsContainer_initialize,StartTM");var a=this;return this.initializePromise=this.groupDataSource.getCount().then(function(b){for(var d=[],e=0;b>e;e++)d.push(a.listBinding.fromIndex(e).retain());return c.join(d)}).then(function(b){a.groups=[];for(var c=0,d=b.length;d>c;c++){var e=b[c];a.groups.push({key:e.key,startIndex:e.firstItemIndexHint,handle:e.handle,userData:e})}a._listView._writeProfilerMark("GroupsContainer_initialize groups("+b.length+"),info"),a._listView._writeProfilerMark("GroupsContainer_initialize,StopTM")},function(b){return a._listView._writeProfilerMark("GroupsContainer_initialize,StopTM"),c.wrapError(b)}),this.initializePromise},renderGroup:function(a){if(this._listView.groupHeaderTemplate){var b=this.groups[a];return c.wrap(this._listView._groupHeaderRenderer(c.wrap(b.userData))).then(f._normalizeRendererReturn)}return c.wrap(null)},setDomElement:function(a,b){this.groups[a].header=b,this.notify(a,b)},removeElements:function(){for(var a=this._listView._groupsToRemove||{},b=Object.keys(a),c=!1,e=this._listView._selection._getFocused(),f=0,h=b.length;h>f;f++){var i=a[b[f]],j=i.header,k=i.group;if(c||e.type!==g.ObjectType.groupHeader||k.userData.index!==e.index||(this._listView._unsetFocusOnItem(),c=!0),j){var l=j.parentNode;l&&(d._disposeElement(j),l.removeChild(j))}}c&&this._listView._setFocusOnItem(e),this._listView._groupsToRemove={}},resetGroups:function(){for(var a=this.groups.slice(0),b=0,c=a.length;c>b;b++){var d=a[b];this.listBinding&&d.userData&&this.listBinding.releaseItem(d.userData)}this.groups.length=0,this.dirty=!0}})}),_NoGroups:b.Namespace._lazy(function(){return b.Class.derive(a._GroupsContainerBase,function(a){this._listView=a,this.groups=[{startIndex:0}],this.dirty=!0},{synchronizeGroups:function(){return c.wrap()},addItem:function(){return c.wrap(this.groups[0])},resetGroups:function(){this.groups=[{startIndex:0}],delete this.pinnedItem,delete this.pinnedOffset,this.dirty=!0},renderGroup:function(){return c.wrap(null)},ensureFirstGroup:function(){return c.wrap(this.groups[0])},groupOf:function(){return c.wrap(this.groups[0])},removeElements:function(){}})})})}),d("WinJS/Controls/ListView/_Helpers",["exports","../../Core/_Base","../ItemContainer/_Constants"],function(a,b,c){"use strict";function d(a){return Array.prototype.slice.call(a)}function e(a,b){if("string"==typeof a)return e([a],b);var c=new Array(Math.floor(b/a.length)+1).join(a.join(""));return c+=a.slice(0,b%a.length).join("")}function f(a,b){var d,f=c._containerEvenClass,g=c._containerOddClass,h=b%2===0?[f,g]:[g,f],i=["<div class='win-container "+h[0]+" win-backdrop'></div>","<div class='win-container "+h[1]+" win-backdrop'></div>"];return d=e(i,a)}b.Namespace._moduleDefine(a,"WinJS.UI",{_nodeListToArray:d,_repeat:e,_stripedContainers:f})}),d("WinJS/Controls/ListView/_ItemsContainer",["exports","../../Core/_Base","../../Promise","../../Utilities/_ElementUtilities","../ItemContainer/_Constants"],function(a,b,c,d,e){"use strict";b.Namespace._moduleDefine(a,"WinJS.UI",{_ItemsContainer:b.Namespace._lazy(function(){var a=function(a){this.site=a,this._itemData={},this.waitingItemRequests={}};return a.prototype={requestItem:function(a){this.waitingItemRequests[a]||(this.waitingItemRequests[a]=[]);var b=this,d=new c(function(c){var d=b._itemData[a];d&&!d.detached&&d.element?c(d.element):b.waitingItemRequests[a].push(c)});return d},removeItem:function(a){delete this._itemData[a]},removeItems:function(){this._itemData={},this.waitingItemRequests={}},setItemAt:function(a,b){this._itemData[a]=b,b.detached||this.notify(a,b)},notify:function(a,b){if(this.waitingItemRequests[a]){for(var c=this.waitingItemRequests[a],d=0;d<c.length;d++)c[d](b.element);this.waitingItemRequests[a]=[]}},elementAvailable:function(a){var b=this._itemData[a];b.detached=!1,this.notify(a,b)},itemAt:function(a){var b=this._itemData[a];return b?b.element:null},itemDataAt:function(a){return this._itemData[a]},containerAt:function(a){var b=this._itemData[a];return b?b.container:null},itemBoxAt:function(a){var b=this._itemData[a];return b?b.itemBox:null},itemBoxFrom:function(a){for(;a&&!d.hasClass(a,e._itemBoxClass);)a=a.parentNode;return a},containerFrom:function(a){for(;a&&!d.hasClass(a,e._containerClass);)a=a.parentNode;return a},index:function(a){var b=this.containerFrom(a);if(b)for(var c in this._itemData)if(this._itemData[c].container===b)return parseInt(c,10);return e._INVALID_INDEX},each:function(a){for(var b in this._itemData)if(this._itemData.hasOwnProperty(b)){var c=this._itemData[b];a(parseInt(b,10),c.element,c)}},eachIndex:function(a){for(var b in this._itemData)if(a(parseInt(b,10)))break},count:function(){return Object.keys(this._itemData).length}},a})})}),d("WinJS/Controls/ListView/_Layouts",["exports","../../Core/_Global","../../Core/_Base","../../Core/_BaseUtils","../../Core/_ErrorFromName","../../Core/_Resources","../../Core/_WriteProfilerMark","../../Animations/_TransitionAnimation","../../Promise","../../Scheduler","../../_Signal","../../Utilities/_Dispose","../../Utilities/_ElementUtilities","../../Utilities/_SafeHtml","../../Utilities/_UI","../ItemContainer/_Constants","./_ErrorMessages"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){"use strict";function r(a){return"_win-dynamic-"+a+"-"+L++}function s(){var a,b,c,d=K.sheet.cssRules,e=M.length;for(a=0;e>a;a++)for(c="."+M[a]+" ",b=d.length-1;b>=0;b--)-1!==d[b].selectorText.indexOf(c)&&K.sheet.deleteRule(b);M=[]}function t(a,b,c,d){s();var e="."+p._listViewClass+" ."+a+" "+c+" { "+d+"}",f="_addDynamicCssRule:"+a+",info";b?b._writeProfilerMark(f):g("WinJS.UI.ListView:Layout"+f),K.sheet.insertRule(e,0)}function u(a){M.push(a)}function v(a,b,c){return Math.max(a,Math.min(b,c))}function w(a,b){return m.convertToPixels(a,m._getComputedStyle(a,null)[b])}function x(a,b){return w(b,"margin"+a)+w(b,"border"+a+"Width")+w(b,"padding"+a)}function y(a){return x("Top",a)+x("Bottom",a)}function z(a){return x("Left",a)+x("Right",a)}function A(a,b){if(a.items)for(var c=0,d=a.items.length;d>c;c++)b(a.items[c],c);else for(var e=0,f=0;e<a.itemsBlocks.length;e++)for(var g=a.itemsBlocks[e],c=0,d=g.items.length;d>c;c++)b(g.items[c],f++)}function B(a,b){if(0>b)return null;if(a.items)return b<a.items.length?a.items[b]:null;var c=a.itemsBlocks[0].items.length,d=Math.floor(b/c),e=b%c;return d<a.itemsBlocks.length&&e<a.itemsBlocks[d].items.length?a.itemsBlocks[d].items[e]:null}function C(a,b){for(var c,d=0,e=b.length;e>d;d++)if(b[d].itemsContainer.element===a){c=b[d].itemsContainer;break}return c}function D(a){var b,c;return a.itemsBlocks?(b=a.itemsBlocks.length,c=b>0?a.itemsBlocks[0].items.length*(b-1)+a.itemsBlocks[b-1].items.length:0):c=a.items.length,c}function E(a){if(!S){var c=b.document.createElement("div");c.style.width="500px",c.style.visibility="hidden";var d=b.document.createElement("div");d.style.cssText+="width: 500px; height: 200px; display: -webkit-flex; display: flex",n.setInnerHTMLUnsafe(d,"<div style='height: 100%; display: -webkit-flex; display: flex; flex-flow: column wrap; align-content: flex-start; -webkit-flex-flow: column wrap; -webkit-align-content: flex-start'><div style='width: 100px; height: 100px'></div><div style='width: 100px; height: 100px'></div><div style='width: 100px; height: 100px'></div></div>"),c.appendChild(d),a.viewport.insertBefore(c,a.viewport.firstChild);var e=c.offsetWidth>0,f=200;e&&(S={supportsCSSGrid:!!("-ms-grid-row"in b.document.documentElement.style),nestedFlexTooLarge:d.firstElementChild.offsetWidth>f,nestedFlexTooSmall:d.firstElementChild.offsetWidth<f}),a.readyToMeasure(),a.viewport.removeChild(c)}return S}function F(a){return i.is(a)?{realizedRangeComplete:a,layoutComplete:a}:"object"==typeof a&&a&&a.layoutComplete?a:{realizedRangeComplete:i.wrap(),layoutComplete:i.wrap()}}function G(a){return{left:w(a,"marginLeft"),right:w(a,"marginRight"),top:w(a,"marginTop"),bottom:w(a,"marginBottom")}}var H=m.Key,I=m._uniqueID,J={get itemInfoIsInvalid(){return"Invalid argument: An itemInfo function must be provided which returns an object with numeric width and height properties."},get groupInfoResultIsInvalid(){return"Invalid result: groupInfo result for cell spanning groups must include the following numeric properties: cellWidth and cellHeight."}},K=b.document.createElement("style");b.document.head.appendChild(K);var L=0,M=[],N=d._browserStyleEquivalents,O=N.transform,P=d._browserStyleEquivalents.transition.scriptName,Q=O.cssName+" cubic-bezier(0.1, 0.9, 0.2, 1) 167ms",R=12,S=null;c.Namespace._moduleDefine(a,"WinJS.UI",{Layout:c.Class.define(function(){}),_LayoutCommon:c.Namespace._lazy(function(){return c.Class.derive(a.Layout,null,{groupHeaderPosition:{enumerable:!0,get:function(){return this._groupHeaderPosition},set:function(a){this._groupHeaderPosition=a,this._invalidateLayout()}},initialize:function(a,b){a._writeProfilerMark("Layout:initialize,info"),this._inListMode||m.addClass(a.surface,p._gridLayoutClass),this._backdropColorClassName&&m.addClass(a.surface,this._backdropColorClassName),this._disableBackdropClassName&&m.addClass(a.surface,this._disableBackdropClassName),this._groups=[],this._groupMap={},this._oldGroupHeaderPosition=null,this._usingStructuralNodes=!1,this._site=a,this._groupsEnabled=b,this._resetAnimationCaches(!0)},orientation:{enumerable:!0,get:function(){return this._orientation},set:function(a){this._orientation=a,this._horizontal="horizontal"===a,this._invalidateLayout()}},uninitialize:function(){function a(a){var b,c=a.length;for(b=0;c>b;b++)a[b].cleanUp(!0)}var b="Layout:uninitialize,info";this._elementsToMeasure={},this._site?(this._site._writeProfilerMark(b),m.removeClass(this._site.surface,p._gridLayoutClass),m.removeClass(this._site.surface,p._headerPositionTopClass),m.removeClass(this._site.surface,p._headerPositionLeftClass),m.removeClass(this._site.surface,p._structuralNodesClass),m.removeClass(this._site.surface,p._singleItemsBlockClass),m.removeClass(this._site.surface,p._noCSSGrid),this._site.surface.style.cssText="",this._groups&&(a(this._groups),this._groups=null,this._groupMap=null),this._layoutPromise&&(this._layoutPromise.cancel(),this._layoutPromise=null),this._resetMeasurements(),this._oldGroupHeaderPosition=null,this._usingStructuralNodes=!1,this._envInfo=null,this._backdropColorClassName&&(m.removeClass(this._site.surface,this._backdropColorClassName),u(this._backdropColorClassName),this._backdropColorClassName=null),this._disableBackdropClassName&&(m.removeClass(this._site.surface,this._disableBackdropClassName),u(this._disableBackdropClassName),this._disableBackdropClassName=null),this._site=null,this._groupsEnabled=null,this._animationsRunning&&this._animationsRunning.cancel(),this._animatingItemsBlocks={}):g("WinJS.UI.ListView:"+b)},numberOfItemsPerItemsBlock:{get:function(){function b(){var a,b=c._site.groupCount;for(a=0;b>a;a++)if(c._isCellSpanning(a))return!1;return!0}var c=this;return c._measureItem(0).then(function(){return c._sizes.viewportContentSize!==c._getViewportCrossSize()&&c._viewportSizeChanged(c._getViewportCrossSize()),b()?c._envInfo.nestedFlexTooLarge||c._envInfo.nestedFlexTooSmall?(c._usingStructuralNodes=!0,Number.MAX_VALUE):(c._usingStructuralNodes=a._LayoutCommon._barsPerItemsBlock>0,a._LayoutCommon._barsPerItemsBlock*c._itemsPerBar):(c._usingStructuralNodes=!1,null)})}},layout:function(a,b,c,d){function e(a){function b(a){if(l._usingStructuralNodes){var b=[];return a.itemsBlocks.forEach(function(a){b=b.concat(a.items.slice(0))}),b}return a.items.slice(0)}return{element:a.element,items:b(a)}}function f(){function c(a,b){var c=a.enableCellSpanning?T.CellSpanningGroup:T.UniformGroup;return new c(l,b)}var d,f=l._groups.length>0?l._getRealizationRange():null,g=[],h=[],j={},k={},m=0,n=a.length;
for(d=0;n>d;d++){var o=null,p=l._getGroupInfo(d),q=l._site.groupFromIndex(d).key,r=l._groupMap[q],s=r instanceof T.CellSpanningGroup,t=p.enableCellSpanning;if(r)if(s!==t)j[q]=!0;else{var u=Math.max(0,b.firstIndex-r.startIndex),v=l._rangeForGroup(r,f);v&&u<=v.lastIndex&&(o={firstIndex:Math.max(u,v.firstIndex),lastIndex:v.lastIndex})}var w,x=c(p,a[d].itemsContainer.element);w=x.prepareLayoutWithCopyOfTree?x.prepareLayoutWithCopyOfTree(e(a[d].itemsContainer),o,r,{groupInfo:p,startIndex:m}):x.prepareLayout(D(a[d].itemsContainer),o,r,{groupInfo:p,startIndex:m}),h.push(w),m+=x.count,g.push(x),k[q]=x}return i.join(h).then(function(){for(var a=0,b=0,c=g.length;c>b;b++){var d=g[b];d.offset=a,a+=l._getGroupSize(d)}Object.keys(l._groupMap).forEach(function(a){var b=!j[a];l._groupMap[a].cleanUp(b)}),l._groups=g,l._groupMap=k})}function g(a,c,d){var e,f=l._groups[a],g=Math.max(0,b.firstIndex-f.startIndex),h=l._rangeForGroup(f,c);return d?void f.layoutRealizedRange(g,h):(h||(e=f.startIndex+f.count-1<c.firstIndex),f.layoutUnrealizedRange(g,h,e))}function h(){if(0!==l._groups.length){var c,d=l._getRealizationRange(),e=a.length,f=n.groupIndexFromItemIndex(b.firstIndex);for(c=f;e>c;c++)g(c,d,!0),l._layoutGroup(c)}}function j(){if(0===l._groups.length)return i.wrap();var a=l._getRealizationRange(),c=n.groupIndexFromItemIndex(a.firstIndex-1),d=n.groupIndexFromItemIndex(a.lastIndex+1),e=n.groupIndexFromItemIndex(b.firstIndex),f=[],h=l._groups.length,j=!1,k=c,m=Math.max(e,d);for(m=Math.max(k+1,m);!j;)j=!0,k>=e&&(f.push(g(k,a,!1)),j=!1,k--),h>m&&(f.push(g(m,a,!1)),j=!1,m++);return i.join(f)}var k,l=this,n=l._site,o="Layout.layout",q=o+":realizedRange";return l._site._writeProfilerMark(o+",StartTM"),l._site._writeProfilerMark(q+",StartTM"),k=l._measureItem(0).then(function(){return m[l._usingStructuralNodes?"addClass":"removeClass"](l._site.surface,p._structuralNodesClass),m[l._envInfo.nestedFlexTooLarge||l._envInfo.nestedFlexTooSmall?"addClass":"removeClass"](l._site.surface,p._singleItemsBlockClass),l._sizes.viewportContentSize!==l._getViewportCrossSize()&&l._viewportSizeChanged(l._getViewportCrossSize()),l._cacheRemovedElements(c,l._cachedItemRecords,l._cachedInsertedItemRecords,l._cachedRemovedItems,!1),l._cacheRemovedElements(d,l._cachedHeaderRecords,l._cachedInsertedHeaderRecords,l._cachedRemovedHeaders,!0),f()}).then(function(){l._syncDomWithGroupHeaderPosition(a);var b=0;if(l._groups.length>0){var e=l._groups[l._groups.length-1];b=e.offset+l._getGroupSize(e)}l._horizontal?(l._groupsEnabled&&l._groupHeaderPosition===U.left?n.surface.style.cssText+=";height:"+l._sizes.surfaceContentSize+"px;-ms-grid-columns: ("+l._sizes.headerContainerWidth+"px auto)["+a.length+"]":n.surface.style.height=l._sizes.surfaceContentSize+"px",(l._envInfo.nestedFlexTooLarge||l._envInfo.nestedFlexTooSmall)&&(n.surface.style.width=b+"px")):(l._groupsEnabled&&l._groupHeaderPosition===U.top?n.surface.style.cssText+=";width:"+l._sizes.surfaceContentSize+"px;-ms-grid-rows: ("+l._sizes.headerContainerHeight+"px auto)["+a.length+"]":n.surface.style.width=l._sizes.surfaceContentSize+"px",(l._envInfo.nestedFlexTooLarge||l._envInfo.nestedFlexTooSmall)&&(n.surface.style.height=b+"px")),h(),l._layoutAnimations(c,d),l._site._writeProfilerMark(q+":complete,info"),l._site._writeProfilerMark(q+",StopTM")},function(a){return l._site._writeProfilerMark(q+":canceled,info"),l._site._writeProfilerMark(q+",StopTM"),i.wrapError(a)}),l._layoutPromise=k.then(function(){return j().then(function(){l._site._writeProfilerMark(o+":complete,info"),l._site._writeProfilerMark(o+",StopTM")},function(a){return l._site._writeProfilerMark(o+":canceled,info"),l._site._writeProfilerMark(o+",StopTM"),i.wrapError(a)})}),{realizedRangeComplete:k,layoutComplete:l._layoutPromise}},itemsFromRange:function(a,b){return this._rangeContainsItems(a,b)?{firstIndex:this._firstItemFromRange(a),lastIndex:this._lastItemFromRange(b)}:{firstIndex:0,lastIndex:-1}},getAdjacent:function(b,c){function d(){var a={type:b.type,index:b.index-g.startIndex},c=g.getAdjacent(a,h);if("boundary"===c){var d=e._groups[f-1],i=e._groups[f+1],j=e._groups.length-1;if(h===H.leftArrow){if(0===f)return b;if(d instanceof T.UniformGroup&&g instanceof T.UniformGroup){var k=e._indexToCoordinate(a.index),l=e._horizontal?k.row:k.column,m=Math.floor((d.count-1)/e._itemsPerBar),n=m*e._itemsPerBar;return{type:o.ObjectType.item,index:d.startIndex+Math.min(d.count-1,n+l)}}return{type:o.ObjectType.item,index:g.startIndex-1}}if(h===H.rightArrow){if(f===j)return b;if(g instanceof T.UniformGroup&&i instanceof T.UniformGroup){var k=e._indexToCoordinate(a.index),l=e._horizontal?k.row:k.column;return{type:o.ObjectType.item,index:i.startIndex+Math.min(i.count-1,l)}}return{type:o.ObjectType.item,index:i.startIndex}}return b}return c.index+=g.startIndex,c}var e=this,f=e._site.groupIndexFromItemIndex(b.index),g=e._groups[f],h=e._adjustedKeyForOrientationAndBars(e._adjustedKeyForRTL(c),g instanceof T.CellSpanningGroup);if(b.type||(b.type=o.ObjectType.item),b.type===o.ObjectType.item||c!==H.pageUp&&c!==H.pageDown){if(b.type===o.ObjectType.header&&h===H.rightArrow)return{type:e._groupsEnabled?o.ObjectType.groupHeader:o.ObjectType.footer,index:0};if(b.type===o.ObjectType.footer&&h===H.leftArrow)return{type:e._groupsEnabled?o.ObjectType.groupHeader:o.ObjectType.header,index:0};if(b.type===o.ObjectType.groupHeader){if(h===H.leftArrow){var i=b.index-1;return i=e._site.header?i:Math.max(0,i),{type:i>-1?o.ObjectType.groupHeader:o.ObjectType.header,index:i>-1?i:0}}if(h===H.rightArrow){var i=b.index+1;return i=e._site.header?i:Math.min(e._groups.length-1,b.index+1),{type:i>=e._groups.length?o.ObjectType.header:o.ObjectType.groupHeader,index:i>=e._groups.length?0:i}}return b}}else{var j=0;j=b.type===o.ObjectType.groupHeader?e._groups[b.index].startIndex:b.type===o.ObjectType.header?0:e._groups[e._groups.length-1].count-1,b={type:o.ObjectType.item,index:j}}switch(e._adjustedKeyForRTL(c)){case H.upArrow:case H.leftArrow:case H.downArrow:case H.rightArrow:return d();default:return a._LayoutCommon.prototype._getAdjacentForPageKeys.call(e,b,c)}},hitTest:function(a,b){var c,d=this._sizes;a-=d.layoutOriginX,b-=d.layoutOriginY;var e=this._groupFromOffset(this._horizontal?a:b),f=this._groups[e];return this._horizontal?a-=f.offset:b-=f.offset,this._groupsEnabled&&(this._groupHeaderPosition===U.left?a-=d.headerContainerWidth:b-=d.headerContainerHeight),c=f.hitTest(a,b),c.index+=f.startIndex,c.insertAfterIndex+=f.startIndex,c},setupAnimations:function(){if(0===this._groups.length)return void this._resetAnimationCaches();if(!Object.keys(this._cachedItemRecords).length){this._site._writeProfilerMark("Animation:setupAnimations,StartTM");for(var a=this._getRealizationRange(),b=this._site.tree,c=0,d="horizontal"===this.orientation,e=0,f=b.length;f>e;e++){var g=b[e],h=!1,i=this._groups[e],j=i instanceof T.CellSpanningGroup,k=i?i.offset:0;if(A(g.itemsContainer,function(b,d){if(a.firstIndex<=c&&a.lastIndex>=c&&(h=!0,!this._cachedItemRecords[c])){var f=this._getItemPositionForAnimations(c,e,d),g=f.row,i=f.column,k=f.left,l=f.top;this._cachedItemRecords[c]={oldRow:g,oldColumn:i,oldLeft:k,oldTop:l,width:f.width,height:f.height,element:b,inCellSpanningGroup:j}}c++}.bind(this)),h){var l=e;if(!this._cachedHeaderRecords[l]){var m=this._getHeaderPositionForAnimations(l);this._cachedHeaderRecords[l]={oldLeft:m.left,oldTop:m.top,width:m.width,height:m.height,element:g.header}}this._cachedGroupRecords[I(g.itemsContainer.element)]||(this._cachedGroupRecords[I(g.itemsContainer.element)]={oldLeft:d?k:0,left:d?k:0,oldTop:d?0:k,top:d?0:k,element:g.itemsContainer.element})}}this._site._writeProfilerMark("Animation:setupAnimations,StopTM")}},_layoutAnimations:function(a,b){if(Object.keys(this._cachedItemRecords).length||Object.keys(this._cachedGroupRecords).length||Object.keys(this._cachedHeaderRecords).length){this._site._writeProfilerMark("Animation:layoutAnimation,StartTM"),this._updateAnimationCache(a,b);for(var c=this._getRealizationRange(),d=this._site.tree,e=0,f="horizontal"===this.orientation,g=0,h=d.length;h>g;g++){var i=d[g],j=this._groups[g],k=j instanceof T.CellSpanningGroup,l=j?j.offset:0,n=0,o=0,q=this._cachedGroupRecords[I(i.itemsContainer.element)];q&&(f?n=q.oldLeft-l:o=q.oldTop-l),A(i.itemsContainer,function(a,b){if(c.firstIndex<=e&&c.lastIndex>=e){var d=this._cachedItemRecords[e];if(d){var f=this._getItemPositionForAnimations(e,g,b),h=f.row,i=f.column,j=f.left,l=f.top;if(d.inCellSpanningGroup=d.inCellSpanningGroup||k,d.oldRow!==h||d.oldColumn!==i||d.oldTop!==l||d.oldLeft!==j){d.row=h,d.column=i,d.left=j,d.top=l;var q=d.oldLeft-d.left-n,r=d.oldTop-d.top-o;if(q=(this._site.rtl?-1:1)*q,d.xOffset=q,d.yOffset=r,0!==q||0!==r){var s=d.element;d.needsToResetTransform=!0,s.style[P]="",s.style[O.scriptName]="translate("+q+"px,"+r+"px)"}var t=a.parentNode;m.hasClass(t,p._itemsBlockClass)&&(this._animatingItemsBlocks[I(t)]=t)}}else this._cachedInsertedItemRecords[e]=a,a.style[P]="",a.style.opacity=0}e++}.bind(this));var r=g,s=this._cachedHeaderRecords[r];if(s){var t=this._getHeaderPositionForAnimations(r);if(s.height=t.height,s.width=t.width,s.oldLeft!==t.left||s.oldTop!==t.top){s.left=t.left,s.top=t.top;var u=s.oldLeft-s.left,v=s.oldTop-s.top;if(u=(this._site.rtl?-1:1)*u,0!==u||0!==v){s.needsToResetTransform=!0;var w=s.element;w.style[P]="",w.style[O.scriptName]="translate("+u+"px,"+v+"px)"}}}if(q&&(f&&q.left!==l||!f&&q.top!==l)){var x=q.element;if(0===n&&0===o)q.needsToResetTransform&&(q.needsToResetTransform=!1,x.style[O.scriptName]="");else{var y=(this._site.rtl?-1:1)*n,z=o;q.needsToResetTransform=!0,x.style[P]="",x.style[O.scriptName]="translate("+y+"px, "+z+"px)"}}}if(this._inListMode||1===this._itemsPerBar)for(var B=Object.keys(this._animatingItemsBlocks),C=0,D=B.length;D>C;C++)this._animatingItemsBlocks[B[C]].style.overflow="visible";this._site._writeProfilerMark("Animation:layoutAnimation,StopTM")}},executeAnimations:function(){function b(){if(e(),H)f();else{if(ba._itemsPerBar>1)for(var a=ba._itemsPerBar*ba._sizes.containerCrossSize+ba._getHeaderSizeContentAdjustment()+ba._sizes.containerMargins[U?"top":v.rtl?"right":"left"]+(U?ba._sizes.layoutOriginY:ba._sizes.layoutOriginX),b=0,c=y.length;c>b;b++){var d=y[b];d[V]>d[W]?(N=Math.max(N,d[X]+d[U?"height":"width"]),R=Math.max(R,a-d[Y]),J=!0,T.push(d)):d[V]<d[W]&&(Q=Math.max(Q,a-d[X]),S=Math.max(S,d[Y]+d[U?"height":"width"]),T.push(d),J=!0)}v.rtl&&!U&&(N*=-1,R*=-1,Q*=-1,S*=-1),J?j(ba._itemsPerBar):q()}}function c(b){F=i.join(G),F.done(function(){G=[],t&&(a.Layout._debugAnimations?d._requestAnimationFrame(function(){b()}):b())})}function e(){if(x.length){v._writeProfilerMark("Animation:setupRemoveAnimation,StartTM"),B+=60,E+=60;var a=120;u&&(a*=10),G.push(h.executeTransition(x,[{property:"opacity",delay:A,duration:a,timing:"linear",to:0,skipStylesReset:!0}])),v._writeProfilerMark("Animation:setupRemoveAnimation,StopTM")}}function f(){v._writeProfilerMark("Animation:cellSpanningFadeOutMove,StartTM");for(var a=[],b=0,d=y.length;d>b;b++){var e=y[b],f=e.element;a.push(f)}for(var b=0,d=z.length;d>b;b++){var e=z[b],f=e.element;a.push(f)}var i=120;u&&(i*=10),G.push(h.executeTransition(a,{property:"opacity",delay:A,duration:i,timing:"linear",to:0})),c(g),v._writeProfilerMark("Animation:cellSpanningFadeOutMove,StopTM")}function g(){v._writeProfilerMark("Animation:cellSpanningFadeInMove,StartTM"),E=0;for(var a=[],b=0,c=y.length;c>b;b++){var d=y[b],e=d.element;e.style[O.scriptName]="",a.push(e)}for(var b=0,c=z.length;c>b;b++){var d=z[b],e=d.element;e.style[O.scriptName]="",a.push(e)}var f=120;u&&(f*=10),G.push(h.executeTransition(a,{property:"opacity",delay:E,duration:f,timing:"linear",to:1})),v._writeProfilerMark("Animation:cellSpanningFadeInMove,StopTM"),r()}function j(a){v._writeProfilerMark("Animation:setupReflowAnimation,StartTM");for(var b={},d=0,e=T.length;e>d;d++){var f=T[d],g=f.xOffset,i=f.yOffset;f[V]>f[W]?U?i-=N:g-=N:f[V]<f[W]&&(U?i+=Q:g+=Q);var j=f.element;K=Math.min(K,U?g:i),L=Math.max(L,U?g:i);var k=j.parentNode;m.hasClass(k,"win-itemscontainer")||(k=k.parentNode);var l=b[I(k)];if(!l){var n=D(C(k,v.tree));b[I(k)]=l=Math.ceil(n/a)-1}T[d][U?"column":"row"]===l&&(M[I(k)]=k);var q=80;u&&(q*=10),G.push(h.executeTransition(j,{property:O.cssName,delay:B,duration:q,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",to:"translate("+g+"px,"+i+"px)"}))}for(var r=Object.keys(M),d=0,e=r.length;e>d;d++){var s=M[r[d]];v.rtl&&U?(s.style.paddingLeft=-1*K+"px",s.style.marginLeft=K+"px"):(s.style[U?"paddingRight":"paddingBottom"]=L+"px",s.style[U?"marginRight":"marginBottom"]="-"+L+"px")}for(var t=Object.keys(Z),d=0,e=t.length;e>d;d++)Z[t[d]].classList.add(p._clipClass);c(o),v._writeProfilerMark("Animation:setupReflowAnimation,StopTM")}function n(){for(var a=Object.keys(M),b=0,c=a.length;c>b;b++){var d=M[a[b]];v.rtl&&U?(d.style.paddingLeft="",d.style.marginLeft=""):(d.style[U?"paddingRight":"paddingBottom"]="",d.style[U?"marginRight":"marginBottom"]="")}M={};for(var e=Object.keys(Z),b=0,c=e.length;c>b;b++){var f=Z[e[b]];f.style.overflow="",f.classList.remove(p._clipClass)}}function o(){v._writeProfilerMark("Animation:prepareReflowedItems,StartTM");for(var b=0,c=T.length;c>b;b++){var e=T[b],f=0,g=0;e[V]>e[W]?U?g=R:f=R:e[V]<e[W]&&(U?g=-1*S:f=-1*S),e.element.style[P]="",e.element.style[O.scriptName]="translate("+f+"px,"+g+"px)"}v._writeProfilerMark("Animation:prepareReflowedItems,StopTM"),a.Layout._debugAnimations?d._requestAnimationFrame(function(){q(!0)}):q(!0)}function q(a){var b=200;if(a&&(b=150,B=0,E=0),u&&(b*=10),y.length>0||z.length>0){v._writeProfilerMark("Animation:setupMoveAnimation,StartTM");for(var c=[],d=0,e=z.length;e>d;d++){var f=z[d].element;c.push(f)}for(var d=0,e=y.length;e>d;d++){var f=y[d].element;c.push(f)}G.push(h.executeTransition(c,{property:O.cssName,delay:B,duration:b,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",to:""})),E+=80,v._writeProfilerMark("Animation:setupMoveAnimation,StopTM")}r()}function r(){if(w.length>0){v._writeProfilerMark("Animation:setupInsertAnimation,StartTM");var a=120;u&&(a*=10),G.push(h.executeTransition(w,[{property:"opacity",delay:E,duration:a,timing:"linear",to:1}])),v._writeProfilerMark("Animation:setupInsertAnimation,StopTM")}c(s)}function s(){v._writeProfilerMark("Animation:cleanupAnimations,StartTM"),n();for(var a=0,b=x.length;b>a;a++){var c=x[a];c.parentNode&&(l._disposeElement(c),c.parentNode.removeChild(c))}v._writeProfilerMark("Animation:cleanupAnimations,StopTM"),ba._animationsRunning=null,t.complete()}var t=new k;if(this._filterInsertedElements(),this._filterMovedElements(),this._filterRemovedElements(),0===this._insertedElements.length&&0===this._removedElements.length&&0===this._itemMoveRecords.length&&0===this._moveRecords.length)return this._resetAnimationCaches(!0),t.complete(),t.promise;this._animationsRunning=t.promise;for(var u=a.Layout._debugAnimations||a.Layout._slowAnimations,v=this._site,w=this._insertedElements,x=this._removedElements,y=this._itemMoveRecords,z=this._moveRecords,A=0,B=0,E=0,F=null,G=[],H=!1,J=!1,K=0,L=0,M={},N=0,Q=0,R=0,S=0,T=[],U="horizontal"===this.orientation,V=U?"oldColumn":"oldRow",W=U?"column":"row",X=U?"oldTop":"oldLeft",Y=U?"top":"left",Z=this._animatingItemsBlocks,$=0,_=y.length;_>$;$++){var aa=y[$];if(aa.inCellSpanningGroup){H=!0;break}}var ba=this;return a.Layout._debugAnimations?d._requestAnimationFrame(function(){b()}):b(),this._resetAnimationCaches(!0),t.promise.then(null,function(){n();for(var a=0,b=z.length;b>a;a++){var c=z[a].element;c.style[O.scriptName]="",c.style.opacity=1}for(var a=0,b=y.length;b>a;a++){var c=y[a].element;c.style[O.scriptName]="",c.style.opacity=1}for(var a=0,b=w.length;b>a;a++)w[a].style.opacity=1;for(var a=0,b=x.length;b>a;a++){var c=x[a];c.parentNode&&(l._disposeElement(c),c.parentNode.removeChild(c))}this._animationsRunning=null,t=null,F&&F.cancel()}.bind(this)),t.promise},dragOver:function(a,b,c){var d=this.hitTest(a,b),e=this._groups?this._site.groupIndexFromItemIndex(d.index):0,f=this._site.tree[e].itemsContainer,g=D(f),h=this._groups?this._groups[e].startIndex:0,i=this._getVisibleRange();d.index-=h,d.insertAfterIndex-=h,i.firstIndex=Math.max(i.firstIndex-h-1,0),i.lastIndex=Math.min(i.lastIndex-h+1,g);var j=Math.max(Math.min(g-1,d.insertAfterIndex),-1),k=Math.min(j+1,g);if(c){for(var l=j;l>=i.firstIndex;l--){if(!c._isIncluded(l+h)){j=l;break}l===i.firstIndex&&(j=-1)}for(var l=k;l<i.lastIndex;l++){if(!c._isIncluded(l+h)){k=l;break}l===i.lastIndex-1&&(k=g)}}var m=B(f,k),n=B(f,j);if(this._animatedDragItems)for(var l=0,o=this._animatedDragItems.length;o>l;l++){var p=this._animatedDragItems[l];p&&(p.style[P]=this._site.animationsDisabled?"":Q,p.style[O.scriptName]="")}this._animatedDragItems=[];var q="horizontal"===this.orientation,r=this._inListMode||1===this._itemsPerBar;this._groups&&this._groups[e]instanceof T.CellSpanningGroup&&(r=1===this._groups[e]._slotsPerColumn);var s=0,t=0;!q&&!r||q&&r?s=this._site.rtl?-R:R:t=R,m&&(m.style[P]=this._site.animationsDisabled?"":Q,m.style[O.scriptName]="translate("+s+"px, "+t+"px)",this._animatedDragItems.push(m)),n&&(n.style[P]=this._site.animationsDisabled?"":Q,n.style[O.scriptName]="translate("+-s+"px, -"+t+"px)",this._animatedDragItems.push(n))},dragLeave:function(){if(this._animatedDragItems)for(var a=0,b=this._animatedDragItems.length;b>a;a++)this._animatedDragItems[a].style[P]=this._site.animationsDisabled?"":Q,this._animatedDragItems[a].style[O.scriptName]="";this._animatedDragItems=[]},_setMaxRowsOrColumns:function(a){a===this._maxRowsOrColumns||this._inListMode||(this._sizes&&this._sizes.containerSizeLoaded&&(this._itemsPerBar=Math.floor(this._sizes.maxItemsContainerContentSize/this._sizes.containerCrossSize),a&&(this._itemsPerBar=Math.min(this._itemsPerBar,a)),this._itemsPerBar=Math.max(1,this._itemsPerBar)),this._maxRowsOrColumns=a,this._invalidateLayout())},_getItemPosition:function(a){if(this._groupsEnabled){var b=Math.min(this._groups.length-1,this._site.groupIndexFromItemIndex(a)),c=this._groups[b],d=a-c.startIndex;return this._getItemPositionForAnimations(a,b,d)}return this._getItemPositionForAnimations(a,0,a)},_getRealizationRange:function(){var a=this._site.realizedRange;return{firstIndex:this._firstItemFromRange(a.firstPixel),lastIndex:this._lastItemFromRange(a.lastPixel)}},_getVisibleRange:function(){var a=this._site.visibleRange;return{firstIndex:this._firstItemFromRange(a.firstPixel),lastIndex:this._lastItemFromRange(a.lastPixel)}},_resetAnimationCaches:function(a){if(!a){this._resetStylesForRecords(this._cachedGroupRecords),this._resetStylesForRecords(this._cachedItemRecords),this._resetStylesForRecords(this._cachedHeaderRecords),this._resetStylesForInsertedRecords(this._cachedInsertedItemRecords),this._resetStylesForInsertedRecords(this._cachedInsertedHeaderRecords),this._resetStylesForRemovedRecords(this._cachedRemovedItems),this._resetStylesForRemovedRecords(this._cachedRemovedHeaders);for(var b=Object.keys(this._animatingItemsBlocks),c=0,d=b.length;d>c;c++){var e=this._animatingItemsBlocks[b[c]];e.style.overflow="",e.classList.remove(p._clipClass)}}this._cachedGroupRecords={},this._cachedItemRecords={},this._cachedHeaderRecords={},this._cachedInsertedItemRecords={},this._cachedInsertedHeaderRecords={},this._cachedRemovedItems=[],this._cachedRemovedHeaders=[],this._animatingItemsBlocks={}},_cacheRemovedElements:function(a,b,c,d,e){var f="left";this._site.rtl&&(f="right");var g,h;e?(g=this._sizes.headerContainerOuterX,h=this._sizes.headerContainerOuterY):(g=this._sizes.containerMargins[f],h=this._sizes.containerMargins.top);for(var i=0,j=a.length;j>i;i++){var k=a[i];if(-1===k.newIndex){var l=k.element,m=b[k.oldIndex];m&&(m.element=l,delete b[k.oldIndex],l.style.position="absolute",l.style[P]="",l.style.top=m.oldTop-h+"px",l.style[f]=m.oldLeft-g+"px",l.style.width=m.width+"px",l.style.height=m.height+"px",l.style[O.scriptName]="",this._site.surface.appendChild(l),d.push(m)),c[k.oldIndex]&&delete c[k.oldIndex]}}},_cacheInsertedElements:function(a,b,c){for(var d={},e=0,f=a.length;f>e;e++){var g=a[e],h=b[g.oldIndex];if(h&&delete b[g.oldIndex],h||-1===g.oldIndex||g.moved){var i=c[g.newIndex];i&&delete c[g.newIndex];var j=g.element;d[g.newIndex]=j,j.style[P]="",j.style[O.scriptName]="",j.style.opacity=0}}for(var k=Object.keys(b),e=0,f=k.length;f>e;e++)d[k[e]]=b[k[e]];return d},_resetStylesForRecords:function(a){for(var b=Object.keys(a),c=0,d=b.length;d>c;c++){var e=a[b[c]];e.needsToResetTransform&&(e.element.style[O.scriptName]="",e.needsToResetTransform=!1)}},_resetStylesForInsertedRecords:function(a){for(var b=Object.keys(a),c=0,d=b.length;d>c;c++){var e=a[b[c]];e.style.opacity=1}},_resetStylesForRemovedRecords:function(a){for(var b=0,c=a.length;c>b;b++){var d=a[b].element;d.parentNode&&(l._disposeElement(d),d.parentNode.removeChild(d))}},_updateAnimationCache:function(a,b){function c(a,b){for(var c={},e=0,f=a.length;f>e;e++){var g=a[e],h=b[g.oldIndex];h&&(c[g.newIndex]=h,h.element=g.element,delete b[g.oldIndex])}for(var i=Object.keys(b),e=0,f=i.length;f>e;e++){var j=i[e],k=b[j];k.element&&!d[I(k.element)]||(c[j]=k)}return c}this._resetStylesForRecords(this._cachedItemRecords),this._resetStylesForRecords(this._cachedHeaderRecords),this._resetStylesForInsertedRecords(this._cachedInsertedItemRecords),this._resetStylesForInsertedRecords(this._cachedInsertedHeaderRecords);for(var d={},e=this._getRealizationRange(),f=this._site.tree,g=0,h=0,i=f.length;i>g;g++)A(f[g].itemsContainer,function(a){e.firstIndex<=h&&e.lastIndex>=h&&(d[I(a)]=!0),h++});this._cachedItemRecords=c(a,this._cachedItemRecords),this._cachedHeaderRecords=c(b,this._cachedHeaderRecords),this._cachedInsertedItemRecords=this._cacheInsertedElements(a,this._cachedInsertedItemRecords,this._cachedItemRecords),this._cachedInsertedHeaderRecords=this._cacheInsertedElements(b,this._cachedInsertedHeaderRecords,this._cachedHeaderRecords)},_filterRemovedElements:function(){function a(a,g){for(var h=0,i=a.length;i>h;h++){var j=a[h],k=j.element;j[c]+j[d]-1<e||j[c]>f||!b._site.viewport.contains(k)?k.parentNode&&(l._disposeElement(k),k.parentNode.removeChild(k)):g.push(k)}}if(this._removedElements=[],this._site.animationsDisabled)return this._resetStylesForRemovedRecords(this._cachedRemovedItems),void this._resetStylesForRemovedRecords(this._cachedRemovedHeaders);var b=this,c="horizontal"===this.orientation?"oldLeft":"oldTop",d="horizontal"===this.orientation?"width":"height",e=this._site.scrollbarPos,f=e+this._site.viewportSize[d]-1;a(this._cachedRemovedItems,this._removedElements),a(this._cachedRemovedHeaders,this._removedElements)},_filterInsertedElements:function(){function a(a,d){for(var e=Object.keys(a),f=0,g=e.length;g>f;f++){var h=e[f],i=a[h];h<c.firstIndex||h>c.lastIndex||b._site.viewport.contains(i.element)?i.style.opacity=1:d.push(i)}}if(this._insertedElements=[],this._site.animationsDisabled)return this._resetStylesForInsertedRecords(this._cachedInsertedItemRecords),void this._resetStylesForInsertedRecords(this._cachedInsertedHeaderRecords);var b=this,c=this._getVisibleRange();a(this._cachedInsertedItemRecords,this._insertedElements),a(this._cachedInsertedHeaderRecords,this._insertedElements)},_filterMovedElements:function(){var a=this,b="horizontal"===this.orientation?"oldLeft":"oldTop",c="horizontal"===this.orientation?"left":"top",d="horizontal"===this.orientation?"width":"height",e=this._getRealizationRange(),f=this._site.scrollbarPos,g=f+this._site.viewportSize[d]-1;if(this._itemMoveRecords=[],this._moveRecords=[],!this._site.animationsDisabled)for(var h=this._site.tree,i=0,j=0,k=h.length;k>j;j++){var l=h[j],m=!1;A(l.itemsContainer,function(){if(e.firstIndex<=i&&e.lastIndex>=i){var h=this._cachedItemRecords[i];if(h){var j=(h[b]+h[d]-1>=f&&h[b]<=g||h[c]+h[d]-1>=f&&h[c]<=g)&&a._site.viewport.contains(h.element);j&&(m=!0,h.needsToResetTransform&&(this._itemMoveRecords.push(h),delete this._cachedItemRecords[i]))}}i++}.bind(this));var n=j,o=this._cachedHeaderRecords[n];o&&m&&o.needsToResetTransform&&(this._moveRecords.push(o),delete this._cachedHeaderRecords[n]);var p=this._cachedGroupRecords[I(l.itemsContainer.element)];p&&m&&p.needsToResetTransform&&(this._moveRecords.push(p),delete this._cachedGroupRecords[I(l.itemsContainer.element)])}this._resetStylesForRecords(this._cachedGroupRecords),this._resetStylesForRecords(this._cachedItemRecords),this._resetStylesForRecords(this._cachedHeaderRecords)},_getItemPositionForAnimations:function(a,b,c){var d=this._groups[b],e=d.getItemPositionForAnimations(c),f=this._groups[b]?this._groups[b].offset:0,g=this._groupsEnabled&&this._groupHeaderPosition===U.left?this._sizes.headerContainerWidth:0,h=this._groupsEnabled&&this._groupHeaderPosition===U.top?this._sizes.headerContainerHeight:0;return e.left+=this._sizes.layoutOriginX+g+this._sizes.itemsContainerOuterX,e.top+=this._sizes.layoutOriginY+h+this._sizes.itemsContainerOuterY,e[this._horizontal?"left":"top"]+=f,e},_getHeaderPositionForAnimations:function(a){var b;if(this._groupsEnabled){var c=this._sizes.headerContainerWidth-this._sizes.headerContainerOuterWidth,d=this._sizes.headerContainerHeight-this._sizes.headerContainerOuterHeight;this._groupHeaderPosition!==U.left||this._horizontal?this._groupHeaderPosition===U.top&&this._horizontal&&(c=this._groups[a].getItemsContainerSize()-this._sizes.headerContainerOuterWidth):d=this._groups[a].getItemsContainerSize()-this._sizes.headerContainerOuterHeight;var e=this._horizontal?this._groups[a].offset:0,f=this._horizontal?0:this._groups[a].offset;b={top:this._sizes.layoutOriginY+f+this._sizes.headerContainerOuterY,left:this._sizes.layoutOriginX+e+this._sizes.headerContainerOuterX,height:d,width:c}}else b={top:0,left:0,height:0,width:0};return b},_rangeContainsItems:function(a,b){if(0===this._groups.length)return!1;var c=this._groups[this._groups.length-1],d=this._sizes.layoutOrigin+c.offset+this._getGroupSize(c)-1;return b>=0&&d>=a},_itemFromOffset:function(a,b){function c(a){if(!b.wholeItem){var c=e._horizontal?e._site.rtl?"right":"left":"top",d=e._horizontal?e._site.rtl?"left":"right":"bottom";return b.last?a-e._sizes.containerMargins[c]:a+e._sizes.containerMargins[d]}return a}function d(a){return b.last?a-e._getHeaderSizeGroupAdjustment()-e._sizes.itemsContainerOuterStart:a}var e=this;if(0===this._groups.length)return 0;b=b||{},a-=this._sizes.layoutOrigin,a=c(a);var f=this._groupFromOffset(d(a)),g=this._groups[f];return a-=g.offset,a-=this._getHeaderSizeGroupAdjustment(),g.startIndex+g.itemFromOffset(a,b)},_firstItemFromRange:function(a,b){return b=b||{},b.last=0,this._itemFromOffset(a,b)},_lastItemFromRange:function(a,b){return b=b||{},b.last=1,this._itemFromOffset(a,b)},_adjustedKeyForRTL:function(a){return this._site.rtl&&(a===H.leftArrow?a=H.rightArrow:a===H.rightArrow&&(a=H.leftArrow)),a},_adjustedKeyForOrientationAndBars:function(a,b){var c=a;if(b)return a;if(!this._horizontal)switch(c){case H.leftArrow:c=H.upArrow;break;case H.rightArrow:c=H.downArrow;break;case H.upArrow:c=H.leftArrow;break;case H.downArrow:c=H.rightArrow}return 1===this._itemsPerBar&&(c===H.upArrow?c=H.leftArrow:c===H.downArrow&&(c=H.rightArrow)),c},_getAdjacentForPageKeys:function(a,b){var c,d=this._sizes.containerMargins,e="horizontal"===this.orientation?d.left+d.right:d.top+d.bottom,f=this._site.viewportSize["horizontal"===this.orientation?"width":"height"],g=this._site.scrollbarPos,h=g+f-1-d["horizontal"===this.orientation?"right":"bottom"],i=this._firstItemFromRange(g,{wholeItem:!0}),j=this._lastItemFromRange(h,{wholeItem:!1}),k=this._getItemPosition(a.index),l=!1;if((a.index<i||a.index>j)&&(l=!0,g="horizontal"===this.orientation?k.left-e:k.top-e,h=g+f-1,i=this._firstItemFromRange(g,{wholeItem:!0}),j=this._lastItemFromRange(h,{wholeItem:!1})),b===H.pageUp){if(!l&&i!==a.index)return{type:o.ObjectType.item,index:i};var m;m="horizontal"===this.orientation?k.left+k.width+e+d.left:k.top+k.height+e+d.bottom;var n=this._firstItemFromRange(m-f,{wholeItem:!0});c=a.index===n?Math.max(0,a.index-this._itemsPerBar):n}else{if(!l&&j!==a.index)return{type:o.ObjectType.item,index:j};var p;p="horizontal"===this.orientation?k.left-e-d.right:k.top-e-d.bottom;var q=Math.max(0,this._lastItemFromRange(p+f-1,{wholeItem:!0}));c=a.index===q?a.index+this._itemsPerBar:q}return{type:o.ObjectType.item,index:c}},_isCellSpanning:function(a){var b=this._site.groupFromIndex(a),c=this._groupInfo;return c?!!("function"==typeof c?c(b):c).enableCellSpanning:!1},_getGroupInfo:function(a){var b=this._site.groupFromIndex(a),c=this._groupInfo,d=this._sizes.containerMargins,f={enableCellSpanning:!1};if(c="function"==typeof c?c(b):c){if(c.enableCellSpanning&&(+c.cellWidth!==c.cellWidth||+c.cellHeight!==c.cellHeight))throw new e("WinJS.UI.GridLayout.GroupInfoResultIsInvalid",J.groupInfoResultIsInvalid);f={enableCellSpanning:!!c.enableCellSpanning,cellWidth:c.cellWidth+d.left+d.right,cellHeight:c.cellHeight+d.top+d.bottom}}return f},_getItemInfo:function(a){var b;if(this._itemInfo&&"function"==typeof this._itemInfo)b=this._itemInfo(a);else{if(!this._useDefaultItemInfo)throw new e("WinJS.UI.GridLayout.ItemInfoIsInvalid",J.itemInfoIsInvalid);b=this._defaultItemInfo(a)}return i.as(b).then(function(a){if(!a||+a.width!==a.width||+a.height!==a.height)throw new e("WinJS.UI.GridLayout.ItemInfoIsInvalid",J.itemInfoIsInvalid);return a})},_defaultItemInfo:function(a){var b=this;return this._site.renderItem(this._site.itemFromIndex(a)).then(function(c){return b._elementsToMeasure[a]={element:c},b._measureElements()}).then(function(){var c=b._elementsToMeasure[a],d={width:c.width,height:c.height};return delete b._elementsToMeasure[a],d},function(c){return delete b._elementsToMeasure[a],i.wrapError(c)})},_getGroupSize:function(a){var b=0;return this._groupsEnabled&&(this._horizontal&&this._groupHeaderPosition===U.top?b=this._sizes.headerContainerMinWidth:this._horizontal||this._groupHeaderPosition!==U.left||(b=this._sizes.headerContainerMinHeight)),Math.max(b,a.getItemsContainerSize()+this._getHeaderSizeGroupAdjustment())},_groupFromOffset:function(a){return a<this._groups[0].offset?0:this._groupFrom(function(b){return a<b.offset})},_groupFromImpl:function(a,b,c){if(a>b)return null;var d=a+Math.floor((b-a)/2),e=this._groups[d];return c(e,d)?this._groupFromImpl(a,d-1,c):b>d&&!c(this._groups[d+1],d+1)?this._groupFromImpl(d+1,b,c):d},_groupFrom:function(a){if(this._groups.length>0){var b=this._groups.length-1,c=this._groups[b];return a(c,b)?this._groupFromImpl(0,this._groups.length-1,a):b}return null},_invalidateLayout:function(){this._site&&this._site.invalidateLayout()},_resetMeasurements:function(){this._measuringPromise&&(this._measuringPromise.cancel(),this._measuringPromise=null),this._containerSizeClassName&&(m.removeClass(this._site.surface,this._containerSizeClassName),u(this._containerSizeClassName),this._containerSizeClassName=null),this._sizes=null,this._resetAnimationCaches()},_measureElements:function(){if(!this._measuringElements){var a=this;a._measuringElements=j.schedulePromiseHigh(null,"WinJS.UI.GridLayout._measuringElements").then(function(){a._site._writeProfilerMark("_measureElements,StartTM");var c=a._createMeasuringSurface(),d=b.document.createElement("div"),e=a._site,f=a._measuringElements,g=a._elementsToMeasure,h=!1;d.className=p._itemsContainerClass+" "+p._laidOutClass,d.style.cssText+=";display: -ms-grid;-ms-grid-column: 1;-ms-grid-row: 1";var i,j,k=Object.keys(g);for(j=0,i=k.length;i>j;j++){var l=g[k[j]].element;l.style["-ms-grid-column"]=j+1,l.style["-ms-grid-row"]=j+1,d.appendChild(l)}for(c.appendChild(d),e.viewport.insertBefore(c,e.viewport.firstChild),f.then(null,function(){h=!0}),j=0,i=k.length;i>j&&!h;j++){var n=g[k[j]],o=n.element.querySelector("."+p._itemClass);n.width=m.getTotalWidth(o),n.height=m.getTotalHeight(o)}c.parentNode&&c.parentNode.removeChild(c),f===a._measuringElements&&(a._measuringElements=null),e._writeProfilerMark("_measureElements,StopTM")},function(b){return a._measuringElements=null,i.wrapError(b)})}return this._measuringElements},_ensureEnvInfo:function(){return this._envInfo||(this._envInfo=E(this._site),
this._envInfo&&!this._envInfo.supportsCSSGrid&&m.addClass(this._site.surface,p._noCSSGrid)),!!this._envInfo},_createMeasuringSurface:function(){var a=b.document.createElement("div");return a.style.cssText="visibility: hidden;-ms-grid-columns: auto;-ms-grid-rows: auto;-ms-flex-align: start;-webkit-align-items: flex-start;align-items: flex-start",a.className=p._scrollableClass+" "+(this._inListMode?p._listLayoutClass:p._gridLayoutClass),this._envInfo.supportsCSSGrid||m.addClass(a,p._noCSSGrid),this._groupsEnabled&&(this._groupHeaderPosition===U.top?m.addClass(a,p._headerPositionTopClass):m.addClass(a,p._headerPositionLeftClass)),a},_measureItem:function(a){function c(a,e){var e,h=!!e,j={},k=f.rtl?"right":"left";return f.itemCount.then(function(b){return!b||d._groupsEnabled&&!f.groupCount?i.cancel:(e=e||f.itemFromIndex(a),j.container=f.renderItem(e),d._groupsEnabled&&(j.headerContainer=f.renderHeader(d._site.groupFromIndex(f.groupIndexFromItemIndex(a)))),i.join(j))}).then(function(j){function l(){var a=d._horizontal,b=d._groupsEnabled,c=!1;g.then(null,function(){c=!0});var e=G(C),h=f.rtl?f.viewport.offsetWidth-(C.offsetLeft+C.offsetWidth):C.offsetLeft,i=C.offsetTop,l={viewportContentSize:0,surfaceContentSize:0,maxItemsContainerContentSize:0,surfaceOuterHeight:y(o),surfaceOuterWidth:z(o),layoutOriginX:h-e[k],layoutOriginY:i-e.top,itemsContainerOuterHeight:y(q),itemsContainerOuterWidth:z(q),itemsContainerOuterX:x(f.rtl?"Right":"Left",q),itemsContainerOuterY:x("Top",q),itemsContainerMargins:G(q),itemBoxOuterHeight:y(s),itemBoxOuterWidth:z(s),containerOuterHeight:y(j.container),containerOuterWidth:z(j.container),emptyContainerContentHeight:m.getContentHeight(r),emptyContainerContentWidth:m.getContentWidth(r),containerMargins:G(j.container),containerWidth:0,containerHeight:0,containerSizeLoaded:!1};f.header&&(l[a?"layoutOriginX":"layoutOriginY"]+=m[a?"getTotalWidth":"getTotalHeight"](f.header)),b&&(l.headerContainerOuterX=x(f.rtl?"Right":"Left",j.headerContainer),l.headerContainerOuterY=x("Top",j.headerContainer),l.headerContainerOuterWidth=z(j.headerContainer),l.headerContainerOuterHeight=y(j.headerContainer),l.headerContainerWidth=m.getTotalWidth(j.headerContainer),l.headerContainerHeight=m.getTotalHeight(j.headerContainer),l.headerContainerMinWidth=w(j.headerContainer,"minWidth")+l.headerContainerOuterWidth,l.headerContainerMinHeight=w(j.headerContainer,"minHeight")+l.headerContainerOuterHeight);var n={sizes:l,viewportContentWidth:m.getContentWidth(f.viewport),viewportContentHeight:m.getContentHeight(f.viewport),containerContentWidth:m.getContentWidth(j.container),containerContentHeight:m.getContentHeight(j.container),containerWidth:m.getTotalWidth(j.container),containerHeight:m.getTotalHeight(j.container)};return n.viewportCrossSize=n[a?"viewportContentHeight":"viewportContentWidth"],f.readyToMeasure(),c?null:n}function n(){o.parentNode&&o.parentNode.removeChild(o)}var o=d._createMeasuringSurface(),q=b.document.createElement("div"),r=b.document.createElement("div"),s=j.container.querySelector("."+p._itemBoxClass),t=f.groupIndexFromItemIndex(a);r.className=p._containerClass,q.className=p._itemsContainerClass+" "+p._laidOutClass;var u=1,v=1,A=2,B=2,C=q,D=!1;d._inListMode&&d._groupsEnabled&&(d._horizontal&&d._groupHeaderPosition===U.top?(u=2,B=1,A=1,C=j.headerContainer,D=!0):d._horizontal||d._groupHeaderPosition!==U.left||(v=2,B=1,A=1,C=j.headerContainer,D=!0)),q.style.cssText+=";display: "+(d._inListMode?(d._horizontal?"flex":"block")+"; overflow: hidden":"inline-block")+";vertical-align:top;-ms-grid-column: "+v+";-ms-grid-row: "+u,d._inListMode||(j.container.style.display="inline-block"),d._groupsEnabled&&(j.headerContainer.style.cssText+=";display: inline-block;-ms-grid-column: "+B+";-ms-grid-row: "+A,m.addClass(j.headerContainer,p._laidOutClass+" "+p._groupLeaderClass),(d._groupHeaderPosition===U.top&&d._horizontal||d._groupHeaderPosition===U.left&&!d._horizontal)&&m.addClass(q,p._groupLeaderClass)),D&&o.appendChild(j.headerContainer),q.appendChild(j.container),q.appendChild(r),o.appendChild(q),!D&&d._groupsEnabled&&o.appendChild(j.headerContainer),f.viewport.insertBefore(o,f.viewport.firstChild);var E=l();if(!E)return n(),i.cancel;if(d._horizontal&&0===E.viewportContentHeight||!d._horizontal&&0===E.viewportContentWidth)return n(),i.cancel;if(!(h||d._isCellSpanning(t)||0!==E.containerContentWidth&&0!==E.containerContentHeight))return n(),e.then(function(){return c(a,e)});var F=d._sizes=E.sizes;if(Object.defineProperties(F,{surfaceOuterCrossSize:{get:function(){return d._horizontal?F.surfaceOuterHeight:F.surfaceOuterWidth},enumerable:!0},layoutOrigin:{get:function(){return d._horizontal?F.layoutOriginX:F.layoutOriginY},enumerable:!0},itemsContainerOuterSize:{get:function(){return d._horizontal?F.itemsContainerOuterWidth:F.itemsContainerOuterHeight},enumerable:!0},itemsContainerOuterCrossSize:{get:function(){return d._horizontal?F.itemsContainerOuterHeight:F.itemsContainerOuterWidth},enumerable:!0},itemsContainerOuterStart:{get:function(){return d._horizontal?F.itemsContainerOuterX:F.itemsContainerOuterY},enumerable:!0},itemsContainerOuterCrossStart:{get:function(){return d._horizontal?F.itemsContainerOuterY:F.itemsContainerOuterX},enumerable:!0},containerCrossSize:{get:function(){return d._horizontal?F.containerHeight:F.containerWidth},enumerable:!0},containerSize:{get:function(){return d._horizontal?F.containerWidth:F.containerHeight},enumerable:!0}}),!d._isCellSpanning(t)){if(d._inListMode){var H=E.viewportCrossSize-F.surfaceOuterCrossSize-d._getHeaderSizeContentAdjustment()-F.itemsContainerOuterCrossSize;d._horizontal?(F.containerHeight=H,F.containerWidth=E.containerWidth):(F.containerHeight=E.containerHeight,F.containerWidth=H)}else F.containerWidth=E.containerWidth,F.containerHeight=E.containerHeight;F.containerSizeLoaded=!0}d._createContainerStyleRule(),d._viewportSizeChanged(E.viewportCrossSize),n()})}var d=this,e="Layout:measureItem",f=d._site,g=d._measuringPromise;if(!g){f._writeProfilerMark(e+",StartTM");var h=new k;d._measuringPromise=g=h.promise.then(function(){return d._ensureEnvInfo()?c(a):i.cancel}).then(function(){f._writeProfilerMark(e+":complete,info"),f._writeProfilerMark(e+",StopTM")},function(a){return d._measuringPromise=null,f._writeProfilerMark(e+":canceled,info"),f._writeProfilerMark(e+",StopTM"),i.wrapError(a)}),h.complete()}return g},_getHeaderSizeGroupAdjustment:function(){if(this._groupsEnabled){if(this._horizontal&&this._groupHeaderPosition===U.left)return this._sizes.headerContainerWidth;if(!this._horizontal&&this._groupHeaderPosition===U.top)return this._sizes.headerContainerHeight}return 0},_getHeaderSizeContentAdjustment:function(){if(this._groupsEnabled){if(this._horizontal&&this._groupHeaderPosition===U.top)return this._sizes.headerContainerHeight;if(!this._horizontal&&this._groupHeaderPosition===U.left)return this._sizes.headerContainerWidth}return 0},_getViewportCrossSize:function(){return this._site.viewportSize[this._horizontal?"height":"width"]},_viewportSizeChanged:function(a){var b=this._sizes;b.viewportContentSize=a,b.surfaceContentSize=a-b.surfaceOuterCrossSize,b.maxItemsContainerContentSize=b.surfaceContentSize-b.itemsContainerOuterCrossSize-this._getHeaderSizeContentAdjustment(),b.containerSizeLoaded&&!this._inListMode?(this._itemsPerBar=Math.floor(b.maxItemsContainerContentSize/b.containerCrossSize),this.maximumRowsOrColumns&&(this._itemsPerBar=Math.min(this._itemsPerBar,this.maximumRowsOrColumns)),this._itemsPerBar=Math.max(1,this._itemsPerBar)):(this._inListMode&&(b[this._horizontal?"containerHeight":"containerWidth"]=b.maxItemsContainerContentSize),this._itemsPerBar=1),this._resetAnimationCaches()},_createContainerStyleRule:function(){var a=this._sizes;if(!this._containerSizeClassName&&a.containerSizeLoaded&&(0===a.emptyContainerContentHeight||0===a.emptyContainerContentWidth)){var b=a.containerWidth-a.containerOuterWidth+"px",c=a.containerHeight-a.containerOuterHeight+"px";this._inListMode&&(this._horizontal?c="calc(100% - "+(a.containerMargins.top+a.containerMargins.bottom)+"px)":b="auto"),this._containerSizeClassName||(this._containerSizeClassName=r("containersize"),m.addClass(this._site.surface,this._containerSizeClassName));var d="."+p._containerClass,e="width:"+b+";height:"+c+";";t(this._containerSizeClassName,this._site,d,e)}},_ensureContainerSize:function(a){var b=this._sizes;if(b.containerSizeLoaded||this._ensuringContainerSize)return this._ensuringContainerSize?this._ensuringContainerSize:i.wrap();var c;if(this._itemInfo&&"function"==typeof this._itemInfo||!this._useDefaultItemInfo)c=this._getItemInfo();else{var d=b.containerMargins;c=i.wrap({width:a.groupInfo.cellWidth-d.left-d.right,height:a.groupInfo.cellHeight-d.top-d.bottom})}var e=this;return this._ensuringContainerSize=c.then(function(a){b.containerSizeLoaded=!0,b.containerWidth=a.width+b.itemBoxOuterWidth+b.containerOuterWidth,b.containerHeight=a.height+b.itemBoxOuterHeight+b.containerOuterHeight,e._inListMode?e._itemsPerBar=1:(e._itemsPerBar=Math.floor(b.maxItemsContainerContentSize/b.containerCrossSize),e.maximumRowsOrColumns&&(e._itemsPerBar=Math.min(e._itemsPerBar,e.maximumRowsOrColumns)),e._itemsPerBar=Math.max(1,e._itemsPerBar)),e._createContainerStyleRule()}),c.done(function(){e._ensuringContainerSize=null},function(){e._ensuringContainerSize=null}),c},_indexToCoordinate:function(a,b){b=b||this._itemsPerBar;var c=Math.floor(a/b);return this._horizontal?{column:c,row:a-c*b}:{row:c,column:a-c*b}},_rangeForGroup:function(a,b){var c=a.startIndex,d=c+a.count-1;return!b||b.firstIndex>d||b.lastIndex<c?null:{firstIndex:Math.max(0,b.firstIndex-c),lastIndex:Math.min(a.count-1,b.lastIndex-c)}},_syncDomWithGroupHeaderPosition:function(a){if(this._groupsEnabled&&this._oldGroupHeaderPosition!==this._groupHeaderPosition){var b,c=a.length;if(this._oldGroupHeaderPosition===U.top)if(m.removeClass(this._site.surface,p._headerPositionTopClass),this._horizontal)for(b=0;c>b;b++)a[b].header.style.maxWidth="",m.removeClass(a[b].itemsContainer.element,p._groupLeaderClass);else this._site.surface.style.msGridRows="";else if(this._oldGroupHeaderPosition===U.left){if(m.removeClass(this._site.surface,p._headerPositionLeftClass),!this._horizontal)for(b=0;c>b;b++)a[b].header.style.maxHeight="",m.removeClass(a[b].itemsContainer.element,p._groupLeaderClass);this._site.surface.style.msGridColumns=""}if(this._groupHeaderPosition===U.top){if(m.addClass(this._site.surface,p._headerPositionTopClass),this._horizontal)for(b=0;c>b;b++)m.addClass(a[b].itemsContainer.element,p._groupLeaderClass)}else if(m.addClass(this._site.surface,p._headerPositionLeftClass),!this._horizontal)for(b=0;c>b;b++)m.addClass(a[b].itemsContainer.element,p._groupLeaderClass);this._oldGroupHeaderPosition=this._groupHeaderPosition}},_layoutGroup:function(a){var b=this._groups[a],c=this._site.tree[a],d=c.header,e=c.itemsContainer.element,f=this._sizes,g=b.getItemsContainerCrossSize();if(this._groupsEnabled){if(this._horizontal)if(this._groupHeaderPosition===U.top){var h=f.headerContainerMinWidth-f.headerContainerOuterWidth,i=b.getItemsContainerSize()-f.headerContainerOuterWidth;d.style.maxWidth=Math.max(h,i)+"px",this._envInfo.supportsCSSGrid?(d.style.msGridColumn=a+1,e.style.msGridColumn=a+1):(d.style.height=f.headerContainerHeight-f.headerContainerOuterHeight+"px",e.style.height=g-f.itemsContainerOuterHeight+"px",e.style.marginBottom=f.itemsContainerMargins.bottom+(f.maxItemsContainerContentSize-g+f.itemsContainerOuterHeight)+"px"),m.addClass(e,p._groupLeaderClass)}else this._envInfo.supportsCSSGrid?(d.style.msGridColumn=2*a+1,e.style.msGridColumn=2*a+2):(d.style.width=f.headerContainerWidth-f.headerContainerOuterWidth+"px",d.style.height=g-f.headerContainerOuterHeight+"px",e.style.height=g-f.itemsContainerOuterHeight+"px");else if(this._groupHeaderPosition===U.left){var j=f.headerContainerMinHeight-f.headerContainerOuterHeight,k=b.getItemsContainerSize()-f.headerContainerOuterHeight;d.style.maxHeight=Math.max(j,k)+"px",this._envInfo.supportsCSSGrid?(d.style.msGridRow=a+1,e.style.msGridRow=a+1):(d.style.width=f.headerContainerWidth-f.headerContainerOuterWidth+"px",e.style.width=g-f.itemsContainerOuterWidth+"px",e.style["margin"+(this._site.rtl?"Left":"Right")]=f.itemsContainerMargins[this._site.rtl?"left":"right"]+(f.maxItemsContainerContentSize-g+f.itemsContainerOuterWidth)+"px"),m.addClass(e,p._groupLeaderClass)}else d.style.msGridRow=2*a+1,this._inListMode?d.style.height=f.headerContainerHeight-f.headerContainerOuterHeight+"px":this._envInfo.supportsCSSGrid?e.style.msGridRow=2*a+2:(d.style.height=f.headerContainerHeight-f.headerContainerOuterHeight+"px",d.style.width=g-f.headerContainerOuterWidth+"px",e.style.width=g-f.itemsContainerOuterWidth+"px");m.addClass(d,p._laidOutClass+" "+p._groupLeaderClass)}m.addClass(e,p._laidOutClass)}},{_barsPerItemsBlock:4})}),_LegacyLayout:c.Namespace._lazy(function(){return c.Class.derive(a._LayoutCommon,null,{disableBackdrop:{get:function(){return this._backdropDisabled||!1},set:function(a){if(m._deprecated(q.disableBackdropIsDeprecated),a=!!a,this._backdropDisabled!==a&&(this._backdropDisabled=a,this._disableBackdropClassName&&(u(this._disableBackdropClassName),this._site&&m.removeClass(this._site.surface,this._disableBackdropClassName),this._disableBackdropClassName=null),this._disableBackdropClassName=r("disablebackdrop"),this._site&&m.addClass(this._site.surface,this._disableBackdropClassName),a)){var b=".win-container.win-backdrop",c="background-color:transparent;";t(this._disableBackdropClassName,this._site,b,c)}}},backdropColor:{get:function(){return this._backdropColor||"rgba(155,155,155,0.23)"},set:function(a){if(m._deprecated(q.backdropColorIsDeprecated),a&&this._backdropColor!==a){this._backdropColor=a,this._backdropColorClassName&&(u(this._backdropColorClassName),this._site&&m.removeClass(this._site.surface,this._backdropColorClassName),this._backdropColorClassName=null),this._backdropColorClassName=r("backdropcolor"),this._site&&m.addClass(this._site.surface,this._backdropColorClassName);var b=".win-container.win-backdrop",c="background-color:"+a+";";t(this._backdropColorClassName,this._site,b,c)}}}})}),GridLayout:c.Namespace._lazy(function(){return c.Class.derive(a._LegacyLayout,function(a){a=a||{},this.itemInfo=a.itemInfo,this.groupInfo=a.groupInfo,this._maxRowsOrColumns=0,this._useDefaultItemInfo=!0,this._elementsToMeasure={},this._groupHeaderPosition=a.groupHeaderPosition||U.top,this.orientation=a.orientation||"horizontal",a.maxRows&&(this.maxRows=+a.maxRows),a.maximumRowsOrColumns&&(this.maximumRowsOrColumns=+a.maximumRowsOrColumns)},{maximumRowsOrColumns:{get:function(){return this._maxRowsOrColumns},set:function(a){this._setMaxRowsOrColumns(a)}},maxRows:{get:function(){return this.maximumRowsOrColumns},set:function(a){m._deprecated(q.maxRowsIsDeprecated),this.maximumRowsOrColumns=a}},itemInfo:{enumerable:!0,get:function(){return this._itemInfo},set:function(a){a&&m._deprecated(q.itemInfoIsDeprecated),this._itemInfo=a,this._invalidateLayout()}},groupInfo:{enumerable:!0,get:function(){return this._groupInfo},set:function(a){a&&m._deprecated(q.groupInfoIsDeprecated),this._groupInfo=a,this._invalidateLayout()}}})})});var T=c.Namespace.defineWithParent(null,null,{UniformGroupBase:c.Namespace._lazy(function(){return c.Class.define(null,{cleanUp:function(){},itemFromOffset:function(a,b){b=b||{};var c=this._layout._sizes;a-=c.itemsContainerOuterStart,b.wholeItem&&(a+=(b.last?-1:1)*(c.containerSize-1));var d=this.count-1,e=Math.floor(d/this._layout._itemsPerBar),f=v(0,e,Math.floor(a/c.containerSize)),g=(f+b.last)*this._layout._itemsPerBar-b.last;return v(0,this.count-1,g)},hitTest:function(a,b){var c=this._layout._horizontal,d=this._layout._itemsPerBar,e=this._layout._inListMode||1===d,f=c?a:b,g=c?b:a,h=this._layout._sizes;f-=h.itemsContainerOuterStart,g-=h.itemsContainerOuterCrossStart;var i,j=Math.floor(f/h.containerSize),k=v(0,d-1,Math.floor(g/h.containerCrossSize)),l=Math.max(-1,j*d+k);if(i=!c&&e||c&&!e?(b-h.containerHeight/2)/h.containerHeight:(a-h.containerWidth/2)/h.containerWidth,e)return i=Math.floor(i),{index:l,insertAfterIndex:i>=0&&l>=0?i:-1};i=v(-1,d-1,i);var m;return m=0>i?j*d-1:j*d+Math.floor(i),{index:v(-1,this.count-1,l),insertAfterIndex:v(-1,this.count-1,m)}},getAdjacent:function(a,b){var c,d=a.index,e=Math.floor(d/this._layout._itemsPerBar),f=d%this._layout._itemsPerBar;switch(b){case H.upArrow:c=0===f?"boundary":d-1;break;case H.downArrow:var g=d===this.count-1,h=this._layout._itemsPerBar>1&&f===this._layout._itemsPerBar-1;c=g||h?"boundary":d+1;break;case H.leftArrow:c=0===e&&this._layout._itemsPerBar>1?"boundary":d-this._layout._itemsPerBar;break;case H.rightArrow:var i=this.count-1,j=Math.floor(i/this._layout._itemsPerBar);c=e===j?"boundary":Math.min(d+this._layout._itemsPerBar,this.count-1)}return"boundary"===c?c:{type:o.ObjectType.item,index:c}},getItemsContainerSize:function(){var a=this._layout._sizes,b=Math.ceil(this.count/this._layout._itemsPerBar);return b*a.containerSize+a.itemsContainerOuterSize},getItemsContainerCrossSize:function(){var a=this._layout._sizes;return this._layout._itemsPerBar*a.containerCrossSize+a.itemsContainerOuterCrossSize},getItemPositionForAnimations:function(a){var b=this._layout._sizes,c=this._layout._site.rtl?"right":"left",d=this._layout._sizes.containerMargins,e=this._layout._indexToCoordinate(a),f={row:e.row,column:e.column,top:d.top+e.row*b.containerHeight,left:d[c]+e.column*b.containerWidth,height:b.containerHeight-b.containerMargins.top-b.containerMargins.bottom,width:b.containerWidth-b.containerMargins.left-b.containerMargins.right};return f}})}),UniformGroup:c.Namespace._lazy(function(){return c.Class.derive(T.UniformGroupBase,function(a,b){this._layout=a,this._itemsContainer=b,m.addClass(this._itemsContainer,a._inListMode?p._uniformListLayoutClass:p._uniformGridLayoutClass)},{cleanUp:function(a){a||(m.removeClass(this._itemsContainer,p._uniformGridLayoutClass),m.removeClass(this._itemsContainer,p._uniformListLayoutClass),this._itemsContainer.style.height=this._itemsContainer.style.width=""),this._itemsContainer=null,this._layout=null,this.groupInfo=null,this.startIndex=null,this.offset=null,this.count=null},prepareLayout:function(a,b,c,d){return this.groupInfo=d.groupInfo,this.startIndex=d.startIndex,this.count=a,this._layout._ensureContainerSize(this)},layoutRealizedRange:function(){var a=this._layout._sizes;this._itemsContainer.style[this._layout._horizontal?"width":"height"]=this.getItemsContainerSize()-a.itemsContainerOuterSize+"px",this._itemsContainer.style[this._layout._horizontal?"height":"width"]=this._layout._inListMode?a.maxItemsContainerContentSize+"px":this._layout._itemsPerBar*a.containerCrossSize+"px"},layoutUnrealizedRange:function(){return i.wrap()}})}),UniformFlowGroup:c.Namespace._lazy(function(){return c.Class.derive(T.UniformGroupBase,function(a,b){this._layout=a,this._itemsContainer=b.element,m.addClass(this._itemsContainer,a._inListMode?p._uniformListLayoutClass:p._uniformGridLayoutClass)},{cleanUp:function(a){a||(m.removeClass(this._itemsContainer,p._uniformListLayoutClass),m.removeClass(this._itemsContainer,p._uniformGridLayoutClass),this._itemsContainer.style.height="")},layout:function(){this._layout._site._writeProfilerMark("Layout:_UniformFlowGroup:setItemsContainerHeight,info"),this._itemsContainer.style.height=this.count*this._layout._sizes.containerHeight+"px"}})}),CellSpanningGroup:c.Namespace._lazy(function(){return c.Class.define(function(a,b){this._layout=a,this._itemsContainer=b,m.addClass(this._itemsContainer,p._cellSpanningGridLayoutClass),this.resetMap()},{cleanUp:function(a){a||(this._cleanContainers(),m.removeClass(this._itemsContainer,p._cellSpanningGridLayoutClass),this._itemsContainer.style.cssText=""),this._itemsContainer=null,this._layoutPromise&&(this._layoutPromise.cancel(),this._layoutPromise=null),this.resetMap(),this._slotsPerColumn=null,this._offScreenSlotsPerColumn=null,this._items=null,this._layout=null,this._containersToHide=null,this.groupInfo=null,this.startIndex=null,this.offset=null,this.count=null},prepareLayoutWithCopyOfTree:function(a,b,c,d){var e,f=this;if(this._containersToHide={},b)for(e=b.firstIndex;e<=b.lastIndex;e++)this._containersToHide[I(c._items[e])]=c._items[e];this.groupInfo=d.groupInfo,this.startIndex=d.startIndex,this.count=a.items.length,this._items=a.items,this._slotsPerColumn=Math.floor(this._layout._sizes.maxItemsContainerContentSize/this.groupInfo.cellHeight),this._layout.maximumRowsOrColumns&&(this._slotsPerColumn=Math.min(this._slotsPerColumn,this._layout.maximumRowsOrColumns)),this._slotsPerColumn=Math.max(this._slotsPerColumn,1),this.resetMap();var g=new Array(this.count);for(e=0;e<this.count;e++)g[e]=this._layout._getItemInfo(this.startIndex+e);return i.join(g).then(function(a){a.forEach(function(a,b){f.addItemToMap(b,a)})})},layoutRealizedRange:function(a,b){if(b){var c,d=Math.max(a,b.firstIndex);for(c=d;c<=b.lastIndex;c++)this._layoutItem(c),delete this._containersToHide[I(this._items[c])]}Object.keys(this._containersToHide).forEach(function(a){m.removeClass(this._containersToHide[a],p._laidOutClass)}.bind(this)),this._containersToHide={},this._itemsContainer.style.cssText+=";width:"+(this.getItemsContainerSize()-this._layout._sizes.itemsContainerOuterSize)+"px;height:"+this._layout._sizes.maxItemsContainerContentSize+"px;-ms-grid-columns: ("+this.groupInfo.cellWidth+"px)["+this.getColumnCount()+"];-ms-grid-rows: ("+this.groupInfo.cellHeight+"px)["+(this._slotsPerColumn+this._offScreenSlotsPerColumn)+"]"},layoutUnrealizedRange:function(a,b,c){var d,e=this;return e._layoutPromise=new i(function(f){function g(){d=null,f()}function h(a){return j.schedule(a,j.Priority.normal,null,"WinJS.UI.GridLayout.CellSpanningGroup.LayoutUnrealizedRange")}if(b){var i=!1,k=b.firstIndex-1,l=Math.max(a,b.lastIndex+1);l=Math.max(k+1,l),d=h(function n(b){for(;!i;){if(b.shouldYield)return void b.setWork(n);i=!0,k>=a&&(e._layoutItem(k),k--,i=!1),l<e.count&&(e._layoutItem(l),l++,i=!1)}g()})}else if(c){var m=e.count-1;d=h(function o(b){for(;m>=a;m--){if(b.shouldYield)return void b.setWork(o);e._layoutItem(m)}g()})}else{var m=a;d=h(function p(a){for(;m<e.count;m++){if(a.shouldYield)return void a.setWork(p);e._layoutItem(m)}g()})}},function(){d&&d.cancel(),d=null}),e._layoutPromise},itemFromOffset:function(a,b){b=b||{};var c=this._layout._sizes,d=c.containerMargins;a-=c.itemsContainerOuterX,a-=(b.last?1:-1)*d[b.last?"left":"right"];var e=this.indexFromOffset(a,b.wholeItem,b.last).item;return v(0,this.count-1,e)},getAdjacent:function(a,b){var c,d;c=d=a.index;var e,f,g;g=this.lastAdjacent===c?this.lastInMapIndex:this.findItem(c);do{var h=Math.floor(g/this._slotsPerColumn),i=g-h*this._slotsPerColumn,j=Math.floor((this.occupancyMap.length-1)/this._slotsPerColumn);switch(b){case H.upArrow:if(!(i>0))return{type:o.ObjectType.item,index:d};g--;break;case H.downArrow:if(!(i+1<this._slotsPerColumn))return{type:o.ObjectType.item,index:d};g++;break;case H.leftArrow:g=h>0?g-this._slotsPerColumn:-1;break;case H.rightArrow:g=j>h?g+this._slotsPerColumn:this.occupancyMap.length}f=g>=0&&g<this.occupancyMap.length,f&&(e=this.occupancyMap[g]?this.occupancyMap[g].index:void 0)}while(f&&(c===e||void 0===e));return this.lastAdjacent=e,this.lastInMapIndex=g,f?{type:o.ObjectType.item,index:e}:"boundary"},hitTest:function(a,b){var c=this._layout._sizes,d=0;if(a-=c.itemsContainerOuterX,b-=c.itemsContainerOuterY,this.occupancyMap.length>0){for(var e=this.indexFromOffset(a,!1,0),f=Math.min(this._slotsPerColumn-1,Math.floor(b/this.groupInfo.cellHeight)),g=e.index,h=g;f-- >0;)g++,this.occupancyMap[g]&&(h=g);this.occupancyMap[h]||h--,d=this.occupancyMap[h].index}var i=this.getItemSize(d),j=i.column*this.groupInfo.cellWidth,k=i.row*this.groupInfo.cellHeight,l=1===this._slotsPerColumn,m=d;return(l&&a<j+i.contentWidth/2||!l&&b<k+i.contentHeight/2)&&m--,{type:o.ObjectType.item,index:v(0,this.count-1,d),insertAfterIndex:v(-1,this.count-1,m)}},getItemsContainerSize:function(){var a=this._layout._sizes;return this.getColumnCount()*this.groupInfo.cellWidth+a.itemsContainerOuterSize},getItemsContainerCrossSize:function(){var a=this._layout._sizes;return a.maxItemsContainerContentSize+a.itemsContainerOuterCrossSize},getItemPositionForAnimations:function(a){var b=this._layout._site.rtl?"right":"left",c=this._layout._sizes.containerMargins,d=this.getItemSize(a),e=this.groupInfo,f={row:d.row,column:d.column,top:c.top+d.row*e.cellHeight,left:c[b]+d.column*e.cellWidth,height:d.contentHeight,width:d.contentWidth};return f},_layoutItem:function(a){var b=this.getItemSize(a);return this._items[a].style.cssText+=";-ms-grid-row:"+(b.row+1)+";-ms-grid-column:"+(b.column+1)+";-ms-grid-row-span:"+b.rows+";-ms-grid-column-span:"+b.columns+";height:"+b.contentHeight+"px;width:"+b.contentWidth+"px",m.addClass(this._items[a],p._laidOutClass),this._items[a]},_cleanContainers:function(){var a,b=this._items,c=b.length;for(a=0;c>a;a++)b[a].style.cssText="",m.removeClass(b[a],p._laidOutClass)},getColumnCount:function(){return Math.ceil(this.occupancyMap.length/this._slotsPerColumn)},getOccupancyMapItemCount:function(){var a=-1;return this.occupancyMap.forEach(function(b){b.index>a&&(a=b.index)}),a+1},coordinateToIndex:function(a,b){return a*this._slotsPerColumn+b},markSlotAsFull:function(a,b){for(var c=this._layout._indexToCoordinate(a,this._slotsPerColumn),d=c.row+b.rows,e=c.row;d>e&&e<this._slotsPerColumn;e++)for(var f=c.column,g=c.column+b.columns;g>f;f++)this.occupancyMap[this.coordinateToIndex(f,e)]=b;this._offScreenSlotsPerColumn=Math.max(this._offScreenSlotsPerColumn,d-this._slotsPerColumn)},isSlotEmpty:function(a,b,c){for(var d=b,e=b+a.rows;e>d;d++)for(var f=c,g=c+a.columns;g>f;f++)if(d>=this._slotsPerColumn||void 0!==this.occupancyMap[this.coordinateToIndex(f,d)])return!1;return!0},findEmptySlot:function(a,b,c){var d=this._layout._indexToCoordinate(a,this._slotsPerColumn),e=d.row,f=Math.floor((this.occupancyMap.length-1)/this._slotsPerColumn);if(c){for(var g=d.column+1;f>=g;g++)if(this.isSlotEmpty(b,0,g))return this.coordinateToIndex(g,0)}else for(var g=d.column;f>=g;g++){for(var h=e;h<this._slotsPerColumn;h++)if(this.isSlotEmpty(b,h,g))return this.coordinateToIndex(g,h);e=0}return(f+1)*this._slotsPerColumn},findItem:function(a){for(var b=a,c=this.occupancyMap.length;c>b;b++){var d=this.occupancyMap[b];if(d&&d.index===a)return b}return b},getItemSize:function(a){var b=this.findItem(a),c=this.occupancyMap[b],d=this._layout._indexToCoordinate(b,this._slotsPerColumn);return a===c.index?{row:d.row,column:d.column,contentWidth:c.contentWidth,contentHeight:c.contentHeight,columns:c.columns,rows:c.rows}:null},resetMap:function(){this.occupancyMap=[],this.lastAdded=0,this._offScreenSlotsPerColumn=0},addItemToMap:function(a,b){function c(a,b){var c=d.findEmptySlot(d.lastAdded,a,b);d.lastAdded=c,d.markSlotAsFull(c,a)}var d=this,e=d.groupInfo,f=d._layout._sizes.containerMargins,g={index:a,contentWidth:b.width,contentHeight:b.height,columns:Math.max(1,Math.ceil((b.width+f.left+f.right)/e.cellWidth)),rows:Math.max(1,Math.ceil((b.height+f.top+f.bottom)/e.cellHeight))};c(g,b.newColumn)},indexFromOffset:function(a,b,c){var d=0,e=0,f=this.groupInfo,g=0;if(this.occupancyMap.length>0){if(e=this.getOccupancyMapItemCount()-1,d=Math.ceil((this.occupancyMap.length-1)/this._slotsPerColumn)*f.cellWidth,d>a){for(var h=this._slotsPerColumn,g=(Math.max(0,Math.floor(a/f.cellWidth))+c)*this._slotsPerColumn-c;!this.occupancyMap[g]&&h-- >0;)g+=c>0?-1:1;return{index:g,item:this.occupancyMap[g].index}}g=this.occupancyMap.length-1}return{index:g,item:e+(Math.max(0,Math.floor((a-d)/f.cellWidth))+c)*this._slotsPerColumn-c}}})})});c.Namespace._moduleDefine(a,"WinJS.UI",{ListLayout:c.Namespace._lazy(function(){return c.Class.derive(a._LegacyLayout,function(a){a=a||{},this._itemInfo={},this._groupInfo={},this._groupHeaderPosition=a.groupHeaderPosition||U.top,this._inListMode=!0,this.orientation=a.orientation||"vertical"},{initialize:function(b,c){m.addClass(b.surface,p._listLayoutClass),a._LegacyLayout.prototype.initialize.call(this,b,c)},uninitialize:function(){this._site&&m.removeClass(this._site.surface,p._listLayoutClass),a._LegacyLayout.prototype.uninitialize.call(this)},layout:function(b,c,d,e){return this._groupsEnabled||this._horizontal?a._LegacyLayout.prototype.layout.call(this,b,c,d,e):this._layoutNonGroupedVerticalList(b,c,d,e)},_layoutNonGroupedVerticalList:function(a,b,c,d){var e=this,f="Layout:_layoutNonGroupedVerticalList";return e._site._writeProfilerMark(f+",StartTM"),this._layoutPromise=e._measureItem(0).then(function(){m[e._usingStructuralNodes?"addClass":"removeClass"](e._site.surface,p._structuralNodesClass),m[e._envInfo.nestedFlexTooLarge||e._envInfo.nestedFlexTooSmall?"addClass":"removeClass"](e._site.surface,p._singleItemsBlockClass),e._sizes.viewportContentSize!==e._getViewportCrossSize()&&e._viewportSizeChanged(e._getViewportCrossSize()),e._cacheRemovedElements(c,e._cachedItemRecords,e._cachedInsertedItemRecords,e._cachedRemovedItems,!1),e._cacheRemovedElements(d,e._cachedHeaderRecords,e._cachedInsertedHeaderRecords,e._cachedRemovedHeaders,!0);var b=a[0].itemsContainer,g=new T.UniformFlowGroup(e,b);e._groups=[g],g.groupInfo={enableCellSpanning:!1},g.startIndex=0,g.count=D(b),g.offset=0,g.layout(),e._site._writeProfilerMark(f+":setSurfaceWidth,info"),e._site.surface.style.width=e._sizes.surfaceContentSize+"px",e._layoutAnimations(c,d),e._site._writeProfilerMark(f+":complete,info"),e._site._writeProfilerMark(f+",StopTM")},function(a){return e._site._writeProfilerMark(f+":canceled,info"),e._site._writeProfilerMark(f+",StopTM"),i.wrapError(a)}),{realizedRangeComplete:this._layoutPromise,layoutComplete:this._layoutPromise}},numberOfItemsPerItemsBlock:{get:function(){var b=this;return this._measureItem(0).then(function(){return b._envInfo.nestedFlexTooLarge||b._envInfo.nestedFlexTooSmall?(b._usingStructuralNodes=!0,Number.MAX_VALUE):(b._usingStructuralNodes=a.ListLayout._numberOfItemsPerItemsBlock>0,a.ListLayout._numberOfItemsPerItemsBlock)})}}},{_numberOfItemsPerItemsBlock:10})}),CellSpanningLayout:c.Namespace._lazy(function(){return c.Class.derive(a._LayoutCommon,function(a){a=a||{},this._itemInfo=a.itemInfo,this._groupInfo=a.groupInfo,this._groupHeaderPosition=a.groupHeaderPosition||U.top,this._horizontal=!0,this._cellSpanning=!0},{maximumRowsOrColumns:{get:function(){return this._maxRowsOrColumns},set:function(a){this._setMaxRowsOrColumns(a)}},itemInfo:{enumerable:!0,get:function(){return this._itemInfo},set:function(a){this._itemInfo=a,this._invalidateLayout()}},groupInfo:{enumerable:!0,get:function(){return this._groupInfo},set:function(a){this._groupInfo=a,this._invalidateLayout()}},orientation:{enumerable:!0,get:function(){return"horizontal"}}})}),_LayoutWrapper:c.Namespace._lazy(function(){return c.Class.define(function(a){this.defaultAnimations=!0,this.initialize=function(b,c){a.initialize(b,c)},this.hitTest=function(b,c){return a.hitTest(b,c)},a.uninitialize&&(this.uninitialize=function(){a.uninitialize()}),"numberOfItemsPerItemsBlock"in a&&Object.defineProperty(this,"numberOfItemsPerItemsBlock",{get:function(){return a.numberOfItemsPerItemsBlock}}),a._getItemPosition&&(this._getItemPosition=function(b){return a._getItemPosition(b)}),a.itemsFromRange&&(this.itemsFromRange=function(b,c){return a.itemsFromRange(b,c)}),a.getAdjacent&&(this.getAdjacent=function(b,c){return a.getAdjacent(b,c)}),a.dragOver&&(this.dragOver=function(b,c,d){return a.dragOver(b,c,d)}),a.dragLeave&&(this.dragLeave=function(){return a.dragLeave()});var b={enumerable:!0,get:function(){return"vertical"}};if(void 0!==a.orientation&&(b.get=function(){return a.orientation},b.set=function(b){a.orientation=b}),Object.defineProperty(this,"orientation",b),(a.setupAnimations||a.executeAnimations)&&(this.defaultAnimations=!1,this.setupAnimations=function(){return a.setupAnimations()},this.executeAnimations=function(){return a.executeAnimations()}),a.layout)if(this.defaultAnimations){
var c=this;this.layout=function(b,d,e,f){var g,h=F(a.layout(b,d,[],[]));return h.realizedRangeComplete.then(function(){g=!0}),g&&c._layoutAnimations(e,f),h}}else this.layout=function(b,c,d,e){return F(a.layout(b,c,d,e))}},{uninitialize:function(){},numberOfItemsPerItemsBlock:{get:function(){}},layout:function(a,b,c,d){return this.defaultAnimations&&this._layoutAnimations(c,d),F()},itemsFromRange:function(){return{firstIndex:0,lastIndex:Number.MAX_VALUE}},getAdjacent:function(a,b){switch(b){case H.pageUp:case H.upArrow:case H.leftArrow:return{type:a.type,index:a.index-1};case H.downArrow:case H.rightArrow:case H.pageDown:return{type:a.type,index:a.index+1}}},dragOver:function(){},dragLeave:function(){},setupAnimations:function(){},executeAnimations:function(){},_getItemPosition:function(){},_layoutAnimations:function(){}})})});var U={left:"left",top:"top"};c.Namespace._moduleDefine(a,"WinJS.UI",{HeaderPosition:U,_getMargins:G})}),d("WinJS/Controls/ListView/_VirtualizeContentsView",["exports","../../Core/_Global","../../Core/_Base","../../Core/_BaseUtils","../../Promise","../../_Signal","../../Scheduler","../../Utilities/_Dispose","../../Utilities/_ElementUtilities","../../Utilities/_SafeHtml","../../Utilities/_UI","../ItemContainer/_Constants","../ItemContainer/_ItemEventsHandler","./_Helpers","./_ItemsContainer"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){"use strict";function p(a,b){i._setAttribute(a,"aria-flowto",b.id),i._setAttribute(b,"x-ms-aria-flowfrom",a.id)}c.Namespace._moduleDefine(a,"WinJS.UI",{_VirtualizeContentsView:c.Namespace._lazy(function(){function a(b){for(var c,d=b.job._workItems;d.length&&!b.shouldYield;)(c=d.shift())();b.setWork(a),d.length||b.job.pause()}function q(b,c){var d=g.schedule(a,b,null,c);return d._workItems=[],d.addWork=function(a,b){b?this._workItems.unshift(a):this._workItems.push(a),this.resume()},d.clearWork=function(){this._workItems.length=0},d.dispose=function(){this.cancel(),this._workItems.length=0},d}function r(a){return a._zooming||a._pinching}function s(a,b){return a._isZombie()?e.wrap():r(a)?(+b!==b&&(b=v._waitForSeZoTimeoutDuration),e.timeout(v._waitForSeZoIntervalDuration).then(function(){return b-=v._waitForSeZoIntervalDuration,0>=b?!0:s(a,b)})):e.wrap()}function t(a){if("number"==typeof a){var b=a;a=function(){return{position:b,direction:"right"}}}return a}function u(){}var v=c.Class.define(function(a){this._listView=a,this._forceRelayout=!1,this.maxLeadingPages=d._isiOS?v._iOSMaxLeadingPages:v._defaultPagesToPrefetch,this.maxTrailingPages=d._isiOS?v._iOSMaxTrailingPages:v._defaultPagesToPrefetch,this.items=new o._ItemsContainer(a),this.firstIndexDisplayed=-1,this.lastIndexDisplayed=-1,this.begin=0,this.end=0,this._realizePass=1,this._firstLayoutPass=!0,this._runningAnimations=null,this._renderCompletePromise=e.wrap(),this._state=new w(this),this._createLayoutSignal(),this._createTreeBuildingSignal(),this._layoutWork=null,this._onscreenJob=q(g.Priority.aboveNormal,"on-screen items"),this._frontOffscreenJob=q(g.Priority.normal,"front off-screen items"),this._backOffscreenJob=q(g.Priority.belowNormal,"back off-screen items"),this._scrollbarPos=0,this._direction="right",this._scrollToFunctor=t(0)},{_dispose:function(){this.cleanUp(),this.items=null,this._renderCompletePromise&&this._renderCompletePromise.cancel(),this._renderCompletePromise=null,this._onscreenJob.dispose(),this._frontOffscreenJob.dispose(),this._backOffscreenJob.dispose()},_createItem:function(a,b,c,d){this._listView._writeProfilerMark("createItem("+a+") "+this._getBoundingRectString(a)+",info");var f=this;f._listView._itemsManager._itemFromItemPromiseThrottled(b).done(function(b){b?c(a,b,f._listView._itemsManager._recordFromElement(b)):d(a)},function(b){return d(a),e.wrapError(b)})},_addItem:function(a,b,c,d){if(this._realizePass===d){var e=this._listView._itemsManager._recordFromElement(c);delete this._pendingItemPromises[e.itemPromise.handle],this.items.setItemAt(b,{itemBox:null,container:null,element:c,detached:!0,itemsManagerRecord:e})}},lastItemIndex:function(){return this.containers?this.containers.length-1:-1},_setSkipRealizationForChange:function(a){a?this._realizationLevel!==v._realizationLevel.realize&&(this._realizationLevel=v._realizationLevel.skip):this._realizationLevel=v._realizationLevel.realize},_realizeItems:function(a,b,c,d,h,j,k,n,o,p){function q(a,b){C.push(e._cancelBlocker(b.renderComplete)),u(a)}function r(a,b){function c(a,b){a.updatedDraggableAttribute||!G._listView.itemsDraggable&&!G._listView.itemsReorderable||a.itemsManagerRecord.renderComplete.done(function(){G._realizePass===h&&(i.hasClass(b,l._nonDraggableClass)||(a.itemBox.draggable=!0),a.updatedDraggableAttribute=!0)})}if(G._listView._writeProfilerMark("_realizeItems_appendedItemsToDom,StartTM"),!G._listView._isZombie()){var d,e=0,f=-1,g=-1;for(d=a;b>=d;d++){var j=G.items.itemDataAt(d);if(j){var n=j.element,o=j.itemBox;o||(o=G._listView._itemBoxTemplate.cloneNode(!0),j.itemBox=o,o.appendChild(n),i.addClass(n,l._itemClass),G._listView._setupAriaSelectionObserver(n),G._listView._isSelected(d)&&m._ItemEventsHandler.renderSelection(o,n,!0,!0),G._listView._currentMode().renderDragSourceOnRealizedItem(d,o)),c(j,n);var p=G.getContainer(d);o.parentNode!==p&&(j.container=p,G._appendAndRestoreFocus(p,o),e++,0>f&&(f=d),g=d,G._listView._isSelected(d)&&i.addClass(p,l._selectedClass),i.removeClass(p,l._backdropClass),G.items.elementAvailable(d))}}G._listView._writeProfilerMark("_realizeItems_appendedItemsToDom,StopTM"),e>0&&(G._listView._writeProfilerMark("_realizeItems_appendedItemsToDom:"+e+" ("+f+"-"+g+"),info"),G._reportElementsLevel(k))}}function s(a,b,c,d){function e(a,b){var c=G.items.itemDataAt(a);if(c){var d=c.itemBox;return d&&d.parentNode?b?(i.addClass(d.parentNode,l._backdropClass),d.parentNode.removeChild(d),!0):!1:!0}return!0}if(!p){for(var f=!1;a>=c;)f=e(a,f),a--;for(f=!1;d>=b;)f=e(b,f),b++}}function t(a,b,c,d,f){function g(a){var b=G.items.itemDataAt(a);if(b){var d=b.itemsManagerRecord;d.readyComplete||G._realizePass!==h||c.addWork(function(){G._listView._isZombie()||d.pendingReady&&G._realizePass===h&&(G._listView._writeProfilerMark("pendingReady("+a+"),info"),d.pendingReady())},f)}}for(var i=[],j=a;b>=j;j++){var k=G.items.itemDataAt(j);k&&i.push(k.itemsManagerRecord.itemPromise)}e.join(i).then(function(){if("right"===d)for(var c=a;b>=c;c++)g(c);else for(var c=b;c>=a;c--)g(c)})}function u(a){if(G._realizePass===h){if(a>=n&&o>=a){if(0===--z){if(r(n,o),s(n,o,b,c),G._firstLayoutPass){t(n,o,G._frontOffscreenJob,"right"===k?"left":"right",!0);var d=g.schedulePromiseHigh(null,"WinJS.UI.ListView.entranceAnimation").then(function(){if(!G._listView._isZombie()){G._listView._writeProfilerMark("entranceAnimation,StartTM");var a=G._listView._animateListEntrance(!G._firstEntranceAnimated);return G._firstEntranceAnimated=!0,a}});G._runningAnimations=e.join([G._runningAnimations,d]),G._runningAnimations.done(function(){G._listView._writeProfilerMark("entranceAnimation,StopTM"),G._realizePass===h&&(G._runningAnimations=null,D.complete())}),G._firstLayoutPass=!1,G._listView._isCurrentZoomView&&g.requestDrain(G._onscreenJob.priority)}else t(n,o,G._frontOffscreenJob,k),D.complete();G._updateHeaders(G._listView._canvas,n,o+1).done(function(){E.complete()})}}else n>a?(--B,B%y===0&&r(b,n-1),B||(G._updateHeaders(G._listView._canvas,b,n).done(function(){"right"!==k&&F.complete()}),t(b,n-1,"right"!==k?G._frontOffscreenJob:G._backOffscreenJob,"left"))):a>o&&(--A,A%y===0&&r(o+1,c-1),A||(G._updateHeaders(G._listView._canvas,o+1,c).then(function(){"right"===k&&F.complete()}),t(o+1,c-1,"right"===k?G._frontOffscreenJob:G._backOffscreenJob,"right")));x--,0===x&&(G._renderCompletePromise=e.join(C).then(null,function(a){var b=Array.isArray(a)&&a.some(function(a){return a&&!(a instanceof Error&&"Canceled"===a.name)});return b?e.wrapError(a):void 0}),(G._headerRenderPromises||e.wrap()).done(function(){g.schedule(function(){G._listView._isZombie()?L.cancel():L.complete()},Math.min(G._onscreenJob.priority,G._backOffscreenJob.priority),null,"WinJS.UI.ListView._allItemsRealized")}))}}function v(b,c,d){if(G._realizePass===h){var c=d.element;G._addItem(a,b,c,h),q(b,d)}}var w="_realizeItems("+b+"-"+(c-1)+") visible("+n+"-"+o+")";this._listView._writeProfilerMark(w+",StartTM"),k=k||"right";var x=c-b,y=o-n+1,z=y,A=c-o-1,B=n-b,C=[],D=new f,E=new f,F=new f,G=this;if(x>0){var H=0,I=0,J=0;G.firstIndexDisplayed=n,G.lastIndexDisplayed=o;var K=G._listView._isCurrentZoomView;G._highPriorityRealize&&(G._firstLayoutPass||G._hasAnimationInViewportPending)?(G._highPriorityRealize=!1,G._onscreenJob.priority=g.Priority.high,G._frontOffscreenJob.priority=g.Priority.normal,G._backOffscreenJob.priority=g.Priority.belowNormal):G._highPriorityRealize?(G._highPriorityRealize=!1,G._onscreenJob.priority=g.Priority.high,G._frontOffscreenJob.priority=g.Priority.high-1,G._backOffscreenJob.priority=g.Priority.high-1):K?(G._onscreenJob.priority=g.Priority.aboveNormal,G._frontOffscreenJob.priority=g.Priority.normal,G._backOffscreenJob.priority=g.Priority.belowNormal):(G._onscreenJob.priority=g.Priority.belowNormal,G._frontOffscreenJob.priority=g.Priority.idle,G._backOffscreenJob.priority=g.Priority.idle);var L=new f,M=G._listView._versionManager.cancelOnNotification(L.promise),N=function(a,b){b.startStage1&&b.stage0.then(function(){G._realizePass===h&&b.startStage1&&a.addWork(b.startStage1)})},O=function(a,b){var c=G.items.itemDataAt(b);if(!c){var d=G._listView._itemsManager._itemPromiseAtIndex(b);G._pendingItemPromises[d.handle]=d,delete G._previousRealizationPendingItemPromises[d.handle],a.addWork(function(){if(!G._listView._isZombie()&&(H++,G._createItem(b,d,v,u),!G._listView._isZombie()&&G._realizePass===h&&d.handle)){var c=G._listView._itemsManager._recordFromHandle(d.handle);N(a,c)}})}},P=function(a,b,c){for(var d=b;c>=d;d++)O(a,d)},Q=function(a,b,c){for(var d=c;d>=b;d--)O(a,d)},R=function(a,b,c){for(var d=b;c>=d;d++){var e=G.items.itemDataAt(d);if(e){var f=e.itemsManagerRecord;q(d,f),I++,N(a,f)}}};this._previousRealizationPendingItemPromises=this._pendingItemPromises||{},this._pendingItemPromises={};var S;"left"===k?(Q(G._onscreenJob,n,o),Q(G._frontOffscreenJob,b,n-1),S=b>n-1):(P(G._onscreenJob,n,o),P(G._frontOffscreenJob,o+1,c-1),S=o+1>c-1);for(var T=0,U=Object.keys(this._previousRealizationPendingItemPromises),V=U.length;V>T;T++){var W=U[T];G._listView._itemsManager.releaseItemPromise(this._previousRealizationPendingItemPromises[W])}this._previousRealizationPendingItemPromises={},R(G._onscreenJob,n,o),"left"===k?R(G._frontOffscreenJob,b,n-1):R(G._frontOffscreenJob,o+1,c-1);var X=z===o-n+1;return G._firstLayoutPass?G._listView._canvas.style.opacity=0:X?G._listView._showProgressBar(G._listView._element,"50%","50%"):G._listView._hideProgressBar(),G._frontOffscreenJob.pause(),G._backOffscreenJob.pause(),E.promise.done(function(){G._frontOffscreenJob.resume(),S&&F.complete()},function(){L.cancel()}),F.promise.done(function(){G._listView._writeProfilerMark("frontItemsRealized,info"),"left"===k?(P(G._backOffscreenJob,o+1,c-1),R(G._backOffscreenJob,o+1,c-1)):(Q(G._backOffscreenJob,b,n-1),R(G._backOffscreenJob,b,n-1)),G._backOffscreenJob.resume()}),L.promise.done(function(){G._listView._versionManager.clearCancelOnNotification(M),G._listView._writeProfilerMark(w+" complete(created:"+H+" updated:"+I+"),info")},function(a){return G._listView._versionManager.clearCancelOnNotification(M),G._onscreenJob.clearWork(),G._frontOffscreenJob.clearWork(),G._backOffscreenJob.clearWork(),D.cancel(),E.cancel(),G._listView._writeProfilerMark(w+" canceled(created:"+H+" updated:"+I+" clean:"+J+"),info"),e.wrapError(a)}),G._listView._writeProfilerMark(w+",StopTM"),{viewportItemsRealized:E.promise,allItemsRealized:L.promise,loadingCompleted:e.join([L.promise,D.promise]).then(function(){for(var a=[],d=b;c>d;d++){var f=G.items.itemDataAt(d);f&&a.push(f.itemsManagerRecord.itemReadyPromise)}return e._cancelBlocker(e.join(a))})}}return G._listView._writeProfilerMark(w+",StopTM"),{viewportItemsRealized:e.wrap(),allItemsRealized:e.wrap(),loadingCompleted:e.wrap()}},_setAnimationInViewportState:function(a){if(this._hasAnimationInViewportPending=!1,a&&a.length>0)for(var b=this._listView._getViewportLength(),c=this._listView._layout.itemsFromRange(this._scrollbarPos,this._scrollbarPos+b-1),d=0,e=a.length;e>d;d++){var f=a[d];if(f.newIndex>=c.firstIndex&&f.newIndex<=c.lastIndex&&f.newIndex!==f.oldIndex){this._hasAnimationInViewportPending=!0;break}}},_addHeader:function(a,b){var c=this;return this._listView._groups.renderGroup(b).then(function(a){if(a){a.element.tabIndex=0;var d=c._getHeaderContainer(b);a.element.parentNode!==d&&(d.appendChild(a.element),i.addClass(a.element,l._headerClass)),c._listView._groups.setDomElement(b,a.element)}})},_updateHeaders:function(a,b,c){function d(b){var c=g._listView._groups.group(b);if(c&&!c.header){var d=c.headerPromise;return d||(d=c.headerPromise=g._addHeader(a,b),d.done(function(){c.headerPromise=null},function(){c.headerPromise=null})),d}return e.wrap()}function f(){g._headerRenderPromises=null}var g=this;this._listView._groups.removeElements();var h=this._listView._groups.groupFromItem(b),i=h,j=this._listView._groups.groupFromItem(c-1),k=[];if(null!==i)for(;j>=i;i++)k.push(d(i));return this._headerRenderPromises=e.join(k,this._headerRenderPromises).then(f,f),this._headerRenderPromises||e.wrap()},_unrealizeItem:function(a){var b,c=this._listView;this._listView._writeProfilerMark("_unrealizeItem("+a+"),info");var d=c._selection._getFocused();d.type===k.ObjectType.item&&d.index===a&&(c._unsetFocusOnItem(),b=!0);var e=this.items.itemDataAt(a),f=e.element,g=e.itemBox;g&&g.parentNode&&(i.removeClass(g.parentNode,l._selectedClass),i.removeClass(g.parentNode,l._footprintClass),i.addClass(g.parentNode,l._backdropClass),g.parentNode.removeChild(g)),e.container=null,c._currentMode().itemUnrealized&&c._currentMode().itemUnrealized(a,g),this.items.removeItem(a),e.removed||c._itemsManager.releaseItem(f),h._disposeElement(f),b&&c._setFocusOnItem(c._selection._getFocused())},_unrealizeGroup:function(a){var b,c=a.header,d=this._listView._selection._getFocused();d.type===k.ObjectType.groupHeader&&this._listView._groups.group(d.index)===a&&(this._listView._unsetFocusOnItem(),b=!0),c.parentNode&&c.parentNode.removeChild(c),h._disposeElement(c),a.header=null,a.left=-1,a.top=-1,b&&this._listView._setFocusOnItem(this._listView._selection._getFocused())},_unrealizeItems:function(a){var b=this,c=0;this.items.eachIndex(function(d){return d<b.begin||d>=b.end?(b._unrealizeItem(d),a&&++c>=a):void 0});var d=this._listView._groups,e=d.groupFromItem(this.begin);if(null!==e)for(var f=d.groupFromItem(this.end-1),g=0,h=d.length();h>g;g++){var i=d.group(g);(e>g||g>f)&&i.header&&this._unrealizeGroup(i)}},_unrealizeExcessiveItems:function(){var a=this.items.count(),b=this.end-this.begin,c=b+this._listView._maxDeferredItemCleanup;this._listView._writeProfilerMark("_unrealizeExcessiveItems realized("+a+") approved("+c+"),info"),a>c&&this._unrealizeItems(a-c)},_lazilyUnrealizeItems:function(){this._listView._writeProfilerMark("_lazilyUnrealizeItems,StartTM");var a=this;return s(this._listView).then(function(){function b(){a._listView._writeProfilerMark("_lazilyUnrealizeItems,StopTM")}if(a._listView._isZombie())return void b();var c=[];a.items.eachIndex(function(b){(b<a.begin||b>=a.end)&&c.push(b)}),a._listView._writeProfilerMark("_lazilyUnrealizeItems itemsToUnrealize("+c.length+"),info");var d=[],f=a._listView._groups,h=f.groupFromItem(a.begin);if(null!==h)for(var i=f.groupFromItem(a.end-1),j=0,k=f.length();k>j;j++){var l=f.group(j);(h>j||j>i)&&l.header&&d.push(l)}if(c.length||d.length){var m,n=new e(function(b){function e(f){if(!a._listView._isZombie()){for(var g=-1,h=-1,i=0,j=r(a._listView);c.length&&!j&&!f.shouldYield;){var k=c.shift();a._unrealizeItem(k),i++,0>g&&(g=k),h=k}for(a._listView._writeProfilerMark("unrealizeWorker removeItems:"+i+" ("+g+"-"+h+"),info");d.length&&!j&&!f.shouldYield;)a._unrealizeGroup(d.shift());c.length||d.length?j?f.setPromise(s(a._listView).then(function(){return e})):f.setWork(e):b()}}m=g.schedule(e,g.Priority.belowNormal,null,"WinJS.UI.ListView._lazilyUnrealizeItems")});return n.then(b,function(b){return m.cancel(),a._listView._writeProfilerMark("_lazilyUnrealizeItems canceled,info"),a._listView._writeProfilerMark("_lazilyUnrealizeItems,StopTM"),e.wrapError(b)})}return b(),e.wrap()})},_getBoundingRectString:function(a){var b;if(a>=0&&a<this.containers.length){var c=this._listView._layout._getItemPosition(a);c&&(b="["+c.left+"; "+c.top+"; "+c.width+"; "+c.height+" ]")}return b||""},_clearDeferTimeout:function(){this.deferTimeout&&(this.deferTimeout.cancel(),this.deferTimeout=null),-1!==this.deferredActionCancelToken&&(this._listView._versionManager.clearCancelOnNotification(this.deferredActionCancelToken),this.deferredActionCancelToken=-1)},_setupAria:function(a){function b(){d._listView._writeProfilerMark("aria work,StopTM")}function c(a){var b=d._listView._groups,c=b.group(a+1);return c?Math.min(c.startIndex-1,d.end-1):d.end-1}if(!this._listView._isZombie()){var d=this;return this._listView._createAriaMarkers(),this._listView._itemsCount().then(function(f){if(!(f>0&&-1!==d.firstIndexDisplayed&&-1!==d.lastIndexDisplayed))return e.wrap();d._listView._writeProfilerMark("aria work,StartTM");var h,j,k,l,m,n,o=d._listView._ariaStartMarker,q=d._listView._ariaEndMarker,t=d.begin,u=d.items.itemAt(d.begin);return u?(i._ensureId(u),d._listView._groupsEnabled()?(j=d._listView._groups,k=l=j.groupFromItem(d.begin),m=j.group(l),n=c(l),i._ensureId(m.header),i._setAttribute(m.header,"role",d._listView._headerRole),i._setAttribute(m.header,"x-ms-aria-flowfrom",o.id),p(m.header,u),i._setAttribute(m.header,"tabindex",d._listView._tabIndex)):i._setAttribute(u,"x-ms-aria-flowfrom",o.id),new e(function(e){var o=a;h=g.schedule(function v(a){if(d._listView._isZombie())return void b();for(;t<d.end;t++){if(!o&&r(d._listView))return void a.setPromise(s(d._listView).then(function(a){return o=a,v}));if(a.shouldYield)return void a.setWork(v);u=d.items.itemAt(t);var g=d.items.itemAt(t+1);if(g&&i._ensureId(g),i._setAttribute(u,"role",d._listView._itemRole),i._setAttribute(u,"aria-setsize",f),i._setAttribute(u,"aria-posinset",t+1),i._setAttribute(u,"tabindex",d._listView._tabIndex),d._listView._groupsEnabled())if(t!==n&&g)p(u,g);else{var h=j.group(l+1);h&&h.header&&g?(i._setAttribute(h.header,"tabindex",d._listView._tabIndex),i._setAttribute(h.header,"role",d._listView._headerRole),i._ensureId(h.header),p(u,h.header),p(h.header,g)):i._setAttribute(u,"aria-flowto",q.id),l++,m=h,n=c(l)}else g?p(u,g):i._setAttribute(u,"aria-flowto",q.id);if(!g)break}d._listView._fireAccessibilityAnnotationCompleteEvent(d.begin,t,k,l-1),b(),e()},g.Priority.belowNormal,null,"WinJS.UI.ListView._setupAria")},function(){h.cancel(),b()})):void b()})}},_setupDeferredActions:function(){function a(){b._listView._isZombie()||(b.deferTimeout=null,b._listView._versionManager.clearCancelOnNotification(b.deferredActionCancelToken),b.deferredActionCancelToken=-1)}this._listView._writeProfilerMark("_setupDeferredActions,StartTM");var b=this;this._clearDeferTimeout(),this.deferTimeout=this._lazilyRemoveRedundantItemsBlocks().then(function(){return e.timeout(l._DEFERRED_ACTION)}).then(function(){return s(b._listView)}).then(function(a){return b._setupAria(a)}).then(a,function(b){return a(),e.wrapError(b)}),this.deferredActionCancelToken=this._listView._versionManager.cancelOnNotification(this.deferTimeout),this._listView._writeProfilerMark("_setupDeferredActions,StopTM")},_updateAriaMarkers:function(a,b,c){function d(){return f.items.itemAt(b)}function e(){for(var a=c;a>=b;a--)if(f.items.itemAt(a))return f.items.itemAt(a);return null}var f=this;if(!this._listView._isZombie()){this._listView._createAriaMarkers();var g,h,j=this._listView._ariaStartMarker,k=this._listView._ariaEndMarker;if(-1!==b&&-1!==c&&c>=b&&(g=d(),h=e()),!a&&g&&h){if(i._ensureId(g),i._ensureId(h),this._listView._groupsEnabled()){var l=this._listView._groups,m=l.group(l.groupFromItem(b));m.header&&(i._ensureId(m.header),b===m.startIndex?i._setAttribute(j,"aria-flowto",m.header.id):i._setAttribute(j,"aria-flowto",g.id))}else i._setAttribute(j,"aria-flowto",g.id);i._setAttribute(k,"x-ms-aria-flowfrom",h.id)}else p(j,k),this._listView._fireAccessibilityAnnotationCompleteEvent(-1,-1)}},updateAriaForAnnouncement:function(a,b){if(a!==this._listView.header&&a!==this._listView.footer){var c=-1,d=k.ObjectType.item;i.hasClass(a,l._headerClass)?(c=this._listView._groups.index(a),d=k.ObjectType.groupHeader,i._setAttribute(a,"role",this._listView._headerRole),i._setAttribute(a,"tabindex",this._listView._tabIndex)):(c=this.items.index(a),i._setAttribute(a,"aria-setsize",b),i._setAttribute(a,"aria-posinset",c+1),i._setAttribute(a,"role",this._listView._itemRole),i._setAttribute(a,"tabindex",this._listView._tabIndex)),d===k.ObjectType.groupHeader?this._listView._fireAccessibilityAnnotationCompleteEvent(-1,-1,c,c):this._listView._fireAccessibilityAnnotationCompleteEvent(c,c,-1,-1)}},_reportElementsLevel:function(a){function b(a,b){for(var c=0,e=a;b>=e;e++){var f=d.itemDataAt(e);f&&f.container&&c++}return c}var c,d=this.items;c="right"===a?Math.floor(100*b(this.firstIndexDisplayed,this.end-1)/(this.end-this.firstIndexDisplayed)):Math.floor(100*b(this.begin,this.lastIndexDisplayed)/(this.lastIndexDisplayed-this.begin+1)),this._listView._writeProfilerMark("elementsLevel level("+c+"),info")},_createHeaderContainer:function(a){return this._createSurfaceChild(l._headerContainerClass,a)},_createItemsContainer:function(a){var c=this._createSurfaceChild(l._itemsContainerClass,a),d=b.document.createElement("div");return d.className=l._padderClass,c.appendChild(d),c},_ensureContainerInDOM:function(a){var b=this.containers[a];return b&&!this._listView._canvas.contains(b)?(this._forceItemsBlocksInDOM(a,a+1),!0):!1},_ensureItemsBlocksInDOM:function(a,b){if(this._expandedRange){var c=this._expandedRange.first.index,d=this._expandedRange.last.index+1;c>=a&&b>c?b=Math.max(b,d):d>a&&b>=d&&(a=Math.min(a,c))}this._forceItemsBlocksInDOM(a,b)},_removeRedundantItemsBlocks:function(){-1!==this.begin&&-1!==this.end&&this._forceItemsBlocksInDOM(this.begin,this.end)},_lazilyRemoveRedundantItemsBlocks:function(){this._listView._writeProfilerMark("_lazilyRemoveRedundantItemsBlocks,StartTM");var a=this;return s(this._listView).then(function(){function b(){a._listView._writeProfilerMark("_lazilyRemoveRedundantItemsBlocks,StopTM")}if(a._listView._isZombie())return void b();if(a._expandedRange&&-1!==a.begin&&-1!==a.end&&(a._expandedRange.first.index<a.begin||a._expandedRange.last.index+1>a.end)){var c,d=new e(function(b){function d(c){if(!a._listView._isZombie()){for(var e=r(a._listView);a._expandedRange.first.index<a.begin&&!e&&!c.shouldYield;){var f=Math.min(a.begin,a._expandedRange.first.index+a._blockSize*v._blocksToRelease);a._forceItemsBlocksInDOM(f,a.end)}for(;a._expandedRange.last.index+1>a.end&&!e&&!c.shouldYield;){var g=Math.max(a.end,a._expandedRange.last.index-a._blockSize*v._blocksToRelease);a._forceItemsBlocksInDOM(a.begin,g)}a._expandedRange.first.index<a.begin||a._expandedRange.last.index+1>a.end?e?c.setPromise(s(a._listView).then(function(){return d})):c.setWork(d):b()}}c=g.schedule(d,g.Priority.belowNormal,null,"WinJS.UI.ListView._lazilyRemoveRedundantItemsBlocks")});return d.then(b,function(b){return c.cancel(),a._listView._writeProfilerMark("_lazilyRemoveRedundantItemsBlocks canceled,info"),a._listView._writeProfilerMark("_lazilyRemoveRedundantItemsBlocks,StopTM"),e.wrapError(b)})}return b(),e.wrap()})},_forceItemsBlocksInDOM:function(a,b){function c(a,b){var c=a.element.firstElementChild;c.style[q]=b}function d(a){for(var b=0;b<n.tree.length;b++)for(var c=n.tree[b].itemsContainer,d=0,e=c.itemsBlocks.length;e>d;d++)if(a(c,c.itemsBlocks[d]))return}function e(a){n._listView._writeProfilerMark("_itemsBlockExtent,StartTM"),n._listView._itemsBlockExtent=i[n._listView._horizontal()?"getTotalWidth":"getTotalHeight"](a.element),n._listView._writeProfilerMark("_itemsBlockExtent("+n._listView._itemsBlockExtent+"),info"),n._listView._writeProfilerMark("_itemsBlockExtent,StopTM")}function f(){return-1===n._listView._itemsBlockExtent&&d(function(a,b){return b.items.length===n._blockSize&&b.element.parentNode===a.element?(e(b),!0):!1}),-1===n._listView._itemsBlockExtent&&d(function(a,b){return b.items.length===n._blockSize?(a.element.appendChild(b.element),e(b),a.element.removeChild(b.element),!0):!1}),n._listView._itemsBlockExtent}function g(a,b,c){function d(b){var c=a.itemsBlocks[b];c&&c.element.parentNode===a.element&&(a.element.removeChild(c.element),p++)}if(Array.isArray(b))b.forEach(d);else for(var e=b;c>e;e++)d(e)}function h(a,b,c){for(var d=a.element.firstElementChild,e=d,f=b;c>f;f++){var g=a.itemsBlocks[f];g&&(g.element.parentNode!==a.element&&(a.element.insertBefore(g.element,e.nextElementSibling),o++),e=g.element)}}function j(a){if(a<n.tree.length){n._listView._writeProfilerMark("collapseGroup("+a+"),info");var b=n.tree[a].itemsContainer;g(b,0,b.itemsBlocks.length),c(b,"")}}function k(a){if(a<n.tree.length){n._listView._writeProfilerMark("expandGroup("+a+"),info");var b=n.tree[a].itemsContainer;h(b,0,b.itemsBlocks.length),c(b,"")}}function l(a,b){function c(a,b){for(var c=[],d=a;b>=d;d++)c.push(d);return c}var d=b[0],e=b[1],f=a[0],g=a[1];return f>e||d>g?c(f,g):d>f&&g>e?c(f,d-1).concat(c(e+1,g)):d>f?c(f,d-1):g>e?c(e+1,g):null}if(this._blockSize){var m="_forceItemsBlocksInDOM begin("+a+") end("+b+"),";this._listView._writeProfilerMark(m+"StartTM");var n=this,o=0,p=0,q="padding"+(this._listView._horizontal()?"Left":"Top"),r=this._listView._groups.groupFromItem(a),s=this._listView._groups.groupFromItem(b-1),t=this._listView._groups.group(r),u=n.tree[r].itemsContainer,v=Math.floor((a-t.startIndex)/this._blockSize),w=this._listView._groups.group(s),x=n.tree[s].itemsContainer,y=Math.floor((b-1-w.startIndex)/this._blockSize);v&&-1===n._listView._itemsBlockExtent&&d(function(a,b){return b.items.length===n._blockSize&&b.element.parentNode===a.element?(e(b),!0):!1});var z=this._expandedRange?l([this._expandedRange.first.groupIndex,this._expandedRange.last.groupIndex],[r,s]):null;if(z&&z.forEach(j),this._expandedRange&&this._expandedRange.first.groupKey===t.key){var A=l([this._expandedRange.first.block,Number.MAX_VALUE],[v,Number.MAX_VALUE]);A&&g(u,A)}else this._expandedRange&&r>=this._expandedRange.first.groupIndex&&r<=this._expandedRange.last.groupIndex&&g(u,0,v);if(r!==s?(h(u,v,u.itemsBlocks.length),h(x,0,y+1)):h(u,v,y+1),this._expandedRange&&this._expandedRange.last.groupKey===w.key){var A=l([0,this._expandedRange.last.block],[0,y]);A&&g(x,A)}else this._expandedRange&&s>=this._expandedRange.first.groupIndex&&s<=this._expandedRange.last.groupIndex&&g(x,y+1,x.itemsBlocks.length);c(u,v?v*f()+"px":""),r!==s&&c(x,"");for(var B=r+1;s>B;B++)k(B);this._expandedRange={first:{index:a,groupIndex:r,groupKey:t.key,block:v},last:{index:b-1,groupIndex:s,groupKey:w.key,block:y}},this._listView._writeProfilerMark("_forceItemsBlocksInDOM groups("+r+"-"+s+") blocks("+v+"-"+y+") added("+o+") removed("+p+"),info"),this._listView._writeProfilerMark(m+"StopTM")}},_realizePageImpl:function(){var a=this,b="realizePage(scrollPosition:"+this._scrollbarPos+" forceLayout:"+this._forceRelayout+")";return this._listView._writeProfilerMark(b+",StartTM"),this._listView._versionManager.locked?(this._listView._versionManager.unlocked.done(function(){a._listView._isZombie()||a._listView._batchViewUpdates(l._ViewChange.realize,l._ScrollToPriority.low,a._listView.scrollPosition)}),this._listView._writeProfilerMark(b+",StopTM"),e.cancel):new e(function(c){function d(){c(),k.complete()}function g(){a._listView._hideProgressBar(),a._state.setLoadingState(a._listView._LoadingState.viewPortLoaded),a._executeAnimations&&a._setState(F,k.promise)}function h(b){a._updateAriaMarkers(0===b,a.firstIndexDisplayed,a.lastIndexDisplayed),a._state.setLoadingState&&a._state.setLoadingState(a._listView._LoadingState.itemsLoaded)}function j(b){a._listView._clearInsertedItems(),a._listView._groups.removeElements(),g(),h(b),d()}var k=new f;a._state.setLoadingState(a._listView._LoadingState.itemsLoading),a._firstLayoutPass&&a._listView._showProgressBar(a._listView._element,"50%","50%");var l=a.containers.length;if(l){var m,n,o=a.maxLeadingPages,p=a.maxTrailingPages,q=a._listView._getViewportLength();if(a._listView._zooming)m=n=0;else if(v._disableCustomPagesPrefetch)m=n=v._defaultPagesToPrefetch;else{m="left"===a._direction?o:p;var r=Math.max(0,m-a._scrollbarPos/q);n=Math.min(o,r+("right"===a._direction?o:p))}var s=Math.max(0,a._scrollbarPos-m*q),t=a._scrollbarPos+(1+n)*q,u=a._listView._layout.itemsFromRange(s,t-1);if((u.firstIndex<0||u.firstIndex>=l)&&(u.lastIndex<0||u.lastIndex>=l))a.begin=-1,a.end=-1,a.firstIndexDisplayed=-1,a.lastIndexDisplayed=-1,j(l);else{var w=i._clamp(u.firstIndex,0,l-1),x=i._clamp(u.lastIndex+1,0,l),y=a._listView._layout.itemsFromRange(a._scrollbarPos,a._scrollbarPos+q-1),z=i._clamp(y.firstIndex,0,l-1),A=i._clamp(y.lastIndex,0,l-1);if(a._realizationLevel!==v._realizationLevel.skip||a.lastRealizePass||z!==a.firstIndexDisplayed||A!==a.lastIndexDisplayed)if((a._forceRelayout||w!==a.begin||x!==a.end||z!==a.firstIndexDisplayed||A!==a.lastIndexDisplayed)&&x>w&&t>s){a._listView._writeProfilerMark("realizePage currentInView("+z+"-"+A+") previousInView("+a.firstIndexDisplayed+"-"+a.lastIndexDisplayed+") change("+(z-a.firstIndexDisplayed)+"),info"),a._cancelRealize();var B=a._realizePass;a.begin=w,a.end=x,a.firstIndexDisplayed=z,a.lastIndexDisplayed=A,a.deletesWithoutRealize=0,a._ensureItemsBlocksInDOM(a.begin,a.end);var C=a._realizeItems(a._listView._itemCanvas,a.begin,a.end,l,B,a._scrollbarPos,a._direction,z,A,a._forceRelayout);a._forceRelayout=!1;var D=C.viewportItemsRealized.then(function(){return g(),C.allItemsRealized}).then(function(){return a._realizePass===B?a._updateHeaders(a._listView._canvas,a.begin,a.end).then(function(){h(l)}):void 0}).then(function(){return C.loadingCompleted}).then(function(){a._unrealizeExcessiveItems(),a.lastRealizePass=null,d()},function(b){return a._realizePass===B&&(a.lastRealizePass=null,a.begin=-1,a.end=-1),e.wrapError(b)});a.lastRealizePass=e.join([C.viewportItemsRealized,C.allItemsRealized,C.loadingCompleted,D]),a._unrealizeExcessiveItems()}else a.lastRealizePass?a.lastRealizePass.then(d):j(l);else a.begin=w,a.end=w+Object.keys(a.items._itemData).length,a._updateHeaders(a._listView._canvas,a.begin,a.end).done(function(){a.lastRealizePass=null,j(l)})}}else a.begin=-1,a.end=-1,a.firstIndexDisplayed=-1,a.lastIndexDisplayed=-1,j(l);a._reportElementsLevel(a._direction),a._listView._writeProfilerMark(b+",StopTM")})},realizePage:function(a,b,c,d){this._scrollToFunctor=t(a),this._forceRelayout=this._forceRelayout||b,this._scrollEndPromise=c,this._listView._writeProfilerMark(this._state.name+"_realizePage,info"),this._state.realizePage(d||A)},onScroll:function(a,b){this.realizePage(a,!1,b,C)},reload:function(a,b){this._listView._isZombie()||(this._scrollToFunctor=t(a),this._forceRelayout=!0,this._highPriorityRealize=!!b,this.stopWork(!0),this._listView._writeProfilerMark(this._state.name+"_rebuildTree,info"),this._state.rebuildTree())},refresh:function(a){this._listView._isZombie()||(this._scrollToFunctor=t(a),this._forceRelayout=!0,this._highPriorityRealize=!0,this.stopWork(),this._listView._writeProfilerMark(this._state.name+"_relayout,info"),this._state.relayout())},waitForValidScrollPosition:function(a){var b=this,c=this._listView._viewport[this._listView._scrollLength]-this._listView._getViewportLength();return a>c?b._listView._itemsCount().then(function(c){return b.containers.length<c?e._cancelBlocker(b._creatingContainersWork&&b._creatingContainersWork.promise).then(function(){return b._getLayoutCompleted()}).then(function(){return a}):a}):e.wrap(a)},waitForEntityPosition:function(a){var b=this;return a.type===k.ObjectType.header||a.type===k.ObjectType.footer?e.wrap():(this._listView._writeProfilerMark(this._state.name+"_waitForEntityPosition("+a.type+": "+a.index+"),info"),
e._cancelBlocker(this._state.waitForEntityPosition(a).then(function(){return a.type!==k.ObjectType.groupHeader&&a.index>=b.containers.length||a.type===k.ObjectType.groupHeader&&b._listView._groups.group(a.index).startIndex>=b.containers.length?b._creatingContainersWork&&b._creatingContainersWork.promise:void 0}).then(function(){return b._getLayoutCompleted()})))},stopWork:function(a){this._listView._writeProfilerMark(this._state.name+"_stop,info"),this._state.stop(a),this._layoutWork&&this._layoutWork.cancel(),a&&this._creatingContainersWork&&this._creatingContainersWork.cancel(),a&&(this._state=new w(this))},_cancelRealize:function(){this._listView._writeProfilerMark("_cancelRealize,StartTM"),(this.lastRealizePass||this.deferTimeout)&&(this._forceRelayout=!0),this._clearDeferTimeout(),this._realizePass++,this._headerRenderPromises&&(this._headerRenderPromises.cancel(),this._headerRenderPromises=null);var a=this.lastRealizePass;a&&(this.lastRealizePass=null,this.begin=-1,this.end=-1,a.cancel()),this._listView._writeProfilerMark("_cancelRealize,StopTM")},resetItems:function(a){if(!this._listView._isZombie()){this.firstIndexDisplayed=-1,this.lastIndexDisplayed=-1,this._runningAnimations=null,this._executeAnimations=!1;var b=this._listView;this._firstLayoutPass=!0,b._unsetFocusOnItem(),b._currentMode().onDataChanged&&b._currentMode().onDataChanged(),this.items.each(function(c,d){a&&d.parentNode&&d.parentNode.parentNode&&d.parentNode.parentNode.removeChild(d.parentNode),b._itemsManager.releaseItem(d),h._disposeElement(d)}),this.items.removeItems(),this._deferredReparenting=[],a&&b._groups.removeElements(),b._clearInsertedItems()}},reset:function(){if(this.stopWork(!0),this._state=new w(this),this.resetItems(),!this._listView._isZombie()){var a=this._listView;a._groups.resetGroups(),a._resetCanvas(),this.tree=null,this.keyToGroupIndex=null,this.containers=null,this._expandedRange=null}},cleanUp:function(){this.stopWork(!0),this._runningAnimations&&this._runningAnimations.cancel();var a=this._listView._itemsManager;this.items.each(function(b,c){a.releaseItem(c),h._disposeElement(c)}),this._listView._unsetFocusOnItem(),this.items.removeItems(),this._deferredReparenting=[],this._listView._groups.resetGroups(),this._listView._resetCanvas(),this.tree=null,this.keyToGroupIndex=null,this.containers=null,this._expandedRange=null,this.destroyed=!0},getContainer:function(a){return this.containers[a]},_getHeaderContainer:function(a){return this.tree[a].header},_getGroups:function(a){if(this._listView._groupDataSource){var b=this._listView._groups.groups,c=[];if(a)for(var d=0,e=b.length;e>d;d++){var f=b[d],g=e>d+1?b[d+1].startIndex:a;c.push({key:f.key,size:g-f.startIndex})}return c}return[{key:"-1",size:a}]},_createChunk:function(a,b,c){function d(a,b){var d=a.element.children,e=d.length,g=Math.min(b-a.items.length,c);j.insertAdjacentHTMLUnsafe(a.element,"beforeend",n._repeat("<div class='win-container win-backdrop'></div>",g));for(var h=0;g>h;h++){var i=d[e+h];a.items.push(i),f.containers.push(i)}}function e(a){var b={header:f._listView._groupDataSource?f._createHeaderContainer():null,itemsContainer:{element:f._createItemsContainer(),items:[]}};f.tree.push(b),f.keyToGroupIndex[a.key]=f.tree.length-1,d(b.itemsContainer,a.size)}var f=this;if(this._listView._writeProfilerMark("createChunk,StartTM"),this.tree.length&&this.tree.length<=a.length){var g=this.tree[this.tree.length-1],h=a[this.tree.length-1].size;if(g.itemsContainer.items.length<h)return d(g.itemsContainer,h),void this._listView._writeProfilerMark("createChunk,StopTM")}this.tree.length<a.length&&e(a[this.tree.length]),this._listView._writeProfilerMark("createChunk,StopTM")},_createChunkWithBlocks:function(a,c,d,e){function f(a,c){var f,g=a.itemsBlocks.length?a.itemsBlocks[a.itemsBlocks.length-1]:null;if(c=Math.min(c,e),g&&g.items.length<d){var i=Math.min(c,d-g.items.length),k=g.items.length,f=(a.itemsBlocks.length-1)*d+k,l=n._stripedContainers(i,f);j.insertAdjacentHTMLUnsafe(g.element,"beforeend",l),w=g.element.children;for(var m=0;i>m;m++){var o=w[k+m];g.items.push(o),h.containers.push(o)}c-=i}f=a.itemsBlocks.length*d;var p=Math.floor(c/d),q="",r=f,s=f+d;if(p>0){var t=["<div class='win-itemsblock'>"+n._stripedContainers(d,r)+"</div>","<div class='win-itemsblock'>"+n._stripedContainers(d,s)+"</div>"];q=n._repeat(t,p),f+=p*d}var u=c%d;u>0&&(q+="<div class='win-itemsblock'>"+n._stripedContainers(u,f)+"</div>",f+=u,p++);var v=b.document.createElement("div");j.setInnerHTMLUnsafe(v,q);for(var w=v.children,x=0;p>x;x++){var y=w[x],z={element:y,items:n._nodeListToArray(y.children)};a.itemsBlocks.push(z);for(var A=0;A<z.items.length;A++)h.containers.push(z.items[A])}}function g(a){var b={header:h._listView._groupDataSource?h._createHeaderContainer():null,itemsContainer:{element:h._createItemsContainer(),itemsBlocks:[]}};h.tree.push(b),h.keyToGroupIndex[a.key]=h.tree.length-1,f(b.itemsContainer,a.size)}var h=this;if(this._listView._writeProfilerMark("createChunk,StartTM"),this.tree.length&&this.tree.length<=a.length){var i=this.tree[this.tree.length-1].itemsContainer,k=a[this.tree.length-1].size,l=0;if(i.itemsBlocks.length&&(l=(i.itemsBlocks.length-1)*d+i.itemsBlocks[i.itemsBlocks.length-1].items.length),k>l)return f(i,k-l),void this._listView._writeProfilerMark("createChunk,StopTM")}this.tree.length<a.length&&g(a[this.tree.length]),this._listView._writeProfilerMark("createChunk,StopTM")},_generateCreateContainersWorker:function(){var a=this,b=0,c=!1;return function e(f){a._listView._versionManager.locked?f.setPromise(a._listView._versionManager.unlocked.then(function(){return e})):a._listView._itemsCount().then(function(g){var h=!c&&r(a._listView);if(h)f.setPromise(s(a._listView).then(function(a){return c=a,e}));else{if(a._listView._isZombie())return;c=!1;var i=d._now()+v._createContainersJobTimeslice,j=a._getGroups(g),k=a.containers.length,l=a.end===a.containers.length,m=v._chunkSize;do a._blockSize?a._createChunkWithBlocks(j,g,a._blockSize,m):a._createChunk(j,g,m),b++;while(a.containers.length<g&&d._now()<i);a._listView._writeProfilerMark("createContainers yields containers("+a.containers.length+"),info"),a._listView._affectedRange.add({start:k,end:a.containers.length},g),l?(a.stopWork(),a._listView._writeProfilerMark(a._state.name+"_relayout,info"),a._state.relayout()):(a._listView._writeProfilerMark(a._state.name+"_layoutNewContainers,info"),a._state.layoutNewContainers()),a.containers.length<g?f.setWork(e):(a._listView._writeProfilerMark("createContainers completed steps("+b+"),info"),a._creatingContainersWork.complete())}})}},_scheduleLazyTreeCreation:function(){return g.schedule(this._generateCreateContainersWorker(),g.Priority.idle,this,"WinJS.UI.ListView.LazyTreeCreation")},_createContainers:function(){this.tree=null,this.keyToGroupIndex=null,this.containers=null,this._expandedRange=null;var a,b=this;return this._listView._itemsCount().then(function(c){return 0===c&&b._listView._hideProgressBar(),a=c,b._listView._writeProfilerMark("createContainers("+a+"),StartTM"),b._listView._groupDataSource?b._listView._groups.initialize():void 0}).then(function(){return b._listView._writeProfilerMark("numberOfItemsPerItemsBlock,StartTM"),a&&b._listView._groups.length()?b._listView._layout.numberOfItemsPerItemsBlock:null}).then(function(c){b._listView._writeProfilerMark("numberOfItemsPerItemsBlock("+c+"),info"),b._listView._writeProfilerMark("numberOfItemsPerItemsBlock,StopTM"),b._listView._resetCanvas(),b.tree=[],b.keyToGroupIndex={},b.containers=[],b._blockSize=c;var e,f=b._getGroups(a),g=d._now()+v._maxTimePerCreateContainers,h=Math.min(v._startupChunkSize,v._chunkSize);do e=c?b._createChunkWithBlocks(f,a,c,h):b._createChunk(f,a,h);while(d._now()<g&&b.containers.length<a&&!e);if(b._listView._writeProfilerMark("createContainers created("+b.containers.length+"),info"),b._listView._affectedRange.add({start:0,end:b.containers.length},a),b.containers.length<a){var i=b._scheduleLazyTreeCreation();b._creatingContainersWork.promise.done(null,function(){i.cancel()})}else b._listView._writeProfilerMark("createContainers completed synchronously,info"),b._creatingContainersWork.complete();b._listView._writeProfilerMark("createContainers("+a+"),StopTM")})},_updateItemsBlocks:function(a){function c(){var a=b.document.createElement("div");return a.className=l._itemsBlockClass,a}function d(b,d){function g(){b.itemsBlocks=null,b.items=[];for(var a=0;k>a;a++){var c=e.containers[d+a];b.element.appendChild(c),b.items.push(c)}}function h(){b.itemsBlocks=[{element:j.length?j.shift():c(),items:[]}];for(var f=b.itemsBlocks[0],g=0;k>g;g++){if(f.items.length===a){var h=j.length?j.shift():c();b.itemsBlocks.push({element:h,items:[]}),f=b.itemsBlocks[b.itemsBlocks.length-1]}var i=e.containers[d+g];f.element.appendChild(i),f.items.push(i)}b.items=null}var i,j=[],k=0,l=b.itemsBlocks;if(l)for(i=0;i<l.length;i++)k+=l[i].items.length,j.push(l[i].element);else k=b.items.length;for(f?h():g(),i=0;i<j.length;i++){var m=j[i];m.parentNode===b.element&&b.element.removeChild(m)}return k}for(var e=this,f=!!a,g=0,h=0;g<this.tree.length;g++)h+=d(this.tree[g].itemsContainer,h);e._blockSize=a},_layoutItems:function(){var a=this;return this._listView._itemsCount().then(function(){return e.as(a._listView._layout.numberOfItemsPerItemsBlock).then(function(b){a._listView._writeProfilerMark("numberOfItemsPerItemsBlock("+b+"),info"),b!==a._blockSize&&(a._updateItemsBlocks(b),a._listView._itemsBlockExtent=-1);var c,d=a._listView._affectedRange.get();return d&&(c={firstIndex:Math.max(d.start-1,0),lastIndex:Math.min(a.containers.length-1,d.end)},c.firstIndex<a.containers.length||0===a.containers.length)?a._listView._layout.layout(a.tree,c,a._modifiedElements||[],a._modifiedGroups||[]):(a._listView._affectedRange.clear(),{realizedRangeComplete:e.wrap(),layoutComplete:e.wrap()})})})},updateTree:function(a,b,c){return this._listView._writeProfilerMark(this._state.name+"_updateTree,info"),this._state.updateTree(a,b,c)},_updateTreeImpl:function(a,c,d,e){function f(a){for(var b=0,c=a.length;c>b;b++){var d=a[b];d.parentNode.removeChild(d)}}if(this._executeAnimations=!0,this._modifiedElements=d,!d.handled){d.handled=!0,this._listView._writeProfilerMark("_updateTreeImpl,StartTM");var g,h=this;e||this._unrealizeItems();for(var g=0,j=d.length;j>g;g++)d[g]._itemBox&&d[g]._itemBox.parentNode&&i.removeClass(d[g]._itemBox.parentNode,l._selectedClass);this.items.each(function(a,b,c){c.container&&i.removeClass(c.container,l._selectedClass),c.container&&i.addClass(c.container,l._backdropClass)});var k=this._listView._updateContainers(this._getGroups(a),a,c,d);f(k.removedHeaders),f(k.removedItemsContainers);for(var g=0,j=d.length;j>g;g++){var n=d[g];if(-1!==n.newIndex){if(n.element=this.getContainer(n.newIndex),!n.element)throw"Container missing after updateContainers."}else i.removeClass(n.element,l._backdropClass)}var o=b.document.activeElement;this._listView._canvas.contains(o)&&(this._requireFocusRestore=o),this._deferredReparenting=[],this.items.each(function(a,b,c){var d=h.getContainer(a),e=c.itemBox;e&&d&&(c.container=d,e.parentNode!==d&&(a>=h.firstIndexDisplayed&&a<=h.lastIndexDisplayed?h._appendAndRestoreFocus(d,e):h._deferredReparenting.push({itemBox:e,container:d})),i.removeClass(d,l._backdropClass),i[h._listView.selection._isIncluded(a)?"addClass":"removeClass"](d,l._selectedClass),!h._listView.selection._isIncluded(a)&&i.hasClass(e,l._selectedClass)&&m._ItemEventsHandler.renderSelection(e,c.element,!1,!0))}),this._listView._writeProfilerMark("_updateTreeImpl,StopTM")}},_completeUpdateTree:function(){if(this._deferredReparenting){var a=this._deferredReparenting.length;if(a>0){var b="_completeReparenting("+a+")";this._listView._writeProfilerMark(b+",StartTM");for(var c,d=0;a>d;d++)c=this._deferredReparenting[d],this._appendAndRestoreFocus(c.container,c.itemBox);this._deferredReparenting=[],this._listView._writeProfilerMark(b+",StopTM")}}this._requireFocusRestore=null},_appendAndRestoreFocus:function(a,c){if(c.parentNode!==a){var d;if(this._requireFocusRestore&&(d=b.document.activeElement),this._requireFocusRestore&&this._requireFocusRestore===d&&(a.contains(d)||c.contains(d))&&(this._listView._unsetFocusOnItem(),d=b.document.activeElement),i.empty(a),a.appendChild(c),this._requireFocusRestore&&d===this._listView._keyboardEventsHelper){var e=this._listView._selection._getFocused();e.type===k.ObjectType.item&&this.items.itemBoxAt(e.index)===c&&(i._setActive(this._requireFocusRestore),this._requireFocusRestore=null)}}},_startAnimations:function(){this._listView._writeProfilerMark("startAnimations,StartTM");var a=this;this._hasAnimationInViewportPending=!1;var b=e.as(this._listView._layout.executeAnimations()).then(function(){a._listView._writeProfilerMark("startAnimations,StopTM")});return b},_setState:function(a,b){if(!this._listView._isZombie()){var c=this._state.name;this._state=new a(this,b),this._listView._writeProfilerMark(this._state.name+"_enter from("+c+"),info"),this._state.enter()}},getAdjacent:function(a,b){var c=this;return this.waitForEntityPosition(a).then(function(){return c._listView._layout.getAdjacent(a,b)})},hitTest:function(a,b){if(this._realizedRangeLaidOut)return{index:-1,insertAfterIndex:-1};var c=this._listView._layout.hitTest(a,b);return c.index=i._clamp(c.index,-1,this._listView._cachedCount-1,0),c.insertAfterIndex=i._clamp(c.insertAfterIndex,-1,this._listView._cachedCount-1,0),c},_createTreeBuildingSignal:function(){if(!this._creatingContainersWork){this._creatingContainersWork=new f;var a=this;this._creatingContainersWork.promise.done(function(){a._creatingContainersWork=null},function(){a._creatingContainersWork=null})}},_createLayoutSignal:function(){var a=this;this._layoutCompleted||(this._layoutCompleted=new f,this._layoutCompleted.promise.done(function(){a._layoutCompleted=null},function(){a._layoutCompleted=null})),this._realizedRangeLaidOut||(this._realizedRangeLaidOut=new f,this._realizedRangeLaidOut.promise.done(function(){a._realizedRangeLaidOut=null},function(){a._realizedRangeLaidOut=null}))},_getLayoutCompleted:function(){return this._layoutCompleted?e._cancelBlocker(this._layoutCompleted.promise):e.wrap()},_createSurfaceChild:function(a,c){var d=b.document.createElement("div");return d.className=a,this._listView._canvas.insertBefore(d,c?c.nextElementSibling:null),d},_executeScrollToFunctor:function(){var a=this;return e.as(this._scrollToFunctor?this._scrollToFunctor():null).then(function(b){a._scrollToFunctor=null,b=b||{},+b.position===b.position&&(a._scrollbarPos=b.position),a._direction=b.direction||"right"})}},{_defaultPagesToPrefetch:2,_iOSMaxLeadingPages:6,_iOSMaxTrailingPages:2,_disableCustomPagesPrefetch:!1,_waitForSeZoIntervalDuration:100,_waitForSeZoTimeoutDuration:500,_chunkSize:500,_startupChunkSize:100,_maxTimePerCreateContainers:5,_createContainersJobTimeslice:15,_blocksToRelease:10,_realizationLevel:{skip:"skip",realize:"realize",normal:"normal"}}),w=c.Class.define(function(a){this.view=a,this.view._createTreeBuildingSignal(),this.view._createLayoutSignal()},{name:"CreatedState",enter:function(){this.view._createTreeBuildingSignal(),this.view._createLayoutSignal()},stop:u,realizePage:u,rebuildTree:function(){this.view._setState(x)},relayout:function(){this.view._setState(x)},layoutNewContainers:u,waitForEntityPosition:function(){return this.view._setState(x),this.view._getLayoutCompleted()},updateTree:u}),x=c.Class.define(function(a){this.view=a},{name:"BuildingState",enter:function(){this.canceling=!1,this.view._createTreeBuildingSignal(),this.view._createLayoutSignal();var a=this,b=new f;this.promise=b.promise.then(function(){return a.view._createContainers()}).then(function(){a.view._setState(y)},function(b){return a.canceling||(a.view._setState(w),a.view._listView._raiseViewComplete()),e.wrapError(b)}),b.complete()},stop:function(){this.canceling=!0,this.promise.cancel(),this.view._setState(w)},realizePage:u,rebuildTree:function(){this.canceling=!0,this.promise.cancel(),this.enter()},relayout:u,layoutNewContainers:u,waitForEntityPosition:function(){return this.view._getLayoutCompleted()},updateTree:u}),y=c.Class.define(function(a,b){this.view=a,this.nextStateType=b||A},{name:"LayingoutState",enter:function(){var a=this;this.canceling=!1,this.view._createLayoutSignal(),this.view._listView._writeProfilerMark(this.name+"_enter_layoutItems,StartTM");var b=new f;this.promise=b.promise.then(function(){return a.view._layoutItems()}).then(function(b){return a.view._layoutWork=b.layoutComplete,b.realizedRangeComplete}).then(function(){a.view._listView._writeProfilerMark(a.name+"_enter_layoutItems,StopTM"),a.view._listView._clearInsertedItems(),a.view._setAnimationInViewportState(a.view._modifiedElements),a.view._modifiedElements=[],a.view._modifiedGroups=[],a.view._realizedRangeLaidOut.complete(),a.view._layoutWork.then(function(){a.view._listView._writeProfilerMark(a.name+"_enter_layoutCompleted,info"),a.view._listView._affectedRange.clear(),a.view._layoutCompleted.complete()}),a.canceling||a.view._setState(a.nextStateType)},function(b){return a.view._listView._writeProfilerMark(a.name+"_enter_layoutCanceled,info"),a.canceling||(a.view.firstIndexDisplayed=a.view.lastIndexDisplayed=-1,a.view._updateAriaMarkers(!0,a.view.firstIndexDisplayed,a.view.lastIndexDisplayed),a.view._setState(G)),e.wrapError(b)}),b.complete(),this.canceling&&this.promise.cancel()},cancelLayout:function(a){this.view._listView._writeProfilerMark(this.name+"_cancelLayout,info"),this.canceling=!0,this.promise&&this.promise.cancel(),a&&this.view._setState(z)},stop:function(){this.cancelLayout(!0)},realizePage:u,rebuildTree:function(){this.cancelLayout(!1),this.view._setState(x)},relayout:function(){this.cancelLayout(!1),this.enter()},layoutNewContainers:function(){this.relayout()},waitForEntityPosition:function(){return this.view._getLayoutCompleted()},updateTree:function(a,b,c){return this.view._updateTreeImpl(a,b,c)}}),z=c.Class.define(function(a){this.view=a},{name:"LayoutCanceledState",enter:u,stop:u,realizePage:function(){this.relayout()},rebuildTree:function(){this.view._setState(x)},relayout:function(){this.view._setState(y)},layoutNewContainers:function(){this.relayout()},waitForEntityPosition:function(){return this.view._getLayoutCompleted()},updateTree:function(a,b,c){return this.view._updateTreeImpl(a,b,c)}}),A=c.Class.define(function(a){this.view=a,this.nextState=E,this.relayoutNewContainers=!0},{name:"RealizingState",enter:function(){var a=this,b=new f;this.promise=b.promise.then(function(){return a.view._executeScrollToFunctor()}).then(function(){return a.relayoutNewContainers=!1,e._cancelBlocker(a.view._realizePageImpl())}).then(function(){a.view._state===a&&(a.view._completeUpdateTree(),a.view._listView._writeProfilerMark("RealizingState_to_UnrealizingState"),a.view._setState(a.nextState))},function(b){return a.view._state!==a||a.canceling||(a.view._listView._writeProfilerMark("RealizingState_to_CanceledState"),a.view._setState(B)),e.wrapError(b)}),b.complete()},stop:function(){this.canceling=!0,this.promise.cancel(),this.view._cancelRealize(),this.view._setState(B)},realizePage:function(){this.canceling=!0,this.promise.cancel(),this.enter()},rebuildTree:function(){this.stop(),this.view._setState(x)},relayout:function(){this.stop(),this.view._setState(y)},layoutNewContainers:function(){this.relayoutNewContainers?this.relayout():(this.view._createLayoutSignal(),this.view._relayoutInComplete=!0)},waitForEntityPosition:function(){return this.view._getLayoutCompleted()},updateTree:function(a,b,c){return this.view._updateTreeImpl(a,b,c)},setLoadingState:function(a){this.view._listView._setViewState(a)}}),B=c.Class.define(function(a){this.view=a},{name:"CanceledState",enter:u,stop:function(){this.view._cancelRealize()},realizePage:function(a){this.stop(),this.view._setState(a)},rebuildTree:function(){this.stop(),this.view._setState(x)},relayout:function(a){this.stop(),this.view._setState(y,a)},layoutNewContainers:function(){this.relayout(B)},waitForEntityPosition:function(){return this.view._getLayoutCompleted()},updateTree:function(a,b,c){return this.view._updateTreeImpl(a,b,c)}}),C=c.Class.derive(A,function(a){this.view=a,this.nextState=D,this.relayoutNewContainers=!0},{name:"ScrollingState",setLoadingState:function(){}}),D=c.Class.derive(B,function(a){this.view=a},{name:"ScrollingPausedState",enter:function(){var a=this;this.promise=e._cancelBlocker(this.view._scrollEndPromise).then(function(){a.view._setState(E)})},stop:function(){this.promise.cancel(),this.view._cancelRealize()}}),E=c.Class.define(function(a){this.view=a},{name:"UnrealizingState",enter:function(){var a=this;this.promise=this.view._lazilyUnrealizeItems().then(function(){return a.view._listView._writeProfilerMark("_renderCompletePromise wait starts,info"),a.view._renderCompletePromise}).then(function(){a.view._setState(G)})},stop:function(){this.view._cancelRealize(),this.promise.cancel(),this.view._setState(B)},realizePage:function(a){this.promise.cancel(),this.view._setState(a)},rebuildTree:function(){this.view._setState(x)},relayout:function(){this.view._setState(y)},layoutNewContainers:function(){this.view._createLayoutSignal(),this.view._relayoutInComplete=!0},waitForEntityPosition:function(){return this.view._getLayoutCompleted()},updateTree:function(a,b,c){return this.view._updateTreeImpl(a,b,c)}}),F=c.Class.define(function(a,b){this.view=a,this.realizePromise=b,this.realizeId=1},{name:"RealizingAnimatingState",enter:function(){var a=this;this.animating=!0,this.animatePromise=this.view._startAnimations(),this.animateSignal=new f,this.view._executeAnimations=!1,this.animatePromise.done(function(){a.animating=!1,a.modifiedElements?(a.view._updateTreeImpl(a.count,a.delta,a.modifiedElements),a.modifiedElements=null,a.view._setState(B)):a.animateSignal.complete()},function(b){return a.animating=!1,e.wrapError(b)}),this._waitForRealize()},_waitForRealize:function(){var a=this;this.realizing=!0,this.realizePromise.done(function(){a.realizing=!1});var b=++this.realizeId;e.join([this.realizePromise,this.animateSignal.promise]).done(function(){b===a.realizeId&&(a.view._completeUpdateTree(),a.view._listView._writeProfilerMark("RealizingAnimatingState_to_UnrealizingState"),a.view._setState(E))})},stop:function(a){this.realizePromise.cancel(),this.view._cancelRealize(),a&&(this.animatePromise.cancel(),this.view._setState(B))},realizePage:function(){if(!this.modifiedElements){var a=this;this.realizePromise=this.view._executeScrollToFunctor().then(function(){return e._cancelBlocker(a.view._realizePageImpl())}),this._waitForRealize()}},rebuildTree:function(){this.stop(!0),this.view._setState(x)},relayout:function(){this.stop(!0),this.modifiedElements&&(this.view._updateTreeImpl(this.count,this.delta,this.modifiedElements),this.modifiedElements=null),this.view._setState(y)},layoutNewContainers:function(){this.view._createLayoutSignal(),this.view._relayoutInComplete=!0},waitForEntityPosition:function(){return this.view._getLayoutCompleted()},updateTree:function(a,b,c){if(this.animating){var d=this.modifiedElements;return this.count=a,this.delta=b,this.modifiedElements=c,d?e.cancel:this.animatePromise}return this.view._updateTreeImpl(a,b,c)},setLoadingState:function(a){this.view._listView._setViewState(a)}}),G=c.Class.derive(B,function(a){this.view=a},{name:"CompletedState",enter:function(){this._stopped=!1,this.view._setupDeferredActions(),this.view._realizationLevel=v._realizationLevel.normal,this.view._listView._raiseViewComplete(),this.view._state===this&&this.view._relayoutInComplete&&!this._stopped&&this.view._setState(H)},stop:function(){this._stopped=!0,B.prototype.stop.call(this)},layoutNewContainers:function(){this.view._createLayoutSignal(),this.view._setState(H)},updateTree:function(a,b,c){return this.view._updateTreeImpl(a,b,c,!0)}}),H=c.Class.derive(B,function(a){this.view=a},{name:"LayingoutNewContainersState",enter:function(){var a=this;this.promise=e.join([this.view.deferTimeout,this.view._layoutWork]),this.promise.then(function(){a.view._relayoutInComplete=!1,a.relayout(B)})},stop:function(){this.promise.cancel(),this.view._cancelRealize()},realizePage:function(a){this.stop(),this.view._setState(y,a)},layoutNewContainers:function(){this.view._createLayoutSignal()}});return v})})}),d("require-style!less/styles-listview",[],function(){}),d("require-style!less/colors-listview",[],function(){}),d("WinJS/Controls/ListView",["../Core/_Global","../Core/_Base","../Core/_BaseUtils","../Core/_ErrorFromName","../Core/_Events","../Core/_Log","../Core/_Resources","../Core/_WriteProfilerMark","../_Accents","../Animations","../Animations/_TransitionAnimation","../BindingList","../Promise","../Scheduler","../_Signal","../Utilities/_Control","../Utilities/_Dispose","../Utilities/_ElementUtilities","../Utilities/_Hoverable","../Utilities/_ItemsManager","../Utilities/_SafeHtml","../Utilities/_TabContainer","../Utilities/_UI","../Utilities/_VersionManager","./ElementResizeInstrument","./ItemContainer/_Constants","./ItemContainer/_ItemEventsHandler","./ListView/_BrowseMode","./ListView/_ErrorMessages","./ListView/_GroupFocusCache","./ListView/_GroupsContainer","./ListView/_Helpers","./ListView/_ItemsContainer","./ListView/_Layouts","./ListView/_SelectionManager","./ListView/_VirtualizeContentsView","require-style!less/styles-listview","require-style!less/colors-listview"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J){"use strict";function K(){var a=Q;Q=[],a=a.filter(function(a){return a._isZombie()?(a._dispose(),!1):!0}),Q=Q.concat(a)}function L(a){Q.push(a),N&&N.cancel(),N=m.timeout(P).then(K)}function M(a){return a.offsetParent?a.offsetParent.offsetWidth-a.offsetLeft-a.offsetWidth:0}i.createAccentRule(".win-listview:not(.win-selectionstylefilled) .win-selectioncheckmarkbackground,         .win-itemcontainer:not(.win-selectionstylefilled) .win-selectioncheckmarkbackground",[{name:"border-color",value:i.ColorTypes.accent},{name:"background-color",value:i.ColorTypes.accent}]),i.createAccentRule(".win-listview:not(.win-selectionstylefilled) .win-container.win-selected .win-selectionborder,         .win-itemcontainer:not(.win-selectionstylefilled).win-container.win-selected .win-selectionborder",[{name:"border-color",value:i.ColorTypes.accent}]),i.createAccentRule(".win-listview.win-selectionstylefilled .win-selected .win-selectionbackground,         .win-itemcontainer.win-selectionstylefilled.win-selected .win-selectionbackground",[{name:"background-color",value:i.ColorTypes.accent}]);var N,O=c._browserStyleEquivalents.transform,P=1e3,Q=[],R=r._uniqueID,S={get notCompatibleWithSemanticZoom(){return"ListView can only be used with SemanticZoom if randomAccess loading behavior is specified."},get listViewInvalidItem(){return"Item must provide index, key or description of corresponding item."},get listViewViewportAriaLabel(){return g._getWinJSString("ui/listViewViewportAriaLabel").value}},T=c.requireSupportedForProcessing,U={entrance:"entrance",contentTransition:"contentTransition"};b.Namespace.define("WinJS.UI",{ListViewAnimationType:U,ListView:b.Namespace._lazy(function(){var g=b.Class.define(function(){this.clear()},{add:function(a,b){if(a._lastKnownSizeOfData=b,this._range){this._range.start=Math.min(this._range.start,a.start);var c=this._range._lastKnownSizeOfData-this._range.end,d=a._lastKnownSizeOfData-a.end,e=Math.min(c,d);this._range._lastKnownSizeOfData=a._lastKnownSizeOfData,this._range.end=this._range._lastKnownSizeOfData-e}else this._range=a},addAll:function(){this.add({start:0,end:Number.MAX_VALUE},Number.MAX_VALUE)},clear:function(){this._range=null},get:function(){return this._range}}),i=b.Class.define(function(a){this._listView=a},{getPanAxis:function(){return this._listView._getPanAxis()},configureForZoom:function(a,b,c,d){this._listView._configureForZoom(a,b,c,d)},setCurrentItem:function(a,b){this._listView._setCurrentItem(a,b)},getCurrentItem:function(){return this._listView._getCurrentItem()},beginZoom:function(){return this._listView._beginZoom()},positionItem:function(a,b){return this._listView._positionItem(a,b)},endZoom:function(a){this._listView._endZoom(a)},pinching:{get:function(){return this._listView._pinching},set:function(a){this._listView._pinching=a}}}),s=b.Class.define(function(b,c){if(b=b||a.document.createElement("div"),this._id=b.id||"",this._writeProfilerMark("constructor,StartTM"),c=c||{},b.winControl=this,r.addClass(b,"win-disposable"),this._affectedRange=new g,this._mutationObserver=new r._MutationObserver(this._itemPropertyChange.bind(this)),this._versionManager=null,this._insertedItems={},this._element=b,this._startProperty=null,this._scrollProperty=null,this._scrollLength=null,this._scrolling=!1,this._zooming=!1,this._pinching=!1,this._itemsManager=null,this._canvas=null,this._cachedCount=z._UNINITIALIZED,this._loadingState=this._LoadingState.complete,this._firstTimeDisplayed=!0,this._currentScrollPosition=0,this._lastScrollPosition=0,this._notificationHandlers=[],this._itemsBlockExtent=-1,this._lastFocusedElementInGroupTrack={type:w.ObjectType.item,index:-1},this._headerFooterVisibilityStatus={headerVisible:!1,footerVisible:!1},this._viewportWidth=z._UNINITIALIZED,this._viewportHeight=z._UNINITIALIZED,this._manipulationState=r._MSManipulationEvent.MS_MANIPULATION_STATE_STOPPED,this._maxDeferredItemCleanup=Number.MAX_VALUE,this._groupsToRemove={},this._setupInternalTree(),this._isCurrentZoomView=!0,this._dragSource=!1,this._reorderable=!1,this._groupFocusCache=new D._UnsupportedGroupFocusCache,this._viewChange=z._ViewChange.rebuild,this._scrollToFunctor=null,this._setScrollbarPosition=!1,this._view=new J._VirtualizeContentsView(this),this._selection=new I._SelectionManager(this),this._createTemplates(),this._groupHeaderRenderer=t._trivialHtmlRenderer,this._itemRenderer=t._trivialHtmlRenderer,this._groupHeaderRelease=null,this._itemRelease=null,c.itemDataSource)this._dataSource=c.itemDataSource;else{var d=new l.List;this._dataSource=d.dataSource}this._selectionMode=w.SelectionMode.multi,this._tap=w.TapBehavior.invokeOnly,this._groupHeaderTap=w.GroupHeaderTapBehavior.invoke,this._mode=new B._SelectionMode(this),this._groups=new E._NoGroups(this),this._updateItemsAriaRoles(),this._updateGroupHeadersAriaRoles(),this._element.setAttribute("aria-multiselectable",this._multiSelection()),this._element.tabIndex=-1,this._tabManager.tabIndex=this._tabIndex,"absolute"!==this._element.style.position&&"relative"!==this._element.style.position&&(this._element.style.position="relative"),this._updateItemsManager(),c.layout||this._updateLayout(new H.GridLayout),this._attachEvents(),this._runningInit=!0,p.setOptions(this,c),this._runningInit=!1,this._batchViewUpdates(z._ViewChange.rebuild,z._ScrollToPriority.medium,0),this._writeProfilerMark("constructor,StopTM")},{element:{get:function(){return this._element}},layout:{get:function(){return this._layoutImpl},set:function(a){this._updateLayout(a),this._runningInit||(this._view.reset(),this._updateItemsManager(),this._batchViewUpdates(z._ViewChange.rebuild,z._ScrollToPriority.medium,0,!0))}},maxLeadingPages:{get:function(){return this._view.maxLeadingPages},set:function(a){this._view.maxLeadingPages=Math.max(0,Math.floor(a))}},maxTrailingPages:{get:function(){return this._view.maxTrailingPages},set:function(a){this._view.maxTrailingPages=Math.max(0,Math.floor(a))}},pagesToLoad:{get:function(){return 2*J._VirtualizeContentsView._defaultPagesToPrefetch+1},set:function(){r._deprecated(C.pagesToLoadIsDeprecated)}},pagesToLoadThreshold:{get:function(){return 0},set:function(){r._deprecated(C.pagesToLoadThresholdIsDeprecated)}},groupDataSource:{get:function(){return this._groupDataSource},set:function(a){function b(a){a.detail===w.DataSourceStatus.failure&&(c.itemDataSource=null,c.groupDataSource=null)}this._writeProfilerMark("set_groupDataSource,info");var c=this;this._groupDataSource&&this._groupDataSource.removeEventListener&&this._groupDataSource.removeEventListener("statuschanged",b,!1),
this._groupDataSource=a,this._groupFocusCache=a&&this._supportsGroupHeaderKeyboarding?new D._GroupFocusCache(this):new D._UnsupportedGroupFocusCache,this._groupDataSource&&this._groupDataSource.addEventListener&&this._groupDataSource.addEventListener("statuschanged",b,!1),this._createGroupsContainer(),this._runningInit?(this._updateGroupWork(),this._resetLayout()):(this._view.reset(),this._pendingLayoutReset=!0,this._pendingGroupWork=!0,this._batchViewUpdates(z._ViewChange.rebuild,z._ScrollToPriority.medium,0,!0))}},_updateGroupWork:function(){this._pendingGroupWork=!1,this._groupDataSource?r.addClass(this._element,z._groupsClass):r.removeClass(this._element,z._groupsClass),this._resetLayout()},automaticallyLoadPages:{get:function(){return!1},set:function(){r._deprecated(C.automaticallyLoadPagesIsDeprecated)}},loadingBehavior:{get:function(){return"randomAccess"},set:function(){r._deprecated(C.loadingBehaviorIsDeprecated)}},selectionMode:{get:function(){return this._selectionMode},set:function(a){if("string"==typeof a&&a.match(/^(none|single|multi)$/)){if(c.isPhone&&a===w.SelectionMode.single)return;return this._selectionMode=a,this._element.setAttribute("aria-multiselectable",this._multiSelection()),this._updateItemsAriaRoles(),void this._configureSelectionMode()}throw new d("WinJS.UI.ListView.ModeIsInvalid",C.modeIsInvalid)}},tapBehavior:{get:function(){return this._tap},set:function(a){c.isPhone&&a===w.TapBehavior.directSelect||(this._tap=a,this._updateItemsAriaRoles(),this._configureSelectionMode())}},groupHeaderTapBehavior:{get:function(){return this._groupHeaderTap},set:function(a){this._groupHeaderTap=a,this._updateGroupHeadersAriaRoles()}},swipeBehavior:{get:function(){return"none"},set:function(a){r._deprecated(C.swipeBehaviorDeprecated)}},itemDataSource:{get:function(){return this._itemsManager.dataSource},set:function(a){this._writeProfilerMark("set_itemDataSource,info"),this._dataSource=a||(new l.List).dataSource,this._groupFocusCache.clear(),this._runningInit||(this._selection._reset(),this._cancelAsyncViewWork(!0),this._updateItemsManager(),this._pendingLayoutReset=!0,this._batchViewUpdates(z._ViewChange.rebuild,z._ScrollToPriority.medium,0,!0))}},itemTemplate:{get:function(){return this._itemRenderer},set:function(a){this._setRenderer(a,!1),this._runningInit||(this._cancelAsyncViewWork(!0),this._updateItemsManager(),this._pendingLayoutReset=!0,this._batchViewUpdates(z._ViewChange.rebuild,z._ScrollToPriority.medium,0,!0))}},resetItem:{get:function(){return this._itemRelease},set:function(a){r._deprecated(C.resetItemIsDeprecated),this._itemRelease=a}},groupHeaderTemplate:{get:function(){return this._groupHeaderRenderer},set:function(a){this._setRenderer(a,!0),this._runningInit||(this._cancelAsyncViewWork(!0),this._pendingLayoutReset=!0,this._batchViewUpdates(z._ViewChange.rebuild,z._ScrollToPriority.medium,0,!0))}},resetGroupHeader:{get:function(){return this._groupHeaderRelease},set:function(a){r._deprecated(C.resetGroupHeaderIsDeprecated),this._groupHeaderRelease=a}},header:{get:function(){return this._header},set:function(a){r.empty(this._headerContainer),this._header=a,a&&(this._header.tabIndex=this._tabIndex,this._headerContainer.appendChild(a));var b=this._selection._getFocused();if(b.type===w.ObjectType.header){var c=b;a||(c={type:w.ObjectType.item,index:0}),this._hasKeyboardFocus?this._changeFocus(c,!0,!1,!0):this._changeFocusPassively(c)}this.recalculateItemPosition(),this._raiseHeaderFooterVisibilityEvent()}},footer:{get:function(){return this._footer},set:function(a){r.empty(this._footerContainer),this._footer=a,a&&(this._footer.tabIndex=this._tabIndex,this._footerContainer.appendChild(a));var b=this._selection._getFocused();if(b.type===w.ObjectType.footer){var c=b;a||(c={type:w.ObjectType.item,index:0}),this._hasKeyboardFocus?this._changeFocus(c,!0,!1,!0):this._changeFocusPassively(c)}this.recalculateItemPosition(),this._raiseHeaderFooterVisibilityEvent()}},loadingState:{get:function(){return this._loadingState}},selection:{get:function(){return this._selection}},indexOfFirstVisible:{get:function(){return this._view.firstIndexDisplayed},set:function(a){if(!(0>a)){this._writeProfilerMark("set_indexOfFirstVisible("+a+"),info"),this._raiseViewLoading(!0);var b=this;this._batchViewUpdates(z._ViewChange.realize,z._ScrollToPriority.high,function(){var c;return b._entityInRange({type:w.ObjectType.item,index:a}).then(function(a){return a.inRange?b._getItemOffset({type:w.ObjectType.item,index:a.index}).then(function(a){return c=a,b._ensureFirstColumnRange(w.ObjectType.item)}).then(function(){return c=b._correctRangeInFirstColumn(c,w.ObjectType.item),c=b._convertFromCanvasCoordinates(c),b._view.waitForValidScrollPosition(c.begin)}).then(function(a){var c=a<b._lastScrollPosition?"left":"right",d=b._viewport[b._scrollLength]-b._getViewportLength();return a=r._clamp(a,0,d),{position:a,direction:c}}):{position:0,direction:"left"}})},!0)}}},indexOfLastVisible:{get:function(){return this._view.lastIndexDisplayed}},currentItem:{get:function(){var a=this._selection._getFocused(),b={index:a.index,type:a.type,key:null,hasFocus:!!this._hasKeyboardFocus,showFocus:!1};if(a.type===w.ObjectType.groupHeader){var c=this._groups.group(a.index);c&&(b.key=c.key,b.showFocus=!(!c.header||!r.hasClass(c.header,z._itemFocusClass)))}else if(a.type===w.ObjectType.item){var d=this._view.items.itemAt(a.index);if(d){var e=this._itemsManager._recordFromElement(d);b.key=e.item&&e.item.key,b.showFocus=!!d.parentNode.querySelector("."+z._itemFocusOutlineClass)}}return b},set:function(a){function b(b,d,e){var f=!!a.showFocus&&c._hasKeyboardFocus;c._unsetFocusOnItem(d),c._selection._setFocused(e,f),c._hasKeyboardFocus?(c._keyboardFocusInbound=f,c._setFocusOnItem(e)):c._tabManager.childFocus=d?b:null,e.type!==w.ObjectType.groupHeader&&(c._updateFocusCache(e.index),c._updater&&(c._updater.newSelectionPivot=e.index,c._updater.oldSelectionPivot=-1),c._selection._pivot=e.index)}this._hasKeyboardFocus=a.hasFocus||this._hasKeyboardFocus,a.type||(a.type=w.ObjectType.item);var c=this;if(a.key&&(a.type===w.ObjectType.item&&this._dataSource.itemFromKey||a.type===w.ObjectType.groupHeader&&this._groupDataSource&&this._groupDataSource.itemFromKey)){this.oldCurrentItemKeyFetch&&this.oldCurrentItemKeyFetch.cancel();var d=a.type===w.ObjectType.groupHeader?this._groupDataSource:this._dataSource;this.oldCurrentItemKeyFetch=d.itemFromKey(a.key).then(function(d){if(c.oldCurrentItemKeyFetch=null,d){var e=a.type===w.ObjectType.groupHeader?c._groups.group(d.index).header:c._view.items.itemAt(d.index);b(e,!!e,{type:a.type,index:d.index})}})}else{var e;if(a.type===w.ObjectType.header||a.type===w.ObjectType.footer)e=a.type===w.ObjectType.header?this._header:this._footer,b(e,!!e,{type:a.type,index:a.index});else if(void 0!==a.index){if(a.type===w.ObjectType.groupHeader){var f=c._groups.group(a.index);e=f&&f.header}else e=c._view.items.itemAt(a.index);b(e,!!e,{type:a.type,index:a.index})}}}},zoomableView:{get:function(){return this._zoomableView||(this._zoomableView=new i(this)),this._zoomableView}},itemsDraggable:{get:function(){return this._dragSource},set:function(a){c.isPhone||this._dragSource!==a&&(this._dragSource=a,this._setDraggable())}},itemsReorderable:{get:function(){return this._reorderable},set:function(a){c.isPhone||this._reorderable!==a&&(this._reorderable=a,this._setDraggable())}},maxDeferredItemCleanup:{get:function(){return this._maxDeferredItemCleanup},set:function(a){this._maxDeferredItemCleanup=Math.max(0,+a||0)}},dispose:function(){this._dispose()},elementFromIndex:function(a){return this._view.items.itemAt(a)},indexOfElement:function(a){return this._view.items.index(a)},ensureVisible:function(a){var b=w.ObjectType.item,c=a;if(+a!==a&&(b=a.type,c=a.index),this._writeProfilerMark("ensureVisible("+b+": "+c+"),info"),!(0>c)){this._raiseViewLoading(!0);var d=this;this._batchViewUpdates(z._ViewChange.realize,z._ScrollToPriority.high,function(){var a;return d._entityInRange({type:b,index:c}).then(function(c){return c.inRange?d._getItemOffset({type:b,index:c.index}).then(function(c){return a=c,d._ensureFirstColumnRange(b)}).then(function(){a=d._correctRangeInFirstColumn(a,b);var e=d._getViewportLength(),f=d._viewportScrollPosition,g=f+e,h=d._viewportScrollPosition,i=a.end-a.begin;a=d._convertFromCanvasCoordinates(a);var j=!1;if(b===w.ObjectType.groupHeader&&f<=a.begin){var k=d._groups.group(c.index).header;if(k){var l,m=H._getMargins(k);if(d._horizontalLayout){var n=d._rtl(),o=n?M(k)-m.right:k.offsetLeft-m.left;l=o+k.offsetWidth+(n?m.left:m.right)}else l=k.offsetTop+k.offsetHeight+m.top;j=g>=l}}j||(i>=g-f?h=a.begin:a.begin<f?h=a.begin:a.end>g&&(h=a.end-e));var p=h<d._lastScrollPosition?"left":"right",q=d._viewport[d._scrollLength]-e;return h=r._clamp(h,0,q),{position:h,direction:p}}):{position:0,direction:"left"}})},!0)}},loadMorePages:function(){r._deprecated(C.loadMorePagesIsDeprecated)},recalculateItemPosition:function(){this._writeProfilerMark("recalculateItemPosition,info"),this._forceLayoutImpl(z._ViewChange.relayout)},forceLayout:function(){this._writeProfilerMark("forceLayout,info"),this._forceLayoutImpl(z._ViewChange.remeasure)},_entityInRange:function(a){if(a.type===w.ObjectType.item)return this._itemsCount().then(function(b){var c=r._clamp(a.index,0,b-1);return{inRange:c>=0&&b>c,index:c}});if(a.type===w.ObjectType.groupHeader){var b=r._clamp(a.index,0,this._groups.length()-1);return m.wrap({inRange:b>=0&&b<this._groups.length(),index:b})}return m.wrap({inRange:!0,index:0})},_forceLayoutImpl:function(a){var b=this;this._versionManager.unlocked.then(function(){b._writeProfilerMark("_forceLayoutImpl viewChange("+a+"),info"),b._cancelAsyncViewWork(),b._pendingLayoutReset=!0,b._resizeViewport(),b._batchViewUpdates(a,z._ScrollToPriority.low,function(){return{position:b._lastScrollPosition,direction:"right"}},!0,!0)})},_configureSelectionMode:function(){var b=z._selectionModeClass,c=z._hidingSelectionMode;if(this._isInSelectionMode())r.addClass(this._canvas,b),r.removeClass(this._canvas,c);else{if(r.hasClass(this._canvas,b)){var d=this;a.setTimeout(function(){a.setTimeout(function(){r.removeClass(d._canvas,c)},z._hidingSelectionModeAnimationTimeout)},50),r.addClass(this._canvas,c)}r.removeClass(this._canvas,b)}},_lastScrollPosition:{get:function(){return this._lastScrollPositionValue},set:function(a){if(0===a)this._lastDirection="right",this._direction="right",this._lastScrollPositionValue=0;else{var b=a<this._lastScrollPositionValue?"left":"right";this._direction=this._scrollDirection(a),this._lastDirection=b,this._lastScrollPositionValue=a}}},_hasHeaderOrFooter:{get:function(){return!(!this._header&&!this._footer)}},_getHeaderOrFooterFromElement:function(a){return this._header&&this._header.contains(a)?this._header:this._footer&&this._footer.contains(a)?this._footer:null},_supportsGroupHeaderKeyboarding:{get:function(){return this._groupDataSource}},_viewportScrollPosition:{get:function(){return this._currentScrollPosition=r.getScrollPosition(this._viewport)[this._scrollProperty],this._currentScrollPosition},set:function(a){var b={};b[this._scrollProperty]=a,r.setScrollPosition(this._viewport,b),this._currentScrollPosition=a}},_canvasStart:{get:function(){return this._canvasStartValue||0},set:function(a){var b=this._horizontal()?this._rtl()?-a:a:0,c=this._horizontal()?0:a;0!==a?this._canvas.style[O.scriptName]="translate( "+b+"px, "+c+"px)":this._canvas.style[O.scriptName]="",this._canvasStartValue=a}},scrollPosition:{get:function(){return this._viewportScrollPosition},set:function(a){var b=this;this._batchViewUpdates(z._ViewChange.realize,z._ScrollToPriority.high,function(){return b._view.waitForValidScrollPosition(a).then(function(){var c=b._viewport[b._scrollLength]-b._getViewportLength();a=r._clamp(a,0,c);var d=a<b._lastScrollPosition?"left":"right";return{position:a,direction:d}})},!0)}},_setRenderer:function(a,b){var e;if(a){if("function"==typeof a)e=a;else if("object"==typeof a){if(c.validation&&!a.renderItem)throw new d("WinJS.UI.ListView.invalidTemplate",C.invalidTemplate);e=a.renderItem}}else{if(c.validation)throw new d("WinJS.UI.ListView.invalidTemplate",C.invalidTemplate);e=t.trivialHtmlRenderer}e&&(b?this._groupHeaderRenderer=e:this._itemRenderer=e)},_renderWithoutReuse:function(a,b){b&&q._disposeElement(b);var c=this._itemRenderer(a);if(c.then)return c.then(function(a){return a.tabIndex=0,a});var d=c.element||c;return d.tabIndex=0,c},_isInsertedItem:function(a){return!!this._insertedItems[a.handle]},_clearInsertedItems:function(){for(var a=Object.keys(this._insertedItems),b=0,c=a.length;c>b;b++)this._insertedItems[a[b]].release();this._insertedItems={},this._modifiedElements=[],this._countDifference=0},_cancelAsyncViewWork:function(a){this._view.stopWork(a)},_updateView:function(){function a(){c._itemsBlockExtent=-1,c._firstItemRange=null,c._firstHeaderRange=null,c._itemMargins=null,c._headerMargins=null,c._canvasMargins=null,c._cachedRTL=null,c._rtl()}function b(){c._scrollToPriority=z._ScrollToPriority.uninitialized;var a=c._setScrollbarPosition;c._setScrollbarPosition=!1;var b="number"==typeof c._scrollToFunctor?{position:c._scrollToFunctor}:c._scrollToFunctor();return m.as(b).then(function(b){return b=b||{},a&&+b.position===b.position&&(c._lastScrollPosition=b.position,c._viewportScrollPosition=b.position),b},function(b){return c._setScrollbarPosition|=a,m.wrapError(b)})}if(!this._isZombie()){var c=this,d=this._viewChange;this._viewChange=z._ViewChange.realize,d===z._ViewChange.rebuild?(this._pendingGroupWork&&this._updateGroupWork(),this._pendingLayoutReset&&this._resetLayout(),a(),this._firstTimeDisplayed||this._view.reset(),this._view.reload(b,!0),this._setFocusOnItem(this._selection._getFocused()),this._headerFooterVisibilityStatus={headerVisible:!1,footerVisible:!1}):d===z._ViewChange.remeasure?(this._view.resetItems(!0),this._resetLayout(),a(),this._view.refresh(b),this._setFocusOnItem(this._selection._getFocused()),this._headerFooterVisibilityStatus={headerVisible:!1,footerVisible:!1}):d===z._ViewChange.relayout?(this._pendingLayoutReset&&(this._resetLayout(),a()),this._view.refresh(b)):(this._view.onScroll(b),this._raiseHeaderFooterVisibilityEvent())}},_batchViewUpdates:function(a,b,c,d,e){if(this._viewChange=Math.min(this._viewChange,a),(null===this._scrollToFunctor||b>=this._scrollToPriority)&&(this._scrollToPriority=b,this._scrollToFunctor=c),this._setScrollbarPosition|=!!d,!this._batchingViewUpdates){this._raiseViewLoading();var f=this;this._batchingViewUpdatesSignal=new o,this._batchingViewUpdates=m.any([this._batchingViewUpdatesSignal.promise,n.schedulePromiseHigh(null,"WinJS.UI.ListView._updateView")]).then(function(){return f._isZombie()?void 0:f._viewChange!==z._ViewChange.rebuild||f._firstTimeDisplayed||0===Object.keys(f._view.items._itemData).length||e?void 0:f._fadeOutViewport()}).then(function(){f._batchingViewUpdates=null,f._batchingViewUpdatesSignal=null,f._updateView(),f._firstTimeDisplayed=!1},function(){f._batchingViewUpdates=null,f._batchingViewUpdatesSignal=null})}return this._batchingViewUpdatesSignal},_resetCanvas:function(){if(!this._disposed){var b=a.document.createElement("div");b.className=this._canvas.className,this._viewport.replaceChild(b,this._canvas),this._canvas=b,this._groupsToRemove={},this._canvas.appendChild(this._canvasProxy)}},_setupInternalTree:function(){r.addClass(this._element,z._listViewClass),r[this._rtl()?"addClass":"removeClass"](this._element,z._rtlListViewClass),this._element.innerHTML='<div tabIndex="-1" role="group" class="'+z._viewportClass+" "+z._horizontalClass+'"><div></div><div class="'+z._scrollableClass+'"><div class="'+z._proxyClass+'"></div></div><div></div><div></div></div><div aria-hidden="true" style="position:absolute;left:50%;top:50%;width:0px;height:0px;" tabindex="-1"></div>',this._viewport=this._element.firstElementChild,this._headerContainer=this._viewport.firstElementChild,r.addClass(this._headerContainer,z._listHeaderContainerClass),this._canvas=this._headerContainer.nextElementSibling,this._footerContainer=this._canvas.nextElementSibling,r.addClass(this._footerContainer,z._listFooterContainerClass),this._canvasProxy=this._canvas.firstElementChild,this._deleteWrapper=this._canvas.nextElementSibling,this._keyboardEventsHelper=this._viewport.nextElementSibling,this._tabIndex=r.getTabIndex(this._element),this._tabIndex<0&&(this._tabIndex=0),this._tabManager=new v.TabContainer(this._viewport),this._tabManager.tabIndex=this._tabIndex,this._progressBar=a.document.createElement("progress"),r.addClass(this._progressBar,z._progressClass),r.addClass(this._progressBar,"win-progress-ring"),this._progressBar.style.position="absolute",this._progressBar.max=100},_unsetFocusOnItem:function(b){this._tabManager.childFocus&&this._clearFocusRectangle(this._tabManager.childFocus),this._isZombie()||(b||(this._tabManager.childFocus&&(this._tabManager.childFocus=null),this._keyboardEventsHelper._shouldHaveFocus=!1,a.document.activeElement!==this._viewport&&this._hasKeyboardFocus&&(this._keyboardEventsHelper._shouldHaveFocus=!0,r._setActive(this._keyboardEventsHelper))),this._itemFocused=!1)},_setFocusOnItem:function(a){if(this._writeProfilerMark("_setFocusOnItem,info"),this._focusRequest&&this._focusRequest.cancel(),!this._isZombie()){var b=this,c=function(c){b._isZombie()||(b._tabManager.childFocus!==c&&(b._tabManager.childFocus=c),b._focusRequest=null,b._hasKeyboardFocus&&!b._itemFocused&&(b._selection._keyboardFocused()&&b._drawFocusRectangle(c),a.type!==w.ObjectType.groupHeader&&a.type!==w.ObjectType.item||b._view.updateAriaForAnnouncement(c,a.type===w.ObjectType.groupHeader?b._groups.length():b._cachedCount),b._itemFocused=!0,r._setActive(c)))};a.type===w.ObjectType.item?this._focusRequest=this._view.items.requestItem(a.index):a.type===w.ObjectType.groupHeader?this._focusRequest=this._groups.requestHeader(a.index):this._focusRequest=m.wrap(a.type===w.ObjectType.header?this._header:this._footer),this._focusRequest.then(c)}},_attachEvents:function(){function a(a,b,c){return{name:b?a:a.toLowerCase(),handler:function(b){d["_on"+a](b)},capture:c}}function b(a,b,c){return{capture:c,name:b?a:a.toLowerCase(),handler:function(b){var c=d._mode,e="on"+a;!d._disposed&&c[e]&&c[e](b)}}}function c(a,b){return{handler:function(b){d["_on"+a](b)},filter:b}}var d=this,e=[c("PropertyChange",["dir","style","tabindex"])];this._cachedStyleDir=this._element.style.direction,e.forEach(function(a){new r._MutationObserver(a.handler).observe(d._element,{attributes:!0,attributeFilter:a.filter})});var f=[b("PointerDown"),b("click",!1),b("PointerUp"),b("LostPointerCapture"),b("MSHoldVisual",!0),b("PointerCancel",!0),b("DragStart"),b("DragOver"),b("DragEnter"),b("DragLeave"),b("Drop"),b("ContextMenu")];f.forEach(function(a){r._addEventListener(d._viewport,a.name,a.handler,!!a.capture)});var g=[a("FocusIn",!1,!1),a("FocusOut",!1,!1),b("KeyDown"),b("KeyUp")];g.forEach(function(a){r._addEventListener(d._element,a.name,a.handler,!!a.capture)}),this._onElementResizeBound=this._onElementResize.bind(this),r._resizeNotifier.subscribe(this._element,this._onElementResizeBound),this._elementResizeInstrument=new y._ElementResizeInstrument,this._element.appendChild(this._elementResizeInstrument.element),this._elementResizeInstrument.addEventListener("resize",this._onElementResizeBound),r._inDom(this.element).then(function(){d._disposed||d._elementResizeInstrument.addedToDom()});var h=[a("MSManipulationStateChanged",!0),a("Scroll")];h.forEach(function(a){d._viewport.addEventListener(a.name,a.handler,!1)}),this._viewport.addEventListener("onTabEnter",this._onTabEnter.bind(this)),this._viewport.addEventListener("onTabExit",this._onTabExit.bind(this)),this._viewport.addEventListener("onTabEntered",function(a){d._mode.onTabEntered(a)}),this._viewport.addEventListener("onTabExiting",function(a){d._mode.onTabExiting(a)})},_updateItemsManager:function(){function a(a){a.detail===w.DataSourceStatus.failure&&(b.itemDataSource=null,b.groupDataSource=null)}var b=this,c={beginNotifications:function(){},changed:function(a,c){if(!b._ifZombieDispose()){b._createUpdater();var d=b._updater.elements[R(c)];if(d){var e=b.selection._isIncluded(d.index);if(e&&(b._updater.updateDrag=!0),c!==a){if(b._tabManager.childFocus!==c&&b._updater.newFocusedItem!==c||(b._updater.newFocusedItem=a,b._tabManager.childFocus=null),d.itemBox){r.addClass(a,z._itemClass),b._setupAriaSelectionObserver(a);var f=c.nextElementSibling;d.itemBox.removeChild(c),d.itemBox.insertBefore(a,f)}b._setAriaSelected(a,e),b._view.items.setItemAt(d.newIndex,{element:a,itemBox:d.itemBox,container:d.container,itemsManagerRecord:d.itemsManagerRecord}),delete b._updater.elements[R(c)],q._disposeElement(c),b._updater.elements[R(a)]={item:a,container:d.container,itemBox:d.itemBox,index:d.index,newIndex:d.newIndex,itemsManagerRecord:d.itemsManagerRecord}}else d.itemBox&&d.container&&(A._ItemEventsHandler.renderSelection(d.itemBox,a,e,!0),r[e?"addClass":"removeClass"](d.container,z._selectedClass));b._updater.changed=!0}for(var g=0,h=b._notificationHandlers.length;h>g;g++)b._notificationHandlers[g].changed(a,c);b._writeProfilerMark("changed,info")}},removed:function(a,c,d){function e(a){b._updater.updateDrag=!0,b._currentMode()._dragging&&b._currentMode()._draggingUnselectedItem&&b._currentMode()._dragInfo._isIncluded(a)&&(b._updater.newDragInfo=new I._Selection(b,[]));var c=b._updater.selectionFirst[a],d=b._updater.selectionLast[a],e=c||d;e&&(delete b._updater.selectionFirst[e.oldFirstIndex],delete b._updater.selectionLast[e.oldLastIndex],b._updater.selectionChanged=!0)}if(!b._ifZombieDispose()){b._createUpdater();var f=b._insertedItems[d];f&&delete b._insertedItems[d];var g;if(a){var h=b._updater.elements[R(a)],i=b._itemsManager.itemObject(a);if(i&&b._groupFocusCache.deleteItem(i.key),h){if(g=h.index,h.itemBox){var j=h.itemBox,k=z._containerOddClass,l=z._containerEvenClass,m=r.hasClass(j.parentElement,l)?l:k;b._updater.removed.push({index:g,itemBox:j,containerStripe:m})}b._updater.deletesCount++;var n=b._view.items.itemDataAt(g);n.removed=!0,delete b._updater.elements[R(a)]}else g=i&&i.index;b._updater.oldFocus.type!==w.ObjectType.groupHeader&&b._updater.oldFocus.index===g&&(b._updater.newFocus.index=g,b._updater.focusedItemRemoved=!0),e(g)}else g=b._updater.selectionHandles[d],g===+g&&e(g);b._writeProfilerMark("removed("+g+"),info"),b._updater.changed=!0}},updateAffectedRange:function(a){b._itemsCount().then(function(c){var d=b._view.containers?b._view.containers.length:0;a.start=Math.min(a.start,d),b._affectedRange.add(a,c)}),b._createUpdater(),b._updater.changed=!0},indexChanged:function(a,c,d){if(!b._ifZombieDispose()){if(b._createUpdater(),a){var e=b._itemsManager.itemObject(a);e&&b._groupFocusCache.updateItemIndex(e.key,c);var f=b._updater.elements[R(a)];f&&(f.newIndex=c,b._updater.changed=!0),b._updater.itemsMoved=!0}b._currentMode()._dragging&&b._currentMode()._draggingUnselectedItem&&b._currentMode()._dragInfo._isIncluded(d)&&(b._updater.newDragInfo=new I._Selection(b,[{firstIndex:c,lastIndex:c}]),b._updater.updateDrag=!0),b._updater.oldFocus.type!==w.ObjectType.groupHeader&&b._updater.oldFocus.index===d&&(b._updater.newFocus.index=c,b._updater.changed=!0),b._updater.oldSelectionPivot===d&&(b._updater.newSelectionPivot=c,b._updater.changed=!0);var g=b._updater.selectionFirst[d];g&&(g.newFirstIndex=c,b._updater.changed=!0,b._updater.selectionChanged=!0,b._updater.updateDrag=!0),g=b._updater.selectionLast[d],g&&(g.newLastIndex=c,b._updater.changed=!0,b._updater.selectionChanged=!0,b._updater.updateDrag=!0)}},endNotifications:function(){b._update()},inserted:function(a){b._ifZombieDispose()||(b._writeProfilerMark("inserted,info"),b._createUpdater(),b._updater.changed=!0,a.retain(),b._updater.insertsCount++,b._insertedItems[a.handle]=a)},moved:function(a,c,d,e){if(!b._ifZombieDispose()){if(b._createUpdater(),b._updater.movesCount++,a){b._updater.itemsMoved=!0;var f=b._updater.elements[R(a)];f&&(f.moved=!0)}var g=b._updater.selectionHandles[e.handle];if(g===+g){b._updater.updateDrag=!0,b._updater.selectionChanged=!0,b._updater.changed=!0;var h=b._updater.selectionFirst[g],i=b._updater.selectionLast[g],j=h||i;j&&j.oldFirstIndex!==j.oldLastIndex&&(delete b._updater.selectionFirst[j.oldFirstIndex],delete b._updater.selectionLast[j.oldLastIndex])}b._writeProfilerMark("moved("+g+"),info")}},countChanged:function(a,c){b._ifZombieDispose()||(b._writeProfilerMark("countChanged("+a+"),info"),b._cachedCount=a,b._createUpdater(),b._view.lastIndexDisplayed+1===c&&(b._updater.changed=!0),b._updater.countDifference+=a-c)},reload:function(){b._ifZombieDispose()||(b._writeProfilerMark("reload,info"),b._processReload())}};this._versionManager&&this._versionManager._dispose(),this._versionManager=new x._VersionManager,this._updater=null;var d=this._selection.getRanges();this._selection._selected.clear(),this._itemsManager&&(this._itemsManager.dataSource&&this._itemsManager.dataSource.removeEventListener&&this._itemsManager.dataSource.removeEventListener("statuschanged",a,!1),this._clearInsertedItems(),this._itemsManager.release()),this._itemsCountPromise&&(this._itemsCountPromise.cancel(),this._itemsCountPromise=null),this._cachedCount=z._UNINITIALIZED,this._itemsManager=t._createItemsManager(this._dataSource,this._renderWithoutReuse.bind(this),c,{ownerElement:this._element,versionManager:this._versionManager,indexInView:function(a){return a>=b.indexOfFirstVisible&&a<=b.indexOfLastVisible},viewCallsReady:!0,profilerId:this._id}),this._dataSource.addEventListener&&this._dataSource.addEventListener("statuschanged",a,!1),this._selection._selected.set(d)},_processReload:function(){this._affectedRange.addAll(),this._cancelAsyncViewWork(!0),this._currentMode()._dragging&&this._currentMode()._clearDragProperties(),this._groupFocusCache.clear(),this._selection._reset(),this._updateItemsManager(),this._pendingLayoutReset=!0,this._batchViewUpdates(z._ViewChange.rebuild,z._ScrollToPriority.low,this.scrollPosition)},_createUpdater:function(){if(!this._updater){this.itemDataSource._isVirtualizedDataSource&&this._affectedRange.addAll(),this._versionManager.beginUpdating(),this._cancelAsyncViewWork();var a={changed:!1,elements:{},selectionFirst:{},selectionLast:{},selectionHandles:{},oldSelectionPivot:{type:w.ObjectType.item,index:z._INVALID_INDEX},newSelectionPivot:{type:w.ObjectType.item,index:z._INVALID_INDEX},removed:[],selectionChanged:!1,oldFocus:{type:w.ObjectType.item,index:z._INVALID_INDEX},newFocus:{type:w.ObjectType.item,index:z._INVALID_INDEX},hadKeyboardFocus:this._hasKeyboardFocus,itemsMoved:!1,lastVisible:this.indexOfLastVisible,updateDrag:!1,movesCount:0,insertsCount:0,deletesCount:0,countDifference:0};this._view.items.each(function(b,c,d){a.elements[R(c)]={item:c,container:d.container,itemBox:d.itemBox,index:b,newIndex:b,itemsManagerRecord:d.itemsManagerRecord,detached:d.detached}});for(var b=this._selection._selected._ranges,c=0,d=b.length;d>c;c++){var e=b[c],f={newFirstIndex:b[c].firstIndex,oldFirstIndex:b[c].firstIndex,newLastIndex:b[c].lastIndex,oldLastIndex:b[c].lastIndex};a.selectionFirst[f.oldFirstIndex]=f,a.selectionLast[f.oldLastIndex]=f,a.selectionHandles[e.firstPromise.handle]=f.oldFirstIndex,a.selectionHandles[e.lastPromise.handle]=f.oldLastIndex}a.oldSelectionPivot=this._selection._pivot,a.newSelectionPivot=a.oldSelectionPivot,a.oldFocus=this._selection._getFocused(),a.newFocus=this._selection._getFocused(),this._updater=a}},_synchronize:function(){var a=this._updater;if(this._updater=null,this._groupsChanged=!1,this._countDifference=this._countDifference||0,a&&a.changed){a.itemsMoved&&this._layout.itemsMoved&&this._layout.itemsMoved(),a.removed.length&&this._layout.itemsRemoved&&this._layout.itemsRemoved(a.removed.map(function(a){return a.itemBox})),(a.itemsMoved||a.removed.length||Object.keys(this._insertedItems).length)&&this._layout.setupAnimations&&this._layout.setupAnimations(),this._currentMode().onDataChanged&&this._currentMode().onDataChanged();var b=[];for(var c in a.selectionFirst)if(a.selectionFirst.hasOwnProperty(c)){var d=a.selectionFirst[c];a.selectionChanged=a.selectionChanged||d.newLastIndex-d.newFirstIndex!==d.oldLastIndex-d.oldFirstIndex,d.newFirstIndex<=d.newLastIndex&&b.push({firstIndex:d.newFirstIndex,lastIndex:d.newLastIndex})}if(a.selectionChanged){var e=new I._Selection(this,b);this._selection._fireSelectionChanging(e),this._selection._selected.set(b),this._selection._fireSelectionChanged(),e.clear()}else this._selection._selected.set(b);this._selection._updateCount(this._cachedCount),a.newSelectionPivot=Math.min(this._cachedCount-1,a.newSelectionPivot),this._selection._pivot=a.newSelectionPivot>=0?a.newSelectionPivot:z._INVALID_INDEX,a.newFocus.type!==w.ObjectType.groupHeader&&(a.newFocus.index=Math.max(0,Math.min(this._cachedCount-1,a.newFocus.index))),this._selection._setFocused(a.newFocus,this._selection._keyboardFocused());var f=this._modifiedElements||[],g={};for(this._modifiedElements=[],this._countDifference+=a.countDifference,c=0;c<f.length;c++){var h=f[c];-1===h.newIndex?this._modifiedElements.push(h):g[h.newIndex]=h}for(c=0;c<a.removed.length;c++){var i=a.removed[c],h=g[i.index];h?delete g[i.index]:h={oldIndex:i.index},h.newIndex=-1,h._removalHandled||(h._itemBox=i.itemBox,h._containerStripe=i.containerStripe),this._modifiedElements.push(h)}var j=Object.keys(this._insertedItems);for(c=0;c<j.length;c++)this._modifiedElements.push({oldIndex:-1,newIndex:this._insertedItems[j[c]].index});this._writeProfilerMark("_synchronize:update_modifiedElements,StartTM");var k={};for(c in a.elements)if(a.elements.hasOwnProperty(c)){var l=a.elements[c];k[l.newIndex]={element:l.item,container:l.container,itemBox:l.itemBox,itemsManagerRecord:l.itemsManagerRecord,detached:l.detached};var h=g[l.index];h?(delete g[l.index],h.newIndex=l.newIndex):h={oldIndex:l.index,newIndex:l.newIndex},h.moved=l.moved,this._modifiedElements.push(h)}this._writeProfilerMark("_synchronize:update_modifiedElements,StopTM");var m=Object.keys(g);for(c=0;c<m.length;c++){var n=m[c],h=g[n];-1!==h.oldIndex&&this._modifiedElements.push(h)}this._view.items._itemData=k,a.updateDrag&&this._currentMode()._dragging&&(this._currentMode()._draggingUnselectedItem?a.newDragInfo&&(this._currentMode()._dragInfo=a.newDragInfo):this._currentMode()._dragInfo=this._selection,this._currentMode().fireDragUpdateEvent()),a.focusedItemRemoved||this._focusRequest&&a.oldFocus.index!==a.newFocus.index||a.oldFocus.type!==a.newFocus.type?(this._itemFocused=!1,this._setFocusOnItem(this._selection._getFocused())):a.newFocusedItem&&(this._hasKeyboardFocus=a.hadKeyboardFocus,this._itemFocused=!1,this._setFocusOnItem(this._selection._getFocused()));var o=this;return this._groups.synchronizeGroups().then(function(){return a.newFocus.type===w.ObjectType.groupHeader&&(a.newFocus.index=Math.min(o._groups.length()-1,a.newFocus.index),a.newFocus.index<0&&(a.newFocus={type:w.ObjectType.item,index:0}),o._selection._setFocused(a.newFocus,o._selection._keyboardFocused())),o._versionManager.endUpdating(),a.deletesCount>0&&o._updateDeleteWrapperSize(),o._view.updateTree(o._cachedCount,o._countDifference,o._modifiedElements)}).then(function(){return o._lastScrollPosition})}this._countDifference+=a?a.countDifference:0;var o=this;return this._groups.synchronizeGroups().then(function(){return a&&o._versionManager.endUpdating(),o._view.updateTree(o._cachedCount,o._countDifference,o._modifiedElements)}).then(function(){return o.scrollPosition})},_updateDeleteWrapperSize:function(a){var b=this._horizontal()?"width":"height";this._deleteWrapper.style["min-"+b]=(a?0:this.scrollPosition+this._getViewportSize()[b])+"px"},_verifyRealizationNeededForChange:function(){var a=!1,b=(this._view.lastIndexDisplayed||0)-(this._view.firstIndexDisplayed||0),c=this._updater&&0===this._updater.movesCount&&0===this._updater.insertsCount&&this._updater.deletesCount>0&&this._updater.deletesCount===Math.abs(this._updater.countDifference);
if(c&&this._updater.elements)for(var d=Object.keys(this._updater.elements),e=0,f=d.length;f>e;e++){var g=this._updater.elements[d[e]],h=g.index-g.newIndex;if(0>h||h>this._updater.deletesCount){c=!1;break}}this._view.deletesWithoutRealize=this._view.deletesWithoutRealize||0,c&&this._view.lastIndexDisplayed<this._view.end-b&&this._updater.deletesCount+this._view.deletesWithoutRealize<b?(a=!0,this._view.deletesWithoutRealize+=Math.abs(this._updater.countDifference),this._writeProfilerMark("skipping realization on delete,info")):this._view.deletesWithoutRealize=0,this._view._setSkipRealizationForChange(a)},_update:function(){if(this._writeProfilerMark("update,StartTM"),!this._ifZombieDispose()){this._updateJob=null;var a=this;this._versionManager.noOutstandingNotifications&&(this._updater||this._groupsChanged?(this._cancelAsyncViewWork(),this._verifyRealizationNeededForChange(),this._synchronize().then(function(b){a._writeProfilerMark("update,StopTM"),a._batchViewUpdates(z._ViewChange.relayout,z._ScrollToPriority.low,b).complete()})):this._batchViewUpdates(z._ViewChange.relayout,z._ScrollToPriority.low,this._lastScrollPosition).complete())}},_scheduleUpdate:function(){if(!this._updateJob){var a=this;this._updateJob=n.schedulePromiseHigh(null,"WinJS.UI.ListView._update").then(function(){a._updateJob&&a._update()}),this._raiseViewLoading()}},_createGroupsContainer:function(){this._groups&&this._groups.cleanUp(),this._groupDataSource?this._groups=new E._UnvirtualizedGroupsContainer(this,this._groupDataSource):this._groups=new E._NoGroups(this)},_createLayoutSite:function(){var b=this;return Object.create({invalidateLayout:function(){b._pendingLayoutReset=!0;var a="horizontal"===b._layout.orientation!==b._horizontalLayout;b._affectedRange.addAll(),b._batchViewUpdates(z._ViewChange.rebuild,z._ScrollToPriority.low,a?0:b.scrollPosition,!1,!0)},itemFromIndex:function(a){return b._itemsManager._itemPromiseAtIndex(a)},groupFromIndex:function(a){return b._groupsEnabled()?a<b._groups.length()?b._groups.group(a).userData:null:{key:"-1"}},groupIndexFromItemIndex:function(a){return a=Math.max(0,a),b._groups.groupFromItem(a)},renderItem:function(c){return m._cancelBlocker(b._itemsManager._itemFromItemPromise(c)).then(function(c){if(c){var d=b._itemsManager._recordFromElement(c);d.pendingReady&&d.pendingReady(),c=c.cloneNode(!0),r.addClass(c,z._itemClass);var e=a.document.createElement("div");r.addClass(e,z._itemBoxClass),e.appendChild(c);var f=a.document.createElement("div");return r.addClass(f,z._containerClass),f.appendChild(e),f}return m.cancel})},renderHeader:function(c){var d=t._normalizeRendererReturn(b.groupHeaderTemplate(m.wrap(c)));return d.then(function(b){r.addClass(b.element,z._headerClass);var c=a.document.createElement("div");return r.addClass(c,z._headerContainerClass),c.appendChild(b.element),c})},readyToMeasure:function(){b._getViewportLength(),b._getCanvasMargins()},_isZombie:function(){return b._isZombie()},_writeProfilerMark:function(a){b._writeProfilerMark(a)}},{_itemsManager:{enumerable:!0,get:function(){return b._itemsManager}},rtl:{enumerable:!0,get:function(){return b._rtl()}},surface:{enumerable:!0,get:function(){return b._canvas}},viewport:{enumerable:!0,get:function(){return b._viewport}},scrollbarPos:{enumerable:!0,get:function(){return b.scrollPosition}},viewportSize:{enumerable:!0,get:function(){return b._getViewportSize()}},loadingBehavior:{enumerable:!0,get:function(){return b.loadingBehavior}},animationsDisabled:{enumerable:!0,get:function(){return b._animationsDisabled()}},tree:{enumerable:!0,get:function(){return b._view.tree}},realizedRange:{enumerable:!0,get:function(){return{firstPixel:Math.max(0,b.scrollPosition-2*b._getViewportLength()),lastPixel:b.scrollPosition+3*b._getViewportLength()-1}}},visibleRange:{enumerable:!0,get:function(){return{firstPixel:b.scrollPosition,lastPixel:b.scrollPosition+b._getViewportLength()-1}}},itemCount:{enumerable:!0,get:function(){return b._itemsCount()}},groupCount:{enumerable:!0,get:function(){return b._groups.length()}},header:{enumerable:!0,get:function(){return b.header}},footer:{enumerable:!0,get:function(){return b.footer}}})},_initializeLayout:function(){this._affectedRange.addAll();var a=this._createLayoutSite();return this._layout.initialize(a,this._groupsEnabled()),"horizontal"===this._layout.orientation},_resetLayoutOrientation:function(a){this._horizontalLayout?(this._startProperty="left",this._scrollProperty="scrollLeft",this._scrollLength="scrollWidth",this._deleteWrapper.style.minHeight="",r.addClass(this._viewport,z._horizontalClass),r.removeClass(this._viewport,z._verticalClass),a&&(this._viewport.scrollTop=0)):(this._startProperty="top",this._scrollProperty="scrollTop",this._scrollLength="scrollHeight",this._deleteWrapper.style.minWidth="",r.addClass(this._viewport,z._verticalClass),r.removeClass(this._viewport,z._horizontalClass),a&&r.setScrollPosition(this._viewport,{scrollLeft:0}))},_resetLayout:function(){this._pendingLayoutReset=!1,this._affectedRange.addAll(),this._layout&&(this._layout.uninitialize(),this._horizontalLayout=this._initializeLayout(),this._resetLayoutOrientation())},_updateLayout:function(a){var b=!1;this._layout&&(this._cancelAsyncViewWork(!0),this._layout.uninitialize(),b=!0);var c;if(a&&"function"==typeof a.type){var d=T(a.type);c=new d(a)}else c=a&&a.initialize?a:new H.GridLayout(a);b&&this._resetCanvas(),this._layoutImpl=c,this._layout=new H._LayoutWrapper(c),b&&this._unsetFocusOnItem(),this._setFocusOnItem({type:w.ObjectType.item,index:0}),this._selection._setFocused({type:w.ObjectType.item,index:0}),this._lastFocusedElementInGroupTrack={type:w.ObjectType.item,index:-1},this._headerContainer.style.opacity=0,this._footerContainer.style.opacity=0,this._horizontalLayout=this._initializeLayout(),this._resetLayoutOrientation(b),b&&(this._canvas.style.width=this._canvas.style.height="")},_currentMode:function(){return this._mode},_setDraggable:function(){var a=this.itemsDraggable||this.itemsReorderable;this._view.items.each(function(b,c,d){d.itemBox&&(d.itemBox.draggable=a&&!r.hasClass(c,z._nonDraggableClass))})},_resizeViewport:function(){this._viewportWidth=z._UNINITIALIZED,this._viewportHeight=z._UNINITIALIZED},_onElementResize:function(){this._writeProfilerMark("_onElementResize,info"),n.schedule(function(){if(!this._isZombie()&&this._viewportWidth!==z._UNINITIALIZED&&this._viewportHeight!==z._UNINITIALIZED){var a=this._element.offsetWidth,b=this._element.offsetHeight;if(this._previousWidth!==a||this._previousHeight!==b){this._writeProfilerMark("resize ("+this._previousWidth+"x"+this._previousHeight+") => ("+a+"x"+b+"),info"),this._previousWidth=a,this._previousHeight=b,this._resizeViewport();var c=this;this._affectedRange.addAll(),this._batchViewUpdates(z._ViewChange.relayout,z._ScrollToPriority.low,function(){return{position:c.scrollPosition,direction:"right"}})}}},n.Priority.max,this,"WinJS.UI.ListView._onElementResize")},_onFocusIn:function(a){function b(a){c._changeFocus(c._selection._getFocused(),!0,!1,!1,a)}this._hasKeyboardFocus=!0;var c=this;if(a.target===this._keyboardEventsHelper)!this._keyboardEventsHelper._shouldHaveFocus&&this._keyboardFocusInbound?b(!0):this._keyboardEventsHelper._shouldHaveFocus=!1;else if(a.target===this._element)b();else{if(this._mode.inboundFocusHandled)return void(this._mode.inboundFocusHandled=!1);var d=this._view.items,e={},f=this._getHeaderOrFooterFromElement(a.target),g=null;if(f?(e.index=0,e.type=f===this._header?w.ObjectType.header:w.ObjectType.footer,this._lastFocusedElementInGroupTrack=e):(f=this._groups.headerFrom(a.target),f?(e.type=w.ObjectType.groupHeader,e.index=this._groups.index(f),this._lastFocusedElementInGroupTrack=e):(e.index=d.index(a.target),e.type=w.ObjectType.item,f=d.itemBoxAt(e.index),g=d.itemAt(e.index))),e.index!==z._INVALID_INDEX&&((this._keyboardFocusInbound||this._selection._keyboardFocused())&&(e.type===w.ObjectType.groupHeader&&a.target===f||e.type===w.ObjectType.item&&a.target.parentNode===f)&&this._drawFocusRectangle(f),this._tabManager.childFocus!==f&&this._tabManager.childFocus!==g&&(this._selection._setFocused(e,this._keyboardFocusInbound||this._selection._keyboardFocused()),this._keyboardFocusInbound=!1,e.type===w.ObjectType.item&&(f=d.itemAt(e.index)),this._tabManager.childFocus=f,c._updater))){var h=c._updater.elements[R(f)],i=e.index;h&&h.newIndex&&(i=h.newIndex),c._updater.oldFocus={type:e.type,index:i},c._updater.newFocus={type:e.type,index:i}}}},_onFocusOut:function(a){if(!this._disposed){this._hasKeyboardFocus=!1,this._itemFocused=!1;var b=this._view.items.itemBoxFrom(a.target)||this._groups.headerFrom(a.target);b&&this._clearFocusRectangle(b)}},_onMSManipulationStateChanged:function(a){function b(){c._manipulationEndSignal=null}var c=this;this._manipulationState=a.currentState,c._writeProfilerMark("_onMSManipulationStateChanged state("+a.currentState+"),info"),this._manipulationState===r._MSManipulationEvent.MS_MANIPULATION_STATE_STOPPED||this._manipulationEndSignal||(this._manipulationEndSignal=new o,this._manipulationEndSignal.promise.done(b,b)),this._manipulationState===r._MSManipulationEvent.MS_MANIPULATION_STATE_STOPPED&&this._manipulationEndSignal.complete()},_pendingScroll:!1,_onScroll:function(){this._zooming||this._pendingScroll||this._checkScroller()},_checkScroller:function(){if(!this._isZombie()){var a=this._viewportScrollPosition;if(a!==this._lastScrollPosition){this._pendingScroll=c._requestAnimationFrame(this._checkScroller.bind(this)),a=Math.max(0,a);var b=this._scrollDirection(a);this._lastScrollPosition=a,this._raiseViewLoading(!0),this._raiseHeaderFooterVisibilityEvent();var d=this;this._view.onScroll(function(){return{position:d._lastScrollPosition,direction:b}},this._manipulationEndSignal?this._manipulationEndSignal.promise:m.timeout(z._DEFERRED_SCROLL_END))}else this._pendingScroll=null}},_scrollDirection:function(a){var b=a<this._lastScrollPosition?"left":"right";return b===this._lastDirection?b:this._direction},_onTabEnter:function(){this._keyboardFocusInbound=!0},_onTabExit:function(){this._keyboardFocusInbound=!1},_onPropertyChange:function(a){var b=this;a.forEach(function(a){var c=!1;if("dir"===a.attributeName?c=!0:"style"===a.attributeName&&(c=b._cachedStyleDir!==a.target.style.direction),c&&(b._cachedStyleDir=a.target.style.direction,b._cachedRTL=null,r[b._rtl()?"addClass":"removeClass"](b._element,z._rtlListViewClass),b._lastScrollPosition=0,b._viewportScrollPosition=0,b.forceLayout()),"tabIndex"===a.attributeName){var d=b._element.tabIndex;d>=0&&(b._view.items.each(function(a,b){b.tabIndex=d}),b._header&&(b._header.tabIndex=d),b._footer&&(b._footer.tabIndex=d),b._tabIndex=d,b._tabManager.tabIndex=d,b._element.tabIndex=-1)}})},_getCanvasMargins:function(){return this._canvasMargins||(this._canvasMargins=H._getMargins(this._canvas)),this._canvasMargins},_convertCoordinatesByCanvasMargins:function(a,b){function c(c,d){void 0!==a[c]&&(a[c]=b(a[c],d))}var d;return this._horizontal()?(d=this._getCanvasMargins()[this._rtl()?"right":"left"],c("left",d)):(d=this._getCanvasMargins().top,c("top",d)),c("begin",d),c("end",d),a},_convertFromCanvasCoordinates:function(a){return this._convertCoordinatesByCanvasMargins(a,function(a,b){return a+b})},_convertToCanvasCoordinates:function(a){return this._convertCoordinatesByCanvasMargins(a,function(a,b){return a-b})},_getViewportSize:function(){return this._viewportWidth!==z._UNINITIALIZED&&this._viewportHeight!==z._UNINITIALIZED||(this._viewportWidth=Math.max(0,r.getContentWidth(this._element)),this._viewportHeight=Math.max(0,r.getContentHeight(this._element)),this._writeProfilerMark("viewportSizeDetected width:"+this._viewportWidth+" height:"+this._viewportHeight),this._previousWidth=this._element.offsetWidth,this._previousHeight=this._element.offsetHeight),{width:this._viewportWidth,height:this._viewportHeight}},_itemsCount:function(){function a(){b._itemsCountPromise=null}var b=this;if(this._cachedCount!==z._UNINITIALIZED)return m.wrap(this._cachedCount);var c;return this._itemsCountPromise?c=this._itemsCountPromise:(c=this._itemsCountPromise=this._itemsManager.dataSource.getCount().then(function(a){return a===w.CountResult.unknown&&(a=0),b._cachedCount=a,b._selection._updateCount(b._cachedCount),a},function(){return m.cancel}),this._itemsCountPromise.then(a,a)),c},_isSelected:function(a){return this._selection._isIncluded(a)},_LoadingState:{itemsLoading:"itemsLoading",viewPortLoaded:"viewPortLoaded",itemsLoaded:"itemsLoaded",complete:"complete"},_raiseViewLoading:function(a){this._loadingState!==this._LoadingState.itemsLoading&&(this._scrolling=!!a),this._setViewState(this._LoadingState.itemsLoading)},_raiseViewComplete:function(){this._disposed||this._view.animating||this._setViewState(this._LoadingState.complete)},_raiseHeaderFooterVisibilityEvent:function(){var b=this,c=function(a){if(!a)return!1;var c=b._lastScrollPosition,d=a[b._horizontal()?"offsetLeft":"offsetTop"],e=a[b._horizontal()?"offsetWidth":"offsetHeight"];return d+e>c&&d<c+b._getViewportLength()},d=function(c,d){var e=a.document.createEvent("CustomEvent");e.initCustomEvent(c,!0,!0,{visible:d}),b._element.dispatchEvent(e)},e=!!this._header&&c(this._headerContainer),f=!!this._footer&&c(this._footerContainer);this._headerFooterVisibilityStatus.headerVisible!==e&&(this._headerFooterVisibilityStatus.headerVisible=e,d("headervisibilitychanged",e)),this._headerFooterVisibilityStatus.footerVisible!==f&&(this._headerFooterVisibilityStatus.footerVisible=f,d("footervisibilitychanged",f))},_setViewState:function(b){if(b!==this._loadingState){var c={scrolling:!1};switch(b){case this._LoadingState.viewPortLoaded:this._scheduledForDispose||(L(this),this._scheduledForDispose=!0),this._setViewState(this._LoadingState.itemsLoading);break;case this._LoadingState.itemsLoaded:c={scrolling:this._scrolling},this._setViewState(this._LoadingState.viewPortLoaded);break;case this._LoadingState.complete:this._setViewState(this._LoadingState.itemsLoaded),this._updateDeleteWrapperSize(!0)}this._writeProfilerMark("loadingStateChanged:"+b+",info"),this._loadingState=b;var d=a.document.createEvent("CustomEvent");d.initCustomEvent("loadingstatechanged",!0,!1,c),this._element.dispatchEvent(d)}},_createTemplates:function(){function b(b,c){var d=a.document.createElement("div");return d.className=b,c||d.setAttribute("aria-hidden",!0),d}this._itemBoxTemplate=b(z._itemBoxClass,!0)},_updateSelection:function(){var a=this._selection.getIndices(),b=this._selection.isEverything(),c={};if(!b)for(var d=0,e=a.length;e>d;d++){var f=a[d];c[f]=!0}this._view.items.each(function(a,d,e){if(e.itemBox){var f=b||!!c[a];A._ItemEventsHandler.renderSelection(e.itemBox,d,f,!0),e.container&&r[f?"addClass":"removeClass"](e.container,z._selectedClass)}})},_getViewportLength:function(){return this._getViewportSize()[this._horizontal()?"width":"height"]},_horizontal:function(){return this._horizontalLayout},_rtl:function(){return"boolean"!=typeof this._cachedRTL&&(this._cachedRTL="rtl"===r._getComputedStyle(this._element,null).direction),this._cachedRTL},_showProgressBar:function(a,b,c){var d=this._progressBar,e=d.style;if(!d.parentNode){this._fadingProgressBar=!1,this._progressIndicatorDelayTimer&&this._progressIndicatorDelayTimer.cancel();var f=this;this._progressIndicatorDelayTimer=m.timeout(z._LISTVIEW_PROGRESS_DELAY).then(function(){f._isZombie()||(a.appendChild(d),j.fadeIn(d),f._progressIndicatorDelayTimer=null)})}e[this._rtl()?"right":"left"]=b,e.top=c},_hideProgressBar:function(){this._progressIndicatorDelayTimer&&(this._progressIndicatorDelayTimer.cancel(),this._progressIndicatorDelayTimer=null);var a=this._progressBar;if(a.parentNode&&!this._fadingProgressBar){this._fadingProgressBar=!0;var b=this;j.fadeOut(a).then(function(){a.parentNode&&a.parentNode.removeChild(a),b._fadingProgressBar=!1})}},_getPanAxis:function(){return this._horizontal()?"horizontal":"vertical"},_configureForZoom:function(a,b,e){if(c.validation&&(!this._view.realizePage||"number"!=typeof this._view.begin))throw new d("WinJS.UI.ListView.NotCompatibleWithSemanticZoom",S.notCompatibleWithSemanticZoom);this._isZoomedOut=a,this._disableEntranceAnimation=!b,this._isCurrentZoomView=b,this._triggerZoom=e},_setCurrentItem:function(a,b){this._rtl()&&(a=this._viewportWidth-a),this._horizontal()?a+=this.scrollPosition:b+=this.scrollPosition;var c=this._view.hitTest(a,b),d={type:c.type?c.type:w.ObjectType.item,index:c.index};d.index>=0&&(this._hasKeyboardFocus?this._changeFocus(d,!0,!1,!0):this._changeFocusPassively(d))},_getCurrentItem:function(){var a=this._selection._getFocused();a.type===w.ObjectType.groupHeader?a={type:w.ObjectType.item,index:this._groups.group(a.index).startIndex}:a.type!==w.ObjectType.item&&(a={type:w.ObjectType.item,index:a.type===w.ObjectType.header?0:this._cachedCount}),"number"!=typeof a.index&&(this._setCurrentItem(.5*this._viewportWidth,.5*this._viewportHeight),a=this._selection._getFocused());var b=this,c=this._getItemOffsetPosition(a.index).then(function(a){var c=b._canvasStart;return a[b._startProperty]+=c,a});return m.join({item:this._dataSource.itemFromIndex(a.index),position:c})},_animateItemsForPhoneZoom:function(){function a(a,b,c){return function(d){return(b[d]-a)*c}}function b(){for(var a=0,b=c.length;b>a;a++)c[a].style[O.scriptName]=""}for(var c=[],d=[],e=[],f=Number.MAX_VALUE,g=this,h=this._view.firstIndexDisplayed,i=Math.min(this._cachedCount,this._view.lastIndexDisplayed+1);i>h;h++)e.push(this._view.waitForEntityPosition({type:w.ObjectType.item,index:h}).then(function(){c.push(g._view.items.containerAt(h));var a=0;if(g.layout._getItemPosition){var b=g.layout._getItemPosition(h);b.row&&(a=b.row)}d.push(a),f=Math.min(a,f)}));return m.join(e).then(function(){return(0===c.length?m.wrap():k.executeTransition(c,{property:O.cssName,delay:a(f,d,30),duration:100,timing:"ease-in-out",from:g._isCurrentZoomView?"rotateX(0deg)":"rotateX(-90deg)",to:g._isCurrentZoomView?"rotateX(90deg)":"rotateX(0deg)"})).then(b,b)}).then(b,b)},_beginZoom:function(){this._zooming=!0;var a=null;if(c.isPhone){if(this._isZoomedOut)if(this._zoomAnimationPromise&&this._zoomAnimationPromise.cancel(),this._isCurrentZoomView){var b=this,d=function(){b._zoomAnimationPromise=null};this._zoomAnimationPromise=a=this._animateItemsForPhoneZoom().then(d,d)}else this._zoomAnimationPromise=new o,a=this._zoomAnimationPromise.promise}else{var e=this._horizontal(),f=-this.scrollPosition;r.addClass(this._viewport,e?z._zoomingXClass:z._zoomingYClass),this._canvasStart=f,r.addClass(this._viewport,e?z._zoomingYClass:z._zoomingXClass)}return a},_positionItem:function(a,b){function e(a){return f._getItemOffsetPosition(a).then(function(d){var e,g=f._horizontal(),h=f._viewport[g?"scrollWidth":"scrollHeight"],i=g?f._viewportWidth:f._viewportHeight,j=g?"headerContainerWidth":"headerContainerHeight",k=f.layout._sizes,l=0;k&&k[j]&&(l=k[j]);var m=c.isPhone?l:b[f._startProperty],n=i-(g?d.width:d.height);m=Math.max(0,Math.min(n,m)),e=d[f._startProperty]-m;var o=Math.max(0,Math.min(h-i,e)),p=o-e;e=o;var q={type:w.ObjectType.item,index:a};if(f._hasKeyboardFocus?f._changeFocus(q,!0):f._changeFocusPassively(q),f._raiseViewLoading(!0),c.isPhone)f._viewportScrollPosition=e;else{var r=-e;f._canvasStart=r}if(f._view.realizePage(e,!0),c.isPhone&&f._isZoomedOut){var s=function(){f._zoomAnimationPromise&&f._zoomAnimationPromise.complete&&f._zoomAnimationPromise.complete(),f._zoomAnimationPromise=null};f._animateItemsForPhoneZoom().then(s,s)}return g?{x:p,y:0}:{x:0,y:p}})}var f=this,g=0;if(a&&(g=this._isZoomedOut?a.groupIndexHint:a.firstItemIndexHint),"number"==typeof g)return e(g);var h,i=this._isZoomedOut?a.groupKey:a.firstItemKey;if("string"==typeof i&&this._dataSource.itemFromKey)h=this._dataSource.itemFromKey(i,this._isZoomedOut?{groupMemberKey:a.key,groupMemberIndex:a.index}:null);else{var j=this._isZoomedOut?a.groupDescription:a.firstItemDescription;if(c.validation&&void 0===j)throw new d("WinJS.UI.ListView.InvalidItem",S.listViewInvalidItem);h=this._dataSource.itemFromDescription(j)}return h.then(function(a){return e(a.index)})},_endZoom:function(a){if(!this._isZombie()){if(!c.isPhone){var b=this._canvasStart;r.removeClass(this._viewport,z._zoomingYClass),r.removeClass(this._viewport,z._zoomingXClass),this._canvasStart=0,this._viewportScrollPosition=-b}this._disableEntranceAnimation=!a,this._isCurrentZoomView=a,this._zooming=!1,this._view.realizePage(this.scrollPosition,!1)}},_getItemOffsetPosition:function(a){var b=this;return this._getItemOffset({type:w.ObjectType.item,index:a}).then(function(a){return b._ensureFirstColumnRange(w.ObjectType.item).then(function(){return a=b._correctRangeInFirstColumn(a,w.ObjectType.item),a=b._convertFromCanvasCoordinates(a),b._horizontal()?(a.left=a.begin,a.width=a.end-a.begin,a.height=a.totalHeight):(a.top=a.begin,a.height=a.end-a.begin,a.width=a.totalWidth),a})})},_groupRemoved:function(a){this._groupFocusCache.deleteGroup(a)},_updateFocusCache:function(a){this._updateFocusCacheItemRequest&&this._updateFocusCacheItemRequest.cancel();var b=this;this._updateFocusCacheItemRequest=this._view.items.requestItem(a).then(function(){b._updateFocusCacheItemRequest=null;var c=b._view.items.itemDataAt(a),d=b._groups.groupFromItem(a),e=b._groups.group(d).key;c.itemsManagerRecord.item&&b._groupFocusCache.updateCache(e,c.itemsManagerRecord.item.key,a)})},_changeFocus:function(a,b,c,d,e){if(!this._isZombie()){var f;if(a.type===w.ObjectType.item)f=this._view.items.itemAt(a.index),!b&&f&&r.hasClass(f,z._nonSelectableClass)&&(b=!0),this._updateFocusCache(a.index);else if(a.type===w.ObjectType.groupHeader){this._lastFocusedElementInGroupTrack=a;var g=this._groups.group(a.index);f=g&&g.header}else this._lastFocusedElementInGroupTrack=a,f=a.type===w.ObjectType.footer?this._footer:this._header;this._unsetFocusOnItem(!!f),this._hasKeyboardFocus=!0,this._selection._setFocused(a,e),d||this.ensureVisible(a),!b&&this._selectFocused(c)&&this._selection.set(a.index),this._setFocusOnItem(a)}},_changeFocusPassively:function(a){var b;switch(a.type){case w.ObjectType.item:b=this._view.items.itemAt(a.index),this._updateFocusCache(a.index);break;case w.ObjectType.groupHeader:this._lastFocusedElementInGroupTrack=a;var c=this._groups.group(a.index);b=c&&c.header;break;case w.ObjectType.header:this._lastFocusedElementInGroupTrack=a,b=this._header;break;case w.ObjectType.footer:this._lastFocusedElementInGroupTrack=a,b=this._footer}this._unsetFocusOnItem(!!b),this._selection._setFocused(a),this._setFocusOnItem(a)},_drawFocusRectangle:function(b){if(b!==this._header&&b!==this._footer)if(r.hasClass(b,z._headerClass))r.addClass(b,z._itemFocusClass);else{var c=this._view.items.itemBoxFrom(b);if(c.querySelector("."+z._itemFocusOutlineClass))return;r.addClass(c,z._itemFocusClass);var d=a.document.createElement("div");d.className=z._itemFocusOutlineClass,c.appendChild(d)}},_clearFocusRectangle:function(a){if(a&&!this._isZombie()&&a!==this._header&&a!==this._footer){var b=this._view.items.itemBoxFrom(a);if(b){r.removeClass(b,z._itemFocusClass);var c=b.querySelector("."+z._itemFocusOutlineClass);c&&c.parentNode.removeChild(c)}else{var d=this._groups.headerFrom(a);d&&r.removeClass(d,z._itemFocusClass)}}},_defaultInvoke:function(a){(this._isZoomedOut||c.isPhone&&this._triggerZoom&&a.type===w.ObjectType.groupHeader)&&(this._changeFocusPassively(a),this._triggerZoom())},_selectionAllowed:function(a){var b=void 0!==a?this.elementFromIndex(a):null,c=!(b&&r.hasClass(b,z._nonSelectableClass));return c&&this._selectionMode!==w.SelectionMode.none},_multiSelection:function(){return this._selectionMode===w.SelectionMode.multi},_isInSelectionMode:function(){return this.tapBehavior===w.TapBehavior.toggleSelect&&this.selectionMode===w.SelectionMode.multi},_selectOnTap:function(){return this._tap===w.TapBehavior.toggleSelect||this._tap===w.TapBehavior.directSelect},_selectFocused:function(a){return this._tap===w.TapBehavior.directSelect&&this._selectionMode===w.SelectionMode.multi&&!a},_dispose:function(){if(!this._disposed){this._disposed=!0;var a=function(a){a&&(a.textContent="")};r._resizeNotifier.unsubscribe(this._element,this._onElementResizeBound),this._elementResizeInstrument.dispose(),this._batchingViewUpdates&&this._batchingViewUpdates.cancel(),this._view&&this._view._dispose&&this._view._dispose(),this._mode&&this._mode._dispose&&this._mode._dispose(),this._groups&&this._groups._dispose&&this._groups._dispose(),this._selection&&this._selection._dispose&&this._selection._dispose(),this._layout&&this._layout.uninitialize&&this._layout.uninitialize(),this._itemsCountPromise&&this._itemsCountPromise.cancel(),this._versionManager&&this._versionManager._dispose(),this._clearInsertedItems(),this._itemsManager&&this._itemsManager.release(),this._zoomAnimationPromise&&this._zoomAnimationPromise.cancel(),a(this._viewport),a(this._canvas),a(this._canvasProxy),this._versionManager=null,this._view=null,this._mode=null,this._element=null,this._viewport=null,this._itemsManager=null,this._canvas=null,this._canvasProxy=null,this._itemsCountPromise=null,this._scrollToFunctor=null;var b=Q.indexOf(this);b>=0&&Q.splice(b,1)}},_isZombie:function(){return this._disposed||!(this.element.firstElementChild&&a.document.body.contains(this.element))},_ifZombieDispose:function(){var a=this._isZombie();return a&&!this._disposed&&L(this),a},_animationsDisabled:function(){return 0===this._viewportWidth||0===this._viewportHeight?!0:!k.isAnimationEnabled()},_fadeOutViewport:function(){var a=this;return new m(function(b){if(a._animationsDisabled())return void b();if(!a._fadingViewportOut){a._waitingEntranceAnimationPromise&&(a._waitingEntranceAnimationPromise.cancel(),a._waitingEntranceAnimationPromise=null);var c=a._fireAnimationEvent(U.contentTransition);a._firedAnimationEvent=!0,c.prevented?(a._disableEntranceAnimation=!0,a._viewport.style.opacity=1,b()):(a._fadingViewportOut=!0,a._viewport.style.overflow="hidden",j.fadeOut(a._viewport).then(function(){a._isZombie()||(a._fadingViewportOut=!1,a._viewport.style.opacity=1,b())}))}})},_animateListEntrance:function(a){function b(){e._canvas.style.opacity=1,e._headerContainer.style.opacity=1,e._footerContainer.style.opacity=1,e._viewport.style.overflow="",e._raiseHeaderFooterVisibilityEvent()}var d={prevented:!1,animationPromise:m.wrap()},e=this;return this._raiseHeaderFooterVisibilityEvent(),this._disableEntranceAnimation||this._animationsDisabled()?(b(),this._waitingEntranceAnimationPromise&&(this._waitingEntranceAnimationPromise.cancel(),this._waitingEntranceAnimationPromise=null),m.wrap()):(this._firedAnimationEvent?this._firedAnimationEvent=!1:d=this._fireAnimationEvent(U.entrance),d.prevented||c.isPhone?(b(),m.wrap()):(this._waitingEntranceAnimationPromise&&this._waitingEntranceAnimationPromise.cancel(),this._canvas.style.opacity=0,this._viewport.style.overflow="hidden",this._headerContainer.style.opacity=1,this._footerContainer.style.opacity=1,this._waitingEntranceAnimationPromise=d.animationPromise.then(function(){return e._isZombie()?void 0:(e._canvas.style.opacity=1,j.enterContent(e._viewport).then(function(){e._isZombie()||(e._waitingEntranceAnimationPromise=null,e._viewport.style.overflow="")}))}),this._waitingEntranceAnimationPromise))},_fireAnimationEvent:function(b){var c=a.document.createEvent("CustomEvent"),d=m.wrap();c.initCustomEvent("contentanimating",!0,!0,{type:b}),b===U.entrance&&(c.detail.setPromise=function(a){d=a});var e=!this._element.dispatchEvent(c);return{prevented:e,animationPromise:d}},_createAriaMarkers:function(){this._viewport.getAttribute("aria-label")||this._viewport.setAttribute("aria-label",S.listViewViewportAriaLabel),this._ariaStartMarker||(this._ariaStartMarker=a.document.createElement("div"),this._ariaStartMarker.id=R(this._ariaStartMarker),this._viewport.insertBefore(this._ariaStartMarker,this._viewport.firstElementChild)),this._ariaEndMarker||(this._ariaEndMarker=a.document.createElement("div"),this._ariaEndMarker.id=R(this._ariaEndMarker),this._viewport.appendChild(this._ariaEndMarker))},_updateItemsAriaRoles:function(){var a,b,c=this,d=this._element.getAttribute("role");this._currentMode().staticMode()?(a="list",b="listitem"):(a="listbox",b="option"),d===a&&this._itemRole===b||(this._element.setAttribute("role",a),this._itemRole=b,this._view.items.each(function(a,b){b.setAttribute("role",c._itemRole)}))},_updateGroupHeadersAriaRoles:function(){var a=this.groupHeaderTapBehavior===w.GroupHeaderTapBehavior.none?"separator":"link";if(this._headerRole!==a){this._headerRole=a;for(var b=0,c=this._groups.length();c>b;b++){var d=this._groups.group(b).header;d&&d.setAttribute("role",this._headerRole)}}},_setAriaSelected:function(a,b){var c="true"===a.getAttribute("aria-selected");b!==c&&a.setAttribute("aria-selected",b)},_setupAriaSelectionObserver:function(a){a._mutationObserver||(this._mutationObserver.observe(a,{attributes:!0,attributeFilter:["aria-selected"]}),a._mutationObserver=!0)},_itemPropertyChange:function(a){function b(a){a.forEach(function(a){a.item.setAttribute("aria-selected",!a.selected)})}if(!this._isZombie()){for(var c=this,d=c._selectionMode===w.SelectionMode.single,e=[],f=[],g=0,h=a.length;h>g;g++){var i=a[g].target,j=c._view.items.itemBoxFrom(i),k="true"===i.getAttribute("aria-selected");if(j&&k!==r._isSelectionRendered(j)){var l=c._view.items.index(j),m={index:l,item:i,selected:k};(c._selectionAllowed(l)?e:f).push(m)}}if(e.length>0){var n=new o;c.selection._synchronize(n).then(function(){var a=c.selection._cloneSelection();return e.forEach(function(b){b.selected?a[d?"set":"add"](b.index):a.remove(b.index)}),c.selection._set(a)}).then(function(a){c._isZombie()||a||b(e),n.complete()})}b(f)}},_groupsEnabled:function(){return!!this._groups.groupDataSource},_getItemPosition:function(a,b){var c=this;return this._view.waitForEntityPosition(a).then(function(){var d,e=c._zooming&&0!==c._canvasStart;switch(a.type){case w.ObjectType.item:d=c._view.getContainer(a.index);break;case w.ObjectType.groupHeader:d=c._view._getHeaderContainer(a.index);break;case w.ObjectType.header:e=!0,d=c._headerContainer;break;case w.ObjectType.footer:e=!0,d=c._footerContainer}if(d){c._writeProfilerMark("WinJS.UI.ListView:getItemPosition,info");var f,g;c._view._expandedRange?(f=c._view._expandedRange.first.index,g=c._view._expandedRange.last.index):b=!1,a.type===w.ObjectType.item?(b=!!b,b&=c._view._ensureContainerInDOM(a.index)):b=!1;var h=c._getItemMargins(a.type),i={left:c._rtl()?M(d)-h.right:d.offsetLeft-h.left,top:d.offsetTop-h.top,totalWidth:r.getTotalWidth(d),totalHeight:r.getTotalHeight(d),contentWidth:r.getContentWidth(d),contentHeight:r.getContentHeight(d)};return b&&c._view._forceItemsBlocksInDOM(f,g+1),e?i:c._convertToCanvasCoordinates(i)}return m.cancel})},_getItemOffset:function(a,b){var c=this;return this._getItemPosition(a,b).then(function(b){var d=c._getItemMargins(a.type);if(c._horizontal()){var e=c._rtl();b.begin=b.left-d[e?"left":"right"],b.end=b.left+b.totalWidth+d[e?"right":"left"]}else b.begin=b.top-d.bottom,b.end=b.top+b.totalHeight+d.top;return b})},_getItemMargins:function(b){b=b||w.ObjectType.item;var c=this,d=function(b){var d,e=c._canvas.querySelector("."+b);e||(e=a.document.createElement("div"),r.addClass(e,b),c._viewport.appendChild(e),d=!0);var f=H._getMargins(e);return d&&c._viewport.removeChild(e),f};return b===w.ObjectType.item?this._itemMargins?this._itemMargins:this._itemMargins=d(z._containerClass):b===w.ObjectType.groupHeader?this._headerMargins?this._headerMargins:this._headerMargins=d(z._headerContainerClass):(this._headerFooterMargins||(this._headerFooterMargins={headerMargins:d(z._listHeaderContainerClass),footerMargins:d(z._listFooterContainerClass)}),this._headerFooterMargins[b===w.ObjectType.header?"headerMargins":"footerMargins"])},_fireAccessibilityAnnotationCompleteEvent:function(b,c,d,e){var f={firstIndex:b,lastIndex:c,firstHeaderIndex:+d||-1,lastHeaderIndex:+e||-1},g=a.document.createEvent("CustomEvent");g.initCustomEvent("accessibilityannotationcomplete",!0,!1,f),
this._element.dispatchEvent(g)},_ensureFirstColumnRange:function(a){if(a===w.ObjectType.header||a===w.ObjectType.footer)return m.wrap();var b=a===w.ObjectType.item?"_firstItemRange":"_firstHeaderRange";if(this[b])return m.wrap();var c=this;return this._getItemOffset({type:a,index:0},!0).then(function(a){c[b]=a})},_correctRangeInFirstColumn:function(a,b){if(b===w.ObjectType.header||b===w.ObjectType.footer)return a;var c=b===w.ObjectType.groupHeader?this._firstHeaderRange:this._firstItemRange;return c.begin===a.begin&&(this._horizontal()?a.begin=-this._getCanvasMargins()[this._rtl()?"right":"left"]:a.begin=-this._getCanvasMargins().top),a},_updateContainers:function(b,c,d,e){function f(){var b=a.document.createElement("div");return b.className=z._containerClass,b}function g(b,c,d){c+d>m&&(d=m-c);var e,f=b.itemsContainer,g=f.itemsBlocks,h=n._view._blockSize,i=g.length?g[g.length-1]:null,j=g.length?(g.length-1)*h+i.items.length:0,k=d-j;if(k>0){var l,o=k;if(i&&i.items.length<h){var p=Math.min(o,h-i.items.length);l=i.items.length;var q=F._stripedContainers(p,j);u.insertAdjacentHTMLUnsafe(i.element,"beforeend",q),e=i.element.children;for(var r=0;p>r;r++)i.items.push(e[l+r]);o-=p}j=g.length*h;var s=Math.floor(o/h),t="",v=j,y=j+h;if(s>0){var z=["<div class='win-itemsblock'>"+F._stripedContainers(h,v)+"</div>","<div class='win-itemsblock'>"+F._stripedContainers(h,y)+"</div>"];t=F._repeat(z,s),j+=s*h}var A=o%h;A>0&&(t+="<div class='win-itemsblock'>"+F._stripedContainers(A,j)+"</div>",j+=A,s++);var B=a.document.createElement("div");u.setInnerHTMLUnsafe(B,t);for(var e=B.children,r=0;s>r;r++){var C=e[r],D={element:C,items:F._nodeListToArray(C.children)};g.push(D)}}else if(0>k)for(var E=k;0>E;E++){var G=i.items.pop();!n._view._requireFocusRestore&&G.contains(a.document.activeElement)&&(n._view._requireFocusRestore=a.document.activeElement,n._unsetFocusOnItem()),i.element.removeChild(G),x.push(G),i.items.length||(f.element===i.element.parentNode&&f.element.removeChild(i.element),g.pop(),i=g[g.length-1])}for(var r=0,H=g.length;H>r;r++)for(var C=g[r],E=0;E<C.items.length;E++)w.push(C.items[E])}function h(a,b,c){for(var d=e.filter(function(a){return-1===a.oldIndex&&a.newIndex>=b&&a.newIndex<b+c}).sort(function(a,b){return a.newIndex-b.newIndex}),g=a.itemsContainer,h=0,i=d.length;i>h;h++){var j=d[h],k=j.newIndex-b,l=f(),m=k<g.items.length?g.items[k]:null;g.items.splice(k,0,l),g.element.insertBefore(l,m)}}function i(a,b,c){b+c>m&&(c=m-b);var d=a.itemsContainer,e=c-d.items.length;if(e>0){var f=d.element.children,g=f.length;u.insertAdjacentHTMLUnsafe(d.element,"beforeend",F._repeat("<div class='win-container win-backdrop'></div>",e));for(var h=0;e>h;h++){var i=f[g+h];d.items.push(i)}}for(var h=e;0>h;h++){var i=d.items.pop();d.element.removeChild(i),x.push(i)}for(var h=0,j=d.items.length;j>h;h++)w.push(d.items[h])}function j(a,b){var c=n._view._createHeaderContainer(J),d={header:c,itemsContainer:{element:n._view._createItemsContainer(c)}};return d.itemsContainer[n._view._blockSize?"itemsBlocks":"items"]=[],n._view._blockSize?g(d,b,a.size):i(d,b,a.size),d}function k(a,b,d,f){for(var g,h,i=d+f-1,j=0,k=e.length;k>j;j++){var l=e[j];l.newIndex>=d&&l.newIndex<=i&&-1!==l.oldIndex&&(g!==+g||l.newIndex<g)&&(g=l.newIndex,h=l.newIndex-l.oldIndex)}if(g===+g){var m=0;for(j=0,k=e.length;k>j;j++){var l=e[j];l.newIndex>=d&&l.newIndex<g&&-1===l.oldIndex&&m++}var o=0,p=g-h;for(j=0,k=e.length;k>j;j++){var l=e[j];l.oldIndex>=b&&l.oldIndex<p&&-1===l.newIndex&&o++}h+=o,h-=m,h-=d-b;var q=a.itemsContainer;if(h>0){var r=q.element.children;u.insertAdjacentHTMLUnsafe(q.element,"afterBegin",F._repeat("<div class='win-container win-backdrop'></div>",h));for(var s=0;h>s;s++){var t=r[s];q.items.splice(s,0,t)}}for(var s=h;0>s;s++){var t=q.items.shift();q.element.removeChild(t)}h&&n._affectedRange.add({start:d,end:d+f},c)}}function l(a){for(var b=0,c=0,d=n._view.tree.length;d>c;c++){var e=n._view.tree[c],f=e.itemsContainer.items.length,g=b+f-1;if(a>=b&&g>=a)return{group:c,item:a-b};b+=f}}var m,n=this,o=this._view.containers.length+d,p=c>o;if(p){for(var q=0,s=0;s<e.length;s++)-1===e[s].oldIndex&&q++;m=this._view.containers.length+q}else m=c;var t=[],v={},w=[],x=[],y=[],A=0;if(!n._view._blockSize)for(var s=0,B=this._view.tree.length;B>s;s++)y.push(A),A+=this._view.tree[s].itemsContainer.items.length;if(!n._view._blockSize)for(var C=e.filter(function(a){return-1===a.newIndex&&!a._removalHandled}).sort(function(a,b){return b.oldIndex-a.oldIndex}),s=0,B=C.length;B>s;s++){var D=C[s];D._removalHandled=!0;var E=D._itemBox;D._itemBox=null;var G=l(D.oldIndex),H=this._view.tree[G.group],I=H.itemsContainer.items[G.item];I.parentNode.removeChild(I),r.hasClass(E,z._selectedClass)&&r.addClass(I,z._selectedClass),H.itemsContainer.items.splice(G.item,1),D.element=I}this._view._modifiedGroups=[];var J=this._canvasProxy;A=0;for(var s=0,B=b.length;B>s&&(!this._groupsEnabled()||m>A);s++){var K=b[s],L=this._view.keyToGroupIndex[K.key],M=this._view.tree[L];if(M)n._view._blockSize?g(M,A,K.size):(k(M,y[L],A,K.size),h(M,A,K.size),i(M,A,K.size)),t.push(M),v[K.key]=t.length-1,delete this._view.keyToGroupIndex[K.key],J=M.itemsContainer.element,this._view._modifiedGroups.push({oldIndex:L,newIndex:t.length-1,element:M.header});else{var N=j(K,A);t.push(N),v[K.key]=t.length-1,this._view._modifiedGroups.push({oldIndex:-1,newIndex:t.length-1,element:N.header}),J=N.itemsContainer.element}A+=K.size}for(var O=[],P=[],Q=this._view.keyToGroupIndex?Object.keys(this._view.keyToGroupIndex):[],s=0,B=Q.length;B>s;s++){var G=this._view.keyToGroupIndex[Q[s]],R=this._view.tree[G];if(P.push(R.header),O.push(R.itemsContainer.element),this._view._blockSize)for(var S=0;S<R.itemsContainer.itemsBlocks.length;S++)for(var T=R.itemsContainer.itemsBlocks[S],U=0;U<T.items.length;U++)x.push(T.items[U]);else for(var U=0;U<R.itemsContainer.items.length;U++)x.push(R.itemsContainer.items[U]);this._view._modifiedGroups.push({oldIndex:G,newIndex:-1,element:R.header})}for(var s=0,B=e.length;B>s;s++)if(-1===e[s].newIndex&&!e[s]._removalHandled){e[s]._removalHandled=!0;var E=e[s]._itemBox;e[s]._itemBox=null;var I;x.length?(I=x.pop(),r.empty(I)):I=f(),r.hasClass(E,z._selectedClass)&&r.addClass(I,z._selectedClass),e._containerStripe===z._containerEvenClass?(r.addClass(I,z._containerEvenClass),r.removeClass(I,z._containerOddClass)):(r.addClass(I,z._containerOddClass),r.removeClass(I,z._containerEvenClass)),I.appendChild(E),e[s].element=I}return this._view.tree=t,this._view.keyToGroupIndex=v,this._view.containers=w,{removedHeaders:P,removedItemsContainers:O}},_writeProfilerMark:function(a){var b="WinJS.UI.ListView:"+this._id+":"+a;h(b),f.log&&f.log(b,null,"listviewprofiler")}},{triggerDispose:function(){K()}});return b.Class.mix(s,e.createEventProperties("iteminvoked","groupheaderinvoked","selectionchanging","selectionchanged","loadingstatechanged","keyboardnavigating","contentanimating","itemdragstart","itemdragenter","itemdragend","itemdragbetween","itemdragleave","itemdragchanged","itemdragdrop","headervisibilitychanged","footervisibilitychanged","accessibilityannotationcomplete")),b.Class.mix(s,p.DOMEventMixin),s})})}),d("WinJS/Controls/FlipView/_Constants",[],function(){"use strict";var a={};return a.datasourceCountChangedEvent="datasourcecountchanged",a.pageVisibilityChangedEvent="pagevisibilitychanged",a.pageSelectedEvent="pageselected",a.pageCompletedEvent="pagecompleted",a}),d("WinJS/Controls/FlipView/_PageManager",["exports","../../Core/_Global","../../Core/_Base","../../Core/_BaseUtils","../../Core/_ErrorFromName","../../Core/_Log","../../Core/_Resources","../../Core/_WriteProfilerMark","../../Animations","../../Promise","../../_Signal","../../Scheduler","../../Utilities/_Dispose","../../Utilities/_ElementUtilities","../../Utilities/_TabContainer","./_Constants"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){"use strict";c.Namespace._moduleDefine(a,"WinJS.UI",{_FlipPageManager:c.Namespace._lazy(function(){function a(a){var b=a.winControl;return!(!b||!b._isFlipView)}function g(a){a.forEach(function(a){var b=a.target;b.winControl&&b.tabIndex>=0&&(b.winControl._pageManager._updateTabIndex(b.tabIndex),b.tabIndex=-1);var c=b.winControl;if(c&&c._isFlipView){var d=!1;"dir"===a.attributeName?d=!0:"style"===a.attributeName&&(d=c._cachedStyleDir!==b.style.direction),d&&(c._cachedStyleDir=b.style.direction,c._pageManager._rtl="rtl"===n._getComputedStyle(c._pageManager._flipperDiv,null).direction,c._pageManager.resized())}})}var q=n._uniqueID,r=d._browserStyleEquivalents,s=50,t=250,u={get badCurrentPage(){return"Invalid argument: currentPage must be a number greater than or equal to zero and be within the bounds of the datasource"}},v=c.Class.define(function(a,b,c,e,f,h,i){this._visibleElements=[],this._flipperDiv=a,this._panningDiv=b,this._panningDivContainer=c,this._buttonVisibilityHandler=i,this._currentPage=null,this._rtl="rtl"===n._getComputedStyle(this._flipperDiv,null).direction,this._itemsManager=e,this._itemSpacing=f,this._tabIndex=n.getTabIndex(a),this._tabIndex<0&&(this._tabIndex=0),b.tabIndex=-1,a.tabIndex=-1,this._tabManager=new o.TabContainer(this._panningDivContainer),this._tabManager.tabIndex=this._tabIndex,this._lastSelectedPage=null,this._lastSelectedElement=null,this._bufferSize=v.flipPageBufferCount,this._cachedSize=-1,this._environmentSupportsTouch=h;var j=this;this._panningDiv.addEventListener("keydown",function(a){j._blockTabs&&a.keyCode===n.Key.tab&&(a.stopImmediatePropagation(),a.preventDefault())},!0),n._addEventListener(this._flipperDiv,"focusin",function(a){a.target===j._flipperDiv&&j._currentPage.element&&n._setActive(j._currentPage.element)},!1),new n._MutationObserver(g).observe(this._flipperDiv,{attributes:!0,attributeFilter:["dir","style","tabindex"]}),this._cachedStyleDir=this._flipperDiv.style.direction,this._handleManipulationStateChangedBound=this._handleManipulationStateChanged.bind(this),this._environmentSupportsTouch&&this._panningDivContainer.addEventListener(d._browserEventEquivalents.manipulationStateChanged,this._handleManipulationStateChangedBound,!0)},{initialize:function(a,c){var d=null;if(this._panningDivContainerOffsetWidth=this._panningDivContainer.offsetWidth,this._panningDivContainerOffsetHeight=this._panningDivContainer.offsetHeight,this._isHorizontal=c,!this._currentPage){this._bufferAriaStartMarker=b.document.createElement("div"),this._bufferAriaStartMarker.id=q(this._bufferAriaStartMarker),this._panningDiv.appendChild(this._bufferAriaStartMarker),this._currentPage=this._createFlipPage(null,this),d=this._currentPage,this._panningDiv.appendChild(d.pageRoot);for(var e=2*this._bufferSize,f=0;e>f;f++)d=this._createFlipPage(d,this),this._panningDiv.appendChild(d.pageRoot);this._bufferAriaEndMarker=b.document.createElement("div"),this._bufferAriaEndMarker.id=q(this._bufferAriaEndMarker),this._panningDiv.appendChild(this._bufferAriaEndMarker)}this._prevMarker=this._currentPage.prev.prev,this._itemsManager&&this.setNewItemsManager(this._itemsManager,a)},dispose:function(){var a=this._currentPage,b=a;do m._disposeElement(b.element),b=b.next;while(b!==a)},setOrientation:function(a){if(this._notificationsEndedSignal){var b=this;return void this._notificationsEndedSignal.promise.done(function(){b._notificationsEndedSignal=null,b.setOrientation(a)})}if(a!==this._isHorizontal){this._isOrientationChanging=!0,this._isHorizontal?n.setScrollPosition(this._panningDivContainer,{scrollLeft:this._getItemStart(this._currentPage),scrollTop:0}):n.setScrollPosition(this._panningDivContainer,{scrollLeft:0,scrollTop:this._getItemStart(this._currentPage)}),this._isHorizontal=a;var c=this._panningDivContainer.style;c.overflowX="hidden",c.overflowY="hidden";var b=this;d._requestAnimationFrame(function(){b._isOrientationChanging=!1,b._forEachPage(function(a){var b=a.pageRoot.style;b.left="0px",b.top="0px"}),c.overflowX=b._isHorizontal&&b._environmentSupportsTouch?"scroll":"hidden",c.overflowY=b._isHorizontal||!b._environmentSupportsTouch?"hidden":"scroll",b._ensureCentered()})}},resetState:function(a){if(this._writeProfilerMark("WinJS.UI.FlipView:resetState,info"),0!==a){var b=this.jumpToIndex(a,!0);if(!b&&d.validation)throw new e("WinJS.UI.FlipView.BadCurrentPage",u.badCurrentPage);return b}m.disposeSubTree(this._flipperDiv),this._resetBuffer(null,!0);var c=this,f=j.wrap(!0);return this._itemsManager&&(f=c._itemsManager._firstItem().then(function(a){return c._currentPage.setElement(a),c._fetchPreviousItems(!0).then(function(){return c._fetchNextItems()}).then(function(){c._setButtonStates()})})),f.then(function(){c._tabManager.childFocus=c._currentPage.element,c._ensureCentered(),c._itemSettledOn()})},setNewItemsManager:function(a,b){this._itemsManager=a;var c=this;return this.resetState(b).then(function(){0!==b&&(c._tabManager.childFocus=c._currentPage.element,c._ensureCentered(),c._itemSettledOn())})},currentIndex:function(){if(!this._itemsManager)return 0;var a=0,b=this._navigationAnimationRecord?this._navigationAnimationRecord.newCurrentElement:this._currentPage.element;return b&&(a=this._getElementIndex(b)),a},resetScrollPos:function(){this._ensureCentered()},scrollPosChanged:function(){if(this._hasFocus&&(this._hadFocus=!0),this._itemsManager&&this._currentPage.element&&!this._isOrientationChanging){var a=this._getViewportStart(),b=this._lastScrollPos>a?this._getTailOfBuffer():this._getHeadOfBuffer();if(a!==this._lastScrollPos){for(;this._currentPage.element&&this._getItemStart(this._currentPage)>a&&this._currentPage.prev.element;)this._currentPage=this._currentPage.prev,this._fetchOnePrevious(b.prev),b=b.prev;for(;this._currentPage.element&&this._itemEnd(this._currentPage)<=a&&this._currentPage.next.element;)this._currentPage=this._currentPage.next,this._fetchOneNext(b.next),b=b.next;this._setButtonStates(),this._checkElementVisibility(!1),this._blockTabs=!0,this._lastScrollPos=a,this._currentPage.element&&(this._tabManager.childFocus=this._currentPage.element),this._setListEnds(),!this._manipulationState&&this._viewportOnItemStart()&&(this._currentPage.element.setAttribute("aria-setsize",this._cachedSize),this._currentPage.element.setAttribute("aria-posinset",this.currentIndex()+1),this._timeoutPageSelection())}}},itemRetrieved:function(a,b){var c=this;if(this._forEachPage(function(d){return d.element===b?(d===c._currentPage||d===c._currentPage.next?c._changeFlipPage(d,b,a):d.setElement(a,!0),!0):void 0}),this._navigationAnimationRecord&&this._navigationAnimationRecord.elementContainers)for(var d=this._navigationAnimationRecord.elementContainers,e=0,f=d.length;f>e;e++)d[e].element===b&&(c._changeFlipPage(d[e],b,a),d[e].element=a);this._checkElementVisibility(!1)},resized:function(){this._panningDivContainerOffsetWidth=this._panningDivContainer.offsetWidth,this._panningDivContainerOffsetHeight=this._panningDivContainer.offsetHeight;var a=this;this._forEachPage(function(b){b.pageRoot.style.width=a._panningDivContainerOffsetWidth+"px",b.pageRoot.style.height=a._panningDivContainerOffsetHeight+"px"}),this._ensureCentered(),this._writeProfilerMark("WinJS.UI.FlipView:resize,StopTM")},jumpToIndex:function(a,b){if(!b){if(!this._itemsManager||!this._currentPage.element||0>a)return j.wrap(!1);var c=this._getElementIndex(this._currentPage.element),d=Math.abs(a-c);if(0===d)return j.wrap(!1)}var e=j.wrap(!0),f=this;return e=e.then(function(){var c=f._itemsManager._itemPromiseAtIndex(a);return j.join({element:f._itemsManager._itemFromItemPromise(c),item:c}).then(function(a){var c=a.element;return f._resetBuffer(c,b),c?(f._currentPage.setElement(c),f._fetchNextItems().then(function(){return f._fetchPreviousItems(!0)}).then(function(){return!0})):!1})}),e=e.then(function(a){return f._setButtonStates(),a})},startAnimatedNavigation:function(a,b,c){if(this._writeProfilerMark("WinJS.UI.FlipView:startAnimatedNavigation,info"),this._currentPage.element){var d=this._currentPage,e=a?this._currentPage.next:this._currentPage.prev;if(e.element){this._hasFocus&&n._setActive(this._panningDiv),this._navigationAnimationRecord={},this._navigationAnimationRecord.goForward=a,this._navigationAnimationRecord.cancelAnimationCallback=b,this._navigationAnimationRecord.completionCallback=c,this._navigationAnimationRecord.oldCurrentPage=d,this._navigationAnimationRecord.newCurrentPage=e;var f=d.element,g=e.element;this._navigationAnimationRecord.newCurrentElement=g,d.setElement(null,!0),d.elementUniqueID=q(f),e.setElement(null,!0),e.elementUniqueID=q(g);var h=this._createDiscardablePage(f),i=this._createDiscardablePage(g);return h.pageRoot.itemIndex=this._getElementIndex(f),i.pageRoot.itemIndex=h.pageRoot.itemIndex+(a?1:-1),h.pageRoot.style.position="absolute",i.pageRoot.style.position="absolute",h.pageRoot.style.zIndex=1,i.pageRoot.style.zIndex=2,this._setItemStart(h,0),this._setItemStart(i,0),this._blockTabs=!0,this._visibleElements.push(g),this._announceElementVisible(g),this._navigationAnimationRecord.elementContainers=[h,i],{outgoing:h,incoming:i}}}return null},endAnimatedNavigation:function(a,b,c){if(this._writeProfilerMark("WinJS.UI.FlipView:endAnimatedNavigation,info"),this._navigationAnimationRecord&&this._navigationAnimationRecord.oldCurrentPage&&this._navigationAnimationRecord.newCurrentPage){var d=this._restoreAnimatedElement(this._navigationAnimationRecord.oldCurrentPage,b);this._restoreAnimatedElement(this._navigationAnimationRecord.newCurrentPage,c),d||this._setViewportStart(this._getItemStart(a?this._currentPage.next:this._currentPage.prev)),this._navigationAnimationRecord=null,this._itemSettledOn()}},startAnimatedJump:function(a,b,c){if(this._writeProfilerMark("WinJS.UI.FlipView:startAnimatedJump,info"),this._hasFocus&&(this._hadFocus=!0),this._currentPage.element){var d=this._currentPage.element,e=this._getElementIndex(d),f=this;return f.jumpToIndex(a).then(function(g){if(!g)return null;if(f._navigationAnimationRecord={},f._navigationAnimationRecord.cancelAnimationCallback=b,f._navigationAnimationRecord.completionCallback=c,f._navigationAnimationRecord.oldCurrentPage=null,f._forEachPage(function(a){return a.element===d?(f._navigationAnimationRecord.oldCurrentPage=a,!0):void 0}),f._navigationAnimationRecord.newCurrentPage=f._currentPage,f._navigationAnimationRecord.newCurrentPage===f._navigationAnimationRecord.oldCurrentPage)return null;var h=f._currentPage.element;f._navigationAnimationRecord.newCurrentElement=h,f._currentPage.setElement(null,!0),f._currentPage.elementUniqueID=q(h),f._navigationAnimationRecord.oldCurrentPage&&f._navigationAnimationRecord.oldCurrentPage.setElement(null,!0);var i=f._createDiscardablePage(d),j=f._createDiscardablePage(h);return i.pageRoot.itemIndex=e,j.pageRoot.itemIndex=a,i.pageRoot.style.position="absolute",j.pageRoot.style.position="absolute",i.pageRoot.style.zIndex=1,j.pageRoot.style.zIndex=2,f._setItemStart(i,0),f._setItemStart(j,f._itemSize(f._currentPage)),f._visibleElements.push(h),f._announceElementVisible(h),f._navigationAnimationRecord.elementContainers=[i,j],f._blockTabs=!0,{oldPage:i,newPage:j}})}return j.wrap(null)},simulateMouseWheelScroll:function(a){if(!this._environmentSupportsTouch&&!this._waitingForMouseScroll){var c;c="number"==typeof a.deltaY?(a.deltaX||a.deltaY)>0:a.wheelDelta<0;var d=c?this._currentPage.next:this._currentPage.prev;if(d.element){var e={contentX:0,contentY:0,viewportX:0,viewportY:0};e[this._isHorizontal?"contentX":"contentY"]=this._getItemStart(d),n._zoomTo(this._panningDivContainer,e),this._waitingForMouseScroll=!0,b.setTimeout(function(){this._waitingForMouseScroll=!1}.bind(this),n._zoomToDuration+100)}}},endAnimatedJump:function(a,b){this._writeProfilerMark("WinJS.UI.FlipView:endAnimatedJump,info"),this._navigationAnimationRecord.oldCurrentPage?this._navigationAnimationRecord.oldCurrentPage.setElement(a.element,!0):a.element.parentNode&&a.element.parentNode.removeChild(a.element),this._navigationAnimationRecord.newCurrentPage.setElement(b.element,!0),this._navigationAnimationRecord=null,this._ensureCentered(),this._itemSettledOn()},inserted:function(a,b,c,d){this._writeProfilerMark("WinJS.UI.FlipView:inserted,info");var e=this._prevMarker,f=!1,g=!1;if(d&&(this._createAnimationRecord(q(a),null),this._getAnimationRecord(a).inserted=!0),b){do{if(e===this._currentPage&&(f=!0),e.elementUniqueID===q(b)){g=!0;var h,i=e,j=a,k=q(a);if(f)for(;i.next!==this._prevMarker;)h=i.next.element,k=i.next.elementUniqueID,i.next.setElement(j,!0),!j&&k&&(i.next.elementUniqueID=k),j=h,i=i.next;else for(e.elementUniqueID===e.next.elementUniqueID&&e.elementUniqueID&&(i=e.next);i.next!==this._prevMarker;)h=i.element,k=i.elementUniqueID,i.setElement(j,!0),!j&&k&&(i.elementUniqueID=k),j=h,i=i.prev;if(j){var l=!1;this._forEachPage(function(a){return q(j)===a.elementUniqueID?(l=!0,!0):void 0}),l||this._releaseElementIfNotAnimated(j)}break}e=e.next}while(e!==this._prevMarker)}else if(c){for(;e.next!==this._prevMarker&&e.elementUniqueID!==q(c);)e===this._currentPage&&(f=!0),e=e.next;e.elementUniqueID===q(c)&&e!==this._prevMarker?(e.prev.setElement(a),g=!0):this._releaseElementIfNotAnimated(a)}else this._currentPage.setElement(a);this._getAnimationRecord(a).successfullyMoved=g,this._setButtonStates()},changed:function(a,b){this._writeProfilerMark("WinJS.UI.FlipView:changed,info");var c=this;if(this._forEachPage(function(d){if(d.elementUniqueID===q(b)){var e=c._animationRecords[d.elementUniqueID];return e.changed=!0,e.oldElement=b,e.newElement=a,d.element=a,d.elementUniqueID=q(a),c._animationRecords[q(a)]=e,!0}}),this._navigationAnimationRecord&&this._navigationAnimationRecord.elementContainers){for(var d=0,e=this._navigationAnimationRecord.elementContainers.length;e>d;d++){var f=this._navigationAnimationRecord.elementContainers[d];f&&f.elementUniqueID===q(b)&&(f.element=a,f.elementUniqueID=q(a))}var g=this._navigationAnimationRecord.newCurrentElement;g&&q(g)===q(b)&&(this._navigationAnimationRecord.newCurrentElement=a)}},moved:function(a,b,c){this._writeProfilerMark("WinJS.UI.FlipView:moved,info");var d=this._getAnimationRecord(a);d||(d=this._createAnimationRecord(q(a))),d.moved=!0,this.removed(a,!1,!1),b||c?this.inserted(a,b,c,!1):d.successfullyMoved=!1},removed:function(a,b,c){this._writeProfilerMark("WinJS.UI.FlipView:removed,info");var d=this,e=this._prevMarker,f=j.wrap();if(b){var g=!1;return this._forEachPage(function(b){(b.elementUniqueID===q(a)||g)&&(b.setElement(null,!0),g=!0)}),void this._setButtonStates()}if(c){var h=this._getAnimationRecord(a);h&&(h.removed=!0)}if(this._currentPage.elementUniqueID===q(a))this._currentPage.next.elementUniqueID?(this._shiftLeft(this._currentPage),this._ensureCentered()):this._currentPage.prev.elementUniqueID?this._shiftRight(this._currentPage):this._currentPage.setElement(null,!0);else if(e.elementUniqueID===q(a))e.next.element?f=this._itemsManager._previousItem(e.next.element).then(function(b){return b===a&&(b=d._itemsManager._previousItem(b)),b}).then(function(a){e.setElement(a,!0)}):e.setElement(null,!0);else if(e.prev.elementUniqueID===q(a))e.prev.prev&&e.prev.prev.element?f=this._itemsManager._nextItem(e.prev.prev.element).then(function(b){return b===a&&(b=d._itemsManager._nextItem(b)),b}).then(function(a){e.prev.setElement(a,!0)}):e.prev.setElement(null,!0);else{for(var i=this._currentPage.prev,k=!1;i!==e&&!k;)i.elementUniqueID===q(a)&&(this._shiftRight(i),k=!0),i=i.prev;for(i=this._currentPage.next;i!==e&&!k;)i.elementUniqueID===q(a)&&(this._shiftLeft(i),k=!0),i=i.next}return f.then(function(){d._setButtonStates()})},reload:function(){this._writeProfilerMark("WinJS.UI.FlipView:reload,info"),this.resetState(0)},getItemSpacing:function(){return this._itemSpacing},setItemSpacing:function(a){this._itemSpacing=a,this._ensureCentered()},notificationsStarted:function(){this._writeProfilerMark("WinJS.UI.FlipView:changeNotifications,StartTM"),this._logBuffer(),this._notificationsStarted=this._notificationsStarted||0,this._notificationsStarted++,this._notificationsEndedSignal=new k,this._temporaryKeys=[],this._animationRecords={};var a=this;this._forEachPage(function(b){a._createAnimationRecord(b.elementUniqueID,b)}),this._animationRecords.currentPage=this._currentPage.element,this._animationRecords.nextPage=this._currentPage.next.element},notificationsEnded:function(){var a=this;this._endNotificationsWork&&this._endNotificationsWork.cancel(),this._endNotificationsWork=this._ensureBufferConsistency().then(function(){function b(b){var c=null;return a._forEachPage(function(a){return a.element===b?(c=a,!0):void 0}),c}function c(b,c){a._writeProfilerMark("WinJS.UI.FlipView:_animateOldViewportItemRemoved,info");var d=a._createDiscardablePage(c);a._setItemStart(d,b.originalLocation),f.push(a._deleteFlipPage(d))}function d(c,d){a._writeProfilerMark("WinJS.UI.FlipView:_animateOldViewportItemMoved,info");var e,g=c.originalLocation;if(c.successfullyMoved)e=b(d),g=c.newLocation;else{e=a._createDiscardablePage(d);var h=a._getElementIndex(d),i=a._currentPage.element?a._getElementIndex(a._currentPage.element):0;g+=i>h?-100*a._bufferSize:100*a._bufferSize}e&&(a._setItemStart(e,c.originalLocation),f.push(a._moveFlipPage(e,function(){a._setItemStart(e,g)})))}function e(){return 0===f.length&&f.push(j.wrap()),j.join(f)}var f=[];a._forEachPage(function(b){var c=a._getAnimationRecord(b.element);c&&(c.changed&&(c.oldElement.removedFromChange=!0,f.push(a._changeFlipPage(b,c.oldElement,c.newElement))),c.newLocation=b.location,a._setItemStart(b,c.originalLocation),c.inserted&&(b.elementRoot.style.opacity=0))});var g=a._animationRecords.currentPage,h=a._getAnimationRecord(g),i=a._animationRecords.nextPage,k=a._getAnimationRecord(i);h&&h.changed&&(g=h.newElement),k&&k.changed&&(i=k.newElement),g===a._currentPage.element&&i===a._currentPage.next.element||(h&&h.removed&&c(h,g),k&&k.removed&&c(k,i)),a._blockTabs=!0,e().then(function(){f=[],h&&h.moved&&d(h,g),k&&k.moved&&d(k,i);var b=a._getAnimationRecord(a._currentPage.element),c=a._getAnimationRecord(a._currentPage.next.element);a._forEachPage(function(d){var e=a._getAnimationRecord(d.element);e&&(e.inserted?e!==b&&e!==c&&(d.elementRoot.style.opacity=1):e.originalLocation!==e.newLocation&&(e!==h&&e!==k||e===h&&!h.moved||e===k&&!k.moved)&&f.push(a._moveFlipPage(d,function(){a._setItemStart(d,e.newLocation)})))}),e().then(function(){f=[],b&&b.inserted&&f.push(a._insertFlipPage(a._currentPage)),c&&c.inserted&&f.push(a._insertFlipPage(a._currentPage.next)),e().then(function(){a._checkElementVisibility(!1),a._itemSettledOn(),a._setListEnds(),a._notificationsStarted--,0===a._notificationsStarted&&a._notificationsEndedSignal.complete(),a._writeProfilerMark("WinJS.UI.FlipView:changeNotifications,StopTM"),a._logBuffer(),a._endNotificationsWork=null})})})})},disableTouchFeatures:function(){this._environmentSupportsTouch=!1;var a=this._panningDivContainer.style;this._panningDivContainer.removeEventListener(d._browserEventEquivalents.manipulationStateChanged,this._handleManipulationStateChangedBound,!0),a.overflowX="hidden",a.overflowY="hidden";var b=["scroll-snap-type","scroll-snap-points-x","scroll-snap-points-y","scroll-limit-x-min","scroll-limit-x-max","scroll-limit-y-min","scroll-limit-y-max"];b.forEach(function(b){var c=r[b];c&&(a[c.scriptName]="")})},_hasFocus:{get:function(){return this._flipperDiv.contains(b.document.activeElement)}},_timeoutPageSelection:function(){var a=this;this._lastTimeoutRequest&&this._lastTimeoutRequest.cancel(),this._lastTimeoutRequest=j.timeout(t).then(function(){a._itemSettledOn()})},_updateTabIndex:function(a){this._forEachPage(function(b){b.element&&(b.element.tabIndex=a)}),this._tabIndex=a,this._tabManager.tabIndex=a},_releaseElementIfNotAnimated:function(a){var b=this._getAnimationRecord(a);b&&(b.changed||b.inserted||b.moved||b.removed)||this._itemsManager.releaseItem(a)},_getAnimationRecord:function(a){return a?this._animationRecords[q(a)]:null},_createAnimationRecord:function(a,b){if(a){var c=this._animationRecords[a]={removed:!1,changed:!1,inserted:!1};return b&&(c.originalLocation=b.location),c}},_writeProfilerMark:function(a){h(a),this._flipperDiv.winControl.constructor._enabledDebug&&f.log&&f.log(a,null,"flipviewdebug")},_getElementIndex:function(a){var b=0;try{b=this._itemsManager.itemObject(a).index}catch(c){}return b},_resetBuffer:function(a,b){this._writeProfilerMark("WinJS.UI.FlipView:_resetBuffer,info");var c=this._currentPage,d=c;do d.element&&d.element===a||b?d.setElement(null,!0):d.setElement(null),d=d.next;while(d!==c)},_getHeadOfBuffer:function(){return this._prevMarker.prev},_getTailOfBuffer:function(){return this._prevMarker},_insertNewFlipPage:function(a){this._writeProfilerMark("WinJS.UI.FlipView:_insertNewFlipPage,info");var b=this._createFlipPage(a,this);return this._panningDiv.appendChild(b.pageRoot),b},_fetchNextItems:function(){this._writeProfilerMark("WinJS.UI.FlipView:_fetchNextItems,info");for(var a=j.wrap(this._currentPage),b=this,c=0;c<this._bufferSize;c++)a=a.then(function(a){return a.next===b._prevMarker&&b._insertNewFlipPage(a),a.element?b._itemsManager._nextItem(a.element).then(function(b){return a.next.setElement(b),a.next}):(a.next.setElement(null),a.next)});return a},_fetchOneNext:function(a){this._writeProfilerMark("WinJS.UI.FlipView:_fetchOneNext,info");var b=a.prev.element;if(this._prevMarker===a&&(this._prevMarker=this._prevMarker.next),!b)return void a.setElement(null);var c=this;return this._itemsManager._nextItem(b).then(function(b){a.setElement(b),c._movePageAhead(a.prev,a)})},_fetchPreviousItems:function(a){this._writeProfilerMark("WinJS.UI.FlipView:_fetchPreviousItems,info");for(var b=this,c=j.wrap(this._currentPage),d=0;d<this._bufferSize;d++)c=c.then(function(a){return a.element?b._itemsManager._previousItem(a.element).then(function(b){return a.prev.setElement(b),a.prev}):(a.prev.setElement(null),a.prev)});return c.then(function(c){a&&(b._prevMarker=c)})},_fetchOnePrevious:function(a){this._writeProfilerMark("WinJS.UI.FlipView:_fetchOnePrevious,info");var b=a.next.element;if(this._prevMarker===a.next&&(this._prevMarker=this._prevMarker.prev),!b)return a.setElement(null),j.wrap();var c=this;return this._itemsManager._previousItem(b).then(function(b){a.setElement(b),c._movePageBehind(a.next,a)})},_setButtonStates:function(){this._currentPage.prev.element?this._buttonVisibilityHandler.showPreviousButton():this._buttonVisibilityHandler.hidePreviousButton(),this._currentPage.next.element?this._buttonVisibilityHandler.showNextButton():this._buttonVisibilityHandler.hideNextButton()},_ensureCentered:function(a){this._writeProfilerMark("WinJS.UI.FlipView:_ensureCentered,info"),this._setItemStart(this._currentPage,s*this._viewportSize());for(var b=this._currentPage;b!==this._prevMarker;)this._movePageBehind(b,b.prev),b=b.prev;for(b=this._currentPage;b.next!==this._prevMarker;)this._movePageAhead(b,b.next),b=b.next;var c=!1;this._lastScrollPos&&!a&&(this._setListEnds(),c=!0),this._lastScrollPos=this._getItemStart(this._currentPage),this._setViewportStart(this._lastScrollPos),this._checkElementVisibility(!0),this._setupSnapPoints(),c||this._setListEnds()},_ensureBufferConsistency:function(){var a=this,b=this._currentPage.element;if(!b)return j.wrap();var c=!1,d={},e={};this._forEachPage(function(a){if(a&&a.elementUniqueID){if(d[a.elementUniqueID])return c=!0,!0;if(d[a.elementUniqueID]=!0,a.location>0){if(e[a.location])return c=!0,!0;e[a.location]=!0}}});var f=Object.keys(this._animationRecords);return f.forEach(function(b){var d=a._animationRecords[b];d&&(d.changed||d.inserted||d.moved||d.removed)&&(c=!0)}),c?(this._resetBuffer(null,!0),this._currentPage.setElement(b),this._fetchNextItems().then(function(){return a._fetchPreviousItems(!0)}).then(function(){a._ensureCentered()})):j.wrap()},_shiftLeft:function(a){this._writeProfilerMark("WinJS.UI.FlipView:_shiftLeft,info");for(var b=a,c=null;b!==this._prevMarker&&b.next!==this._prevMarker;)c=b.next.element,!c&&b.next.elementUniqueID&&(b.elementUniqueID=b.next.elementUniqueID),b.next.setElement(null,!0),b.setElement(c,!0),b=b.next;if(b!==this._prevMarker&&b.prev.element){var d=this;return this._itemsManager._nextItem(b.prev.element).then(function(a){
b.setElement(a),d._createAnimationRecord(b.elementUniqueID,b)})}},_logBuffer:function(){if(this._flipperDiv.winControl.constructor._enabledDebug){f.log&&f.log(this._currentPage.next.next.next.elementUniqueID+"	@:"+this._currentPage.next.next.next.location+(this._currentPage.next.next.next.element?"	"+this._currentPage.next.next.next.element.textContent:""),null,"flipviewdebug"),f.log&&f.log(this._currentPage.next.next.next.next.elementUniqueID+"	@:"+this._currentPage.next.next.next.next.location+(this._currentPage.next.next.next.next.element?"	"+this._currentPage.next.next.next.next.element.textContent:""),null,"flipviewdebug"),f.log&&f.log("> "+this._currentPage.elementUniqueID+"	@:"+this._currentPage.location+(this._currentPage.element?"	"+this._currentPage.element.textContent:""),null,"flipviewdebug"),f.log&&f.log(this._currentPage.next.elementUniqueID+"	@:"+this._currentPage.next.location+(this._currentPage.next.element?"	"+this._currentPage.next.element.textContent:""),null,"flipviewdebug"),f.log&&f.log(this._currentPage.next.next.elementUniqueID+"	@:"+this._currentPage.next.next.location+(this._currentPage.next.next.element?"	"+this._currentPage.next.next.element.textContent:""),null,"flipviewdebug");var a=Object.keys(this._itemsManager._elementMap),b=[];this._forEachPage(function(a){a&&a.elementUniqueID&&b.push(a.elementUniqueID)}),f.log&&f.log("itemsmanager  = ["+a.join(" ")+"] flipview ["+b.join(" ")+"]",null,"flipviewdebug")}},_shiftRight:function(a){this._writeProfilerMark("WinJS.UI.FlipView:_shiftRight,info");for(var b=a,c=null;b!==this._prevMarker;)c=b.prev.element,!c&&b.prev.elementUniqueID&&(b.elementUniqueID=b.prev.elementUniqueID),b.prev.setElement(null,!0),b.setElement(c,!0),b=b.prev;if(b.next.element){var d=this;return this._itemsManager._previousItem(b.next.element).then(function(a){b.setElement(a),d._createAnimationRecord(b.elementUniqueID,b)})}},_checkElementVisibility:function(a){var b,c;if(a){var d=this._currentPage.element;for(b=0,c=this._visibleElements.length;c>b;b++)this._visibleElements[b]!==d&&this._announceElementInvisible(this._visibleElements[b]);this._visibleElements=[],d&&(this._visibleElements.push(d),this._announceElementVisible(d))}else{for(b=0,c=this._visibleElements.length;c>b;b++)this._visibleElements[b].parentNode&&!this._visibleElements[b].removedFromChange||this._announceElementInvisible(this._visibleElements[b]);this._visibleElements=[];var e=this;this._forEachPage(function(a){var b=a.element;b&&(e._itemInView(a)?(e._visibleElements.push(b),e._announceElementVisible(b)):e._announceElementInvisible(b))})}},_announceElementVisible:function(a){if(a&&!a.visible){a.visible=!0;var c=b.document.createEvent("CustomEvent");this._writeProfilerMark("WinJS.UI.FlipView:pageVisibilityChangedEvent(visible:true),info"),c.initCustomEvent(p.pageVisibilityChangedEvent,!0,!1,{source:this._flipperDiv,visible:!0}),a.dispatchEvent(c)}},_announceElementInvisible:function(a){if(a&&a.visible){a.visible=!1;var c=!1;a.parentNode||(c=!0,this._panningDivContainer.appendChild(a));var d=b.document.createEvent("CustomEvent");this._writeProfilerMark("WinJS.UI.FlipView:pageVisibilityChangedEvent(visible:false),info"),d.initCustomEvent(p.pageVisibilityChangedEvent,!0,!1,{source:this._flipperDiv,visible:!1}),a.dispatchEvent(d),c&&this._panningDivContainer.removeChild(a)}},_createDiscardablePage:function(a){var b=this._createPageContainer(),c={pageRoot:b.root,elementRoot:b.elementContainer,discardable:!0,element:a,elementUniqueID:q(a),discard:function(){c.pageRoot.parentNode&&c.pageRoot.parentNode.removeChild(c.pageRoot),c.element.parentNode&&c.element.parentNode.removeChild(c.element)}};return c.pageRoot.style.top="0px",c.elementRoot.appendChild(a),this._panningDiv.appendChild(c.pageRoot),c},_createPageContainer:function(){var a=this._panningDivContainerOffsetWidth,c=this._panningDivContainerOffsetHeight,d=b.document.createElement("div"),e=d.style,f=b.document.createElement("div");return f.className="win-item",e.position="absolute",e.overflow="hidden",e.width=a+"px",e.height=c+"px",d.appendChild(f),{root:d,elementContainer:f}},_createFlipPage:function(b,c){var d={};d.element=null,d.elementUniqueID=null,b?(d.prev=b,d.next=b.next,d.next.prev=d,b.next=d):(d.next=d,d.prev=d);var e=this._createPageContainer();return d.elementRoot=e.elementContainer,d.elementRoot.style.msOverflowStyle="auto",d.pageRoot=e.root,d.setElement=function(b,e){if(void 0===b&&(b=null),b===d.element)return void(b||(d.elementUniqueID=null));if(d.element&&(e||(c._itemsManager.releaseItem(d.element),m._disposeElement(d.element))),d.element=b,d.elementUniqueID=b?q(b):null,n.empty(d.elementRoot),d.element){if(d===c._currentPage&&(c._tabManager.childFocus=b),!a(d.element)){d.element.tabIndex=c._tabIndex,d.element.setAttribute("role","option"),d.element.setAttribute("aria-selected",!1),d.element.id||(d.element.id=q(d.element));var f=function(a,b,c){a.setAttribute(c,b.id)},g=!d.next.element||d===c._prevMarker.prev;g&&(f(d.element,c._bufferAriaEndMarker,"aria-flowto"),f(c._bufferAriaEndMarker,d.element,"x-ms-aria-flowfrom")),d!==c._prevMarker&&d.prev.element&&(f(d.prev.element,d.element,"aria-flowto"),f(d.element,d.prev.element,"x-ms-aria-flowfrom")),d.next!==c._prevMarker&&d.next.element&&(f(d.element,d.next.element,"aria-flowto"),f(d.next.element,d.element,"x-ms-aria-flowfrom")),d.prev.element||f(d.element,c._bufferAriaStartMarker,"x-ms-aria-flowfrom")}d.elementRoot.appendChild(d.element)}},d},_itemInView:function(a){return this._itemEnd(a)>this._getViewportStart()&&this._getItemStart(a)<this._viewportEnd()},_getViewportStart:function(){return this._panningDivContainer.parentNode?this._isHorizontal?n.getScrollPosition(this._panningDivContainer).scrollLeft:n.getScrollPosition(this._panningDivContainer).scrollTop:void 0},_setViewportStart:function(a){this._panningDivContainer.parentNode&&(this._isHorizontal?n.setScrollPosition(this._panningDivContainer,{scrollLeft:a}):n.setScrollPosition(this._panningDivContainer,{scrollTop:a}))},_viewportEnd:function(){var a=this._panningDivContainer;return this._isHorizontal?this._rtl?this._getViewportStart()+this._panningDivContainerOffsetWidth:n.getScrollPosition(a).scrollLeft+this._panningDivContainerOffsetWidth:a.scrollTop+this._panningDivContainerOffsetHeight},_viewportSize:function(){return this._isHorizontal?this._panningDivContainerOffsetWidth:this._panningDivContainerOffsetHeight},_getItemStart:function(a){return a.location},_setItemStart:function(a,b){void 0!==b&&(this._isHorizontal?a.pageRoot.style.left=(this._rtl?-b:b)+"px":a.pageRoot.style.top=b+"px",a.location=b)},_itemEnd:function(a){return(this._isHorizontal?a.location+this._panningDivContainerOffsetWidth:a.location+this._panningDivContainerOffsetHeight)+this._itemSpacing},_itemSize:function(){return this._isHorizontal?this._panningDivContainerOffsetWidth:this._panningDivContainerOffsetHeight},_movePageAhead:function(a,b){var c=this._itemSize(a)+this._itemSpacing;this._setItemStart(b,this._getItemStart(a)+c)},_movePageBehind:function(a,b){var c=this._itemSize(a)+this._itemSpacing;this._setItemStart(b,this._getItemStart(a)-c)},_setupSnapPoints:function(){if(this._environmentSupportsTouch){var a=this._panningDivContainer.style;a[r["scroll-snap-type"].scriptName]="mandatory";var b=this._viewportSize(),c=b+this._itemSpacing,d="scroll-snap-points",e=0,f=this._getItemStart(this._currentPage);e=f%(b+this._itemSpacing),a[r[this._isHorizontal?d+"-x":d+"-y"].scriptName]="snapInterval("+e+"px, "+c+"px)"}},_setListEnds:function(){if(this._environmentSupportsTouch&&this._currentPage.element){for(var a=this._panningDivContainer.style,b=0,c=0,d=this._getTailOfBuffer(),e=this._getHeadOfBuffer(),f=r["scroll-limit-"+(this._isHorizontal?"x-min":"y-min")].scriptName,g=r["scroll-limit-"+(this._isHorizontal?"x-max":"y-max")].scriptName;!e.element&&(e=e.prev,e!==this._prevMarker.prev););for(;!d.element&&(d=d.next,d!==this._prevMarker););c=this._getItemStart(e),b=this._getItemStart(d),a[f]=b+"px",a[g]=c+"px"}},_viewportOnItemStart:function(){return this._getItemStart(this._currentPage)===this._getViewportStart()},_restoreAnimatedElement:function(a,b){var c=!0;return a.elementUniqueID!==q(b.element)||a.element?this._forEachPage(function(a){a.elementUniqueID!==b.elementUniqueID||a.element||(a.setElement(b.element,!0),c=!1)}):(a.setElement(b.element,!0),c=!1),c},_itemSettledOn:function(){this._lastTimeoutRequest&&(this._lastTimeoutRequest.cancel(),this._lastTimeoutRequest=null);var c=this;d._setImmediate(function(){c._viewportOnItemStart()&&(c._blockTabs=!1,c._currentPage.element&&c._lastSelectedElement!==c._currentPage.element&&(c._lastSelectedPage&&c._lastSelectedPage.element&&!a(c._lastSelectedPage.element)&&c._lastSelectedPage.element.setAttribute("aria-selected",!1),c._lastSelectedPage=c._currentPage,c._lastSelectedElement=c._currentPage.element,a(c._currentPage.element)||c._currentPage.element.setAttribute("aria-selected",!0),l.schedule(function(){if(c._currentPage.element){(c._hasFocus||c._hadFocus)&&(c._hadFocus=!1,n._setActive(c._currentPage.element),c._tabManager.childFocus=c._currentPage.element);var a=b.document.createEvent("CustomEvent");a.initCustomEvent(p.pageSelectedEvent,!0,!1,{source:c._flipperDiv}),c._writeProfilerMark("WinJS.UI.FlipView:pageSelectedEvent,info"),c._currentPage.element.dispatchEvent(a);var d=c._currentPage.element;if(d){var e=c._itemsManager._recordFromElement(d,!0);e&&e.renderComplete.then(function(){d===c._currentPage.element&&(c._currentPage.element.setAttribute("aria-setsize",c._cachedSize),c._currentPage.element.setAttribute("aria-posinset",c.currentIndex()+1),c._bufferAriaStartMarker.setAttribute("aria-flowto",c._currentPage.element.id),a=b.document.createEvent("CustomEvent"),a.initCustomEvent(p.pageCompletedEvent,!0,!1,{source:c._flipperDiv}),c._writeProfilerMark("WinJS.UI.FlipView:pageCompletedEvent,info"),c._currentPage.element.dispatchEvent(a))})}}},l.Priority.normal,null,"WinJS.UI.FlipView._dispatchPageSelectedEvent")))})},_forEachPage:function(a){var b=this._prevMarker;do{if(a(b))break;b=b.next}while(b!==this._prevMarker)},_changeFlipPage:function(a,b,c){this._writeProfilerMark("WinJS.UI.FlipView:_changeFlipPage,info"),a.element=null,a.setElement?a.setElement(c,!0):(b.parentNode.removeChild(b),a.elementRoot.appendChild(c));var d=b.style;return d.position="absolute",d.left="0px",d.top="0px",d.opacity=1,a.pageRoot.appendChild(b),b.style.left=Math.max(0,(a.pageRoot.offsetWidth-b.offsetWidth)/2)+"px",b.style.top=Math.max(0,(a.pageRoot.offsetHeight-b.offsetHeight)/2)+"px",i.fadeOut(b).then(function(){b.parentNode&&b.parentNode.removeChild(b)})},_deleteFlipPage:function(a){h("WinJS.UI.FlipView:_deleteFlipPage,info"),a.elementRoot.style.opacity=0;var b=i.createDeleteFromListAnimation([a.elementRoot]),c=this;return b.execute().then(function(){a.discardable&&(a.discard(),c._itemsManager.releaseItem(a.element))})},_insertFlipPage:function(a){h("WinJS.UI.FlipView:_insertFlipPage,info"),a.elementRoot.style.opacity=1;var b=i.createAddToListAnimation([a.elementRoot]);return b.execute().then(function(){a.discardable&&a.discard()})},_moveFlipPage:function(a,b){h("WinJS.UI.FlipView:_moveFlipPage,info");var c=i.createRepositionAnimation(a.pageRoot);b();var d=this;return c.execute().then(function(){if(a.discardable){a.discard();var b=d._getAnimationRecord(a.element);b&&!b.successfullyMoved&&d._itemsManager.releaseItem(a.element)}})},_handleManipulationStateChanged:function(a){this._manipulationState=a.currentState,0===a.currentState&&a.target===this._panningDivContainer&&(this._itemSettledOn(),this._ensureCentered())}},{supportedForProcessing:!1});return v.flipPageBufferCount=2,v})})}),d("require-style!less/styles-flipview",[],function(){}),d("require-style!less/colors-flipview",[],function(){}),d("WinJS/Controls/FlipView",["../Core/_Global","../Core/_Base","../Core/_BaseUtils","../Core/_ErrorFromName","../Core/_Events","../Core/_Resources","../Core/_WriteProfilerMark","../Animations","../Animations/_TransitionAnimation","../BindingList","../Promise","../Scheduler","../Utilities/_Control","../Utilities/_Dispose","../Utilities/_ElementUtilities","../Utilities/_Hoverable","../Utilities/_ItemsManager","../Utilities/_UI","./ElementResizeInstrument","./FlipView/_Constants","./FlipView/_PageManager","require-style!less/styles-flipview","require-style!less/colors-flipview"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u){"use strict";b.Namespace.define("WinJS.UI",{FlipView:b.Namespace._lazy(function(){function p(a){var b=a[0].target.winControl;b&&b instanceof L&&a.some(function(a){return"dir"===a.attributeName?!0:"style"===a.attributeName?b._cachedStyleDir!==a.target.style.direction:!1})&&(b._cachedStyleDir=b._flipviewDiv.style.direction,b._rtl="rtl"===o._getComputedStyle(b._flipviewDiv,null).direction,b._setupOrientation())}var v="win-navbutton",w="win-flipview",x="win-navleft",y="win-navright",z="win-navtop",A="win-navbottom",B="Previous",C="Next",D=3e3,E=500,F="&#57570;",G="&#57571;",H="&#57572;",I="&#57573;",J=40,K={get badAxis(){return"Invalid argument: orientation must be a string, either 'horizontal' or 'vertical'"},get badCurrentPage(){return"Invalid argument: currentPage must be a number greater than or equal to zero and be within the bounds of the datasource"},get noitemsManagerForCount(){return"Invalid operation: can't get count if no dataSource has been set"},get badItemSpacingAmount(){return"Invalid argument: itemSpacing must be a number greater than or equal to zero"},get navigationDuringStateChange(){return"Error: After changing itemDataSource or itemTemplate, any navigation in the FlipView control should be delayed until the pageselected event is fired."},get panningContainerAriaLabel(){return f._getWinJSString("ui/flipViewPanningContainerAriaLabel").value}},L=b.Class.define(function(b,c){g("WinJS.UI.FlipView:constructor,StartTM"),this._disposed=!1,b=b||a.document.createElement("div");var d=!0,e=null,f=q._trivialHtmlRenderer,h=0,i=0;if(c){if(c.orientation&&"string"==typeof c.orientation)switch(c.orientation.toLowerCase()){case"horizontal":d=!0;break;case"vertical":d=!1}c.currentPage&&(h=c.currentPage>>0,h=0>h?0:h),c.itemDataSource&&(e=c.itemDataSource),c.itemTemplate&&(f=this._getItemRenderer(c.itemTemplate)),c.itemSpacing&&(i=c.itemSpacing>>0,i=0>i?0:i)}if(!e){var k=new j.List;e=k.dataSource}o.empty(b),this._flipviewDiv=b,b.winControl=this,m._setOptions(this,c,!0),this._initializeFlipView(b,d,e,f,h,i),o.addClass(b,"win-disposable"),this._avoidTrappingTime=0,this._windowWheelHandlerBound=this._windowWheelHandler.bind(this),o._globalListener.addEventListener(b,"wheel",this._windowWheelHandlerBound),o._globalListener.addEventListener(b,"mousewheel",this._windowWheelHandlerBound),g("WinJS.UI.FlipView:constructor,StopTM")},{dispose:function(){g("WinJS.UI.FlipView:dispose,StopTM"),this._disposed||(o._globalListener.removeEventListener(this._flipviewDiv,"wheel",this._windowWheelHandlerBound),o._globalListener.removeEventListener(this._flipviewDiv,"mousewheel",this._windowWheelHandlerBound),o._resizeNotifier.unsubscribe(this._flipviewDiv,this._resizeHandlerBound),this._elementResizeInstrument.dispose(),this._disposed=!0,this._pageManager.dispose(),this._itemsManager.release(),this.itemDataSource=null)},next:function(){g("WinJS.UI.FlipView:next,info");var a=this._nextAnimation?null:this._cancelDefaultAnimation;return this._navigate(!0,a)},previous:function(){g("WinJS.UI.FlipView:prev,info");var a=this._prevAnimation?null:this._cancelDefaultAnimation;return this._navigate(!1,a)},element:{get:function(){return this._flipviewDiv}},currentPage:{get:function(){return this._getCurrentIndex()},set:function(a){if(g("WinJS.UI.FlipView:set_currentPage,info"),this._pageManager._notificationsEndedSignal){var b=this;return void this._pageManager._notificationsEndedSignal.promise.done(function(){b._pageManager._notificationsEndedSignal=null,b.currentPage=a})}if(!this._animating||this._cancelAnimation())if(a>>=0,a=0>a?0:a,this._refreshTimer)this._indexAfterRefresh=a;else{this._pageManager._cachedSize>0?a=Math.min(this._pageManager._cachedSize-1,a):0===this._pageManager._cachedSize&&(a=0);var b=this;if(this._jumpingToIndex===a)return;var c=function(){b._jumpingToIndex=null};this._jumpingToIndex=a;var d=this._jumpAnimation?this._jumpAnimation:this._defaultAnimation.bind(this),e=this._jumpAnimation?null:this._cancelDefaultAnimation,f=function(){b._completeJump()};this._pageManager.startAnimatedJump(a,e,f).then(function(a){if(a){b._animationsStarted();var e=a.oldPage.pageRoot,h=a.newPage.pageRoot;b._contentDiv.appendChild(e),b._contentDiv.appendChild(h),b._completeJumpPending=!0,d(e,h).then(function(){b._completeJumpPending&&(f(),g("WinJS.UI.FlipView:set_currentPage.animationComplete,info"))}).done(c,c)}else c()},c)}}},orientation:{get:function(){return this._axisAsString()},set:function(a){g("WinJS.UI.FlipView:set_orientation,info");var b="horizontal"===a;b!==this._isHorizontal&&(this._isHorizontal=b,this._setupOrientation(),this._pageManager.setOrientation(this._isHorizontal))}},itemDataSource:{get:function(){return this._dataSource},set:function(a){g("WinJS.UI.FlipView:set_itemDataSource,info"),this._dataSourceAfterRefresh=a||(new j.List).dataSource,this._refresh()}},itemTemplate:{get:function(){return this._itemRenderer},set:function(a){g("WinJS.UI.FlipView:set_itemTemplate,info"),this._itemRendererAfterRefresh=this._getItemRenderer(a),this._refresh()}},itemSpacing:{get:function(){return this._pageManager.getItemSpacing()},set:function(a){g("WinJS.UI.FlipView:set_itemSpacing,info"),a>>=0,a=0>a?0:a,this._pageManager.setItemSpacing(a)}},count:function(){g("WinJS.UI.FlipView:count,info");var a=this;return new k(function(b,c){a._itemsManager?a._pageManager._cachedSize===r.CountResult.unknown||a._pageManager._cachedSize>=0?b(a._pageManager._cachedSize):a._dataSource.getCount().then(function(c){a._pageManager._cachedSize=c,b(c)}):c(L.noitemsManagerForCount)})},setCustomAnimations:function(a){g("WinJS.UI.FlipView:setCustomAnimations,info"),void 0!==a.next&&(this._nextAnimation=a.next),void 0!==a.previous&&(this._prevAnimation=a.previous),void 0!==a.jump&&(this._jumpAnimation=a.jump)},forceLayout:function(){g("WinJS.UI.FlipView:forceLayout,info"),this._pageManager.resized()},_initializeFlipView:function(b,d,e,f,g,h){function i(a){a.setAttribute("aria-hidden",!0),a.style.visibility="hidden",a.style.opacity=0,a.tabIndex=-1,a.style.zIndex=1e3}function j(a){if(a.pointerType!==D){if(m._touchInteraction=!1,a.screenX===m._lastMouseX&&a.screenY===m._lastMouseY)return;m._lastMouseX=a.screenX,m._lastMouseY=a.screenY,m._mouseInViewport=!0,m._fadeInButton("prev"),m._fadeInButton("next"),m._fadeOutButtons()}}function k(a){a.pointerType===D?(m._mouseInViewport=!1,m._touchInteraction=!0,m._fadeOutButtons(!0)):(m._touchInteraction=!1,m._isInteractive(a.target)||0!==(4&a.buttons)&&(a.stopPropagation(),a.preventDefault()))}function l(a){a.pointerType!==D&&(m._touchInteraction=!1)}var m=this,n=!1;this._flipviewDiv=b,o.addClass(this._flipviewDiv,w),this._contentDiv=a.document.createElement("div"),this._panningDivContainer=a.document.createElement("div"),this._panningDivContainer.className="win-surface",this._panningDiv=a.document.createElement("div"),this._prevButton=a.document.createElement("button"),this._nextButton=a.document.createElement("button"),this._isHorizontal=d,this._dataSource=e,this._itemRenderer=f,this._itemsManager=null,this._pageManager=null;for(var t=["scroll-limit-x-max","scroll-limit-x-min","scroll-limit-y-max","scroll-limit-y-min","scroll-snap-type","scroll-snap-x","scroll-snap-y","overflow-style"],v=!0,x=c._browserStyleEquivalents,y=0,z=t.length;z>y;y++)v=v&&!!x[t[y]];v=v&&!!c._browserEventEquivalents.manipulationStateChanged,v=v&&o._supportsSnapPoints,this._environmentSupportsTouch=v;var A=this._flipviewDiv.getAttribute("aria-label");A||this._flipviewDiv.setAttribute("aria-label",""),this._flipviewDiv.setAttribute("role","listbox"),this._flipviewDiv.style.overflow||(this._flipviewDiv.style.overflow="hidden"),this._contentDiv.style.position="relative",this._contentDiv.style.zIndex=0,this._contentDiv.style.width="100%",this._contentDiv.style.height="100%",this._panningDiv.style.position="relative",this._panningDivContainer.style.position="relative",this._panningDivContainer.style.width="100%",this._panningDivContainer.style.height="100%",this._panningDivContainer.setAttribute("role","group"),this._panningDivContainer.setAttribute("aria-label",K.panningContainerAriaLabel),this._contentDiv.appendChild(this._panningDivContainer),this._flipviewDiv.appendChild(this._contentDiv),this._panningDiv.style.width="100%",this._panningDiv.style.height="100%",this._setupOrientation(),i(this._prevButton),i(this._nextButton),this._prevButton.setAttribute("aria-label",B),this._nextButton.setAttribute("aria-label",C),this._prevButton.setAttribute("type","button"),this._nextButton.setAttribute("type","button"),this._panningDivContainer.appendChild(this._panningDiv),this._contentDiv.appendChild(this._prevButton),this._contentDiv.appendChild(this._nextButton),this._itemsManagerCallback={inserted:function(a,b,c){m._itemsManager._itemFromPromise(a).then(function(a){var d=m._itemsManager._elementFromHandle(b),e=m._itemsManager._elementFromHandle(c);m._pageManager.inserted(a,d,e,!0)})},countChanged:function(a,b){m._pageManager._cachedSize=a,b!==r.CountResult.unknown&&m._fireDatasourceCountChangedEvent()},changed:function(a,b){m._pageManager.changed(a,b)},moved:function(a,b,c,d){var e=function(a){m._pageManager.moved(a,b,c)};a?e(a):m._itemsManager._itemFromPromise(d).then(e)},removed:function(a,b){a&&m._pageManager.removed(a,b,!0)},knownUpdatesComplete:function(){},beginNotifications:function(){m._cancelAnimation(),m._pageManager.notificationsStarted()},endNotifications:function(){m._pageManager.notificationsEnded()},itemAvailable:function(a,b){m._pageManager.itemRetrieved(a,b)},reload:function(){m._pageManager.reload()}},this._dataSource&&(this._itemsManager=q._createItemsManager(this._dataSource,this._itemRenderer,this._itemsManagerCallback,{ownerElement:this._flipviewDiv})),this._pageManager=new u._FlipPageManager(this._flipviewDiv,this._panningDiv,this._panningDivContainer,this._itemsManager,h,this._environmentSupportsTouch,{hidePreviousButton:function(){m._hasPrevContent=!1,m._fadeOutButton("prev"),m._prevButton.setAttribute("aria-hidden",!0)},showPreviousButton:function(){m._hasPrevContent=!0,m._fadeInButton("prev"),m._prevButton.setAttribute("aria-hidden",!1)},hideNextButton:function(){m._hasNextContent=!1,m._fadeOutButton("next"),m._nextButton.setAttribute("aria-hidden",!0)},showNextButton:function(){m._hasNextContent=!0,m._fadeInButton("next"),m._nextButton.setAttribute("aria-hidden",!1)}}),this._pageManager.initialize(g,this._isHorizontal),this._dataSource.getCount().then(function(a){m._pageManager._cachedSize=a}),this._prevButton.addEventListener("click",function(){m.previous()},!1),this._nextButton.addEventListener("click",function(){m.next()},!1),new o._MutationObserver(p).observe(this._flipviewDiv,{attributes:!0,attributeFilter:["dir","style"]}),this._cachedStyleDir=this._flipviewDiv.style.direction,this._contentDiv.addEventListener("mouseleave",function(){m._mouseInViewport=!1},!1);var D=o._MSPointerEvent.MSPOINTER_TYPE_TOUCH||"touch";this._environmentSupportsTouch&&(o._addEventListener(this._contentDiv,"pointerdown",k,!1),o._addEventListener(this._contentDiv,"pointermove",j,!1),o._addEventListener(this._contentDiv,"pointerup",l,!1)),this._panningDivContainer.addEventListener("scroll",function(){m._scrollPosChanged()},!1),this._panningDiv.addEventListener("blur",function(){m._touchInteraction||m._fadeOutButtons()},!0),this._resizeHandlerBound=this._resizeHandler.bind(this),this._elementResizeInstrument=new s._ElementResizeInstrument,this._flipviewDiv.appendChild(this._elementResizeInstrument.element),this._elementResizeInstrument.addEventListener("resize",this._resizeHandlerBound),o._resizeNotifier.subscribe(this._flipviewDiv,this._resizeHandlerBound);var E=a.document.body.contains(this._flipviewDiv);E&&this._elementResizeInstrument.addedToDom(),o._addInsertedNotifier(this._flipviewDiv);var F=!0;this._flipviewDiv.addEventListener("WinJSNodeInserted",function(a){F?(F=!1,E||(m._elementResizeInstrument.addedToDom(),m._pageManager.resized())):m._pageManager.resized()},!1),this._flipviewDiv.addEventListener("keydown",function(a){if(!m._disposed){var b=!0;if(!m._isInteractive(a.target)){var c=o.Key,d=!1;if(m._isHorizontal)switch(a.keyCode){case c.leftArrow:!m._rtl&&m.currentPage>0?(m.previous(),d=!0):m._rtl&&m.currentPage<m._pageManager._cachedSize-1&&(m.next(),d=!0);break;case c.pageUp:m.currentPage>0&&(m.previous(),d=!0);break;case c.rightArrow:!m._rtl&&m.currentPage<m._pageManager._cachedSize-1?(m.next(),d=!0):m._rtl&&m.currentPage>0&&(m.previous(),d=!0);break;case c.pageDown:m.currentPage<m._pageManager._cachedSize-1&&(m.next(),d=!0);break;case c.upArrow:case c.downArrow:d=!0,b=!1}else switch(a.keyCode){case c.upArrow:case c.pageUp:m.currentPage>0&&(m.previous(),d=!0);break;case c.downArrow:case c.pageDown:m.currentPage<m._pageManager._cachedSize-1&&(m.next(),d=!0);break;case c.space:d=!0}switch(a.keyCode){case c.home:m.currentPage=0,d=!0;break;case c.end:m._pageManager._cachedSize>0&&(m.currentPage=m._pageManager._cachedSize-1),d=!0}if(d)return a.preventDefault(),b&&a.stopPropagation(),!0}}},!1),n=!0},_windowWheelHandler:function(a){if(!this._disposed){a=a.detail.originalEvent;var b=a.target&&(this._flipviewDiv.contains(a.target)||this._flipviewDiv===a.target),d=this,e=c._now(),f=this._avoidTrappingTime>e;b&&!f||(this._avoidTrappingTime=e+E),b&&f?(this._panningDivContainer.style.overflowX="hidden",this._panningDivContainer.style.overflowY="hidden",c._yieldForDomModification(function(){d._pageManager._ensureCentered(),d._isHorizontal?(d._panningDivContainer.style.overflowX=d._environmentSupportsTouch?"scroll":"hidden",d._panningDivContainer.style.overflowY="hidden"):(d._panningDivContainer.style.overflowY=d._environmentSupportsTouch?"scroll":"hidden",d._panningDivContainer.style.overflowX="hidden")})):b&&this._pageManager.simulateMouseWheelScroll(a)}},_isInteractive:function(a){if(a.parentNode)for(var b=a.parentNode.querySelectorAll(".win-interactive, .win-interactive *"),c=0,d=b.length;d>c;c++)if(b[c]===a)return!0;return!1},_resizeHandler:function(){g("WinJS.UI.FlipView:resize,StartTM"),this._pageManager.resized()},_refreshHandler:function(){var a=this._dataSourceAfterRefresh||this._dataSource,b=this._itemRendererAfterRefresh||this._itemRenderer,c=this._indexAfterRefresh||0;this._setDatasource(a,b,c),this._dataSourceAfterRefresh=null,this._itemRendererAfterRefresh=null,this._indexAfterRefresh=0,this._refreshTimer=!1},_refresh:function(){if(!this._refreshTimer){var a=this;this._refreshTimer=!0,l.schedule(function(){a._refreshTimer&&!a._disposed&&a._refreshHandler()},l.Priority.high,null,"WinJS.UI.FlipView._refreshHandler")}},_getItemRenderer:function(b){var c=null;if("function"==typeof b){var d=new k(function(){}),e=b(d);c=e.element?"object"==typeof e.element&&"function"==typeof e.element.then?function(c){var d=a.document.createElement("div");return d.className="win-template",n.markDisposable(d),{element:d,renderComplete:b(c).element.then(function(a){d.appendChild(a)})}}:b:function(c){var d=a.document.createElement("div");return d.className="win-template",n.markDisposable(d),{element:d,renderComplete:c.then(function(){return k.as(b(c)).then(function(a){d.appendChild(a)})})}}}else"object"==typeof b&&(c=b.renderItem);return c},_navigate:function(a,b){if(c.validation&&this._refreshTimer)throw new d("WinJS.UI.FlipView.NavigationDuringStateChange",K.navigationDuringStateChange);if(this._animating||(this._animatingForward=a),this._goForward=a,this._animating&&!this._cancelAnimation())return!1;var e=this,f=a?this._nextAnimation:this._prevAnimation,g=f?f:this._defaultAnimation.bind(this),h=function(a){e._completeNavigation(a)},i=this._pageManager.startAnimatedNavigation(a,b,h);if(i){this._animationsStarted();var j=i.outgoing.pageRoot,k=i.incoming.pageRoot;return this._contentDiv.appendChild(j),this._contentDiv.appendChild(k),this._completeNavigationPending=!0,g(j,k).then(function(){e._completeNavigationPending&&h(e._goForward)}).done(),!0}return!1},_cancelDefaultAnimation:function(a,b){a.style.opacity=0,b.style.animationName="",b.style.opacity=1},_cancelAnimation:function(){if(this._pageManager._navigationAnimationRecord&&this._pageManager._navigationAnimationRecord.completionCallback){var a=this._pageManager._navigationAnimationRecord.cancelAnimationCallback;if(a&&(a=a.bind(this)),this._pageManager._navigationAnimationRecord&&this._pageManager._navigationAnimationRecord.elementContainers){var b=this._pageManager._navigationAnimationRecord.elementContainers[0],c=this._pageManager._navigationAnimationRecord.elementContainers[1],d=b.pageRoot,e=c.pageRoot;return a&&a(d,e),this._pageManager._navigationAnimationRecord.completionCallback(this._animatingForward),!0}}return!1},_completeNavigation:function(a){if(!this._disposed){if(this._pageManager._resizing=!1,this._pageManager._navigationAnimationRecord&&this._pageManager._navigationAnimationRecord.elementContainers){var b=this._pageManager._navigationAnimationRecord.elementContainers[0],c=this._pageManager._navigationAnimationRecord.elementContainers[1],d=b.pageRoot,e=c.pageRoot;d.parentNode&&d.parentNode.removeChild(d),e.parentNode&&e.parentNode.removeChild(e),this._pageManager.endAnimatedNavigation(a,b,c),this._fadeOutButtons(),this._scrollPosChanged(),this._pageManager._ensureCentered(!0),this._animationsFinished()}this._completeNavigationPending=!1}},_completeJump:function(){if(!this._disposed){if(this._pageManager._resizing=!1,this._pageManager._navigationAnimationRecord&&this._pageManager._navigationAnimationRecord.elementContainers){var a=this._pageManager._navigationAnimationRecord.elementContainers[0],b=this._pageManager._navigationAnimationRecord.elementContainers[1],c=a.pageRoot,d=b.pageRoot;c.parentNode&&c.parentNode.removeChild(c),d.parentNode&&d.parentNode.removeChild(d),this._pageManager.endAnimatedJump(a,b),this._animationsFinished()}this._completeJumpPending=!1}},_setCurrentIndex:function(a){return this._pageManager.jumpToIndex(a)},_getCurrentIndex:function(){return this._pageManager.currentIndex()},_setDatasource:function(a,b,c){this._animating&&this._cancelAnimation();var d=0;void 0!==c&&(d=c),this._dataSource=a,this._itemRenderer=b;var e=this._itemsManager;this._itemsManager=q._createItemsManager(this._dataSource,this._itemRenderer,this._itemsManagerCallback,{ownerElement:this._flipviewDiv}),this._dataSource=this._itemsManager.dataSource;var f=this;this._dataSource.getCount().then(function(a){f._pageManager._cachedSize=a}),this._pageManager.setNewItemsManager(this._itemsManager,d),e&&e.release()},_fireDatasourceCountChangedEvent:function(){var b=this;l.schedule(function(){var c=a.document.createEvent("Event");c.initEvent(L.datasourceCountChangedEvent,!0,!0),g("WinJS.UI.FlipView:dataSourceCountChangedEvent,info"),b._flipviewDiv.dispatchEvent(c)},l.Priority.normal,null,"WinJS.UI.FlipView._dispatchDataSourceCountChangedEvent")},_scrollPosChanged:function(){this._disposed||this._pageManager.scrollPosChanged()},_axisAsString:function(){return this._isHorizontal?"horizontal":"vertical"},_setupOrientation:function(){if(this._isHorizontal){this._panningDivContainer.style.overflowX=this._environmentSupportsTouch?"scroll":"hidden",this._panningDivContainer.style.overflowY="hidden";var a="rtl"===o._getComputedStyle(this._flipviewDiv,null).direction;this._rtl=a,a?(this._prevButton.className=v+" "+y,this._nextButton.className=v+" "+x):(this._prevButton.className=v+" "+x,this._nextButton.className=v+" "+y),this._prevButton.innerHTML=a?G:F,this._nextButton.innerHTML=a?F:G}else this._panningDivContainer.style.overflowY=this._environmentSupportsTouch?"scroll":"hidden",this._panningDivContainer.style.overflowX="hidden",
this._prevButton.className=v+" "+z,this._nextButton.className=v+" "+A,this._prevButton.innerHTML=H,this._nextButton.innerHTML=I;this._panningDivContainer.style.msOverflowStyle="none"},_fadeInButton:function(a,b){(this._mouseInViewport||b||!this._environmentSupportsTouch)&&("next"===a&&this._hasNextContent?(this._nextButtonAnimation&&(this._nextButtonAnimation.cancel(),this._nextButtonAnimation=null),this._nextButton.style.visibility="visible",this._nextButtonAnimation=this._fadeInFromCurrentValue(this._nextButton)):"prev"===a&&this._hasPrevContent&&(this._prevButtonAnimation&&(this._prevButtonAnimation.cancel(),this._prevButtonAnimation=null),this._prevButton.style.visibility="visible",this._prevButtonAnimation=this._fadeInFromCurrentValue(this._prevButton)))},_fadeOutButton:function(a){var b=this;return"next"===a?(this._nextButtonAnimation&&(this._nextButtonAnimation.cancel(),this._nextButtonAnimation=null),this._nextButtonAnimation=h.fadeOut(this._nextButton).then(function(){b._nextButton.style.visibility="hidden"}),this._nextButtonAnimation):(this._prevButtonAnimation&&(this._prevButtonAnimation.cancel(),this._prevButtonAnimation=null),this._prevButtonAnimation=h.fadeOut(this._prevButton).then(function(){b._prevButton.style.visibility="hidden"}),this._prevButtonAnimation)},_fadeOutButtons:function(a){if(this._environmentSupportsTouch){this._buttonFadePromise&&(this._buttonFadePromise.cancel(),this._buttonFadePromise=null);var b=this;this._buttonFadePromise=(a?k.wrap():k.timeout(i._animationTimeAdjustment(D))).then(function(){b._fadeOutButton("prev"),b._fadeOutButton("next"),b._buttonFadePromise=null})}},_animationsStarted:function(){this._animating=!0},_animationsFinished:function(){this._animating=!1},_defaultAnimation:function(a,b){var c={};b.style.left="0px",b.style.top="0px",b.style.opacity=0;var d=a.itemIndex>b.itemIndex?-J:J;c.left=(this._isHorizontal?this._rtl?-d:d:0)+"px",c.top=(this._isHorizontal?0:d)+"px";var e=h.fadeOut(a),f=h.enterContent(b,[c],{mechanism:"transition"});return k.join([e,f])},_fadeInFromCurrentValue:function(a){return i.executeTransition(a,{property:"opacity",delay:0,duration:167,timing:"linear",to:1})}},t);return b.Class.mix(L,e.createEventProperties(L.datasourceCountChangedEvent,L.pageVisibilityChangedEvent,L.pageSelectedEvent,L.pageCompletedEvent)),b.Class.mix(L,m.DOMEventMixin),L})})}),d("WinJS/Controls/ItemContainer",["exports","../Core/_Global","../Core/_Base","../Core/_BaseUtils","../Core/_ErrorFromName","../Core/_Events","../Core/_Log","../Core/_Resources","../Core/_WriteProfilerMark","../Promise","../Scheduler","../Utilities/_Control","../Utilities/_Dispose","../Utilities/_ElementUtilities","../Utilities/_Hoverable","../Utilities/_KeyboardBehavior","../Utilities/_UI","./ItemContainer/_Constants","./ItemContainer/_ItemEventsHandler"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){"use strict";var t=f._createEventProperty,u={invoked:"invoked",selectionchanging:"selectionchanging",selectionchanged:"selectionchanged"};c.Namespace._moduleDefine(a,"WinJS.UI",{ItemContainer:c.Namespace._lazy(function(){var f={get duplicateConstruction(){return"Invalid argument: Controls may only be instantiated one time for each DOM element"},get swipeOrientationDeprecated(){return"Invalid configuration: swipeOrientation is deprecated. The control will default this property to 'none'"},get swipeBehaviorDeprecated(){return"Invalid configuration: swipeBehavior is deprecated. The control will default this property to 'none'"}},h=c.Class.define(function(c,d){function g(a,b,c){return{name:b?a:a.toLowerCase(),handler:function(b){i["_on"+a](b)},capture:c}}if(c=c||b.document.createElement("DIV"),this._id=c.id||n._uniqueID(c),this._writeProfilerMark("constructor,StartTM"),d=d||{},c.winControl)throw new e("WinJS.UI.ItemContainer.DuplicateConstruction",f.duplicateConstruction);c.winControl=this,this._element=c,n.addClass(c,"win-disposable"),this._selectionMode=q.SelectionMode.single,this._draggable=!1,this._pressedEntity={type:q.ObjectType.item,index:r._INVALID_INDEX},this.tapBehavior=q.TapBehavior.invokeOnly,n.addClass(this.element,h._ClassName.itemContainer+" "+r._containerClass),this._setupInternalTree(),this._selection=new a._SingleItemSelectionManager(c,this._itemBox),this._setTabIndex(),l.setOptions(this,d),this._mutationObserver=new n._MutationObserver(this._itemPropertyChange.bind(this)),this._mutationObserver.observe(c,{attributes:!0,attributeFilter:["aria-selected"]}),this._setAriaRole();var i=this;this.selectionDisabled||k.schedule(function(){i._setDirectionClass()},k.Priority.normal,null,"WinJS.UI.ItemContainer_async_initialize"),this._itemEventsHandler=new s._ItemEventsHandler(Object.create({containerFromElement:function(){return i.element},indexForItemElement:function(){return 1},indexForHeaderElement:function(){return r._INVALID_INDEX},itemBoxAtIndex:function(){return i._itemBox},itemAtIndex:function(){return i.element},headerAtIndex:function(){return null},containerAtIndex:function(){return i.element},isZombie:function(){return this._disposed},getItemPosition:function(){return i._getItemPosition()},rtl:function(){return i._rtl()},fireInvokeEvent:function(){i._fireInvokeEvent()},verifySelectionAllowed:function(){return i._verifySelectionAllowed()},changeFocus:function(){},selectRange:function(a,b){return i._selection.set({firstIndex:a,lastIndex:b})}},{pressedEntity:{get:function(){return i._pressedEntity},set:function(a){i._pressedEntity=a}},pressedElement:{enumerable:!0,set:function(a){i._pressedElement=a}},eventHandlerRoot:{enumerable:!0,get:function(){return i.element}},selectionMode:{enumerable:!0,get:function(){return i._selectionMode}},accessibleItemClass:{enumerable:!0,get:function(){return r._containerClass}},canvasProxy:{enumerable:!0,get:function(){return i._captureProxy}},tapBehavior:{enumerable:!0,get:function(){return i._tapBehavior}},draggable:{enumerable:!0,get:function(){return i._draggable}},selection:{enumerable:!0,get:function(){return i._selection}},customFootprintParent:{enumerable:!0,get:function(){return null}},skipPreventDefaultOnPointerDown:{enumerable:!0,get:function(){return!0}}}));var j=[g("PointerDown"),g("Click"),g("PointerUp"),g("PointerCancel"),g("LostPointerCapture"),g("ContextMenu"),g("MSHoldVisual",!0),g("FocusIn"),g("FocusOut"),g("DragStart"),g("DragEnd"),g("KeyDown")];j.forEach(function(a){n._addEventListener(i.element,a.name,a.handler,!!a.capture)}),this._writeProfilerMark("constructor,StopTM")},{element:{get:function(){return this._element}},draggable:{get:function(){return this._draggable},set:function(a){d.isPhone||this._draggable!==a&&(this._draggable=a,this._updateDraggableAttribute())}},selected:{get:function(){return this._selection.selected},set:function(a){this._selection.selected!==a&&(this._selection.selected=a)}},swipeOrientation:{get:function(){return"none"},set:function(a){n._deprecated(f.swipeOrientationDeprecated)}},tapBehavior:{get:function(){return this._tapBehavior},set:function(a){d.isPhone&&a===q.TapBehavior.directSelect||(this._tapBehavior=a,this._setAriaRole())}},swipeBehavior:{get:function(){return"none"},set:function(a){n._deprecated(f.swipeBehaviorDeprecated)}},selectionDisabled:{get:function(){return this._selectionMode===q.SelectionMode.none},set:function(a){a?this._selectionMode=q.SelectionMode.none:(this._setDirectionClass(),this._selectionMode=q.SelectionMode.single),this._setAriaRole()}},oninvoked:t(u.invoked),onselectionchanging:t(u.selectionchanging),onselectionchanged:t(u.selectionchanged),forceLayout:function(){this._forceLayout()},dispose:function(){this._disposed||(this._disposed=!0,this._itemEventsHandler.dispose(),m.disposeSubTree(this.element))},_onMSManipulationStateChanged:function(a){this._itemEventsHandler.onMSManipulationStateChanged(a)},_onPointerDown:function(a){this._itemEventsHandler.onPointerDown(a)},_onClick:function(a){this._itemEventsHandler.onClick(a)},_onPointerUp:function(a){n.hasClass(this._itemBox,r._itemFocusClass)&&this._onFocusOut(a),this._itemEventsHandler.onPointerUp(a)},_onPointerCancel:function(a){this._itemEventsHandler.onPointerCancel(a)},_onLostPointerCapture:function(a){this._itemEventsHandler.onLostPointerCapture(a)},_onContextMenu:function(a){this._itemEventsHandler.onContextMenu(a)},_onMSHoldVisual:function(a){this._itemEventsHandler.onMSHoldVisual(a)},_onFocusIn:function(){if(!this._itemBox.querySelector("."+r._itemFocusOutlineClass)&&p._keyboardSeenLast){n.addClass(this._itemBox,r._itemFocusClass);var a=b.document.createElement("div");a.className=r._itemFocusOutlineClass,this._itemBox.appendChild(a)}},_onFocusOut:function(){n.removeClass(this._itemBox,r._itemFocusClass);var a=this._itemBox.querySelector("."+r._itemFocusOutlineClass);a&&a.parentNode.removeChild(a)},_onDragStart:function(a){if(this._pressedElement&&this._itemEventsHandler._isInteractive(this._pressedElement))a.preventDefault();else{this._dragging=!0;var b=this;if(a.dataTransfer.setData("text",""),a.dataTransfer.setDragImage){var c=this.element.getBoundingClientRect();a.dataTransfer.setDragImage(this.element,a.clientX-c.left,a.clientY-c.top)}d._yieldForDomModification(function(){b._dragging&&n.addClass(b._itemBox,r._dragSourceClass)})}},_onDragEnd:function(){this._dragging=!1,n.removeClass(this._itemBox,r._dragSourceClass),this._itemEventsHandler.resetPointerDownState()},_onKeyDown:function(a){if(!this._itemEventsHandler._isInteractive(a.target)){var b=n.Key,c=a.keyCode,d=!1;if(a.ctrlKey||c!==b.enter)a.ctrlKey&&c===b.enter||c===b.space?this.selectionDisabled||(this.selected=!this.selected,d=n._setActive(this.element)):c===b.escape&&this.selected&&(this.selected=!1,d=!0);else{var e=this._verifySelectionAllowed();e.canTapSelect&&(this.selected=!this.selected),this._fireInvokeEvent(),d=!0}d&&(a.stopPropagation(),a.preventDefault())}},_setTabIndex:function(){var a=this.element.getAttribute("tabindex");a||this.element.setAttribute("tabindex","0")},_rtl:function(){return"boolean"!=typeof this._cachedRTL&&(this._cachedRTL="rtl"===n._getComputedStyle(this.element,null).direction),this._cachedRTL},_setDirectionClass:function(){n[this._rtl()?"addClass":"removeClass"](this.element,r._rtlListViewClass)},_forceLayout:function(){this._cachedRTL="rtl"===n._getComputedStyle(this.element,null).direction,this._setDirectionClass()},_getItemPosition:function(){var a=this.element;return a?j.wrap({left:this._rtl()?a.offsetParent.offsetWidth-a.offsetLeft-a.offsetWidth:a.offsetLeft,top:a.offsetTop,totalWidth:n.getTotalWidth(a),totalHeight:n.getTotalHeight(a),contentWidth:n.getContentWidth(a),contentHeight:n.getContentHeight(a)}):j.cancel},_itemPropertyChange:function(a){if(!this._disposed){var b=a[0].target,c="true"===b.getAttribute("aria-selected");c!==n._isSelectionRendered(this._itemBox)&&(this.selectionDisabled?n._setAttribute(b,"aria-selected",!c):(this.selected=c,c!==this.selected&&n._setAttribute(b,"aria-selected",!c)))}},_updateDraggableAttribute:function(){this._itemBox.setAttribute("draggable",this._draggable)},_verifySelectionAllowed:function(){if(this._selectionMode!==q.SelectionMode.none&&this._tapBehavior===q.TapBehavior.toggleSelect){var a=this._selection.fireSelectionChanging();return{canSelect:a,canTapSelect:a&&this._tapBehavior===q.TapBehavior.toggleSelect}}return{canSelect:!1,canTapSelect:!1}},_setupInternalTree:function(){var a=b.document.createElement("div");a.className=r._itemClass,this._captureProxy=b.document.createElement("div"),this._itemBox=b.document.createElement("div"),this._itemBox.className=r._itemBoxClass;for(var c=this.element.firstChild;c;){var d=c.nextSibling;a.appendChild(c),c=d}this.element.appendChild(this._itemBox),this._itemBox.appendChild(a),this.element.appendChild(this._captureProxy)},_fireInvokeEvent:function(){if(this.tapBehavior!==q.TapBehavior.none){var a=b.document.createEvent("CustomEvent");a.initCustomEvent(u.invoked,!0,!1,{}),this.element.dispatchEvent(a)}},_setAriaRole:function(){if(!this.element.getAttribute("role")||this._usingDefaultItemRole){this._usingDefaultItemRole=!0;var a;a=this.tapBehavior===q.TapBehavior.none&&this.selectionDisabled?"listitem":"option",n._setAttribute(this.element,"role",a)}},_writeProfilerMark:function(a){var b="WinJS.UI.ItemContainer:"+this._id+":"+a;i(b),g.log&&g.log(b,null,"itemcontainerprofiler")}},{_ClassName:{itemContainer:"win-itemcontainer",vertical:"win-vertical",horizontal:"win-horizontal"}});return c.Class.mix(h,l.DOMEventMixin),h}),_SingleItemSelectionManager:c.Namespace._lazy(function(){return c.Class.define(function(a,b){this._selected=!1,this._element=a,this._itemBox=b},{selected:{get:function(){return this._selected},set:function(a){a=!!a,this._selected!==a&&this.fireSelectionChanging()&&(this._selected=a,s._ItemEventsHandler.renderSelection(this._itemBox,this._element,a,!0,this._element),this.fireSelectionChanged())}},count:function(){return this._selected?1:0},getIndices:function(){},getItems:function(){},getRanges:function(){},isEverything:function(){return!1},set:function(){this.selected=!0},clear:function(){this.selected=!1},add:function(){this.selected=!0},remove:function(){this.selected=!1},selectAll:function(){},fireSelectionChanging:function(){var a=b.document.createEvent("CustomEvent");return a.initCustomEvent(u.selectionchanging,!0,!0,{}),this._element.dispatchEvent(a)},fireSelectionChanged:function(){var a=b.document.createEvent("CustomEvent");a.initCustomEvent(u.selectionchanged,!0,!1,{}),this._element.dispatchEvent(a)},_isIncluded:function(){return this._selected},_getFocused:function(){return{type:q.ObjectType.item,index:r._INVALID_INDEX}}})})})}),d("WinJS/Controls/Repeater",["exports","../Core/_Global","../Core/_Base","../Core/_ErrorFromName","../Core/_Events","../Core/_Resources","../Core/_WriteProfilerMark","../BindingList","../BindingTemplate","../Promise","../Utilities/_Control","../Utilities/_Dispose","../Utilities/_ElementUtilities","../Utilities/_Hoverable"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){"use strict";c.Namespace._moduleDefine(a,"WinJS.UI",{Repeater:c.Namespace._lazy(function(){function a(a){var c=b.document.createElement("div");return c.textContent=JSON.stringify(a),c}var f="itemsloaded",n="itemchanging",o="itemchanged",p="iteminserting",q="iteminserted",r="itemmoving",s="itemmoved",t="itemremoving",u="itemremoved",v="itemsreloading",w="itemsreloaded",x=e._createEventProperty,y={get duplicateConstruction(){return"Invalid argument: Controls may only be instantiated one time for each DOM element"},get asynchronousRender(){return"Top level items must render synchronously"},get repeaterReentrancy(){return"Cannot modify Repeater data until Repeater has commited previous modification."}},z=c.Class.define(function(a,c){if(a&&a.winControl)throw new d("WinJS.UI.Repeater.DuplicateConstruction",y.duplicateConstruction);this._element=a||b.document.createElement("div"),this._id=this._element.id||m._uniqueID(this._element),this._writeProfilerMark("constructor,StartTM"),c=c||{},m.addClass(this._element,"win-repeater win-disposable"),this._render=null,this._modifying=!1,this._disposed=!1,this._element.winControl=this,this._dataListeners={itemchanged:this._dataItemChangedHandler.bind(this),iteminserted:this._dataItemInsertedHandler.bind(this),itemmoved:this._dataItemMovedHandler.bind(this),itemremoved:this._dataItemRemovedHandler.bind(this),reload:this._dataReloadHandler.bind(this)};var e=this._extractInlineTemplate();this._initializing=!0,this.template=c.template||e,this.data=c.data,this._initializing=!1,k._setOptions(this,c,!0),this._repeatedDOM=[],this._renderAllItems(),this.dispatchEvent(f,{}),this._writeProfilerMark("constructor,StopTM")},{element:{get:function(){return this._element}},data:{get:function(){return this._data},set:function(a){this._writeProfilerMark("data.set,StartTM"),this._data&&this._removeDataListeners(),this._data=a||new h.List,this._addDataListeners(),this._initializing||(this._reloadRepeater(!0),this.dispatchEvent(f,{})),this._writeProfilerMark("data.set,StopTM")}},template:{get:function(){return this._template},set:function(b){this._writeProfilerMark("template.set,StartTM"),this._template=b||a,this._render=m._syncRenderer(this._template,this.element.tagName),this._initializing||(this._reloadRepeater(!0),this.dispatchEvent(f,{})),this._writeProfilerMark("template.set,StopTM")}},length:{get:function(){return this._repeatedDOM.length}},elementFromIndex:function(a){return this._repeatedDOM[a]},dispose:function(){if(!this._disposed){this._disposed=!0,this._removeDataListeners(),this._data=null,this._template=null;for(var a=0,b=this._repeatedDOM.length;b>a;a++)l._disposeElement(this._repeatedDOM[a])}},onitemsloaded:x(f),onitemchanging:x(n),onitemchanged:x(o),oniteminserting:x(p),oniteminserted:x(q),onitemmoving:x(r),onitemmoved:x(s),onitemremoving:x(t),onitemremoved:x(u),onitemsreloading:x(v),onitemsreloaded:x(w),_extractInlineTemplate:function(){if(this._element.firstElementChild){for(var a=b.document.createElement(this._element.tagName);this._element.firstElementChild;)a.appendChild(this._element.firstElementChild);return new i.Template(a,{extractChild:!0})}},_renderAllItems:function(){for(var a=b.document.createDocumentFragment(),c=0,e=this._data.length;e>c;c++){var f=this._render(this._data.getAt(c));if(!f)throw new d("WinJS.UI.Repeater.AsynchronousRender",y.asynchronousRender);a.appendChild(f),this._repeatedDOM.push(f)}this._element.appendChild(a)},_reloadRepeater:function(a){this._unloadRepeatedDOM(a),this._repeatedDOM=[],this._renderAllItems()},_unloadRepeatedDOM:function(a){for(var b=0,c=this._repeatedDOM.length;c>b;b++){var d=this._repeatedDOM[b];a&&l._disposeElement(d),d.parentElement===this._element&&this._element.removeChild(d)}},_addDataListeners:function(){Object.keys(this._dataListeners).forEach(function(a){this._data.addEventListener(a,this._dataListeners[a],!1)}.bind(this))},_beginModification:function(){if(this._modifying)throw new d("WinJS.UI.Repeater.RepeaterModificationReentrancy",y.repeaterReentrancy);this._modifying=!0},_endModification:function(){this._modifying=!1},_removeDataListeners:function(){Object.keys(this._dataListeners).forEach(function(a){this._data.removeEventListener(a,this._dataListeners[a],!1)}.bind(this))},_dataItemChangedHandler:function(a){this._beginModification();var b,c=this._element,e=a.detail.index,f=this._render(a.detail.newValue);if(!f)throw new d("WinJS.UI.Repeater.AsynchronousRender",y.asynchronousRender);this._repeatedDOM[e]&&(a.detail.oldElement=this._repeatedDOM[e]),a.detail.newElement=f,a.detail.setPromise=function(a){b=a},this._writeProfilerMark(n+",info"),this.dispatchEvent(n,a.detail);var g=null;e<this._repeatedDOM.length?(g=this._repeatedDOM[e],c.replaceChild(f,g),this._repeatedDOM[e]=f):(c.appendChild(f),this._repeatedDOM.push(f)),this._endModification(),this._writeProfilerMark(o+",info"),this.dispatchEvent(o,a.detail),g&&j.as(b).done(function(){l._disposeElement(g)}.bind(this))},_dataItemInsertedHandler:function(a){this._beginModification();var b=a.detail.index,c=this._render(a.detail.value);if(!c)throw new d("WinJS.UI.Repeater.AsynchronousRender",y.asynchronousRender);var e=this._element;if(a.detail.affectedElement=c,this._writeProfilerMark(p+",info"),this.dispatchEvent(p,a.detail),b<this._repeatedDOM.length){var f=this._repeatedDOM[b];e.insertBefore(c,f)}else e.appendChild(c);this._repeatedDOM.splice(b,0,c),this._endModification(),this._writeProfilerMark(q+",info"),this.dispatchEvent(q,a.detail)},_dataItemMovedHandler:function(a){this._beginModification();var b=this._repeatedDOM[a.detail.oldIndex];if(a.detail.affectedElement=b,this._writeProfilerMark(r+",info"),this.dispatchEvent(r,a.detail),this._repeatedDOM.splice(a.detail.oldIndex,1)[0],b.parentNode.removeChild(b),a.detail.newIndex<this._data.length-1){var c=this._repeatedDOM[a.detail.newIndex];this._element.insertBefore(b,c),this._repeatedDOM.splice(a.detail.newIndex,0,b)}else this._repeatedDOM.push(b),this._element.appendChild(b);this._endModification(),this._writeProfilerMark(s+",info"),this.dispatchEvent(s,a.detail)},_dataItemRemovedHandler:function(a){this._beginModification();var b,c=this._repeatedDOM[a.detail.index],d={affectedElement:c,index:a.detail.index,item:a.detail.item};d.setPromise=function(a){b=a},this._writeProfilerMark(t+",info"),this.dispatchEvent(t,d),c.parentNode.removeChild(c),this._repeatedDOM.splice(a.detail.index,1),this._endModification(),this._writeProfilerMark(u+",info"),this.dispatchEvent(u,d),j.as(b).done(function(){l._disposeElement(c)}.bind(this))},_dataReloadHandler:function(){this._beginModification();var a,b=this._repeatedDOM.slice(0),c={affectedElements:b};c.setPromise=function(b){a=b},this._writeProfilerMark(v+",info"),this.dispatchEvent(v,c),this._reloadRepeater(!1);var d=this._repeatedDOM.slice(0);this._endModification(),this._writeProfilerMark(w+",info"),this.dispatchEvent(w,{affectedElements:d}),j.as(a).done(function(){for(var a=0,c=b.length;c>a;a++)l._disposeElement(b[a])}.bind(this))},_writeProfilerMark:function(a){g("WinJS.UI.Repeater:"+this._id+":"+a)}},{isDeclarativeControlContainer:!0});return c.Class.mix(z,k.DOMEventMixin),z})})}),d("require-style!less/styles-datetimepicker",[],function(){}),d("WinJS/Controls/DatePicker",["../Core/_Global","../Core/_WinRT","../Core/_Base","../Core/_BaseUtils","../Core/_Events","../Core/_Resources","../Utilities/_Control","../Utilities/_ElementUtilities","../Utilities/_Hoverable","../Utilities/_Select","require-style!less/styles-datetimepicker"],function(a,b,c,d,e,f,g,h,i,j){"use strict";c.Namespace.define("WinJS.UI",{DatePicker:c.Namespace._lazy(function(){function d(a,c,d){var e=b.Windows.Globalization.DateTimeFormatting;a=a?a:d;var f=new e.DateTimeFormatter(a);return c?new e.DateTimeFormatter(a,f.languages,f.geographicRegion,c,f.clock):f}function i(a,b,c){var e=t[a];e||(e=t[a]={});var f=e[b];f||(f=e[b]={});var g=f[c];return g||(g=f[c]={},g.formatter=d(a,b,c),g.years={}),g}function k(a,b,c,d,e,f){var g=i(a,b,c),h=g.years[f.year+"-"+f.era];return h||(h=g.formatter.format(f.getDateTime()),g.years[f.year+"-"+f.era]=h),h}function l(a,b,c,d){var e=i(a,b,c);return e.formatter.format(d.getDateTime())}function m(a,b,c,d){var e=i(a,b,c);return e.formatter.format(d.getDateTime())}function n(a){var c=b.Windows.Globalization,d=new c.Calendar;return a?new c.Calendar(d.languages,a,d.getClock()):d}function o(a,b){var c=0;if(a.era===b.era)c=b.year-a.year;else for(;a.era!==b.era||a.year!==b.year;)c++,a.addYears(1);return c}var p="day",q="{month.full}",r="year.full",s={get ariaLabel(){return f._getWinJSString("ui/datePicker").value},get selectDay(){return f._getWinJSString("ui/selectDay").value},get selectMonth(){return f._getWinJSString("ui/selectMonth").value},get selectYear(){return f._getWinJSString("ui/selectYear").value}},t={},u=c.Class.define(function(b,c){this._currentDate=new Date,this._minYear=this._currentDate.getFullYear()-100,this._maxYear=this._currentDate.getFullYear()+100,this._datePatterns={date:null,month:null,year:null},b=b||a.document.createElement("div"),h.addClass(b,"win-disposable"),b.winControl=this;var d=b.getAttribute("aria-label");d||b.setAttribute("aria-label",s.ariaLabel),this._init(b),g.setOptions(this,c)},{_information:null,_currentDate:null,_calendar:null,_disabled:!1,_dateElement:null,_dateControl:null,_monthElement:null,_monthControl:null,_minYear:null,_maxYear:null,_yearElement:null,_yearControl:null,_datePatterns:{date:null,month:null,year:null},_addAccessibilityAttributes:function(){this._domElement.setAttribute("role","group"),this._dateElement.setAttribute("aria-label",s.selectDay),this._monthElement.setAttribute("aria-label",s.selectMonth),this._yearElement.setAttribute("aria-label",s.selectYear)},_addControlsInOrder:function(){var a=this._domElement,b=this,c=0;b._information.order.forEach(function(d){switch(d){case"month":a.appendChild(b._monthElement),h.addClass(b._monthElement,"win-order"+c++);break;case"date":a.appendChild(b._dateElement),h.addClass(b._dateElement,"win-order"+c++);break;case"year":a.appendChild(b._yearElement),h.addClass(b._yearElement,"win-order"+c++)}})},_createControlElements:function(){this._monthElement=a.document.createElement("select"),this._monthElement.className="win-datepicker-month win-dropdown",this._dateElement=a.document.createElement("select"),this._dateElement.className="win-datepicker-date win-dropdown",this._yearElement=a.document.createElement("select"),this._yearElement.className="win-datepicker-year win-dropdown"},_createControls:function(){var a=this._information,b=a.getIndex(this.current);a.forceLanguage&&(this._domElement.setAttribute("lang",a.forceLanguage),this._domElement.setAttribute("dir",a.isRTL?"rtl":"ltr")),this._yearControl=new j._Select(this._yearElement,{dataSource:this._information.years,disabled:this.disabled,index:b.year}),this._monthControl=new j._Select(this._monthElement,{dataSource:this._information.months(b.year),disabled:this.disabled,index:b.month}),this._dateControl=new j._Select(this._dateElement,{dataSource:this._information.dates(b.year,b.month),disabled:this.disabled,index:b.date}),this._wireupEvents()},dispose:function(){},calendar:{get:function(){return this._calendar},set:function(a){this._calendar=a,this._setElement(this._domElement)}},current:{get:function(){var a=this._currentDate,b=a.getFullYear();return new Date(Math.max(Math.min(this.maxYear,b),this.minYear),a.getMonth(),a.getDate(),12,0,0,0)},set:function(a){var b;"string"==typeof a?(b=new Date(Date.parse(a)),b.setHours(12,0,0,0)):b=a;var c=this._currentDate;c!==b&&(this._currentDate=b,this._updateDisplay())}},disabled:{get:function(){return this._disabled},set:function(a){this._disabled!==a&&(this._disabled=a,this._yearControl&&(this._monthControl.setDisabled(a),this._dateControl.setDisabled(a),this._yearControl.setDisabled(a)))}},datePattern:{get:function(){return this._datePatterns.date},set:function(a){this._datePatterns.date!==a&&(this._datePatterns.date=a,this._init())}},element:{get:function(){return this._domElement}},_setElement:function(a){this._domElement=this._domElement||a,this._domElement&&(h.empty(this._domElement),h.addClass(this._domElement,"win-datepicker"),this._updateInformation(),this._createControlElements(),this._addControlsInOrder(),this._createControls(),this._addAccessibilityAttributes())},minYear:{get:function(){return this._information.getDate({year:0,month:0,date:0}).getFullYear()},set:function(a){this._minYear!==a&&(this._minYear=a,a>this._maxYear&&(this._maxYear=a),this._updateInformation(),this._yearControl&&(this._yearControl.dataSource=this._information.years),this._updateDisplay())}},maxYear:{get:function(){var a={year:this._information.years.getLength()-1};return a.month=this._information.months(a.year).getLength()-1,a.date=this._information.dates(a.year,a.month).getLength()-1,this._information.getDate(a).getFullYear()},set:function(a){this._maxYear!==a&&(this._maxYear=a,a<this._minYear&&(this._minYear=a),this._updateInformation(),this._yearControl&&(this._yearControl.dataSource=this._information.years),this._updateDisplay())}},monthPattern:{get:function(){return this._datePatterns.month},set:function(a){this._datePatterns.month!==a&&(this._datePatterns.month=a,this._init())}},_updateInformation:function(){var a=new Date(this._minYear,0,1,12,0,0),b=new Date(this._maxYear,11,31,12,0,0);a.setFullYear(this._minYear),b.setFullYear(this._maxYear),this._information=u.getInformation(a,b,this._calendar,this._datePatterns)},_init:function(a){this._setElement(a)},_updateDisplay:function(){if(this._domElement&&this._yearControl){var a=this._information.getIndex(this.current);this._yearControl.index=a.year,this._monthControl.dataSource=this._information.months(a.year),this._monthControl.index=a.month,this._dateControl.dataSource=this._information.dates(a.year,a.month),this._dateControl.index=a.date}},_wireupEvents:function(){function a(){b._currentDate=b._information.getDate({year:b._yearControl.index,month:b._monthControl.index,date:b._dateControl.index},b._currentDate);var a=b._information.getIndex(b._currentDate);b._monthControl.dataSource=b._information.months(a.year),b._monthControl.index=a.month,b._dateControl.dataSource=b._information.dates(a.year,a.month),b._dateControl.index=a.date}var b=this;this._dateElement.addEventListener("change",a,!1),this._monthElement.addEventListener("change",a,!1),this._yearElement.addEventListener("change",a,!1)},yearPattern:{get:function(){return this._datePatterns.year},set:function(a){this._datePatterns.year!==a&&(this._datePatterns.year=a,this._init())}}},{_getInformationWinRT:function(a,b,c,d){function e(a){return new Date(Math.min(new Date(Math.max(j,a)),s))}d=d||{date:p,month:q,year:r};var f=n(c),g=n(c),h=n(c);f.setToMin();var j=f.getDateTime();f.setToMax();var s=f.getDateTime();f.hour=12,a=e(a),b=e(b),f.setDateTime(b);var t={year:f.year,era:f.era};f.setDateTime(a);var u=0;u=o(f,t)+1;var v=i("day month.full year",c).formatter,w=v.patterns[0],x=8207===w.charCodeAt(0),y=["date","month","year"],z={month:w.indexOf("{month"),date:w.indexOf("{day"),year:w.indexOf("{year")};y.sort(function(a,b){return z[a]<z[b]?-1:z[a]>z[b]?1:0});var A=function(){return{getLength:function(){return u},getValue:function(b){return f.setDateTime(a),f.addYears(b),k(d.year,c,r,d,y,f)}}}(),B=function(b){return g.setDateTime(a),g.addYears(b),{getLength:function(){return g.numberOfMonthsInThisYear},getValue:function(a){return g.month=g.firstMonthInThisYear,g.addMonths(a),l(d.month,c,q,g)}}},C=function(b,e){return h.setDateTime(a),h.addYears(b),h.month=h.firstMonthInThisYear,h.addMonths(e),h.day=h.firstDayInThisMonth,{getLength:function(){return h.numberOfDaysInThisMonth},getValue:function(a){return h.day=h.firstDayInThisMonth,h.addDays(a),m(d.date,c,p,h)}}};return{isRTL:x,forceLanguage:v.resolvedLanguage,order:y,getDate:function(b,c){var d;c&&(f.setDateTime(c),d={year:f.year,month:f.month,day:f.day});var e=f;e.setDateTime(a),e.addYears(b.year);var g;e.firstMonthInThisYear>e.lastMonthInThisYear?(g=b.month+e.firstMonthInThisYear>e.numberOfMonthsInThisYear?b.month+e.firstMonthInThisYear-e.numberOfMonthsInThisYear:b.month+e.firstMonthInThisYear,d&&d.year!==e.year&&(g=Math.max(Math.min(d.month,e.numberOfMonthsInThisYear),1))):g=d&&d.year!==e.year?Math.max(Math.min(d.month,e.firstMonthInThisYear+e.numberOfMonthsInThisYear-1),e.firstMonthInThisYear):Math.max(Math.min(b.month+e.firstMonthInThisYear,e.firstMonthInThisYear+e.numberOfMonthsInThisYear-1),e.firstMonthInThisYear),e.month=g;var h=Math.max(Math.min(b.date+e.firstDayInThisMonth,e.firstDayInThisMonth+e.numberOfDaysInThisMonth-1),e.firstDayInThisMonth);return!d||d.year===e.year&&d.month===e.month||(h=Math.max(Math.min(d.day,e.firstDayInThisMonth+e.numberOfDaysInThisMonth-1),e.firstDayInThisMonth)),e.day=e.firstDayInThisMonth,e.addDays(h-e.firstDayInThisMonth),e.getDateTime()},getIndex:function(b){var c=e(b);f.setDateTime(c);var d={year:f.year,era:f.era},g=0;f.setDateTime(a),f.month=1,g=o(f,d),f.setDateTime(c);var h=f.month-f.firstMonthInThisYear;0>h&&(h=f.month-f.firstMonthInThisYear+f.numberOfMonthsInThisYear);var i=f.day-f.firstDayInThisMonth,j={year:g,month:h,date:i};return j},years:A,months:B,dates:C}},_getInformationJS:function(a,b){var c=a.getFullYear(),d=b.getFullYear(),e={getLength:function(){return Math.max(0,d-c+1)},getValue:function(a){return c+a}},f=["January","February","March","April","May","June","July","August","September","October","November","December"],g=function(){return{getLength:function(){return f.length},getValue:function(a){return f[a]},getMonthNumber:function(a){return Math.min(a,f.length-1)}}},h=function(a,b){var c=new Date,d=e.getValue(a),f=b+1;c.setFullYear(d,f,0);var g=c.getDate();return{getLength:function(){return g},getValue:function(a){return""+(a+1)},getDateNumber:function(a){return Math.min(a+1,g)}}};return{order:["month","date","year"],getDate:function(a){return new Date(e.getValue(a.year),g(a.year).getMonthNumber(a.month),h(a.year,a.month).getDateNumber(a.date),12,0)},getIndex:function(a){var b=0,d=a.getFullYear();
b=c>d?0:d>this.maxYear?e.getLength()-1:a.getFullYear()-c;var f=Math.min(a.getMonth(),g(b).getLength()),i=Math.min(a.getDate()-1,h(b,f).getLength());return{year:b,month:f,date:i}},years:e,months:g,dates:h}}});return b.Windows.Globalization.Calendar&&b.Windows.Globalization.DateTimeFormatting?u.getInformation=u._getInformationWinRT:u.getInformation=u._getInformationJS,c.Class.mix(u,e.createEventProperties("change")),c.Class.mix(u,g.DOMEventMixin),u})})}),d("WinJS/Controls/TimePicker",["../Core/_Global","../Core/_WinRT","../Core/_Base","../Core/_BaseUtils","../Core/_Events","../Core/_Resources","../Utilities/_Control","../Utilities/_ElementUtilities","../Utilities/_Hoverable","../Utilities/_Select","require-style!less/styles-datetimepicker"],function(a,b,c,d,e,f,g,h,i,j){"use strict";c.Namespace.define("WinJS.UI",{TimePicker:c.Namespace._lazy(function(){var d="{minute.integer(2)}",i="{hour.integer(1)}",k="{period.abbreviated(2)}",l={get ariaLabel(){return f._getWinJSString("ui/timePicker").value},get selectHour(){return f._getWinJSString("ui/selectHour").value},get selectMinute(){return f._getWinJSString("ui/selectMinute").value},get selectAMPM(){return f._getWinJSString("ui/selectAMPM").value}},m=function(a,b){return a.getHours()===b.getHours()&&a.getMinutes()===b.getMinutes()},n=c.Class.define(function(b,c){this._currentTime=n._sentinelDate(),b=b||a.document.createElement("div"),h.addClass(b,"win-disposable"),b.winControl=this;var d=b.getAttribute("aria-label");d||b.setAttribute("aria-label",l.ariaLabel),this._timePatterns={minute:null,hour:null,period:null},this._init(b),g.setOptions(this,c)},{_currentTime:null,_clock:null,_disabled:!1,_hourElement:null,_hourControl:null,_minuteElement:null,_minuteControl:null,_ampmElement:null,_ampmControl:null,_minuteIncrement:1,_timePatterns:{minute:null,hour:null,period:null},_information:null,_addAccessibilityAttributes:function(){this._domElement.setAttribute("role","group"),this._hourElement.setAttribute("aria-label",l.selectHour),this._minuteElement.setAttribute("aria-label",l.selectMinute),this._ampmElement&&this._ampmElement.setAttribute("aria-label",l.selectAMPM)},_addControlsInOrder:function(a){var b=this;a.order.forEach(function(a,c){switch(a){case"hour":b._domElement.appendChild(b._hourElement),h.addClass(b._hourElement,"win-order"+c);break;case"minute":b._domElement.appendChild(b._minuteElement),h.addClass(b._minuteElement,"win-order"+c);break;case"period":b._ampmElement&&(b._domElement.appendChild(b._ampmElement),h.addClass(b._ampmElement,"win-order"+c))}})},dispose:function(){},clock:{get:function(){return this._clock},set:function(a){this._clock!==a&&(this._clock=a,this._init())}},current:{get:function(){var a=this._currentTime;if(a){var b=n._sentinelDate();return b.setHours(a.getHours()),b.setMinutes(this._getMinutesIndex(a)*this.minuteIncrement),b.setSeconds(0),b.setMilliseconds(0),b}return a},set:function(a){var b;"string"==typeof a?(b=n._sentinelDate(),b.setTime(Date.parse(b.toDateString()+" "+a))):(b=n._sentinelDate(),b.setHours(a.getHours()),b.setMinutes(a.getMinutes()));var c=this._currentTime;m(c,b)||(this._currentTime=b,this._updateDisplay())}},disabled:{get:function(){return this._disabled},set:function(a){this._disabled!==a&&(this._disabled=a,this._hourControl&&(this._hourControl.setDisabled(a),this._minuteControl.setDisabled(a)),this._ampmControl&&this._ampmControl.setDisabled(a))}},element:{get:function(){return this._domElement}},_init:function(a){this._setElement(a),this._updateDisplay()},hourPattern:{get:function(){return this._timePatterns.hour.pattern},set:function(a){this._timePatterns.hour!==a&&(this._timePatterns.hour=a,this._init())}},_getHoursAmpm:function(a){var b=a.getHours();return this._ampmElement?0===b?{hours:12,ampm:0}:12>b?{hours:b,ampm:0}:{hours:b-12,ampm:1}:{hours:b}},_getHoursIndex:function(a){return this._ampmElement&&12===a?0:a},_getMinutesIndex:function(a){return parseInt(a.getMinutes()/this.minuteIncrement)},minuteIncrement:{get:function(){return Math.max(1,Math.abs(0|this._minuteIncrement)%60)},set:function(a){this._minuteIncrement!==a&&(this._minuteIncrement=a,this._init())}},minutePattern:{get:function(){return this._timePatterns.minute.pattern},set:function(a){this._timePatterns.minute!==a&&(this._timePatterns.minute=a,this._init())}},periodPattern:{get:function(){return this._timePatterns.period.pattern},set:function(a){this._timePatterns.period!==a&&(this._timePatterns.period=a,this._init())}},_setElement:function(b){if(this._domElement=this._domElement||b,this._domElement){var c=n.getInformation(this.clock,this.minuteIncrement,this._timePatterns);this._information=c,c.forceLanguage&&(this._domElement.setAttribute("lang",c.forceLanguage),this._domElement.setAttribute("dir",c.isRTL?"rtl":"ltr")),h.empty(this._domElement),h.addClass(this._domElement,"win-timepicker"),this._hourElement=a.document.createElement("select"),h.addClass(this._hourElement,"win-timepicker-hour win-dropdown"),this._minuteElement=a.document.createElement("select"),h.addClass(this._minuteElement,"win-timepicker-minute win-dropdown"),this._ampmElement=null,"12HourClock"===c.clock&&(this._ampmElement=a.document.createElement("select"),h.addClass(this._ampmElement,"win-timepicker-period win-dropdown")),this._addControlsInOrder(c);var d=this._getHoursAmpm(this.current);this._hourControl=new j._Select(this._hourElement,{dataSource:this._getInfoHours(),disabled:this.disabled,index:this._getHoursIndex(d.hours)}),this._minuteControl=new j._Select(this._minuteElement,{dataSource:c.minutes,disabled:this.disabled,index:this._getMinutesIndex(this.current)}),this._ampmControl=null,this._ampmElement&&(this._ampmControl=new j._Select(this._ampmElement,{dataSource:c.periods,disabled:this.disabled,index:d.ampm})),this._wireupEvents(),this._updateValues(),this._addAccessibilityAttributes()}},_getInfoHours:function(){return this._information.hours},_updateLayout:function(){this._domElement&&this._updateValues()},_updateValues:function(){if(this._hourControl){var a=this._getHoursAmpm(this.current);this._ampmControl&&(this._ampmControl.index=a.ampm),this._hourControl.index=this._getHoursIndex(a.hours),this._minuteControl.index=this._getMinutesIndex(this.current)}},_updateDisplay:function(){var a=this._getHoursAmpm(this.current);this._ampmControl&&(this._ampmControl.index=a.ampm),this._hourControl&&(this._hourControl.index=this._getHoursIndex(a.hours),this._minuteControl.index=this._getMinutesIndex(this.current))},_wireupEvents:function(){var a=this,b=function(){var b=a._hourControl.index;return a._ampmElement&&1===a._ampmControl.index&&12!==b&&(b+=12),b},c=function(){var c=b();a._currentTime.setHours(c),a._currentTime.setMinutes(a._minuteControl.index*a.minuteIncrement)};this._hourElement.addEventListener("change",c,!1),this._minuteElement.addEventListener("change",c,!1),this._ampmElement&&this._ampmElement.addEventListener("change",c,!1)}},{_sentinelDate:function(){var a=new Date;return new Date(2011,6,15,a.getHours(),a.getMinutes())},_getInformationWinRT:function(a,c,e){var f=function(c,d){var e=b.Windows.Globalization.DateTimeFormatting;c=c?c:d;var f=new e.DateTimeFormatter(c);return a&&(f=e.DateTimeFormatter(c,f.languages,f.geographicRegion,f.calendar,a)),f},g=b.Windows.Globalization,h=new g.Calendar;a&&(h=new g.Calendar(h.languages,h.getCalendarSystem(),a)),h.setDateTime(n._sentinelDate());var j=h.getClock(),l=24;l=h.numberOfHoursInThisPeriod;var m=function(){var a=f(e.period,k);return{getLength:function(){return 2},getValue:function(b){var c=n._sentinelDate();if(0===b){c.setHours(1);var d=a.format(c);return d}if(1===b){c.setHours(13);var e=a.format(c);return e}return null}}}(),o=function(){var a=f(e.minute,d),b=n._sentinelDate();return{getLength:function(){return 60/c},getValue:function(d){var e=d*c;return b.setMinutes(e),a.format(b)}}}(),p=function(){var a=f(e.hour,i),b=n._sentinelDate();return{getLength:function(){return l},getValue:function(c){return b.setHours(c),a.format(b)}}}(),q=f("hour minute"),r=q.patterns[0],s=["hour","minute"],t={period:r.indexOf("{period"),hour:r.indexOf("{hour"),minute:r.indexOf("{minute")};t.period>-1&&s.push("period");var u=b.Windows.Globalization.DateTimeFormatting.DateTimeFormatter,v=new u("month.full",b.Windows.Globalization.ApplicationLanguages.languages,"ZZ","GregorianCalendar","24HourClock"),w=v.patterns[0],x=8207===w.charCodeAt(0);if(x){var y=t.hour;t.hour=t.minute,t.minute=y}return s.sort(function(a,b){return t[a]<t[b]?-1:t[a]>t[b]?1:0}),{minutes:o,hours:p,clock:j,periods:m,order:s,forceLanguage:q.resolvedLanguage,isRTL:x}},_getInformationJS:function(a,b){var c=[12,1,2,3,4,5,6,7,8,9,10,11],d={};d.getLength=function(){return 60/b},d.getValue=function(a){var c=a*b;return 10>c?"0"+c.toString():c.toString()};var e=["hour","minute","period"];return"24HourClock"===a&&(c=["00","01","02","03","04","05","06","07","08","09",10,11,12,13,14,15,16,17,18,19,20,21,22,23],e=["hour","minute"]),{minutes:d,hours:c,clock:a||"12HourClock",periods:["AM","PM"],order:e}}});return b.Windows.Globalization.DateTimeFormatting&&b.Windows.Globalization.Calendar&&b.Windows.Globalization.ApplicationLanguages?n.getInformation=n._getInformationWinRT:n.getInformation=n._getInformationJS,c.Class.mix(n,e.createEventProperties("change")),c.Class.mix(n,g.DOMEventMixin),n})})}),d("require-style!less/styles-backbutton",[],function(){}),d("require-style!less/colors-backbutton",[],function(){}),d("WinJS/Controls/BackButton",["exports","../Core/_Global","../Core/_Base","../Core/_ErrorFromName","../Core/_Resources","../Navigation","../Utilities/_Control","../Utilities/_ElementUtilities","../Utilities/_Hoverable","require-style!less/styles-backbutton","require-style!less/colors-backbutton"],function(a,b,c,d,e,f,g,h,i){"use strict";var j=h.Key,k="win-navigation-backbutton",l="win-back",m=3,n=function(){function a(){b.addEventListener("keyup",d,!1),h._addEventListener(b,"pointerup",e,!1)}function c(){b.removeEventListener("keyup",d,!1),h._removeEventListener(b,"pointerup",e,!1)}function d(a){(a.keyCode===j.leftArrow&&a.altKey&&!a.shiftKey&&!a.ctrlKey||a.keyCode===j.browserBack)&&(f.back(),a.preventDefault())}function e(a){a.button===m&&f.back()}var g=0;return{addRef:function(){0===g&&a(),g++},release:function(){g>0&&(g--,0===g&&c())},getCount:function(){return g}}}();c.Namespace._moduleDefine(a,"WinJS.UI",{BackButton:c.Namespace._lazy(function(){var a={get ariaLabel(){return e._getWinJSString("ui/backbuttonarialabel").value},get duplicateConstruction(){return"Invalid argument: Controls may only be instantiated one time for each DOM element"},get badButtonElement(){return"Invalid argument: For a button, toggle, or flyout command, the element must be null or a button element"}},i=c.Class.define(function(c,e){if(c&&c.winControl)throw new d("WinJS.UI.BackButton.DuplicateConstruction",a.duplicateConstruction);this._element=c||b.document.createElement("button"),e=e||{},this._initializeButton(),this._disposed=!1,this._element.winControl=this,g.setOptions(this,e),this._buttonClickHandler=this._handleBackButtonClick.bind(this),this._element.addEventListener("click",this._buttonClickHandler,!1),this._navigatedHandler=this._handleNavigatedEvent.bind(this),f.addEventListener("navigated",this._navigatedHandler,!1),n.addRef()},{element:{get:function(){return this._element}},dispose:function(){this._disposed||(this._disposed=!0,f.removeEventListener("navigated",this._navigatedHandler,!1),n.release())},refresh:function(){f.canGoBack?this._element.disabled=!1:this._element.disabled=!0},_initializeButton:function(){if("BUTTON"!==this._element.tagName)throw new d("WinJS.UI.BackButton.BadButtonElement",a.badButtonElement);h.addClass(this._element,k),h.addClass(this._element,"win-disposable"),this._element.innerHTML='<span class="'+l+'"></span>',this.refresh(),this._element.setAttribute("aria-label",a.ariaLabel),this._element.setAttribute("title",a.ariaLabel),this._element.setAttribute("type","button")},_handleNavigatedEvent:function(){this.refresh()},_handleBackButtonClick:function(){f.back()}});return i._getReferenceCount=function(){return n.getCount()},c.Class.mix(i,g.DOMEventMixin),i})})}),d("require-style!less/styles-tooltip",[],function(){}),d("require-style!less/colors-tooltip",[],function(){}),d("WinJS/Controls/Tooltip",["exports","../Core/_Global","../Core/_WinRT","../Core/_Base","../Core/_BaseUtils","../Core/_Events","../Animations","../Animations/_TransitionAnimation","../Utilities/_Control","../Utilities/_Dispose","../Utilities/_ElementUtilities","../Utilities/_Hoverable","require-style!less/styles-tooltip","require-style!less/colors-tooltip"],function(a,b,c,d,e,f,g,h,i,j,k,l){"use strict";d.Namespace._moduleDefine(a,"WinJS.UI",{Tooltip:d.Namespace._lazy(function(){function a(a,b){return"pointerdown"===a?b===G:a in H}function l(a,b){return"pointerdown"===a?b!==G:a in J}var m=0,n=k.Key,o="top",p=h._animationTimeAdjustment(400),q=h._animationTimeAdjustment(1200),r=h._animationTimeAdjustment(400),s=h._animationTimeAdjustment(5e3),t=h._animationTimeAdjustment(0),u=h._animationTimeAdjustment(600),v=h._animationTimeAdjustment(400),w=h._animationTimeAdjustment(600),x=h._animationTimeAdjustment(200),y=h._animationTimeAdjustment(3e5),z=12,A=20,B=45,C=20,D=12,E=1,F=k._MSPointerEvent.MSPOINTER_TYPE_MOUSE||"mouse",G=k._MSPointerEvent.MSPOINTER_TYPE_TOUCH||"touch",H={keyup:"",pointerover:"",pointerdown:""},I={pointermove:""},J={pointerdown:"",keydown:"",focusout:"",pointerout:"",pointercancel:"",pointerup:""},K={pointerover:"",pointerout:""},L="win-tooltip",M="win-tooltip-phantom",N=r,O=2*N,P=2.5*N,Q=s,R=!1,S=!1,T=f._createEventProperty;return d.Class.define(function(a,d){a=a||b.document.createElement("div");var e=k.data(a).tooltip;if(e)return e;if(!S&&c.Windows.UI.ViewManagement.UISettings){var f=new c.Windows.UI.ViewManagement.UISettings;N=h._animationTimeAdjustment(f.mouseHoverTime),O=2*N,P=2.5*N,Q=h._animationTimeAdjustment(1e3*f.messageDuration);var g=f.handPreference;R=g===c.Windows.UI.ViewManagement.HandPreference.leftHanded}S=!0,this._disposed=!1,this._placement=o,this._infotip=!1,this._innerHTML=null,this._contentElement=null,this._extraClass=null,this._lastContentType="html",this._anchorElement=a,this._domElement=null,this._phantomDiv=null,this._triggerByOpen=!1,this._eventListenerRemoveStack=[],this._lastKeyOrBlurEvent=null,this._currentKeyOrBlurEvent=null,a.winControl=this,k.addClass(a,"win-disposable"),a.title&&(this._innerHTML=this._anchorElement.title,this._anchorElement.removeAttribute("title")),i.setOptions(this,d),this._events(),k.data(a).tooltip=this},{innerHTML:{get:function(){return this._innerHTML},set:function(a){if(this._innerHTML=a,this._domElement){if(!this._innerHTML||""===this._innerHTML)return void this._onDismiss();this._domElement.innerHTML=a,this._position()}this._lastContentType="html"}},element:{get:function(){return this._anchorElement}},contentElement:{get:function(){return this._contentElement},set:function(a){if(this._contentElement=a,this._domElement){if(!this._contentElement)return void this._onDismiss();this._domElement.innerHTML="",this._domElement.appendChild(this._contentElement),this._position()}this._lastContentType="element"}},placement:{get:function(){return this._placement},set:function(a){"top"!==a&&"bottom"!==a&&"left"!==a&&"right"!==a&&(a=o),this._placement=a,this._domElement&&this._position()}},infotip:{get:function(){return this._infotip},set:function(a){this._infotip=!!a}},extraClass:{get:function(){return this._extraClass},set:function(a){this._extraClass=a}},onbeforeopen:T("beforeopen"),onopened:T("opened"),onbeforeclose:T("beforeclose"),onclosed:T("closed"),dispose:function(){if(!this._disposed){this._disposed=!0,j.disposeSubTree(this.element);for(var a=0,b=this._eventListenerRemoveStack.length;b>a;a++)this._eventListenerRemoveStack[a]();this._onDismiss();var c=k.data(this._anchorElement);c&&delete c.tooltip}},addEventListener:function(a,b,c){if(this._anchorElement){this._anchorElement.addEventListener(a,b,c);var d=this;this._eventListenerRemoveStack.push(function(){d._anchorElement.removeEventListener(a,b,c)})}},removeEventListener:function(a,b,c){this._anchorElement&&this._anchorElement.removeEventListener(a,b,c)},open:function(a){switch(this._triggerByOpen=!0,"touch"!==a&&"mouseover"!==a&&"mousedown"!==a&&"keyboard"!==a&&(a="default"),a){case"touch":this._onInvoke("touch","never");break;case"mouseover":this._onInvoke("mouse","auto");break;case"keyboard":this._onInvoke("keyboard","auto");break;case"mousedown":case"default":this._onInvoke("nodelay","never")}},close:function(){this._onDismiss()},_cleanUpDOM:function(){this._domElement&&(j.disposeSubTree(this._domElement),b.document.body.removeChild(this._domElement),this._domElement=null,b.document.body.removeChild(this._phantomDiv),this._phantomDiv=null)},_createTooltipDOM:function(){this._cleanUpDOM(),this._domElement=b.document.createElement("div");var a=k._uniqueID(this._domElement);this._domElement.setAttribute("id",a);var c=k._getComputedStyle(this._anchorElement,null),d=this._domElement.style;d.direction=c.direction,d.writingMode=c["writing-mode"],this._domElement.setAttribute("tabindex",-1),this._domElement.setAttribute("role","tooltip"),this._anchorElement.setAttribute("aria-describedby",a),"element"===this._lastContentType?this._domElement.appendChild(this._contentElement):this._domElement.innerHTML=this._innerHTML,b.document.body.appendChild(this._domElement),k.addClass(this._domElement,L),this._extraClass&&k.addClass(this._domElement,this._extraClass),this._phantomDiv=b.document.createElement("div"),this._phantomDiv.setAttribute("tabindex",-1),b.document.body.appendChild(this._phantomDiv),k.addClass(this._phantomDiv,M);var e=k._getComputedStyle(this._domElement,null).zIndex+1;this._phantomDiv.style.zIndex=e},_raiseEvent:function(a,c){if(this._anchorElement){var d=b.document.createEvent("CustomEvent");d.initCustomEvent(a,!1,!1,c),this._anchorElement.dispatchEvent(d)}},_captureLastKeyBlurOrPointerOverEvent:function(a){switch(this._lastKeyOrBlurEvent=this._currentKeyOrBlurEvent,a.type){case"keyup":a.keyCode===n.shift?this._currentKeyOrBlurEvent=null:this._currentKeyOrBlurEvent="keyboard";break;case"focusout":this._currentKeyOrBlurEvent=null}},_registerEventToListener:function(a,b){var c=this,d=function(a){c._captureLastKeyBlurOrPointerOverEvent(a),c._handleEvent(a)};k._addEventListener(a,b,d,!1),this._eventListenerRemoveStack.push(function(){k._removeEventListener(a,b,d,!1)})},_events:function(){for(var a in H)this._registerEventToListener(this._anchorElement,a);for(var a in I)this._registerEventToListener(this._anchorElement,a);for(a in J)this._registerEventToListener(this._anchorElement,a);this._registerEventToListener(this._anchorElement,"contextmenu"),this._registerEventToListener(this._anchorElement,"MSHoldVisual")},_handleEvent:function(b){var c=b._normalizedType||b.type;if(!this._triggerByOpen){if(c in K&&k.eventWithinElement(this._anchorElement,b))return;if(a(c,b.pointerType))if(b.pointerType===G)this._isShown||(this._showTrigger="touch"),this._onInvoke("touch","never",b);else{if(this._skipMouseOver&&b.pointerType===F&&"pointerover"===c)return void(this._skipMouseOver=!1);var d="key"===c.substring(0,3)?"keyboard":"mouse";this._isShown||(this._showTrigger=d),this._onInvoke(d,"auto",b)}else if(c in I)this._contactPoint={x:b.clientX,y:b.clientY};else if(l(c,b.pointerType)){var f;if(b.pointerType===G){if("pointerup"===c){this._skipMouseOver=!0;var g=this;e._yieldForEvents(function(){g._skipMouseOver=!1})}f="touch"}else f="key"===c.substring(0,3)?"keyboard":"mouse";if("focusout"!==c&&f!==this._showTrigger)return;this._onDismiss()}else"contextmenu"!==c&&"MSHoldVisual"!==c||b.preventDefault()}},_onShowAnimationEnd:function(){if(!this._shouldDismiss&&!this._disposed&&(this._raiseEvent("opened"),this._domElement&&"never"!==this._hideDelay)){var a=this,b=this._infotip?Math.min(3*Q,y):Q;this._hideDelayTimer=this._setTimeout(function(){a._onDismiss()},b)}},_onHideAnimationEnd:function(){b.document.body.removeEventListener("DOMNodeRemoved",this._removeTooltip,!1),this._cleanUpDOM(),this._anchorElement&&this._anchorElement.removeAttribute("aria-describedby"),m=(new Date).getTime(),this._triggerByOpen=!1,this._disposed||this._raiseEvent("closed")},_decideOnDelay:function(a){var b;if(this._useAnimation=!0,"nodelay"===a)b=0,this._useAnimation=!1;else{var c=(new Date).getTime();x>=c-m?(b="touch"===a?this._infotip?v:t:this._infotip?w:u,this._useAnimation=!1):b="touch"===a?this._infotip?q:p:this._infotip?P:O}return b},_getAnchorPositionFromElementWindowCoord:function(){var a=this._anchorElement.getBoundingClientRect();return{x:a.left,y:a.top,width:a.width,height:a.height}},_getAnchorPositionFromPointerWindowCoord:function(a){return{x:a.x,y:a.y,width:1,height:1}},_canPositionOnSide:function(a,b,c,d){var e=0,f=0;switch(a){case"top":e=d.width+this._offset,f=c.y;break;case"bottom":e=d.width+this._offset,f=b.height-c.y-c.height;break;case"left":e=c.x,f=d.height+this._offset;break;case"right":e=b.width-c.x-c.width,f=d.height+this._offset}return e>=d.width+this._offset&&f>=d.height+this._offset},_positionOnSide:function(a,b,c,d){var e=0,f=0;switch(a){case"top":case"bottom":e=c.x+c.width/2-d.width/2,e=Math.min(Math.max(e,0),b.width-d.width-E),f="top"===a?c.y-d.height-this._offset:c.y+c.height+this._offset;break;case"left":case"right":f=c.y+c.height/2-d.height/2,f=Math.min(Math.max(f,0),b.height-d.height-E),e="left"===a?c.x-d.width-this._offset:c.x+c.width+this._offset}this._domElement.style.left=e+"px",this._domElement.style.top=f+"px",this._phantomDiv.style.left=e+"px",this._phantomDiv.style.top=f+"px",this._phantomDiv.style.width=d.width+"px",this._phantomDiv.style.height=d.height+"px"},_position:function(a){var c={width:0,height:0},d={x:0,y:0,width:0,height:0},e={width:0,height:0};c.width=b.document.documentElement.clientWidth,c.height=b.document.documentElement.clientHeight,"tb-rl"===k._getComputedStyle(b.document.body,null)["writing-mode"]&&(c.width=b.document.documentElement.clientHeight,c.height=b.document.documentElement.clientWidth),d=!this._contactPoint||"touch"!==a&&"mouse"!==a?this._getAnchorPositionFromElementWindowCoord():this._getAnchorPositionFromPointerWindowCoord(this._contactPoint),e.width=this._domElement.offsetWidth,e.height=this._domElement.offsetHeight;var f={top:["top","bottom","left","right"],bottom:["bottom","top","left","right"],left:["left","right","top","bottom"],right:["right","left","top","bottom"]};R&&(f.top[2]="right",f.top[3]="left",f.bottom[2]="right",f.bottom[3]="left");for(var g=f[this._placement],h=g.length,i=0;h>i;i++)if(i===h-1||this._canPositionOnSide(g[i],c,d,e)){this._positionOnSide(g[i],c,d,e);break}return g[i]},_showTooltip:function(a){if(!this._shouldDismiss&&(this._isShown=!0,this._raiseEvent("beforeopen"),b.document.body.contains(this._anchorElement)&&!this._shouldDismiss)){if("element"===this._lastContentType){if(!this._contentElement)return void(this._isShown=!1)}else if(!this._innerHTML||""===this._innerHTML)return void(this._isShown=!1);var c=this;this._removeTooltip=function(a){for(var d=c._anchorElement;d;){if(a.target===d){b.document.body.removeEventListener("DOMNodeRemoved",c._removeTooltip,!1),c._cleanUpDOM();break}d=d.parentNode}},b.document.body.addEventListener("DOMNodeRemoved",this._removeTooltip,!1),this._createTooltipDOM(),this._position(a),this._useAnimation?g.fadeIn(this._domElement).then(this._onShowAnimationEnd.bind(this)):this._onShowAnimationEnd()}},_onInvoke:function(a,b,c){if(this._shouldDismiss=!1,!this._isShown&&(!c||"keyup"!==c.type||"keyboard"!==this._lastKeyOrBlurEvent&&(this._lastKeyOrBlurEvent||c.keyCode===n.tab))){this._hideDelay=b,this._contactPoint=null,c?(this._contactPoint={x:c.clientX,y:c.clientY},"touch"===a?this._offset=B:"keyboard"===a?this._offset=z:this._offset=A):"touch"===a?this._offset=C:this._offset=D,this._clearTimeout(this._delayTimer),this._clearTimeout(this._hideDelayTimer);var d=this._decideOnDelay(a);if(d>0){var e=this;this._delayTimer=this._setTimeout(function(){e._showTooltip(a)},d)}else this._showTooltip(a)}},_onDismiss:function(){this._shouldDismiss=!0,this._isShown&&(this._isShown=!1,this._showTrigger="mouse",this._domElement?(this._raiseEvent("beforeclose"),this._useAnimation?g.fadeOut(this._domElement).then(this._onHideAnimationEnd.bind(this)):this._onHideAnimationEnd()):(this._raiseEvent("beforeclose"),this._raiseEvent("closed")))},_setTimeout:function(a,c){return b.setTimeout(a,c)},_clearTimeout:function(a){b.clearTimeout(a)}},{_DELAY_INITIAL_TOUCH_SHORT:{get:function(){return p}},_DELAY_INITIAL_TOUCH_LONG:{get:function(){return q}},_DEFAULT_MOUSE_HOVER_TIME:{get:function(){return r}},_DEFAULT_MESSAGE_DURATION:{get:function(){return s}},_DELAY_RESHOW_NONINFOTIP_TOUCH:{get:function(){return t}},_DELAY_RESHOW_NONINFOTIP_NONTOUCH:{get:function(){return u}},_DELAY_RESHOW_INFOTIP_TOUCH:{get:function(){return v}},_DELAY_RESHOW_INFOTIP_NONTOUCH:{get:function(){return w}},_RESHOW_THRESHOLD:{get:function(){return x}},_HIDE_DELAY_MAX:{get:function(){return y}}})})})}),d("require-style!less/styles-rating",[],function(){}),d("require-style!less/colors-rating",[],function(){}),d("WinJS/Controls/Rating",["../Core/_Global","../Core/_Base","../Core/_ErrorFromName","../Core/_Events","../Core/_Resources","../_Accents","../Utilities/_Control","../Utilities/_ElementUtilities","../Utilities/_Hoverable","../Utilities/_SafeHtml","./Tooltip","require-style!less/styles-rating","require-style!less/colors-rating"],function(a,b,c,d,e,f,g,h,i,j,k){"use strict";f.createAccentRule(".win-rating .win-star.win-user.win-full, .win-rating .win-star.win-user.win-full.win-disabled",[{name:"color",value:f.ColorTypes.accent}]),b.Namespace.define("WinJS.UI",{Rating:b.Namespace._lazy(function(){var f=d._createEventProperty,i={get averageRating(){return e._getWinJSString("ui/averageRating").value},get clearYourRating(){return e._getWinJSString("ui/clearYourRating").value},get tentativeRating(){return e._getWinJSString("ui/tentativeRating").value},get tooltipStringsIsInvalid(){return"Invalid argument: tooltipStrings must be null or an array of strings."},get unrated(){return e._getWinJSString("ui/unrated").value},get userRating(){return e._getWinJSString("ui/userRating").value}},l=5,m=!1,n="cancel",o="change",p="previewchange",q=0,r=h._MSPointerEvent.MSPOINTER_TYPE_TOUCH||"touch",s=h._MSPointerEvent.MSPOINTER_TYPE_PEN||"pen",t=h._MSPointerEvent.MSPOINTER_TYPE_MOUSE||"mouse",u="padding-left: 0px; padding-right: 0px; border-left: 0px; border-right: 0px; -ms-flex: none; -webkit-flex: none; flex: none; display: none",v="win-rating",w="win-star win-empty",x="win-star win-average win-empty",y="win-star win-average win-full",z="win-star win-user win-empty",A="win-star win-user win-full",B="win-star win-tentative win-empty",C="win-star win-tentative win-full",D="win-disabled",E="win-average",F="win-user";return b.Class.define(function(b,c){this._disposed=!1,b=b||a.document.createElement("div"),c=c||{},this._element=b,h.addClass(this._element,"win-disposable"),this._userRating=0,this._averageRating=0,this._disabled=m,this._enableClear=!0,this._tooltipStrings=[],this._controlUpdateNeeded=!1,this._setControlSize(c.maxRating),c.tooltipStrings||this._updateTooltips(null),g.setOptions(this,c),this._controlUpdateNeeded=!0,this._forceLayout(),h._addInsertedNotifier(this._element),b.winControl=this,this._events()},{maxRating:{get:function(){return this._maxRating},set:function(a){this._setControlSize(a),this._forceLayout()}},userRating:{get:function(){return this._userRating},set:function(a){this._userRating=Math.max(0,Math.min(Number(a)>>0,this._maxRating)),this._updateControl()}},averageRating:{get:function(){return this._averageRating},set:function(a){this._averageRating=Number(a)<1?0:Math.min(Number(a)||0,this._maxRating),this._averageRatingElement&&this._ensureAverageMSStarRating(),this._updateControl()}},disabled:{get:function(){return this._disabled},set:function(a){this._disabled=!!a,this._disabled&&this._clearTooltips(),this._updateTabIndex(),this._updateControl()}},enableClear:{get:function(){return this._enableClear},set:function(a){this._enableClear=!!a,this._setAriaValueMin(),this._updateControl()}},tooltipStrings:{get:function(){return this._tooltipStrings},set:function(a){if("object"!=typeof a)throw new c("WinJS.UI.Rating.TooltipStringsIsInvalid",i.tooltipStringsIsInvalid);this._updateTooltips(a),this._updateAccessibilityRestState()}},element:{get:function(){return this._element}},oncancel:f(n),onchange:f(o),onpreviewchange:f(p),dispose:function(){if(!this._disposed){this._disposed=!0;for(var a=0;a<this._toolTips.length;a++)this._toolTips[a].dispose();this._toolTips=null}},addEventListener:function(a,b,c){this._element.addEventListener(a,b,c)},removeEventListener:function(a,b,c){return this._element.removeEventListener(a,b,c)},_forceLayout:function(){if(this._controlUpdateNeeded){var a=!1;this._updateControl=function(){a=!0},this.userRating=this._userRating,this.averageRating=this._averageRating,this._lastEventWasChange=!1,this._lastEventWasCancel=!1,this._tentativeRating=-1,this._captured=!1,this._pointerDownFocus=!1,this._elements=[],this._toolTips=[],this._clearElement=null,this._averageRatingElement=null,this._elementWidth=null,this._elementPadding=null,this._elementBorder=null,this._floatingValue=0,this._createControl(),this._setAccessibilityProperties(),delete this._updateControl,a&&this._updateControl()}},_hideAverageRating:function(){this._averageRatingHidden||(this._averageRatingHidden=!0,this._averageRatingElement.style.cssText=u)},_createControl:function(){h.addClass(this._element,v);var a="";this._averageRatingHidden=!0;for(var b=0;b<=this._maxRating;b++)a=b===this._maxRating?a+"<div class='"+y+"' style='"+u+"'></div>":a+"<div class='"+z+"'></div>";j.setInnerHTMLUnsafe(this._element,a);for(var c=this._element.firstElementChild,b=0;c;)this._elements[b]=c,b<this._maxRating&&(h.data(c).msStarRating=b+1),c=c.nextElementSibling,b++;this._averageRatingElement=this._elements[this._maxRating],this._ensureAverageMSStarRating(),this._updateTabIndex()},_setAriaValueMin:function(){this._element.setAttribute("aria-valuemin",this._enableClear?0:1)},_setAccessibilityProperties:function(){this._element.setAttribute("role","slider"),this._element.setAttribute("aria-valuemax",this._maxRating),this._setAriaValueMin(),this._updateAccessibilityRestState()},_getText:function(b){var c=this._tooltipStrings[b];if(c){var d=a.document.createElement("div");return d.innerHTML=c,d.textContent}return b===this._maxRating?i.clearYourRating:b+1},_updateAccessibilityRestState:function(){var a=this._element;this._ariaValueNowMutationObserver&&this._ariaValueNowMutationObserver.disconnect(),a.setAttribute("aria-readOnly",this._disabled),0!==this._userRating?(a.setAttribute("aria-valuenow",this._userRating),a.setAttribute("aria-label",i.userRating),a.setAttribute("aria-valuetext",this._getText(this._userRating-1))):0!==this._averageRating?(a.setAttribute("aria-valuenow",this._averageRating),a.setAttribute("aria-label",i.averageRating),a.setAttribute("aria-valuetext",this._averageRating)):(a.setAttribute("aria-valuenow",i.unrated),a.setAttribute("aria-label",i.userRating),a.setAttribute("aria-valuetext",i.unrated)),this._ariaValueNowMutationObserver&&this._ariaValueNowMutationObserver.observe(this._element,{attributes:!0,attributeFilter:["aria-valuenow"]})},_updateAccessibilityHoverState:function(){var a=this._element;this._ariaValueNowMutationObserver&&this._ariaValueNowMutationObserver.disconnect(),a.setAttribute("aria-readOnly",this._disabled),this._tentativeRating>0?(a.setAttribute("aria-label",i.tentativeRating),a.setAttribute("aria-valuenow",this._tentativeRating),a.setAttribute("aria-valuetext",this._getText(this._tentativeRating-1))):0===this._tentativeRating?(a.setAttribute("aria-valuenow",i.unrated),a.setAttribute("aria-label",i.tentativeRating),a.setAttribute("aria-valuetext",this._getText(this._maxRating))):(a.setAttribute("aria-valuenow",i.unrated),
a.setAttribute("aria-label",i.tentativeRating),a.setAttribute("aria-valuetext",i.unrated)),this._ariaValueNowMutationObserver&&this._ariaValueNowMutationObserver.observe(this._element,{attributes:!0,attributeFilter:["aria-valuenow"]})},_ensureTooltips:function(){if(!this.disabled&&0===this._toolTips.length)for(var a=0;a<this._maxRating;a++)this._toolTips[a]=new k.Tooltip(this._elements[a])},_decrementRating:function(){this._closeTooltip();var a=!0;this._tentativeRating<=0?a=!1:(this._tentativeRating>0?this._tentativeRating--:-1===this._tentativeRating&&(0!==this._userRating&&this._userRating>0?this._tentativeRating=this._userRating-1:this._tentativeRating=0),0!==this._tentativeRating||this._enableClear||(this._tentativeRating=1,a=!1)),this._showTentativeRating(a,"keyboard")},_events:function(){function a(a){return{name:a,lowerCaseName:a.toLowerCase(),handler:function(b){var d=c["_on"+a];d&&d.apply(c,[b])}}}var b,c=this,d=[a("KeyDown"),a("FocusOut"),a("FocusIn"),a("PointerCancel"),a("PointerDown"),a("PointerMove"),a("PointerOver"),a("PointerUp"),a("PointerOut")],e=[a("WinJSNodeInserted")];for(b=0;b<d.length;++b)h._addEventListener(this._element,d[b].lowerCaseName,d[b].handler,!1);for(b=0;b<e.length;++b)this._element.addEventListener(e[b].name,e[b].handler,!1);this._ariaValueNowMutationObserver=new h._MutationObserver(this._ariaValueNowChanged.bind(this)),this._ariaValueNowMutationObserver.observe(this._element,{attributes:!0,attributeFilter:["aria-valuenow"]})},_onWinJSNodeInserted:function(){this._recalculateStarProperties(),this._updateControl()},_recalculateStarProperties:function(){var a=0;1===this._averageRating&&(a=1);var b=h._getComputedStyle(this._elements[a]);this._elementWidth=b.width,"rtl"===h._getComputedStyle(this._element).direction?(this._elementPadding=b.paddingRight,this._elementBorder=b.borderRight):(this._elementPadding=b.paddingLeft,this._elementBorder=b.borderLeft)},_hideAverageStar:function(){0!==this._averageRating&&this._resetAverageStar(!1)},_incrementRating:function(){this._closeTooltip();var a=!0;(this._tentativeRating<0||this._tentativeRating>=this._maxRating)&&(a=!1),-1!==this._tentativeRating?this._tentativeRating<this._maxRating&&this._tentativeRating++:0!==this._userRating?this._userRating<this._maxRating?this._tentativeRating=this._userRating+1:this._tentativeRating=this._maxRating:this._tentativeRating=1,this._showTentativeRating(a,"keyboard")},_ariaValueNowChanged:function(){if(!this._disabled){var a=this._element.getAttributeNode("aria-valuenow");if(null!==a){var b=Number(a.nodeValue);this.userRating!==b&&(this.userRating=b,this._tentativeRating=this._userRating,this._raiseEvent(o,this._userRating))}}},_onPointerCancel:function(){this._showCurrentRating(),this._lastEventWasChange||this._raiseEvent(n,null),this._captured=!1},_onPointerDown:function(a){a.pointerType===t&&a.button!==q||this._captured||(this._pointerDownAt={x:a.clientX,y:a.clientY},this._pointerDownFocus=!0,this._disabled||(h._setPointerCapture(this._element,a.pointerId),this._captured=!0,a.pointerType===r?(this._tentativeRating=h.data(a.target).msStarRating||0,this._setStarClasses(C,this._tentativeRating,B),this._hideAverageStar(),this._updateAccessibilityHoverState(),this._openTooltip("touch"),this._raiseEvent(p,this._tentativeRating)):this._openTooltip("mousedown")))},_onCapturedPointerMove:function(a,b){var c,d=this._pointerDownAt||{x:a.clientX,y:a.clientY},e=h._elementsFromPoint(a.clientX,d.y);if(e)for(var f=0,g=e.length;g>f;f++){var i=e[f];if("tooltip"===i.getAttribute("role"))return;if(h.hasClass(i,"win-star")){c=i;break}}var j;if(c&&c.parentElement===this._element)j=h.data(c).msStarRating||0;else{var k=0,l=this.maxRating;"rtl"===h._getComputedStyle(this._element).direction&&(k=l,l=0),j=a.clientX<d.x?k:l}var m=!1,n=Math.min(Math.ceil(j),this._maxRating);0!==n||this._enableClear||(n=1),n!==this._tentativeRating&&(this._closeTooltip(),m=!0),this._tentativeRating=n,this._showTentativeRating(m,b),a.preventDefault()},_onPointerMove:function(a){this._captured&&(a.pointerType===r?this._onCapturedPointerMove(a,"touch"):this._onCapturedPointerMove(a,"mousedown"))},_onPointerOver:function(a){this._disabled||a.pointerType!==s&&a.pointerType!==t||this._onCapturedPointerMove(a,"mouseover")},_onPointerUp:function(a){this._captured&&(h._releasePointerCapture(this._element,a.pointerId),this._captured=!1,this._onUserRatingChanged()),this._pointerDownAt=null},_onFocusOut:function(){this._captured||(this._onUserRatingChanged(),this._lastEventWasChange||this._lastEventWasCancel||this._raiseEvent(n,null))},_onFocusIn:function(){if(!this._pointerDownFocus){if(!this._disabled){if(0===this._userRating)for(var a=0;a<this._maxRating;a++)this._elements[a].className=B;this._hideAverageStar()}0!==this._userRating?this._raiseEvent(p,this._userRating):this._raiseEvent(p,0),this._tentativeRating=this._userRating}this._pointerDownFocus=!1},_onKeyDown:function(a){var b=h.Key,c=a.keyCode,d=h._getComputedStyle(this._element).direction,e=!0;switch(c){case b.enter:this._onUserRatingChanged();break;case b.tab:this._onUserRatingChanged(),e=!1;break;case b.escape:this._showCurrentRating(),this._lastEventWasChange||this._raiseEvent(n,null);break;case b.leftArrow:"rtl"===d&&this._tentativeRating<this.maxRating?this._incrementRating():"rtl"!==d&&this._tentativeRating>0?this._decrementRating():e=!1;break;case b.upArrow:this._tentativeRating<this.maxRating?this._incrementRating():e=!1;break;case b.rightArrow:"rtl"===d&&this._tentativeRating>0?this._decrementRating():"rtl"!==d&&this._tentativeRating<this.maxRating?this._incrementRating():e=!1;break;case b.downArrow:this._tentativeRating>0?this._decrementRating():e=!1;break;default:var f=0;if(c>=b.num0&&c<=b.num9?f=b.num0:c>=b.numPad0&&c<=b.numPad9&&(f=b.numPad0),f>0){var g=!1,i=Math.min(c-f,this._maxRating);0!==i||this._enableClear||(i=1),i!==this._tentativeRating&&(this._closeTooltip(),g=!0),this._tentativeRating=i,this._showTentativeRating(g,"keyboard")}else e=!1}e&&(a.stopPropagation(),a.preventDefault())},_onPointerOut:function(a){this._captured||h.eventWithinElement(this._element,a)||(this._showCurrentRating(),this._lastEventWasChange||this._raiseEvent(n,null))},_onUserRatingChanged:function(){this._disabled||(this._closeTooltip(),this._userRating===this._tentativeRating||this._lastEventWasCancel||this._lastEventWasChange?this._updateControl():(this.userRating=this._tentativeRating,this._raiseEvent(o,this._userRating)))},_raiseEvent:function(b,c){if(!this._disabled&&(this._lastEventWasChange=b===o,this._lastEventWasCancel=b===n,a.document.createEvent)){var d=a.document.createEvent("CustomEvent");d.initCustomEvent(b,!1,!1,{tentativeRating:c}),this._element.dispatchEvent(d)}},_resetNextElement:function(a){if(null!==this._averageRatingElement.nextSibling){h._setFlexStyle(this._averageRatingElement.nextSibling,{grow:1,shrink:1});var b=this._averageRatingElement.nextSibling.style,c=h._getComputedStyle(this._element).direction;a&&(c="rtl"===c?"ltr":"rtl"),"rtl"===c?(b.paddingRight=this._elementPadding,b.borderRight=this._elementBorder,b.direction="rtl"):(b.paddingLeft=this._elementPadding,b.borderLeft=this._elementBorder,b.direction="ltr"),b.backgroundPosition="left",b.backgroundSize="100% 100%",b.width=this._resizeStringValue(this._elementWidth,1,b.width)}},_resetAverageStar:function(a){this._resetNextElement(a),this._hideAverageRating()},_resizeStringValue:function(a,b,c){var d=parseFloat(a);if(isNaN(d))return null!==c?c:a;var e=a.substring(d.toString(10).length);return d*=b,d+e},_setControlSize:function(a){var b=(Number(a)||l)>>0;this._maxRating=b>0?b:l},_updateTooltips:function(a){var b,c=0;if(null!==a)for(c=a.length<=this._maxRating+1?a.length:this._maxRating+1,b=0;c>b;b++)this._tooltipStrings[b]=a[b];else{for(b=0;b<this._maxRating;b++)this._tooltipStrings[b]=b+1;this._tooltipStrings[this._maxRating]=i.clearYourRating}},_updateTabIndex:function(){this._element.tabIndex=this._disabled?"-1":"0"},_setStarClasses:function(a,b,c){for(var d=0;d<this._maxRating;d++)b>d?this._elements[d].className=a:this._elements[d].className=c},_updateAverageStar:function(){var a=this._averageRatingElement.style,b=this._averageRatingElement.nextSibling.style;"rtl"===h._getComputedStyle(this._element).direction?(a.backgroundPosition="right",a.paddingRight=this._elementPadding,a.borderRight=this._elementBorder,b.paddingRight="0px",b.borderRight="0px",b.direction="ltr"):(a.backgroundPosition="left",b.backgroundPosition="right",a.paddingLeft=this._elementPadding,a.borderLeft=this._elementBorder,b.paddingLeft="0px",b.borderLeft="0px",b.direction="rtl"),h._setFlexStyle(this._averageRatingElement,{grow:this._floatingValue,shrink:this._floatingValue}),a.width=this._resizeStringValue(this._elementWidth,this._floatingValue,a.width),a.backgroundSize=100/this._floatingValue+"% 100%",a.display=h._getComputedStyle(this._averageRatingElement.nextSibling).display,this._averageRatingHidden=!1,h._setFlexStyle(this._averageRatingElement.nextSibling,{grow:1-this._floatingValue,shrink:1-this._floatingValue}),b.width=this._resizeStringValue(this._elementWidth,1-this._floatingValue,b.width),b.backgroundSize=100/(1-this._floatingValue)+"% 100%"},_showCurrentRating:function(){this._closeTooltip(),this._tentativeRating=-1,this._disabled||this._updateControl(),this._updateAccessibilityRestState()},_showTentativeRating:function(a,b){!this._disabled&&this._tentativeRating>=0&&(this._setStarClasses(C,this._tentativeRating,B),this._hideAverageStar()),this._updateAccessibilityHoverState(),a&&(this._openTooltip(b),this._raiseEvent(p,this._tentativeRating))},_openTooltip:function(b){if(!this.disabled)if(this._ensureTooltips(),this._tentativeRating>0)this._toolTips[this._tentativeRating-1].innerHTML=this._tooltipStrings[this._tentativeRating-1],this._toolTips[this._tentativeRating-1].open(b);else if(0===this._tentativeRating){this._clearElement=a.document.createElement("div");var c=this._elements[0].offsetWidth+parseInt(this._elementPadding,10);"ltr"===h._getComputedStyle(this._element).direction&&(c*=-1),this._clearElement.style.cssText="visiblity:hidden; position:absolute; width:0px; height:100%; left:"+c+"px; top:0px;",this._elements[0].appendChild(this._clearElement),this._toolTips[this._maxRating]=new k.Tooltip(this._clearElement),this._toolTips[this._maxRating].innerHTML=this._tooltipStrings[this._maxRating],this._toolTips[this._maxRating].open(b)}},_closeTooltip:function(){0!==this._toolTips.length&&(this._tentativeRating>0?this._toolTips[this._tentativeRating-1].close():0===this._tentativeRating&&null!==this._clearElement&&(this._toolTips[this._maxRating].close(),this._elements[0].removeChild(this._clearElement),this._clearElement=null))},_clearTooltips:function(){if(this._toolTips&&0!==this._toolTips.length)for(var a=0;a<this._maxRating;a++)this._toolTips[a].innerHTML=null},_appendClass:function(a){for(var b=0;b<=this._maxRating;b++)h.addClass(this._elements[b],a)},_setClasses:function(a,b,c){for(var d=0;d<this._maxRating;d++)b>d?this._elements[d].className=a:this._elements[d].className=c},_ensureAverageMSStarRating:function(){h.data(this._averageRatingElement).msStarRating=Math.ceil(this._averageRating)},_updateControl:function(){if(this._controlUpdateNeeded){if(0!==this._averageRating&&0===this._userRating&&this._averageRating>=1&&this._averageRating<=this._maxRating){this._setClasses(y,this._averageRating-1,x),this._averageRatingElement.className=y;for(var a=0;a<this._maxRating;a++)if(a<this._averageRating&&a+1>=this._averageRating){this._resetNextElement(!1),this._element.insertBefore(this._averageRatingElement,this._elements[a]),this._floatingValue=this._averageRating-a;var b=h._getComputedStyle(this._elements[a]);this._elementWidth=b.width,"rtl"===h._getComputedStyle(this._element).direction?(this._elementPadding=b.paddingRight,this._elementBorder=b.borderRight):(this._elementPadding=b.paddingLeft,this._elementBorder=b.borderLeft),this._updateAverageStar()}}0!==this._userRating&&this._userRating>=1&&this._userRating<=this._maxRating&&(this._setClasses(A,this._userRating,z),this._resetAverageStar(!1)),0===this._userRating&&0===this._averageRating&&(this._setClasses(w,this._maxRating),this._resetAverageStar(!1)),this.disabled&&this._appendClass(D),0!==this._averageRating&&0===this._userRating?this._appendClass(E):this._appendClass(F),this._updateAccessibilityRestState()}}})})})}),d("require-style!less/styles-toggleswitch",[],function(){}),d("require-style!less/colors-toggleswitch",[],function(){}),d("WinJS/Controls/ToggleSwitch",["../Core/_Global","../Core/_Base","../Core/_BaseUtils","../Core/_Events","../Core/_Resources","../_Accents","../Utilities/_Control","../Utilities/_ElementUtilities","require-style!less/styles-toggleswitch","require-style!less/colors-toggleswitch"],function(a,b,c,d,e,f,g,h){"use strict";f.createAccentRule(".win-toggleswitch-on .win-toggleswitch-track",[{name:"background-color",value:f.ColorTypes.accent}]),f.createAccentRule("html.win-hoverable .win-toggleswitch-on:not(.win-toggleswitch-disabled):not(.win-toggleswitch-pressed) .win-toggleswitch-clickregion:hover .win-toggleswitch-track",[{name:"background-color",value:f.ColorTypes.listSelectPress}]),b.Namespace.define("WinJS.UI",{ToggleSwitch:b.Namespace._lazy(function(){var c="win-toggleswitch",f="win-toggleswitch-header",i="win-toggleswitch-clickregion",j="win-toggleswitch-track",k="win-toggleswitch-thumb",l="win-toggleswitch-values",m="win-toggleswitch-value",n="win-toggleswitch-value-on",o="win-toggleswitch-value-off",p="win-toggleswitch-description",q="win-toggleswitch-on",r="win-toggleswitch-off",s="win-toggleswitch-disabled",t="win-toggleswitch-enabled",u="win-toggleswitch-dragging",v="win-toggleswitch-pressed",w={get on(){return e._getWinJSString("ui/on").value},get off(){return e._getWinJSString("ui/off").value}},x=b.Class.define(function(b,d){b=b||a.document.createElement("div"),this._domElement=b,h.addClass(this._domElement,c),this._domElement.innerHTML=['<div class="'+f+'"></div>','<div class="'+i+'">','   <div class="'+j+'">','       <div class="'+k+'"></div>',"   </div>",'   <div class="'+l+'">','      <div class="'+m+" "+n+'"></div>','      <div class="'+m+" "+o+'"></div>',"   </div>","</div>",'<div class="'+p+'"></div>'].join("\n"),this._headerElement=this._domElement.firstElementChild,this._clickElement=this._headerElement.nextElementSibling,this._trackElement=this._clickElement.firstElementChild,this._thumbElement=this._trackElement.firstElementChild,this._labelsElement=this._trackElement.nextElementSibling,this._labelOnElement=this._labelsElement.firstElementChild,this._labelOffElement=this._labelOnElement.nextElementSibling,this._descriptionElement=this._clickElement.nextElementSibling,this._headerElement.setAttribute("aria-hidden",!0),this._labelsElement.setAttribute("aria-hidden",!0),this._headerElement.setAttribute("id",h._uniqueID(this._headerElement)),this._domElement.setAttribute("aria-labelledby",this._headerElement.id),this._domElement.setAttribute("role","checkbox"),this._domElement.winControl=this,h.addClass(this._domElement,"win-disposable"),this._domElement.addEventListener("keydown",this._keyDownHandler.bind(this)),h._addEventListener(this._clickElement,"pointerdown",this._pointerDownHandler.bind(this)),h._addEventListener(this._clickElement,"pointercancel",this._pointerCancelHandler.bind(this)),this._boundPointerMove=this._pointerMoveHandler.bind(this),this._boundPointerUp=this._pointerUpHandler.bind(this),this._mutationObserver=new h._MutationObserver(this._ariaChangedHandler.bind(this)),this._mutationObserver.observe(this._domElement,{attributes:!0,attributeFilter:["aria-checked"]}),this._dragX=0,this._dragging=!1,this.checked=!1,this.disabled=!1,this.labelOn=w.on,this.labelOff=w.off,g.setOptions(this,d)},{element:{get:function(){return this._domElement}},checked:{get:function(){return this._checked},set:function(a){a=!!a,a!==this.checked&&(this._checked=a,this._domElement.setAttribute("aria-checked",a),a?(h.addClass(this._domElement,q),h.removeClass(this._domElement,r)):(h.addClass(this._domElement,r),h.removeClass(this._domElement,q)),this.dispatchEvent("change"))}},disabled:{get:function(){return this._disabled},set:function(a){a=!!a,a!==this._disabled&&(a?(h.addClass(this._domElement,s),h.removeClass(this._domElement,t)):(h.removeClass(this._domElement,s),h.addClass(this._domElement,t)),this._disabled=a,this._domElement.setAttribute("aria-disabled",a),this._domElement.setAttribute("tabIndex",a?-1:0))}},labelOn:{get:function(){return this._labelOnElement.innerHTML},set:function(a){this._labelOnElement.innerHTML=a}},labelOff:{get:function(){return this._labelOffElement.innerHTML},set:function(a){this._labelOffElement.innerHTML=a}},title:{get:function(){return this._headerElement.innerHTML},set:function(a){this._headerElement.innerHTML=a}},onchange:d._createEventProperty("change"),dispose:function(){this._disposed||(this._disposed=!0)},_ariaChangedHandler:function(){var a=this._domElement.getAttribute("aria-checked");a="true"===a,this.checked=a},_keyDownHandler:function(a){this.disabled||(a.keyCode===h.Key.space&&(a.preventDefault(),this.checked=!this.checked),a.keyCode!==h.Key.rightArrow&&a.keyCode!==h.Key.upArrow||(a.preventDefault(),this.checked=!0),a.keyCode!==h.Key.leftArrow&&a.keyCode!==h.Key.downArrow||(a.preventDefault(),this.checked=!1))},_pointerDownHandler:function(a){this.disabled||this._mousedown||(a.preventDefault(),this._mousedown=!0,this._dragXStart=a.pageX-this._trackElement.getBoundingClientRect().left,this._dragX=this._dragXStart,this._dragging=!1,h.addClass(this._domElement,v),h._globalListener.addEventListener(this._domElement,"pointermove",this._boundPointerMove,!0),h._globalListener.addEventListener(this._domElement,"pointerup",this._boundPointerUp,!0),a.pointerType===h._MSPointerEvent.MSPOINTER_TYPE_TOUCH&&h._setPointerCapture(this._domElement,a.pointerId))},_pointerCancelHandler:function(a){this._resetPressedState(),a.pointerType===h._MSPointerEvent.MSPOINTER_TYPE_TOUCH&&h._releasePointerCapture(this._domElement,a.pointerId)},_pointerUpHandler:function(a){if(!this.disabled&&this._mousedown){a=a.detail.originalEvent,a.preventDefault();var b=this._trackElement.getBoundingClientRect(),c=this._thumbElement.getBoundingClientRect(),d="rtl"===h._getComputedStyle(this._domElement).direction;if(this._dragging){var e=b.width-c.width;this.checked=d?this._dragX<e/2:this._dragX>=e/2,this._dragging=!1,h.removeClass(this._domElement,u)}else this.checked=!this.checked;this._resetPressedState()}},_pointerMoveHandler:function(a){if(!this.disabled&&this._mousedown){a=a.detail.originalEvent,a.preventDefault();var b=this._trackElement.getBoundingClientRect(),c=a.pageX-b.left;if(!(c>b.width)){var d=this._thumbElement.getBoundingClientRect(),e=b.width-d.width-6;this._dragX=Math.min(e,c-d.width/2),this._dragX=Math.max(2,this._dragX),!this._dragging&&Math.abs(c-this._dragXStart)>3&&(this._dragging=!0,h.addClass(this._domElement,u)),this._thumbElement.style.left=this._dragX+"px"}}},_resetPressedState:function(){this._mousedown=!1,this._thumbElement.style.left="",h.removeClass(this._domElement,v),h._globalListener.removeEventListener(this._domElement,"pointermove",this._boundPointerMove,!0),h._globalListener.removeEventListener(this._domElement,"pointerup",this._boundPointerUp,!0)}});return b.Class.mix(x,g.DOMEventMixin),x})})}),d("require-style!less/styles-semanticzoom",[],function(){}),d("require-style!less/colors-semanticzoom",[],function(){}),d("WinJS/Controls/SemanticZoom",["../Core/_Global","../Core/_Base","../Core/_BaseUtils","../Core/_ErrorFromName","../Core/_Events","../Core/_Resources","../Core/_WriteProfilerMark","../Animations","../Animations/_TransitionAnimation","../ControlProcessor","../Promise","../Utilities/_Control","../Utilities/_Dispose","../Utilities/_ElementUtilities","../Utilities/_ElementListUtilities","../Utilities/_Hoverable","./ElementResizeInstrument","require-style!less/styles-semanticzoom","require-style!less/colors-semanticzoom"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){"use strict";b.Namespace.define("WinJS.UI",{SemanticZoom:b.Namespace._lazy(function(){function f(a){return a}function r(a,b,c){return a+" "+i._animationTimeAdjustment(b)+"s "+c+" "+i._libraryDelay+"ms"}function s(){return r(X.cssName,Q,"ease-in-out")+", "+r("opacity",O,"ease-in-out")}function t(){return r(X.cssName,R,"ease-in-out")+", "+r("opacity",P,"ease-in-out")}function u(){return r(X.cssName,U,W)}function v(){return r(X.cssName,V,W)}function w(a,b){return n.convertToPixels(a,b)}function x(a,b){i.isAnimationEnabled()&&(a.style[X.scriptName]="scale("+b+")")}function y(a){var b=a[0].target&&a[0].target.winControl;b&&b instanceof ha&&b._onPropertyChanged()}var z=c._browserStyleEquivalents,A={get invalidZoomFactor(){return"Invalid zoomFactor"}},B="win-semanticzoom-button",C="win-semanticzoom-button-location",D=3e3,E=8,F="win-semanticzoom",G="win-semanticzoom-zoomedinview",H="win-semanticzoom-zoomedoutview",I="zoomchanged",J=1.05,K=.65,L=.8,M=.2,N=4096,O=.333,P=.333,Q=.333,R=.333,S=1e3*O,T=50,U=.333,V=.333,W="cubic-bezier(0.1,0.9,0.2,1)",X=z.transform,Y=z.transition.scriptName,Z=2,$=.2,_=.45,aa=1e3,ba=50,ca={none:0,zoomedIn:1,zoomedOut:2},da=n._MSPointerEvent.MSPOINTER_TYPE_TOUCH||"touch",ea=n._MSPointerEvent.MSPOINTER_TYPE_PEN||"pen",fa=n._MSPointerEvent.MSPOINTER_TYPE_MOUSE||"mouse",ga={x:0,y:0},ha=b.Class.define(function(b,e){this._disposed=!1;var f=this,g=c.isPhone;this._element=b,this._element.winControl=this,n.addClass(this._element,"win-disposable"),n.addClass(this._element,F),this._element.setAttribute("role","ms-semanticzoomcontainer");var h=this._element.getAttribute("aria-label");if(h||this._element.setAttribute("aria-label",""),e=e||{},this._zoomedOut=!!e.zoomedOut||!!e.initiallyZoomedOut||!1,this._enableButton=!g,g||void 0===e.enableButton||(this._enableButton=!!e.enableButton),this._element.setAttribute("aria-checked",this._zoomedOut.toString()),this._zoomFactor=n._clamp(e.zoomFactor,M,L,K),this.zoomedInItem=e.zoomedInItem,this.zoomedOutItem=e.zoomedOutItem,c.validation&&e._zoomFactor&&e._zoomFactor!==this._zoomFactor)throw new d("WinJS.UI.SemanticZoom.InvalidZoomFactor",A.invalidZoomFactor);this._locked=!!e.locked,this._zoomInProgress=!1,this._isBouncingIn=!1,this._isBouncing=!1,this._zooming=!1,this._aligning=!1,this._gesturing=!1,this._gestureEnding=!1,this._buttonShown=!1,this._shouldFakeTouchCancel="TouchEvent"in a,this._initialize(),this._configure(),this._onResizeBound=this._onResize.bind(this),this._elementResizeInstrument=new q._ElementResizeInstrument,this._element.appendChild(this._elementResizeInstrument.element),this._elementResizeInstrument.addEventListener("resize",this._onResizeBound),n._resizeNotifier.subscribe(this._element,this._onResizeBound);var i=a.document.body.contains(this._element);i&&this._elementResizeInstrument.addedToDom(),n._addInsertedNotifier(this._element);var j=!0;this._element.addEventListener("WinJSNodeInserted",function(a){j?(j=!1,i||(f._elementResizeInstrument.addedToDom(),f._onResizeBound())):f._onResizeBound()},!1),new n._MutationObserver(y).observe(this._element,{attributes:!0,attributeFilter:["aria-checked"]}),g||(this._element.addEventListener("wheel",this._onWheel.bind(this),!0),this._element.addEventListener("mousewheel",this._onMouseWheel.bind(this),!0),this._element.addEventListener("keydown",this._onKeyDown.bind(this),!0),n._addEventListener(this._element,"pointerdown",this._onPointerDown.bind(this),!0),n._addEventListener(this._element,"pointermove",this._onPointerMove.bind(this),!0),n._addEventListener(this._element,"pointerout",this._onPointerOut.bind(this),!0),n._addEventListener(this._element,"pointercancel",this._onPointerCancel.bind(this),!0),n._addEventListener(this._element,"pointerup",this._onPointerUp.bind(this),!1),this._hiddenElement.addEventListener("gotpointercapture",this._onGotPointerCapture.bind(this),!1),this._hiddenElement.addEventListener("lostpointercapture",this._onLostPointerCapture.bind(this),!1),this._element.addEventListener("click",this._onClick.bind(this),!0),this._canvasIn.addEventListener(c._browserEventEquivalents.transitionEnd,this._onCanvasTransitionEnd.bind(this),!1),this._canvasOut.addEventListener(c._browserEventEquivalents.transitionEnd,this._onCanvasTransitionEnd.bind(this),!1),this._element.addEventListener("MSContentZoom",this._onMSContentZoom.bind(this),!0),this._resetPointerRecords()),this._onResizeImpl(),l._setOptions(this,e,!0),f._setVisibility()},{element:{get:function(){return this._element}},enableButton:{get:function(){return this._enableButton},set:function(a){var b=!!a;this._enableButton===b||c.isPhone||(this._enableButton=b,b?this._createSemanticZoomButton():this._removeSemanticZoomButton())}},zoomedOut:{get:function(){return this._zoomedOut},set:function(a){this._zoom(!!a,{x:.5*this._sezoClientWidth,y:.5*this._sezoClientHeight},!1,!1,this._zoomedOut&&c.isPhone)}},zoomFactor:{get:function(){return this._zoomFactor},set:function(a){var b=this._zoomFactor,c=n._clamp(a,M,L,K);b!==c&&(this._zoomFactor=c,this.forceLayout())}},locked:{get:function(){return this._locked},set:function(a){this._locked=!!a,a?this._hideSemanticZoomButton():this._displayButton()}},zoomedInItem:{get:function(){return this._zoomedInItem},set:function(a){this._zoomedInItem=a||f}},zoomedOutItem:{get:function(){return this._zoomedOutItem},set:function(a){this._zoomedOutItem=a||f}},dispose:function(){this._disposed||(this._disposed=!0,this._elementResizeInstrument.dispose(),n._resizeNotifier.unsubscribe(this._element,this._onResizeBound),m._disposeElement(this._elementIn),m._disposeElement(this._elementOut),this._clearTimeout(this._completeZoomTimer),this._clearTimeout(this._TTFFTimer))},forceLayout:function(){this._onResizeImpl()},_initialize:function(){var b=o.children(this._element);this._elementIn=b[0],this._elementOut=b[1],this._elementIn.style.height=this._elementOut.style.height=this._element.offsetHeight+"px",j.processAll(this._elementIn),j.processAll(this._elementOut),this._viewIn=this._elementIn.winControl.zoomableView,this._viewOut=this._elementOut.winControl.zoomableView,this._element.removeChild(this._elementOut),this._element.removeChild(this._elementIn),this._element.innerHTML="",this._cropViewport=a.document.createElement("div"),this._element.appendChild(this._cropViewport),this._viewportIn=a.document.createElement("div"),this._opticalViewportIn=a.document.createElement("div"),this._viewportOut=a.document.createElement("div"),this._opticalViewportOut=a.document.createElement("div"),this._opticalViewportIn.appendChild(this._viewportIn),this._opticalViewportOut.appendChild(this._viewportOut),this._cropViewport.appendChild(this._opticalViewportIn),this._cropViewport.appendChild(this._opticalViewportOut),this._canvasIn=a.document.createElement("div"),this._canvasOut=a.document.createElement("div"),this._viewportIn.appendChild(this._canvasIn),this._viewportOut.appendChild(this._canvasOut),this._canvasIn.appendChild(this._elementIn),this._canvasOut.appendChild(this._elementOut),this._enableButton&&this._createSemanticZoomButton(),this._hiddenElement=a.document.createElement("div"),this._hiddenElement.tabIndex=-1,this._hiddenElement.visibility="hidden",this._hiddenElement.setAttribute("aria-hidden","true"),this._element.appendChild(this._hiddenElement),n.addClass(this._elementIn,G),n.addClass(this._elementOut,H),this._setLayout(this._element,"relative","hidden"),this._setLayout(this._cropViewport,"absolute","hidden"),this._setLayout(this._opticalViewportIn,"absolute","auto"),this._setLayout(this._opticalViewportOut,"absolute","auto"),this._setLayout(this._viewportIn,"absolute","hidden"),this._setLayout(this._viewportOut,"absolute","hidden"),this._setLayout(this._canvasIn,"absolute","hidden"),this._setLayout(this._canvasOut,"absolute","hidden"),this._setupOpticalViewport(this._opticalViewportIn),this._setupOpticalViewport(this._opticalViewportOut),this._viewportIn.style["-ms-overflow-style"]="-ms-autohiding-scrollbar",this._viewportOut.style["-ms-overflow-style"]="-ms-autohiding-scrollbar",this._elementIn.style.position="absolute",this._elementOut.style.position="absolute"},_createSemanticZoomButton:function(){this._sezoButton=a.document.createElement("button"),this._sezoButton.setAttribute("type","button"),this._sezoButton.className=B+" "+C+" win-button",this._sezoButton.tabIndex=-1,this._sezoButton.style.visibility="hidden",this._sezoButton.setAttribute("aria-hidden",!0),this._element.appendChild(this._sezoButton),this._sezoButton.addEventListener("click",this._onSeZoButtonZoomOutClick.bind(this),!1),this._element.addEventListener("scroll",this._onSeZoChildrenScroll.bind(this),!0),n._addEventListener(this._element,"pointermove",this._onPenHover.bind(this),!1)},_removeSemanticZoomButton:function(){this._sezoButton&&(this._element.removeChild(this._sezoButton),this._sezoButton=null)},_configure:function(){var a=this._viewIn.getPanAxis(),b=this._viewOut.getPanAxis(),d=c.isPhone;if(this._pansHorizontallyIn="horizontal"===a||"both"===a,this._pansVerticallyIn="vertical"===a||"both"===a,this._pansHorizontallyOut="horizontal"===b||"both"===b,this._pansVerticallyOut="vertical"===b||"both"===b,!this._zoomInProgress){var e=1/this._zoomFactor-1,f=J-1;this._setLayout(this._elementIn,"absolute","visible"),this._setLayout(this._elementOut,"absolute","visible"),this._viewIn.configureForZoom(!1,!this._zoomedOut,this._zoomFromCurrent.bind(this,!0),e),this._viewOut.configureForZoom(!0,this._zoomedOut,this._zoomFromCurrent.bind(this,!1),f),this._pinching=!1,this._pinchGesture=0,this._canvasLeftIn=0,this._canvasTopIn=0,this._canvasLeftOut=0,this._canvasTopOut=0,d||(this._zoomedOut?x(this._canvasIn,this._zoomFactor):x(this._canvasOut,1/this._zoomFactor));var g=this._opticalViewportIn.style,h=this._opticalViewportOut.style,j=this._canvasIn.style,k=this._canvasOut.style;j.opacity=this._zoomedOut&&!d?0:1,k.opacity=this._zoomedOut?1:0,d&&(j.zIndex=1,k.zIndex=2),i.isAnimationEnabled()&&!d&&(g[z["transition-property"].scriptName]=X.cssName,g[z["transition-duration"].scriptName]="0s",g[z["transition-timing-function"].scriptName]="linear",h[z["transition-property"].scriptName]=X.cssName,h[z["transition-duration"].scriptName]="0s",h[z["transition-timing-function"].scriptName]="linear")}},_onPropertyChanged:function(){var a=this._element.getAttribute("aria-checked"),b="true"===a;this._zoomedOut!==b&&(this.zoomedOut=b)},_onResizeImpl:function(){this._resizing=this._resizing||0,this._resizing++;try{var a=function(a,b,c,d,e){var f=a.style;f.left=b+"px",f.top=c+"px",f.width=d+"px",f.height=e+"px"},b=n._getComputedStyle(this._element,null),c=parseFloat(b.width),d=parseFloat(b.height),e=w(this._element,b.paddingLeft),f=w(this._element,b.paddingRight),g=w(this._element,b.paddingTop),h=w(this._element,b.paddingBottom),i=c-e-f,j=d-g-h,k=1/this._zoomFactor;if(this._viewportWidth===i&&this._viewportHeight===j)return;this._sezoClientHeight=d,this._sezoClientWidth=c,this._viewportWidth=i,this._viewportHeight=j,this._configure();var l=2*k-1,m=Math.min(N,(this._pansHorizontallyIn?l:1)*i),o=Math.min(N,(this._pansVerticallyIn?l:1)*j);this._canvasLeftIn=.5*(m-i),this._canvasTopIn=.5*(o-j),a(this._cropViewport,e,g,i,j),a(this._viewportIn,0,0,i,j),a(this._opticalViewportIn,0,0,i,j),a(this._canvasIn,-this._canvasLeftIn,-this._canvasTopIn,m,o),a(this._elementIn,this._canvasLeftIn,this._canvasTopIn,i,j);var p=2*J-1,q=(this._pansHorizontallyOut?p:1)*i,r=(this._pansVerticallyOut?p:1)*j;this._canvasLeftOut=.5*(q-i),this._canvasTopOut=.5*(r-j),a(this._viewportOut,0,0,i,j),a(this._opticalViewportOut,0,0,i,j),a(this._canvasOut,-this._canvasLeftOut,-this._canvasTopOut,q,r),a(this._elementOut,this._canvasLeftOut,this._canvasTopOut,i,j)}finally{this._resizing--}},_onResize:function(){this._resizing||this._onResizeImpl()},_onMouseMove:function(a){return this._zooming||!this._lastMouseX&&!this._lastMouseY||a.screenX===this._lastMouseX&&a.screenY===this._lastMouseY?(this._lastMouseX=a.screenX,
void(this._lastMouseY=a.screenY)):void(Math.abs(a.screenX-this._lastMouseX)<=E&&Math.abs(a.screenY-this._lastMouseY)<=E||(this._lastMouseX=a.screenX,this._lastMouseY=a.screenY,this._displayButton()))},_displayButton:function(){if(p.isHoverable){a.clearTimeout(this._dismissButtonTimer),this._showSemanticZoomButton();var b=this;this._dismissButtonTimer=a.setTimeout(function(){b._hideSemanticZoomButton()},i._animationTimeAdjustment(D))}},_showSemanticZoomButton:function(){this._disposed||this._buttonShown||!this._sezoButton||this._zoomedOut||this._locked||(h.fadeIn(this._sezoButton),this._sezoButton.style.visibility="visible",this._buttonShown=!0)},_hideSemanticZoomButton:function(a){if(!this._disposed&&this._buttonShown&&this._sezoButton){if(a)this._sezoButton.style.visibility="hidden";else{var b=this;h.fadeOut(this._sezoButton).then(function(){b._sezoButton.style.visibility="hidden"})}this._buttonShown=!1}},_onSeZoChildrenScroll:function(a){a.target!==this.element&&this._hideSemanticZoomButton(!0)},_onWheel:function(a){a.ctrlKey&&(this._zoom(a.deltaY>0,this._getPointerLocation(a)),a.stopPropagation(),a.preventDefault())},_onMouseWheel:function(a){a.ctrlKey&&(this._zoom(a.wheelDelta<0,this._getPointerLocation(a)),a.stopPropagation(),a.preventDefault())},_onPenHover:function(a){a.pointerType===ea&&0===a.buttons&&this._displayButton()},_onSeZoButtonZoomOutClick:function(){this._hideSemanticZoomButton(),this._zoom(!0,{x:.5*this._sezoClientWidth,y:.5*this._sezoClientHeight},!1)},_onKeyDown:function(a){var b=!1;if(a.ctrlKey){var c=n.Key;switch(a.keyCode){case c.add:case c.equal:case 61:this._zoom(!1),b=!0;break;case c.subtract:case c.dash:case 173:this._zoom(!0),b=!0}}b&&(a.stopPropagation(),a.preventDefault())},_createPointerRecord:function(a,b){var c=this._getPointerLocation(a),d={};return d.startX=d.currentX=c.x,d.startY=d.currentY=c.y,d.fireCancelOnPinch=b,this._pointerRecords[a.pointerId]=d,this._pointerCount=Object.keys(this._pointerRecords).length,d},_deletePointerRecord:function(a){var b=this._pointerRecords[a];return delete this._pointerRecords[a],this._pointerCount=Object.keys(this._pointerRecords).length,2!==this._pointerCount&&(this._pinching=!1),b},_fakeCancelOnPointer:function(b){var c=a.document.createEvent("UIEvent");c.initUIEvent("touchcancel",!0,!0,a,0),c.touches=b.touches,c.targetTouches=b.targetTouches,c.changedTouches=[b._currentTouch],c._fakedBySemanticZoom=!0,b.target.dispatchEvent(c)},_handlePointerDown:function(a){this._createPointerRecord(a,!1);for(var b=Object.keys(this._pointerRecords),c=0,d=b.length;d>c;c++)try{n._setPointerCapture(this._hiddenElement,b[c]||0)}catch(e){return void this._resetPointerRecords()}a.stopImmediatePropagation(),a.preventDefault()},_handleFirstPointerDown:function(a){this._resetPointerRecords(),this._createPointerRecord(a,this._shouldFakeTouchCancel),this._startedZoomedOut=this._zoomedOut},_onClick:function(a){a.target!==this._element&&this._isBouncing&&a.stopImmediatePropagation()},_onPointerDown:function(a){a.pointerType===da&&(0===this._pointerCount?this._handleFirstPointerDown(a):this._handlePointerDown(a))},_onPointerMove:function(a){function b(a,b,c,d){return Math.sqrt((c-a)*(c-a)+(d-b)*(d-b))}function c(a,b){return{x:.5*(a.currentX+b.currentX)|0,y:.5*(a.currentY+b.currentY)|0}}if(a.pointerType===fa||a.pointerType===ea)return void this._onMouseMove(a);if(a.pointerType===da){var d=this._pointerRecords[a.pointerId],e=this._getPointerLocation(a);if(d){if(d.currentX=e.x,d.currentY=e.y,2===this._pointerCount){this._pinching=!0;var f=Object.keys(this._pointerRecords),h=this._pointerRecords[f[0]],i=this._pointerRecords[f[1]];this._currentMidPoint=c(h,i);var j=b(h.currentX,h.currentY,i.currentX,i.currentY),k=this,l=function(a){var b=a?ca.zoomedOut:ca.zoomedIn,d=a?k._pinchedDirection===ca.zoomedIn&&!k._zoomingOut:k._pinchedDirection===ca.zoomedOut&&k._zoomingOut,e=a?!k._zoomedOut:k._zoomedOut;if(k._pinchedDirection===ca.none)e?(k._isBouncingIn=!1,k._zoom(a,c(h,i),!0),k._pinchedDirection=b):k._isBouncingIn||k._playBounce(!0,c(h,i));else if(d){var f=k._lastPinchDistance/k._lastPinchStartDistance,g=k._lastLastPinchDistance/k._lastPinchDistance;(a&&f>$||!a&&g>_)&&(k._zoom(a,c(h,i),!0),k._pinchedDirection=b)}};this._updatePinchDistanceRecords(j),this._pinchDistanceCount>=Z&&(this._zooming||this._isBouncing||(g("WinJS.UI.SemanticZoom:EndPinchDetection,info"),l(this._lastPinchDirection===ca.zoomedOut)))}else this._pointerCount>2&&this._resetPinchDistanceRecords();this._pointerCount>=2&&(d.fireCancelOnPinch&&(this._fakeCancelOnPointer(a,d),d.fireCancelOnPinch=!1),a.stopImmediatePropagation(),a.preventDefault()),2!==this._pointerCount&&this._isBouncingIn&&this._playBounce(!1)}}},_onPointerOut:function(a){a.pointerType===da&&a.target===this._element&&this._completePointerUp(a,!1)},_onPointerUp:function(a){this._releasePointerCapture(a),this._completePointerUp(a,!0),this._completeZoomingIfTimeout()},_onPointerCancel:function(a){a._fakedBySemanticZoom||(this._releasePointerCapture(a),this._completePointerUp(a,!1),this._completeZoomingIfTimeout())},_onGotPointerCapture:function(a){var b=this._pointerRecords[a.pointerId];b&&(b.dirty=!1)},_onLostPointerCapture:function(a){var b=this._pointerRecords[a.pointerId];if(b){b.dirty=!0;var c=this;k.timeout(ba).then(function(){b.dirty&&c._completePointerUp(a,!1)})}},_onMSContentZoom:function(a){var b=a.target;if(b===this._opticalViewportIn||b===this._opticalViewportOut){var c=b.msContentZoomFactor<.995,d=b.msContentZoomFactor>1.005;!c||this._zoomedOut||this._zoomingOut?d&&(this._zoomedOut||this._zoomingOut)&&(this.zoomedOut=!1):this.zoomedOut=!0}},_updatePinchDistanceRecords:function(a){function b(b){c._lastPinchDirection===b?c._pinchDistanceCount++:(c._pinchGesture++,c._pinchDistanceCount=0,c._lastPinchStartDistance=a),c._lastPinchDirection=b,c._lastPinchDistance=a,c._lastLastPinchDistance=c._lastPinchDistance}var c=this;-1===this._lastPinchDistance?(g("WinJS.UI.SemanticZoom:StartPinchDetection,info"),this._lastPinchDistance=a):this._lastPinchDistance!==a&&b(this._lastPinchDistance>a?ca.zoomedOut:ca.zoomedIn)},_zoomFromCurrent:function(a){this._zoom(a,null,!1,!0)},_zoom:function(a,b,d,e,f){if(g("WinJS.UI.SemanticZoom:StartZoom(zoomOut="+a+"),info"),this._clearTimeout(this._completeZoomTimer),this._clearTimeout(this._TTFFTimer),this._hideSemanticZoomButton(),this._resetPinchDistanceRecords(),!this._locked&&!this._gestureEnding)if(this._zoomInProgress){if(this._gesturing===!d)return;a!==this._zoomingOut&&this._startAnimations(a)}else if(a!==this._zoomedOut){this._zooming=!0,this._aligning=!0,this._gesturing=!!d,b&&(a?this._viewIn:this._viewOut).setCurrentItem(b.x,b.y),this._zoomInProgress=!0,(a?this._opticalViewportOut:this._opticalViewportIn).style.visibility="visible",a&&c.isPhone&&(this._canvasOut.style.opacity=1);var h=this._viewIn.beginZoom(),i=this._viewOut.beginZoom(),j=null;if((h||i)&&c.isPhone&&(j=k.join([h,i])),e&&!f){var l=this;(a?this._viewIn:this._viewOut).getCurrentItem().then(function(b){var c=b.position;l._prepareForZoom(a,{x:l._rtl()?l._sezoClientWidth-c.left-.5*c.width:c.left+.5*c.width,y:c.top+.5*c.height},k.wrap(b),j)})}else this._prepareForZoom(a,b||{},null,j,f)}},_prepareForZoom:function(a,b,c,d,e){function f(a,b){h._canvasIn.style[z["transform-origin"].scriptName]=h._canvasLeftIn+i-a.x+"px "+(h._canvasTopIn+j-a.y)+"px",h._canvasOut.style[z["transform-origin"].scriptName]=h._canvasLeftOut+i-b.x+"px "+(h._canvasTopOut+j-b.y)+"px"}g("WinJS.UI.SemanticZoom:prepareForZoom,StartTM");var h=this,i=b.x,j=b.y;"number"==typeof i&&this._pansHorizontallyIn&&this._pansHorizontallyOut||(i=.5*this._sezoClientWidth),"number"==typeof j&&this._pansVerticallyIn&&this._pansVerticallyOut||(j=.5*this._sezoClientHeight),f(ga,ga),e?this._aligning=!1:this._alignViewsPromise=this._alignViews(a,i,j,c).then(function(){h._aligning=!1,h._gestureEnding=!1,h._alignViewsPromise=null,h._zooming||h._gesturing||h._completeZoom()}),this._zoomingOut=a,n._getComputedStyle(this._canvasIn).opacity,n._getComputedStyle(this._canvasOut).opacity,g("WinJS.UI.SemanticZoom:prepareForZoom,StopTM"),this._startAnimations(a,d)},_alignViews:function(a,b,c,d){var e=1-this._zoomFactor,f=this._rtl(),g=e*(f?this._viewportWidth-b:b),h=e*c,i=this;if(a){var j=d||this._viewIn.getCurrentItem();if(j)return j.then(function(a){var b=a.position,c={left:b.left*i._zoomFactor+g,top:b.top*i._zoomFactor+h,width:b.width*i._zoomFactor,height:b.height*i._zoomFactor};return i._viewOut.positionItem(i._zoomedOutItem(a.item),c)})}else{var l=d||this._viewOut.getCurrentItem();if(l)return l.then(function(a){var b=a.position,c={left:(b.left-g)/i._zoomFactor,top:(b.top-h)/i._zoomFactor,width:b.width/i._zoomFactor,height:b.height/i._zoomFactor};return i._viewIn.positionItem(i._zoomedInItem(a.item),c)})}return new k(function(a){a({x:0,y:0})})},_startAnimations:function(a,b){this._zoomingOut=a;var d=c.isPhone;if(i.isAnimationEnabled()&&!d&&(g("WinJS.UI.SemanticZoom:ZoomAnimation,StartTM"),this._canvasIn.style[Y]=a?s():t(),this._canvasOut.style[Y]=a?t():s()),d||(x(this._canvasIn,a?this._zoomFactor:1),x(this._canvasOut,a?1:1/this._zoomFactor)),this._canvasIn.style.opacity=a&&!d?0:1,d&&!a||(this._canvasOut.style.opacity=a?1:0),i.isAnimationEnabled())if(b){var e=this,f=function(){e._canvasIn.style[X.scriptName]="",e._canvasOut.style[X.scriptName]="",e._onZoomAnimationComplete()};b.then(f,f)}else this.setTimeoutAfterTTFF(this._onZoomAnimationComplete.bind(this),i._animationTimeAdjustment(S));else this._zooming=!1,this._canvasIn.style[X.scriptName]="",this._canvasOut.style[X.scriptName]="",this._completeZoom()},_onBounceAnimationComplete:function(){this._isBouncingIn||this._disposed||this._completeZoom()},_onZoomAnimationComplete:function(){g("WinJS.UI.SemanticZoom:ZoomAnimation,StopTM"),this._disposed||(this._zooming=!1,this._aligning||this._gesturing||this._gestureEnding||this._completeZoom())},_onCanvasTransitionEnd:function(a){return this._disposed?void 0:a.target!==this._canvasOut&&a.target!==this._canvasIn||!this._isBouncing?void(a.target===this._canvasIn&&a.propertyName===X.cssName&&this._onZoomAnimationComplete()):void this._onBounceAnimationComplete()},_clearTimeout:function(b){b&&a.clearTimeout(b)},_completePointerUp:function(a,b){if(!this._disposed){var c=a.pointerId,d=this._pointerRecords[c];if(d&&(this._deletePointerRecord(c),this._isBouncingIn&&this._playBounce(!1),b&&this._pinchedDirection!==ca.none&&a.stopImmediatePropagation(),0===this._pointerCount)){if(1===this._pinchGesture&&!this._zooming&&this._lastPinchDirection!==ca.none&&this._pinchDistanceCount<Z)return this._zoom(this._lastPinchDirection===ca.zoomedOut,this._currentMidPoint,!1),this._pinchGesture=0,void this._attemptRecordReset();this._pinchedDirection!==ca.none&&(this._gesturing=!1,this._aligning||this._zooming||this._completeZoom()),this._pinchGesture=0,this._attemptRecordReset()}}},setTimeoutAfterTTFF:function(b,c){var d=this;d._TTFFTimer=a.setTimeout(function(){this._disposed||(d._TTFFTimer=a.setTimeout(b,c))},T)},_completeZoomingIfTimeout:function(){if(0===this._pointerCount){var b=this;(this._zoomInProgress||this._isBouncing)&&(b._completeZoomTimer=a.setTimeout(function(){b._completeZoom()},i._animationTimeAdjustment(aa)))}},_completeZoom:function(){if(!this._disposed){if(this._isBouncing)return this._zoomedOut?this._viewOut.endZoom(!0):this._viewIn.endZoom(!0),void(this._isBouncing=!1);if(this._zoomInProgress){g("WinJS.UI.SemanticZoom:CompleteZoom,info"),this._aligning=!1,this._alignViewsPromise&&this._alignViewsPromise.cancel(),this._clearTimeout(this._completeZoomTimer),this._clearTimeout(this._TTFFTimer),this._gestureEnding=!1,this[this._zoomingOut?"_opticalViewportOut":"_opticalViewportIn"].msContentZoomFactor=1,this._viewIn.endZoom(!this._zoomingOut),this._viewOut.endZoom(this._zoomingOut),this._canvasIn.style.opacity=this._zoomingOut&&!c.isPhone?0:1,this._canvasOut.style.opacity=this._zoomingOut?1:0,this._zoomInProgress=!1;var b=!1;if(this._zoomingOut!==this._zoomedOut&&(this._zoomedOut=!!this._zoomingOut,this._element.setAttribute("aria-checked",this._zoomedOut.toString()),b=!0),this._setVisibility(),b){var d=a.document.createEvent("CustomEvent");d.initCustomEvent(I,!0,!0,this._zoomedOut),this._element.dispatchEvent(d),this._isActive&&n._setActive(this._zoomedOut?this._elementOut:this._elementIn)}g("WinJS.UI.SemanticZoom:CompleteZoom_Custom,info")}}},_isActive:function(){var b=a.document.activeElement;return this._element===b||this._element.contains(b)},_setLayout:function(a,b,c){var d=a.style;d.position=b,d.overflow=c},_setupOpticalViewport:function(a){a.style["-ms-overflow-style"]="none",c.isPhone||(a.style["-ms-content-zooming"]="zoom",a.style["-ms-content-zoom-limit-min"]="99%",a.style["-ms-content-zoom-limit-max"]="101%",a.style["-ms-content-zoom-snap-points"]="snapList(100%)",a.style["-ms-content-zoom-snap-type"]="mandatory")},_setVisibility:function(){function a(a,b){a.style.visibility=b?"visible":"hidden"}a(this._opticalViewportIn,!this._zoomedOut||c.isPhone),a(this._opticalViewportOut,this._zoomedOut),this._opticalViewportIn.setAttribute("aria-hidden",!!this._zoomedOut),this._opticalViewportOut.setAttribute("aria-hidden",!this._zoomedOut)},_resetPointerRecords:function(){this._pinchedDirection=ca.none,this._pointerCount=0,this._pointerRecords={},this._resetPinchDistanceRecords()},_releasePointerCapture:function(a){var b=a.pointerId;try{n._releasePointerCapture(this._hiddenElement,b)}catch(c){}},_attemptRecordReset:function(){this._recordResetPromise&&this._recordResetPromise.cancel();var a=this;this._recordResetPromise=k.timeout(ba).then(function(){0===a._pointerCount&&(a._resetPointerRecords(),a._recordResetPromise=null)})},_resetPinchDistanceRecords:function(){this._lastPinchDirection=ca.none,this._lastPinchDistance=-1,this._lastLastPinchDistance=-1,this._pinchDistanceCount=0,this._currentMidPoint=null},_getPointerLocation:function(a){var b={left:0,top:0};try{b=this._element.getBoundingClientRect()}catch(c){}var d=n._getComputedStyle(this._element,null),e=w(this._element,d.paddingLeft),f=w(this._element,d.paddingTop),g=w(this._element,d.borderLeftWidth);return{x:+a.clientX===a.clientX?a.clientX-b.left-e-g:0,y:+a.clientY===a.clientY?a.clientY-b.top-f-f:0}},_playBounce:function(a,b){if(i.isAnimationEnabled()&&this._isBouncingIn!==a){this._clearTimeout(this._completeZoomTimer),this._clearTimeout(this._TTFFTimer),this._isBouncing=!0,this._isBouncingIn=a,a?this._bounceCenter=b:this._aligned=!0;var c=this._zoomedOut?this._canvasOut:this._canvasIn,d=this._zoomedOut?this._canvasLeftOut:this._canvasLeftIn,e=this._zoomedOut?this._canvasTopOut:this._canvasTopIn;c.style[z["transform-origin"].scriptName]=d+this._bounceCenter.x+"px "+(e+this._bounceCenter.y)+"px",c.style[Y]=a?u():v(),this._zoomedOut?this._viewOut.beginZoom():this._viewIn.beginZoom();var f=a?this._zoomedOut?2-J:J:1;x(c,f),this.setTimeoutAfterTTFF(this._onBounceAnimationComplete.bind(this),i._animationTimeAdjustment(S))}},_rtl:function(){return"rtl"===n._getComputedStyle(this._element,null).direction},_pinching:{set:function(a){this._viewIn.pinching=a,this._viewOut.pinching=a}}});return b.Class.mix(ha,e.createEventProperties("zoomchanged")),b.Class.mix(ha,l.DOMEventMixin),ha})})}),d("WinJS/Controls/Pivot/_Constants",["require","exports"],function(a,b){b._ClassNames={pivot:"win-pivot",pivotCustomHeaders:"win-pivot-customheaders",pivotLocked:"win-pivot-locked",pivotTitle:"win-pivot-title",pivotHeaderArea:"win-pivot-header-area",pivotHeaderLeftCustom:"win-pivot-header-leftcustom",pivotHeaderRightCustom:"win-pivot-header-rightcustom",pivotHeaderItems:"win-pivot-header-items",pivotHeaders:"win-pivot-headers",pivotHeader:"win-pivot-header",pivotHeaderSelected:"win-pivot-header-selected",pivotViewport:"win-pivot-viewport",pivotSurface:"win-pivot-surface",pivotNoSnap:"win-pivot-nosnap",pivotNavButton:"win-pivot-navbutton",pivotNavButtonPrev:"win-pivot-navbutton-prev",pivotNavButtonNext:"win-pivot-navbutton-next",pivotShowNavButtons:"win-pivot-shownavbuttons",pivotInputTypeMouse:"win-pivot-mouse",pivotInputTypeTouch:"win-pivot-touch",pivotDisableContentSwipeNavigation:"win-pivot-disablecontentswipenavigation"}}),d("WinJS/Controls/Pivot/_Item",["exports","../../Core/_Global","../../Core/_Base","../../Core/_BaseUtils","../../Core/_ErrorFromName","../../Core/_Resources","../../ControlProcessor","../../Promise","../../Scheduler","../../Utilities/_Control","../../Utilities/_Dispose","../../Utilities/_ElementUtilities","./_Constants"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){"use strict";c.Namespace._moduleDefine(a,"WinJS.UI",{PivotItem:c.Namespace._lazy(function(){var a={get duplicateConstruction(){return"Invalid argument: Controls may only be instantiated one time for each DOM element"}},f=c.Class.define(function(c,d){if(c=c||b.document.createElement("DIV"),d=d||{},c.winControl)throw new e("WinJS.UI.PivotItem.DuplicateConstruction",a.duplicateConstruction);c.winControl=this,this._element=c,l.addClass(this.element,f._ClassName.pivotItem),l.addClass(this.element,"win-disposable"),this._element.setAttribute("role","tabpanel"),this._contentElement=b.document.createElement("DIV"),this._contentElement.className=f._ClassName.pivotItemContent,c.appendChild(this._contentElement);for(var h=this.element.firstChild;h!==this._contentElement;){var i=h.nextSibling;this._contentElement.appendChild(h),h=i}this._processors=[g.processAll],j.setOptions(this,d)},{element:{get:function(){return this._element}},contentElement:{get:function(){return this._contentElement}},header:{get:function(){return this._header},set:function(a){this._header=a,this._parentPivot&&this._parentPivot._headersState.handleHeaderChanged(this)}},_parentPivot:{get:function(){for(var a=this._element;a&&!l.hasClass(a,m._ClassNames.pivot);)a=a.parentNode;return a&&a.winControl}},_process:function(){var a=this;return this._processors&&this._processors.push(function(){return i.schedulePromiseAboveNormal()}),this._processed=(this._processors||[]).reduce(function(b,c){return b.then(function(){return c(a.contentElement)})},this._processed||h.as()),this._processors=null,this._processed},dispose:function(){this._disposed||(this._disposed=!0,this._processors=null,k.disposeSubTree(this.contentElement))}},{_ClassName:{pivotItem:"win-pivot-item",pivotItemContent:"win-pivot-item-content"},isDeclarativeControlContainer:d.markSupportedForProcessing(function(a,b){b!==g.processAll&&(a._processors=a._processors||[],a._processors.push(b),a._processed&&a._process())})});return f})})}),d("require-style!less/styles-pivot",[],function(){}),d("require-style!less/colors-pivot",[],function(){});var e=this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);c.prototype=b.prototype,a.prototype=new c};d("WinJS/Controls/Pivot/_Pivot",["require","exports","../../Core/_Global","../../Animations","../../BindingList","../../ControlProcessor","../../Promise","../../Scheduler","../../Core/_Base","../../Core/_BaseUtils","../../Utilities/_Control","../../Utilities/_Dispose","../ElementResizeInstrument","../../Utilities/_ElementUtilities","../../Core/_ErrorFromName","../../Core/_Events","../../Utilities/_Hoverable","../../Utilities/_KeyboardBehavior","../../Core/_Log","../../Core/_Resources","../../Animations/_TransitionAnimation","../../Core/_WriteProfilerMark","./_Constants"],function(a,b,c,d,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x){function y(a){var b=c.document.createTextNode("object"==typeof a.header?JSON.stringify(a.header):""+a.header);return b}r.isHoverable,a(["require-style!less/styles-pivot"]),a(["require-style!less/colors-pivot"]);var z={selectionChanged:"selectionchanged",itemAnimationStart:"itemanimationstart",itemAnimationEnd:"itemanimationend"},A={get duplicateConstruction(){return"Invalid argument: Controls may only be instantiated one time for each DOM element"},get duplicateItem(){return u._getWinJSString("ui/duplicateItem").value},get invalidContent(){return"Invalid content: Pivot content must be made up of PivotItems."},get pivotAriaLabel(){return u._getWinJSString("ui/pivotAriaLabel").value},get pivotViewportAriaLabel(){return u._getWinJSString("ui/pivotViewportAriaLabel").value}},B=!!(o._supportsSnapPoints&&"inertiaDestinationX"in c.MSManipulationEvent.prototype),C=o._MSPointerEvent.MSPOINTER_TYPE_MOUSE||"mouse",D=o._MSPointerEvent.MSPOINTER_TYPE_TOUCH||"touch",E=o.Key,F=250,G=-1,H=function(){function a(a,b){var d=this;if(void 0===b&&(b={}),this._disposed=!1,this._firstLoad=!0,this._hidePivotItemAnimation=h.wrap(),this._loadPromise=h.wrap(),this._pendingRefresh=!1,this._selectedIndex=0,this._showPivotItemAnimation=h.wrap(),this._slideHeadersAnimation=h.wrap(),a=a||c.document.createElement("DIV"),a.winControl)throw new p("WinJS.UI.Pivot.DuplicateConstruction",A.duplicateConstruction);this._handleItemChanged=this._handleItemChanged.bind(this),this._handleItemInserted=this._handleItemInserted.bind(this),this._handleItemMoved=this._handleItemMoved.bind(this),this._handleItemRemoved=this._handleItemRemoved.bind(this),this._handleItemReload=this._handleItemReload.bind(this),this._resizeHandler=this._resizeHandler.bind(this),this._updatePointerType=this._updatePointerType.bind(this),this._id=a.id||o._uniqueID(a),this._writeProfilerMark("constructor,StartTM"),a.winControl=this,this._element=a,this._element.setAttribute("role","tablist"),this._element.getAttribute("aria-label")||this._element.setAttribute("aria-label",A.pivotAriaLabel),o.addClass(this.element,x._ClassNames.pivot),o.addClass(this.element,"win-disposable"),o._addEventListener(this.element,"pointerenter",this._updatePointerType),o._addEventListener(this.element,"pointerout",this._updatePointerType),this._titleElement=c.document.createElement("DIV"),this._titleElement.style.display="none",o.addClass(this._titleElement,x._ClassNames.pivotTitle),this._element.appendChild(this._titleElement),this._headerAreaElement=c.document.createElement("DIV"),o.addClass(this._headerAreaElement,x._ClassNames.pivotHeaderArea),this._element.appendChild(this._headerAreaElement),this._headerItemsElement=c.document.createElement("DIV"),o.addClass(this._headerItemsElement,x._ClassNames.pivotHeaderItems),this._headerAreaElement.appendChild(this._headerItemsElement),this._headerItemsElWidth=null,this._headersContainerElement=c.document.createElement("DIV"),this._headersContainerElement.tabIndex=0,o.addClass(this._headersContainerElement,x._ClassNames.pivotHeaders),this._headersContainerElement.addEventListener("keydown",this._headersKeyDown.bind(this)),o._addEventListener(this._headersContainerElement,"pointerenter",this._showNavButtons.bind(this)),o._addEventListener(this._headersContainerElement,"pointerout",this._hideNavButtons.bind(this)),this._headerItemsElement.appendChild(this._headersContainerElement),this._element.addEventListener("click",this._elementClickedHandler.bind(this)),this._winKeyboard=new s._WinKeyboard(this._headersContainerElement),this._customLeftHeader=c.document.createElement("DIV"),o.addClass(this._customLeftHeader,x._ClassNames.pivotHeaderLeftCustom),this._headerAreaElement.insertBefore(this._customLeftHeader,this._headerAreaElement.children[0]),this._customRightHeader=c.document.createElement("DIV"),o.addClass(this._customRightHeader,x._ClassNames.pivotHeaderRightCustom),this._headerAreaElement.appendChild(this._customRightHeader),this._viewportElement=c.document.createElement("DIV"),this._viewportElement.className=x._ClassNames.pivotViewport,this._element.appendChild(this._viewportElement),this._viewportElement.setAttribute("role","group"),this._viewportElement.setAttribute("aria-label",A.pivotViewportAriaLabel),this._elementResizeInstrument=new n._ElementResizeInstrument,this._element.appendChild(this._elementResizeInstrument.element),this._elementResizeInstrument.addEventListener("resize",this._resizeHandler),o._inDom(this._element).then(function(){d._disposed||d._elementResizeInstrument.addedToDom()}),o._resizeNotifier.subscribe(this.element,this._resizeHandler),this._viewportElWidth=null,this._surfaceElement=c.document.createElement("DIV"),this._surfaceElement.className=x._ClassNames.pivotSurface,this._viewportElement.appendChild(this._surfaceElement),this._headersState=new I(this),B?this._viewportElement.addEventListener("MSManipulationStateChanged",this._MSManipulationStateChangedHandler.bind(this)):(o.addClass(this.element,x._ClassNames.pivotNoSnap),o._addEventListener(this._element,"pointerdown",this._elementPointerDownHandler.bind(this)),o._addEventListener(this._element,"pointerup",this._elementPointerUpHandler.bind(this))),this._parse(),b=k._shallowCopy(b),b.items&&(this.items=b.items,delete b.items),l.setOptions(this,b),this._refresh(),this._writeProfilerMark("constructor,StopTM")}return Object.defineProperty(a.prototype,"element",{get:function(){return this._element},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"customLeftHeader",{get:function(){return this._customLeftHeader.firstElementChild},set:function(a){o.empty(this._customLeftHeader),a?(this._customLeftHeader.appendChild(a),o.addClass(this._element,x._ClassNames.pivotCustomHeaders)):this._customLeftHeader.children.length||this._customRightHeader.childNodes.length||o.removeClass(this._element,x._ClassNames.pivotCustomHeaders),this.forceLayout()},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"customRightHeader",{get:function(){return this._customRightHeader.firstElementChild},set:function(a){o.empty(this._customRightHeader),a?(this._customRightHeader.appendChild(a),o.addClass(this._element,x._ClassNames.pivotCustomHeaders)):this._customLeftHeader.children.length||this._customRightHeader.childNodes.length||o.removeClass(this._element,x._ClassNames.pivotCustomHeaders),this.forceLayout()},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"locked",{get:function(){return o.hasClass(this.element,x._ClassNames.pivotLocked)},set:function(a){o[a?"addClass":"removeClass"](this.element,x._ClassNames.pivotLocked),a&&this._hideNavButtons()},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"items",{get:function(){return this._pendingItems?this._pendingItems:this._items},set:function(a){this._pendingItems=a,this._refresh()},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"title",{get:function(){return this._titleElement.textContent},set:function(a){a?(this._titleElement.style.display="block",this._titleElement.textContent=a):(this._titleElement.style.display="none",this._titleElement.textContent="")},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"selectedIndex",{get:function(){return 0===this.items.length?-1:this._selectedIndex},set:function(a){a>=0&&a<this.items.length&&(this._pendingRefresh?this._selectedIndex=a:this._loadItem(a))},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"selectedItem",{get:function(){return this.items.getAt(this.selectedIndex)},set:function(a){var b=this.items.indexOf(a);-1!==b&&(this.selectedIndex=b)},enumerable:!0,configurable:!0}),a.prototype.dispose=function(){if(!this._disposed){this._disposed=!0,this._updateEvents(this._items,null),o._resizeNotifier.unsubscribe(this.element,this._resizeHandler),this._elementResizeInstrument.dispose(),this._headersState.exit(),m._disposeElement(this._headersContainerElement);for(var a=0,b=this.items.length;b>a;a++)this.items.getAt(a).dispose()}},a.prototype.forceLayout=function(){this._disposed||this._resizeHandler()},a.prototype._applyProperties=function(){function a(a){for(var b=0,c=a.items.length;c>b;b++){var d=a._items.getAt(b);if(d.element.parentNode===a._surfaceElement)throw new p("WinJS.UI.Pivot.DuplicateItem",A.duplicateItem);d.element.style.display="none",a._surfaceElement.appendChild(d.element)}}if(!this._disposed){if(this._pendingItems){for(this._updateEvents(this._items,this._pendingItems),this._items=this._pendingItems,this._pendingItems=null;this.element.firstElementChild!==this._titleElement;){var b=this.element.firstElementChild;b.parentNode.removeChild(b)}o.empty(this._surfaceElement)}a(this),this._rtl="rtl"===o._getComputedStyle(this._element,null).direction,this._headersState.refreshHeadersState(!0),this._pendingRefresh=!1,this._firstLoad=!0,this.selectedIndex=this._selectedIndex,this._firstLoad=!1,this._recenterViewport()}},a.prototype._parse=function(){for(var a=[],b=this.element.firstElementChild;b!==this._titleElement;){g.processAll(b);var c=b.winControl;if(!c)throw new p("WinJS.UI.Pivot.InvalidContent",A.invalidContent);a.push(c);var d=b.nextElementSibling;b=d}this.items=new f.List(a)},a.prototype._refresh=function(){this._pendingRefresh||(this._pendingRefresh=!0,i.schedule(this._applyProperties.bind(this),i.Priority.high))},a.prototype._resizeHandler=function(){if(!this._disposed&&!this._pendingRefresh){var a=this._getViewportWidth(),b=this._getHeaderItemsWidth();this._invalidateMeasures(),a!==this._getViewportWidth()||b!==this._getHeaderItemsWidth()?(t.log&&t.log("_resizeHandler, viewport from:"+a+" to: "+this._getViewportWidth()),t.log&&t.log("_resizeHandler, headers from:"+b+" to: "+this._getHeaderItemsWidth()),this._hidePivotItemAnimation&&this._hidePivotItemAnimation.cancel(),this._showPivotItemAnimation&&this._showPivotItemAnimation.cancel(),this._slideHeadersAnimation&&this._slideHeadersAnimation.cancel(),this._recenterViewport(),this._headersState.handleResize()):t.log&&t.log("_resizeHandler worthless resize")}},a.prototype._activateHeader=function(a){if(!this.locked){var b=this._items.indexOf(a._item);b!==this.selectedIndex?this._headersState.activateHeader(a):o._setActiveFirstFocusableElement(this.selectedItem.element)}},a.prototype._goNext=function(){this.selectedIndex<this._items.length-1?this.selectedIndex++:this.selectedIndex=0},a.prototype._goPrevious=function(){this._animateToPrevious=!0,this.selectedIndex>0?this.selectedIndex--:this.selectedIndex=this._items.length-1,this._animateToPrevious=!1},a.prototype._loadItem=function(a){var b=this;this._rtl="rtl"===o._getComputedStyle(this._element,null).direction,this._hidePivotItemAnimation.cancel(),this._showPivotItemAnimation.cancel(),this._slideHeadersAnimation.cancel();var c=this._animateToPrevious,d=this._items.getAt(a),e=this._firstLoad,f=this._loadPromise=this._loadPromise.then(function(){var g=b._items.getAt(b.selectedIndex);g&&b._hidePivotItem(g.element,c,e);var i=b._selectedIndex;b._selectedIndex=a;var j={index:a,direction:c?"backwards":"forward",item:d};return b._fireEvent(z.selectionChanged,!0,!1,j),b._headersState.handleNavigation(c,a,i),h.join([d._process(),b._hidePivotItemAnimation,h.timeout()]).then(function(){return b._disposed||b._loadPromise!==f?void 0:(b._recenterViewport(),b._showPivotItem(d.element,c,e).then(function(){b._disposed||b._loadPromise!==f||(b._loadPromise=h.wrap(),b._writeProfilerMark("itemAnimationStop,info"),b._fireEvent(z.itemAnimationEnd,!0,!1,null))}))})})},a.prototype._recenterViewport=function(){o.setScrollPosition(this._viewportElement,{scrollLeft:this._getViewportWidth()}),this.selectedItem&&(this.selectedItem.element.style[this._getDirectionAccessor()]=this._getViewportWidth()+"px")},a.prototype._fireEvent=function(a,b,d,e){var f=c.document.createEvent("CustomEvent");return f.initCustomEvent(a,!!b,!!d,e),this.element.dispatchEvent(f)},a.prototype._getDirectionAccessor=function(){return this._rtl?"right":"left"},a.prototype._getHeaderItemsWidth=function(){return this._headerItemsElWidth||(this._headerItemsElWidth=parseFloat(o._getComputedStyle(this._headerItemsElement).width)),this._headerItemsElWidth||G},a.prototype._getViewportWidth=function(){return this._viewportElWidth||(this._viewportElWidth=parseFloat(o._getComputedStyle(this._viewportElement).width),B&&(this._viewportElement.style[k._browserStyleEquivalents["scroll-snap-points-x"].scriptName]="snapInterval(0%, "+Math.ceil(this._viewportElWidth)+"px)")),this._viewportElWidth||G},a.prototype._invalidateMeasures=function(){this._viewportElWidth=this._headerItemsElWidth=null},
a.prototype._updateEvents=function(a,b){a&&(a.removeEventListener("itemchanged",this._handleItemChanged),a.removeEventListener("iteminserted",this._handleItemInserted),a.removeEventListener("itemmoved",this._handleItemMoved),a.removeEventListener("itemremoved",this._handleItemRemoved),a.removeEventListener("reload",this._handleItemReload)),b&&(b.addEventListener("itemchanged",this._handleItemChanged),b.addEventListener("iteminserted",this._handleItemInserted),b.addEventListener("itemmoved",this._handleItemMoved),b.addEventListener("itemremoved",this._handleItemRemoved),b.addEventListener("reload",this._handleItemReload))},a.prototype._writeProfilerMark=function(a){var b="WinJS.UI.Pivot:"+this._id+":"+a;w(b),t.log&&t.log(b,null,"pivotprofiler")},a.prototype._handleItemChanged=function(a){if(!this._pendingItems){var b=a.detail.index,c=a.detail.newValue,d=a.detail.oldValue;if(c.element!==d.element){if(c.element.parentNode===this._surfaceElement)throw new p("WinJS.UI.Pivot.DuplicateItem",A.duplicateItem);c.element.style.display="none",this._surfaceElement.insertBefore(c.element,d.element),this._surfaceElement.removeChild(d.element),b===this.selectedIndex&&(this.selectedIndex=b)}this._headersState.render(),this._headersState.refreshHeadersState(!0)}},a.prototype._handleItemInserted=function(a){if(!this._pendingItems){var b=a.detail.index,c=a.detail.value;if(c.element.parentNode===this._surfaceElement)throw new p("WinJS.UI.Pivot.DuplicateItem",A.duplicateItem);c.element.style.display="none",b<this.items.length-1?this._surfaceElement.insertBefore(c.element,this.items.getAt(b+1).element):this._surfaceElement.appendChild(c.element),b<=this.selectedIndex&&this._selectedIndex++,1===this._items.length&&(this.selectedIndex=0),this._headersState.render(),this._headersState.refreshHeadersState(!0)}},a.prototype._handleItemMoved=function(a){if(!this._pendingItems){var b=a.detail.oldIndex,c=a.detail.newIndex,d=a.detail.value;c<this.items.length-1?this._surfaceElement.insertBefore(d.element,this.items.getAt(c+1).element):this._surfaceElement.appendChild(d.element),b<this.selectedIndex&&c>=this.selectedIndex?this._selectedIndex--:c>this.selectedIndex&&b<=this.selectedIndex?this._selectedIndex++:b===this.selectedIndex&&(this.selectedIndex=this.selectedIndex),this._headersState.render(),this._headersState.refreshHeadersState(!0)}},a.prototype._handleItemReload=function(){this.items=this.items},a.prototype._handleItemRemoved=function(a){if(!this._pendingItems){var b=a.detail.value,c=a.detail.index;this._surfaceElement.removeChild(b.element),c<this.selectedIndex?this._selectedIndex--:c===this._selectedIndex&&(this.selectedIndex=Math.min(this.items.length-1,this._selectedIndex)),this._headersState.render(),this._headersState.refreshHeadersState(!0)}},a.prototype._elementClickedHandler=function(a){if(this.locked||this._navigationHandled)return void(this._navigationHandled=!1);var b,c=a.target;if(o.hasClass(c,x._ClassNames.pivotHeader))b=c;else{var d=!1,e=o._elementsFromPoint(a.clientX,a.clientY);if(e&&e[0]===this._viewportElement)for(var f=0,g=e.length;g>f;f++)e[f]===c&&(d=!0),o.hasClass(e[f],x._ClassNames.pivotHeader)&&(b=e[f]);d||(b=null)}b&&this._activateHeader(b)},a.prototype._elementPointerDownHandler=function(a){if(!B){var b=a.target;this._elementPointerDownPoint={x:a.clientX,y:a.clientY,type:a.pointerType||"mouse",time:Date.now(),inHeaders:this._headersContainerElement.contains(b)}}},a.prototype._elementPointerUpHandler=function(a){if(!this._elementPointerDownPoint||this.locked)return void(this._elementPointerDownPoint=null);var b=a.target,c=32,d=.4,e=Math.abs(a.clientY-this._elementPointerDownPoint.y),f=a.clientX-this._elementPointerDownPoint.x,g=Math.abs(f*d),h=g>e&&Math.abs(f)>c&&(!o._supportsTouchDetection||this._elementPointerDownPoint.type===a.pointerType&&a.pointerType===D)&&(!this.element.classList.contains(x._ClassNames.pivotDisableContentSwipeNavigation)||this._elementPointerDownPoint.inHeaders&&this._headersContainerElement.contains(b));if(this._navigationHandled=!1,h){var i=Date.now()-this._elementPointerDownPoint.time;f*=Math.max(1,Math.pow(350/i,2)),f=this._rtl?-f:f;var j=this._getViewportWidth()/4;-j>f?(this._goNext(),this._navigationHandled=!0):f>j&&(this._goPrevious(),this._navigationHandled=!0)}if(!this._navigationHandled){for(;null!==b&&!o.hasClass(b,x._ClassNames.pivotHeader);)b=b.parentElement;null!==b&&(this._activateHeader(b),this._navigationHandled=!0)}this._elementPointerDownPoint=null},a.prototype._headersKeyDown=function(a){this.locked||(a.keyCode===E.leftArrow||a.keyCode===E.pageUp?(this._rtl?this._goNext():this._goPrevious(),a.preventDefault()):a.keyCode!==E.rightArrow&&a.keyCode!==E.pageDown||(this._rtl?this._goPrevious():this._goNext(),a.preventDefault()))},a.prototype._hideNavButtons=function(a){a&&this._headersContainerElement.contains(a.relatedTarget)||o.removeClass(this._headersContainerElement,x._ClassNames.pivotShowNavButtons)},a.prototype._hidePivotItem=function(a,b,c){return c||!v.isAnimationEnabled()?(a.style.display="none",this._hidePivotItemAnimation=h.wrap(),this._hidePivotItemAnimation):(this._hidePivotItemAnimation=v.executeTransition(a,{property:"opacity",delay:0,duration:67,timing:"linear",from:"",to:"0"}).then(function(){a.style.display="none"}),this._hidePivotItemAnimation)},a.prototype._MSManipulationStateChangedHandler=function(a){if(a.target===this._viewportElement&&a.currentState===o._MSManipulationEvent.MS_MANIPULATION_STATE_INERTIA){var b=a.inertiaDestinationX-this._getViewportWidth();b>0?this._goNext():0>b&&this._goPrevious()}},a.prototype._updatePointerType=function(a){this._pointerType!==(a.pointerType||C)&&(this._pointerType=a.pointerType||C,this._pointerType===D?(o.removeClass(this.element,x._ClassNames.pivotInputTypeMouse),o.addClass(this.element,x._ClassNames.pivotInputTypeTouch),this._hideNavButtons()):(o.removeClass(this.element,x._ClassNames.pivotInputTypeTouch),o.addClass(this.element,x._ClassNames.pivotInputTypeMouse)))},a.prototype._showNavButtons=function(a){this.locked||a&&a.pointerType===D||o.addClass(this._headersContainerElement,x._ClassNames.pivotShowNavButtons)},a.prototype._showPivotItem=function(a,b,c){function e(a){var b=a.getBoundingClientRect();return b.top<g.bottom&&b.bottom>g.top}if(this._writeProfilerMark("itemAnimationStart,info"),this._fireEvent(z.itemAnimationStart,!0,!1,null),a.style.display="",c||!v.isAnimationEnabled())return a.style.opacity="",this._showPivotItemAnimation=h.wrap(),this._showPivotItemAnimation;var f=this._rtl?!b:b,g=this._viewportElement.getBoundingClientRect(),i=a.querySelectorAll(".win-pivot-slide1"),j=a.querySelectorAll(".win-pivot-slide2"),l=a.querySelectorAll(".win-pivot-slide3");return i=Array.prototype.filter.call(i,e),j=Array.prototype.filter.call(j,e),l=Array.prototype.filter.call(l,e),this._showPivotItemAnimation=h.join([v.executeTransition(a,{property:"opacity",delay:0,duration:333,timing:"cubic-bezier(0.1,0.9,0.2,1)",from:"0",to:""}),v.executeTransition(a,{property:k._browserStyleEquivalents.transform.cssName,delay:0,duration:767,timing:"cubic-bezier(0.1,0.9,0.2,1)",from:"translateX("+(f?"-20px":"20px")+")",to:""}),d[f?"slideRightIn":"slideLeftIn"](null,i,j,l)]),this._showPivotItemAnimation},a.supportedForProcessing=!0,a._ClassNames=x._ClassNames,a._EventNames=z,a}();b.Pivot=H;var I=function(){function a(a){this.pivot=a}return a.prototype.exit=function(){},a.prototype.render=function(a){},a.prototype.activateHeader=function(a){},a.prototype.handleNavigation=function(a,b,c){},a.prototype.handleResize=function(){},a.prototype.handleHeaderChanged=function(a){},a.prototype.getCumulativeHeaderWidth=function(b){if(0===b)return 0;for(var c=this.pivot._headersContainerElement.children.length,d=0;b>d;d++){var e=this.renderHeader(d,!1);this.pivot._headersContainerElement.appendChild(e)}var f=0,g=this.pivot._rtl?this.pivot._headersContainerElement.lastElementChild:this.pivot._headersContainerElement.children[c],h=this.pivot._rtl?this.pivot._headersContainerElement.children[c]:this.pivot._headersContainerElement.lastElementChild;f=h.offsetLeft+h.offsetWidth-g.offsetLeft,f+=2*a.headerHorizontalMargin;for(var d=0;b>d;d++)this.pivot._headersContainerElement.removeChild(this.pivot._headersContainerElement.lastElementChild);return f},a.prototype.refreshHeadersState=function(a){a&&(this.cachedHeaderWidth=0);var b=this.cachedHeaderWidth||this.getCumulativeHeaderWidth(this.pivot.items.length);this.cachedHeaderWidth=b,b>this.pivot._getHeaderItemsWidth()&&!(this.pivot._headersState instanceof K)?(this.exit(),this.pivot._headersState=new K(this.pivot)):b<=this.pivot._getHeaderItemsWidth()&&!(this.pivot._headersState instanceof J)&&(this.exit(),this.pivot._headersState=new J(this.pivot))},a.prototype.renderHeader=function(b,d){function e(){f.pivot._disposed||f.pivot._headersContainerElement.contains(i)&&b!==f.pivot.selectedIndex&&"true"===i.getAttribute("aria-selected")&&(f.pivot.selectedIndex=b)}var f=this,g=o._syncRenderer(y),h=this.pivot.items.getAt(b),i=c.document.createElement("BUTTON");return i.tabIndex=-1,i.setAttribute("type","button"),i.style.marginLeft=i.style.marginRight=a.headerHorizontalMargin+"px",o.addClass(i,x._ClassNames.pivotHeader),i._item=h,i._pivotItemIndex=b,g(h,i),d&&(i.setAttribute("aria-selected",""+(b===this.pivot.selectedIndex)),i.setAttribute("role","tab"),new o._MutationObserver(e).observe(i,{attributes:!0,attributeFilter:["aria-selected"]})),i},a.prototype.updateHeader=function(a){var b=this.pivot.items.indexOf(a),c=this.pivot._headersContainerElement.children[b];c.innerHTML="";var d=o._syncRenderer(y);d(a,c)},a.prototype.setActiveHeader=function(a){var b=!1,d=this.pivot._headersContainerElement.querySelector("."+x._ClassNames.pivotHeaderSelected);d&&(d.classList.remove(x._ClassNames.pivotHeaderSelected),d.setAttribute("aria-selected","false"),b=this.pivot._headersContainerElement.contains(c.document.activeElement)),a.classList.add(x._ClassNames.pivotHeaderSelected),a.setAttribute("aria-selected","true"),b&&this.pivot._headersContainerElement.focus()},a.headersContainerLeadingMargin=12,a.headerHorizontalMargin=12,a}(),J=function(a){function b(b){if(a.call(this,b),this._firstRender=!0,this._transitionAnimation=h.wrap(),b._headersContainerElement.children.length&&v.isAnimationEnabled()){var c=b._headersContainerElement.querySelector("."+x._ClassNames.pivotHeaderSelected),d=0,e=0;b._rtl?(d=c.offsetLeft+c.offsetWidth+I.headerHorizontalMargin,e=b._getHeaderItemsWidth()-this.getCumulativeHeaderWidth(b.selectedIndex)-I.headersContainerLeadingMargin,e+=parseFloat(b._headersContainerElement.style.marginLeft)):(d=c.offsetLeft,d+=parseFloat(b._headersContainerElement.style.marginLeft),e=this.getCumulativeHeaderWidth(b.selectedIndex)+I.headersContainerLeadingMargin+I.headerHorizontalMargin);var f=d-e;this.render();for(var g=k._browserStyleEquivalents.transform.cssName,i="translateX("+f+"px)",j=0,l=b._headersContainerElement.children.length;l>j;j++)b._headersContainerElement.children[j].style[g]=i;this._transitionAnimation=v.executeTransition(b._headersContainerElement.querySelectorAll("."+x._ClassNames.pivotHeader),{property:g,delay:0,duration:F,timing:"ease-out",to:""})}else this.render()}return e(b,a),b.prototype.exit=function(){this._transitionAnimation.cancel()},b.prototype.render=function(){var a=this.pivot;if(!a._pendingRefresh&&a._items){if(m._disposeElement(a._headersContainerElement),o.empty(a._headersContainerElement),a._rtl?(a._headersContainerElement.style.marginLeft="0px",a._headersContainerElement.style.marginRight=I.headersContainerLeadingMargin+"px"):(a._headersContainerElement.style.marginLeft=I.headersContainerLeadingMargin+"px",a._headersContainerElement.style.marginRight="0px"),a._viewportElement.style.overflow=1===a.items.length?"hidden":"",a.items.length)for(var b=0;b<a.items.length;b++){var c=this.renderHeader(b,!0);a._headersContainerElement.appendChild(c),b===a.selectedIndex&&c.classList.add(x._ClassNames.pivotHeaderSelected)}this._firstRender=!1}},b.prototype.activateHeader=function(a){this.setActiveHeader(a),this.pivot._animateToPrevious=a._pivotItemIndex<this.pivot.selectedIndex,this.pivot.selectedIndex=a._pivotItemIndex,this.pivot._animateToPrevious=!1},b.prototype.handleNavigation=function(a,b,c){this._firstRender&&this.render(),this.setActiveHeader(this.pivot._headersContainerElement.children[b])},b.prototype.handleResize=function(){this.refreshHeadersState(!1)},b.prototype.handleHeaderChanged=function(a){this.updateHeader(a),this.refreshHeadersState(!0)},b}(I),K=function(a){function b(b){if(a.call(this,b),this._blocked=!1,this._firstRender=!0,this._transitionAnimation=h.wrap(),b._slideHeadersAnimation=h.wrap(),b._headersContainerElement.children.length&&v.isAnimationEnabled()){var c=this,d=function(){c._blocked=!1,c.render()};this._blocked=!0;var e=b._headersContainerElement.querySelector("."+x._ClassNames.pivotHeaderSelected),f=0,g=0;b._rtl?(f=b._getHeaderItemsWidth()-I.headersContainerLeadingMargin,g=e.offsetLeft,g+=I.headerHorizontalMargin,g+=e.offsetWidth,g+=parseFloat(b._headersContainerElement.style.marginLeft)):(f=I.headersContainerLeadingMargin,g=e.offsetLeft,g-=I.headerHorizontalMargin,g+=parseFloat(b._headersContainerElement.style.marginLeft));for(var i=f-g,j=0;j<b.selectedIndex;j++)b._headersContainerElement.appendChild(b._headersContainerElement.children[j].cloneNode(!0));var l=k._browserStyleEquivalents.transform.cssName;this._transitionAnimation=v.executeTransition(b._headersContainerElement.querySelectorAll("."+x._ClassNames.pivotHeader),{property:l,delay:0,duration:F,timing:"ease-out",to:"translateX("+i+"px)"}).then(d,d)}else this.render()}return e(b,a),b.prototype.exit=function(){this._transitionAnimation.cancel(),this.pivot._slideHeadersAnimation.cancel()},b.prototype.render=function(a){var b=this.pivot;if(!this._blocked&&!b._pendingRefresh&&b._items){var d=b._headersContainerElement.contains(c.document.activeElement);if(m._disposeElement(b._headersContainerElement),o.empty(b._headersContainerElement),1===b._items.length){var e=this.renderHeader(0,!0);e.classList.add(x._ClassNames.pivotHeaderSelected),b._headersContainerElement.appendChild(e),b._viewportElement.style.overflow="hidden",b._headersContainerElement.style.marginLeft="0px",b._headersContainerElement.style.marginRight="0px"}else if(b._items.length>1){var f=b._items.length+(a?2:1),g=.8*b._getHeaderItemsWidth(),h=b.selectedIndex-1;b._viewportElement.style.overflow&&(b._viewportElement.style.overflow="");for(var i=0;f>i;i++){-1===h?h=b._items.length-1:h===b._items.length&&(h=0);var e=this.renderHeader(h,!0);b._headersContainerElement.appendChild(e),e.offsetWidth>g&&(e.style.textOverflow="ellipsis",e.style.width=g+"px"),h===b.selectedIndex&&e.classList.add(x._ClassNames.pivotHeaderSelected),h++}if(!b._firstLoad&&!this._firstRender){var j,l;a?(j="",l="0"):(j="0",l="");var n=b._headersContainerElement.children[f-1];n.style.opacity=j;var p=.167;n.style[k._browserStyleEquivalents.transition.scriptName]="opacity "+v._animationTimeAdjustment(p)+"s",o._getComputedStyle(n).opacity,n.style.opacity=l}b._headersContainerElement.children[0].setAttribute("aria-hidden","true"),b._headersContainerElement.style.marginLeft="0px",b._headersContainerElement.style.marginRight="0px";var q=b._rtl?"marginRight":"marginLeft",r=b._headersContainerElement.children[0],s=o.getTotalWidth(r)-I.headersContainerLeadingMargin;if(r!==b._headersContainerElement.children[0])return;b._headersContainerElement.style[q]=-1*s+"px",b._prevButton=c.document.createElement("button"),b._prevButton.setAttribute("type","button"),o.addClass(b._prevButton,x._ClassNames.pivotNavButton),o.addClass(b._prevButton,x._ClassNames.pivotNavButtonPrev),b._prevButton.addEventListener("click",function(){b.locked||(b._rtl?b._goNext():b._goPrevious())}),b._headersContainerElement.appendChild(b._prevButton),b._prevButton.style.left=b._rtl?"0px":s+"px",b._nextButton=c.document.createElement("button"),b._nextButton.setAttribute("type","button"),o.addClass(b._nextButton,x._ClassNames.pivotNavButton),o.addClass(b._nextButton,x._ClassNames.pivotNavButtonNext),b._nextButton.addEventListener("click",function(){b.locked||(b._rtl?b._goPrevious():b._goNext())}),b._headersContainerElement.appendChild(b._nextButton),b._nextButton.style.right=b._rtl?s+"px":"0px"}b._headersContainerElement.children.length>1?1:0;d&&b._headersContainerElement.focus(),this._firstRender=!1}},b.prototype.activateHeader=function(a){a.previousSibling&&(this.pivot.selectedIndex=a._pivotItemIndex)},b.prototype.handleNavigation=function(a,b,c){function d(a){return j?a.offsetParent.offsetWidth-a.offsetLeft-a.offsetWidth:a.offsetLeft}function e(){g._disposed||(f.render(a),g._slideHeadersAnimation=h.wrap())}var f=this,g=this.pivot;if(this._blocked||0>b||g._firstLoad)return void this.render(a);var i;if(a?i=g._headersContainerElement.children[0]:(c>b&&(b+=g._items.length),i=g._headersContainerElement.children[1+b-c]),!i)return void this.render(a);o.removeClass(g._headersContainerElement.children[1],x._ClassNames.pivotHeaderSelected),o.addClass(i,x._ClassNames.pivotHeaderSelected);var j=g._rtl,l=d(g._headersContainerElement.children[1])-d(i);j&&(l*=-1);var m;m=v.isAnimationEnabled()?v.executeTransition(g._headersContainerElement.querySelectorAll("."+x._ClassNames.pivotHeader),{property:k._browserStyleEquivalents.transform.cssName,delay:0,duration:F,timing:"ease-out",to:"translateX("+l+"px)"}):h.wrap(),g._slideHeadersAnimation=m.then(e,e)},b.prototype.handleResize=function(){this.refreshHeadersState(!1)},b.prototype.handleHeaderChanged=function(a){this.render(),this.refreshHeadersState(!0)},b}(I);j.Class.mix(H,q.createEventProperties(z.itemAnimationEnd,z.itemAnimationStart,z.selectionChanged)),j.Class.mix(H,l.DOMEventMixin)}),d("WinJS/Controls/Pivot",["require","exports","../Core/_Base","./Pivot/_Item"],function(a,b,c,d){d.touch;var e=null;c.Namespace.define("WinJS.UI",{Pivot:{get:function(){return e||a(["./Pivot/_Pivot"],function(a){e=a}),e.Pivot}}})}),d("WinJS/Controls/Hub/_Section",["exports","../../Core/_Global","../../Core/_Base","../../Core/_BaseUtils","../../Core/_ErrorFromName","../../Core/_Resources","../../ControlProcessor","../../Promise","../../Utilities/_Control","../../Utilities/_Dispose","../../Utilities/_ElementUtilities","../../Utilities/_KeyboardBehavior"],function(a,b,c,d,e,f,g,h,i,j,k,l){"use strict";c.Namespace._moduleDefine(a,"WinJS.UI",{HubSection:c.Namespace._lazy(function(){var a={get duplicateConstruction(){return"Invalid argument: Controls may only be instantiated one time for each DOM element"},get seeMore(){return f._getWinJSString("ui/seeMore").value}},m=c.Class.define(function(c,d){if(c=c||b.document.createElement("DIV"),d=d||{},c.winControl)throw new e("WinJS.UI.HubSection.DuplicateConstruction",a.duplicateConstruction);c.winControl=this,this._element=c,k.addClass(this.element,m._ClassName.hubSection),k.addClass(this.element,"win-disposable"),this._headerElement=b.document.createElement("DIV"),this._headerElement.className=m._ClassName.hubSectionHeader,this._headerElement.innerHTML='<button type="button" role="link" class="'+m._ClassName.hubSectionInteractive+" "+m._ClassName.hubSectionHeaderTabStop+'"><div class="'+m._ClassName.hubSectionHeaderWrapper+'" tabindex="-1"><h2 class="win-type-subheader '+m._ClassName.hubSectionHeaderContent+'"></h2><span class="'+m._ClassName.hubSectionHeaderChevron+' win-type-body">'+a.seeMore+"</span></div></button>",this._headerTabStopElement=this._headerElement.firstElementChild,this._headerWrapperElement=this._headerTabStopElement.firstElementChild,this._headerContentElement=this._headerWrapperElement.firstElementChild,this._headerChevronElement=this._headerWrapperElement.lastElementChild,c.appendChild(this._headerElement),this._winKeyboard=new l._WinKeyboard(this._headerElement),this._contentElement=b.document.createElement("DIV"),this._contentElement.className=m._ClassName.hubSectionContent,this._contentElement.style.visibility="hidden",c.appendChild(this._contentElement);for(var f=this.element.firstChild;f!==this._headerElement;){var h=f.nextSibling;this._contentElement.appendChild(f),f=h}this._processors=[g.processAll],i.setOptions(this,d)},{element:{get:function(){return this._element}},isHeaderStatic:{get:function(){return this._isHeaderStatic},set:function(a){this._isHeaderStatic=a,this._isHeaderStatic?(this._headerTabStopElement.setAttribute("role","heading"),k.removeClass(this._headerTabStopElement,m._ClassName.hubSectionInteractive)):(this._headerTabStopElement.setAttribute("role","link"),k.addClass(this._headerTabStopElement,m._ClassName.hubSectionInteractive))}},contentElement:{get:function(){return this._contentElement}},header:{get:function(){return this._header},set:function(a){this._header=a,this._renderHeader()}},_setHeaderTemplate:function(a){this._template=k._syncRenderer(a),this._renderHeader()},_renderHeader:function(){this._template&&(j._disposeElement(this._headerContentElement),k.empty(this._headerContentElement),this._template(this,this._headerContentElement))},_process:function(){var a=this;return this._processed=(this._processors||[]).reduce(function(b,c){return b.then(function(){return c(a.contentElement)})},this._processed||h.as()),this._processors=null,this._processed},dispose:function(){this._disposed||(this._disposed=!0,this._processors=null,j._disposeElement(this._headerContentElement),j.disposeSubTree(this.contentElement))}},{_ClassName:{hubSection:"win-hub-section",hubSectionHeader:"win-hub-section-header",hubSectionHeaderTabStop:"win-hub-section-header-tabstop",hubSectionHeaderWrapper:"win-hub-section-header-wrapper",hubSectionInteractive:"win-hub-section-header-interactive",hubSectionHeaderContent:"win-hub-section-header-content",hubSectionHeaderChevron:"win-hub-section-header-chevron",hubSectionContent:"win-hub-section-content"},isDeclarativeControlContainer:d.markSupportedForProcessing(function(a,b){b!==g.processAll&&(a._processors=a._processors||[],a._processors.push(b),a._processed&&a._process())})});return m})})}),d("require-style!less/styles-hub",[],function(){}),d("require-style!less/colors-hub",[],function(){}),d("WinJS/Controls/Hub",["../Core/_Global","../Core/_Base","../Core/_BaseUtils","../Core/_ErrorFromName","../Core/_Events","../Core/_Log","../Core/_Resources","../Core/_WriteProfilerMark","../_Accents","../Animations","../Animations/_TransitionAnimation","../BindingList","../ControlProcessor","../Promise","../_Signal","../Scheduler","../Utilities/_Control","../Utilities/_ElementUtilities","../Utilities/_Hoverable","../Utilities/_UI","./ElementResizeInstrument","./Hub/_Section","require-style!less/styles-hub","require-style!less/colors-hub"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v){"use strict";i.createAccentRule(".win-semanticzoom-zoomedoutview .win-hub-section-header-interactive .win-hub-section-header-content,             .win-hub-section-header-interactive .win-hub-section-header-chevron",[{name:"color",value:i.ColorTypes.accent}]),b.Namespace.define("WinJS.UI",{Hub:b.Namespace._lazy(function(){function i(b){var c=a.document.createTextNode("object"==typeof b.header?JSON.stringify(b.header):""+b.header);return c}var s=r.Key,w=e._createEventProperty,x={contentAnimating:"contentanimating",headerInvoked:"headerinvoked",loadingStateChanged:"loadingstatechanged"},y=500,z={scrollPos:"scrollTop",scrollSize:"scrollHeight",offsetPos:"offsetTop",offsetSize:"offsetHeight",oppositeOffsetSize:"offsetWidth",marginStart:"marginTop",marginEnd:"marginBottom",borderStart:"borderTopWidth",borderEnd:"borderBottomWidth",paddingStart:"paddingTop",paddingEnd:"paddingBottom"},A={scrollPos:"scrollLeft",scrollSize:"scrollWidth",offsetPos:"offsetLeft",offsetSize:"offsetWidth",oppositeOffsetSize:"offsetHeight",marginStart:"marginRight",marginEnd:"marginLeft",borderStart:"borderRightWidth",borderEnd:"borderLeftWidth",paddingStart:"paddingRight",paddingEnd:"paddingLeft"},B={scrollPos:"scrollLeft",scrollSize:"scrollWidth",offsetPos:"offsetLeft",offsetSize:"offsetWidth",oppositeOffsetSize:"offsetHeight",marginStart:"marginLeft",marginEnd:"marginRight",borderStart:"borderLeftWidth",borderEnd:"borderRightWidth",paddingStart:"paddingLeft",paddingEnd:"paddingRight"},C=b.Class.define(function(b,c){if(b=b||a.document.createElement("DIV"),c=c||{},b.winControl)throw new d("WinJS.UI.Hub.DuplicateConstruction",E.duplicateConstruction);this._id=b.id||r._uniqueID(b),this._writeProfilerMark("constructor,StartTM"),this._windowKeyDownHandlerBound=this._windowKeyDownHandler.bind(this),a.addEventListener("keydown",this._windowKeyDownHandlerBound),b.winControl=this,this._element=b,r.addClass(this.element,C._ClassName.hub),r.addClass(this.element,"win-disposable"),this._parse(),this._viewportElement=a.document.createElement("DIV"),this._viewportElement.className=C._ClassName.hubViewport,this._element.appendChild(this._viewportElement),this._viewportElement.setAttribute("role","group"),this._viewportElement.setAttribute("aria-label",E.hubViewportAriaLabel),this._surfaceElement=a.document.createElement("DIV"),this._surfaceElement.className=C._ClassName.hubSurface,this._viewportElement.appendChild(this._surfaceElement),this._visible=!1,this._viewportElement.style.opacity=0,c.orientation||(this._orientation=t.Orientation.horizontal,r.addClass(this.element,C._ClassName.hubHorizontal)),this._fireEntrance=!0,this._animateEntrance=!0,this._loadId=0,this.runningAnimations=new n.wrap,this._currentIndexForSezo=0,q.setOptions(this,c),r._addEventListener(this.element,"focusin",this._focusin.bind(this),!1),this.element.addEventListener("keydown",this._keyDownHandler.bind(this)),this.element.addEventListener("click",this._clickHandler.bind(this)),this._viewportElement.addEventListener("scroll",this._scrollHandler.bind(this)),this._resizeHandlerBound=this._resizeHandler.bind(this),this._elementResizeInstrument=new u._ElementResizeInstrument,this._element.appendChild(this._elementResizeInstrument.element),this._elementResizeInstrument.addEventListener("resize",this._resizeHandlerBound);var e=this;r._inDom(this.element).then(function(){e._disposed||e._elementResizeInstrument.addedToDom()}),r._resizeNotifier.subscribe(this.element,this._resizeHandlerBound),this._handleSectionChangedBind=this._handleSectionChanged.bind(this),this._handleSectionInsertedBind=this._handleSectionInserted.bind(this),this._handleSectionMovedBind=this._handleSectionMoved.bind(this),this._handleSectionRemovedBind=this._handleSectionRemoved.bind(this),this._handleSectionReloadBind=this._handleSectionReload.bind(this),this._refresh(),this._writeProfilerMark("constructor,StopTM")},{element:{get:function(){return this._element}},orientation:{get:function(){return this._orientation},set:function(a){if(a!==this._orientation){if(this._measured=!1,this._names){var b={};b[this._names.scrollPos]=0,r.setScrollPosition(this._viewportElement,b)}a===t.Orientation.vertical?(r.removeClass(this.element,C._ClassName.hubHorizontal),r.addClass(this.element,C._ClassName.hubVertical)):(a=t.Orientation.horizontal,r.removeClass(this.element,C._ClassName.hubVertical),r.addClass(this.element,C._ClassName.hubHorizontal)),this._orientation=a,p.schedule(this._updateSnapList.bind(this),p.Priority.idle)}}},sections:{get:function(){return this._pendingSections?this._pendingSections:this._sections},set:function(a){var b=!this._pendingSections;this._pendingSections=a,this._refresh(),b&&(this.scrollPosition=0)}},headerTemplate:{get:function(){return this._pendingHeaderTemplate?this._pendingHeaderTemplate:(this._headerTemplate||(this._headerTemplate=i),this._headerTemplate)},set:function(a){this._pendingHeaderTemplate=a||i,this._refresh()}},scrollPosition:{get:function(){return+this._pendingScrollLocation===this._pendingScrollLocation?this._pendingScrollLocation:(this._measure(),this._scrollPosition)},set:function(a){if(a=Math.max(0,a),this._pendingRefresh)this._pendingScrollLocation=a,this._pendingSectionOnScreen=null;else{this._measure();var b=Math.max(0,Math.min(this._scrollLength-this._viewportSize,a));this._scrollPosition=b;var c={};c[this._names.scrollPos]=b,r.setScrollPosition(this._viewportElement,c)}}},sectionOnScreen:{get:function(){if(+this._pendingSectionOnScreen===this._pendingSectionOnScreen)return this._pendingSectionOnScreen;this._measure();for(var a=0;a<this._sectionSizes.length;a++){var b=this._sectionSizes[a];if(b.offset+b.size-b.borderEnd-b.paddingEnd>this._scrollPosition+this._startSpacer+b.borderStart+b.paddingStart)return a}return-1},set:function(a){a=Math.max(0,a),this._pendingRefresh?(this._pendingSectionOnScreen=a,this._pendingScrollLocation=null):(this._measure(),a>=0&&a<this._sectionSizes.length&&this._scrollToSection(a))}},indexOfFirstVisible:{get:function(){this._measure();for(var a=0;a<this._sectionSizes.length;a++){var b=this._sectionSizes[a];if(b.offset+b.size-b.borderEnd-b.paddingEnd>this._scrollPosition)return a}return-1}},indexOfLastVisible:{get:function(){this._measure();for(var a=this._sectionSizes.length-1;a>=0;a--){var b=this._sectionSizes[a];if(b.offset+b.paddingStart+b.borderStart<this._scrollPosition+this._viewportSize)return a}return-1}},onheaderinvoked:w(x.headerInvoked),onloadingstatechanged:w(x.loadingStateChanged),oncontentanimating:w(x.contentAnimating),_refresh:function(){this._pendingRefresh||(this._loadId++,this._setState(C.LoadingState.loading),this._pendingRefresh=!0,p.schedule(this._refreshImpl.bind(this),p.Priority.high))},_refreshImpl:function(){if(!this._disposed){var a=n.wrap();if(this._pendingSections&&(this._animateEntrance=!0,this._fireEntrance=!this._visible,!this._fireEntrance&&(this._visible=!1,this._viewportElement.style.opacity=0,k.isAnimationEnabled()))){var b=this._fireEvent(C._EventName.contentAnimating,{type:C.AnimationType.contentTransition});b&&(this._viewportElement.style["-ms-overflow-style"]="none",a=j.fadeOut(this._viewportElement).then(function(){this._viewportElement.style["-ms-overflow-style"]=""}.bind(this))),this._animateEntrance=b}a.done(this._applyProperties.bind(this))}},_applyProperties:function(){if(!this._disposed){this._pendingRefresh=!1;var a=!1;this._pendingSections&&(a=!0,this._updateEvents(this._sections,this._pendingSections),this._sections&&this._sections.forEach(function(a){var b=a.element;b.parentElement.removeChild(b)}),this._sections=this._pendingSections,this._pendingSections=null),this._pendingHeaderTemplate&&(this._headerTemplate=this._pendingHeaderTemplate,this._pendingHeaderTemplate=null),this._assignHeaderTemplate(),a&&this._attachSections(),+this._pendingSectionOnScreen===this._pendingSectionOnScreen?this.sectionOnScreen=this._pendingSectionOnScreen:+this._pendingScrollLocation===this._pendingScrollLocation?this.scrollPosition=this._pendingScrollLocation:this.scrollPosition=0,this._pendingSectionOnScreen=null,this._pendingScrollLocation=null,this._setState(C.LoadingState.loading),this._loadSections()}},_handleSectionChanged:function(a){if(!this._pendingSections){var b=a.detail.newValue,c=a.detail.oldValue;if(b._setHeaderTemplate(this.headerTemplate),b.element!==c.element){if(b.element.parentNode===this._surfaceElement)throw new d("WinJS.UI.Hub.DuplicateSection",E.duplicateSection);this._surfaceElement.insertBefore(b.element,c.element),this._surfaceElement.removeChild(c.element),this._measured=!1,this._setState(C.LoadingState.loading),this._loadSections()}}},_handleSectionInserted:function(a){if(!this._pendingSections){var b=a.detail.index,c=a.detail.value;c._animation&&c._animation.cancel();var e,f=this._fireEvent(C._EventName.contentAnimating,{type:C.AnimationType.insert,index:b,section:c});if(f){for(var g=[],h=b+1;h<this.sections.length;h++)g.push(this.sections.getAt(h).element);e=new j._createUpdateListAnimation([c.element],[],g)}if(c.element.parentNode===this._surfaceElement)throw new d("WinJS.UI.Hub.DuplicateSection",E.duplicateSection);if(c._setHeaderTemplate(this.headerTemplate),b<this.sections.length-1?this._surfaceElement.insertBefore(c.element,this.sections.getAt(b+1).element):this._surfaceElement.appendChild(c.element),
this._measured=!1,e){var i=e.execute();this.runningAnimations=n.join([this.runningAnimations,i])}this._setState(C.LoadingState.loading),this._loadSections()}},_handleSectionMoved:function(a){if(!this._pendingSections){var b=a.detail.newIndex,c=a.detail.value;b<this.sections.length-1?this._surfaceElement.insertBefore(c.element,this.sections.getAt(b+1).element):this._surfaceElement.appendChild(c.element),this._measured=!1,this._setState(C.LoadingState.loading),this._loadSections()}},_handleSectionRemoved:function(a){if(!this._pendingSections){var b=a.detail.value,c=a.detail.index,d=n.wrap(),e=this._fireEvent(C._EventName.contentAnimating,{type:C.AnimationType.remove,index:c,section:b});if(e){for(var f=[],g=c;g<this.sections.length;g++)f.push(this.sections.getAt(g).element);var h=new j._createUpdateListAnimation([],[b.element],f);this._measure();var i=b.element.offsetTop,k=b.element.offsetLeft;b.element.style.position="absolute",b.element.style.top=i,b.element.style.left=k,b.element.style.opacity=0,this._measured=!1,d=h.execute().then(function(){b.element.style.position="",b.element.style.top="",b.element.style.left="",b.element.style.opacity=1}.bind(this))}d.done(function(){this._disposed||(this._surfaceElement.removeChild(b.element),this._measured=!1)}.bind(this)),b._animation=d,this.runningAnimations=n.join([this.runningAnimations,d]),this._setState(C.LoadingState.loading),this._loadSections()}},_handleSectionReload:function(){this.sections=this.sections},_updateEvents:function(a,b){a&&(a.removeEventListener("itemchanged",this._handleSectionChangedBind),a.removeEventListener("iteminserted",this._handleSectionInsertedBind),a.removeEventListener("itemmoved",this._handleSectionMovedBind),a.removeEventListener("itemremoved",this._handleSectionRemovedBind),a.removeEventListener("reload",this._handleSectionReloadBind)),b&&(b.addEventListener("itemchanged",this._handleSectionChangedBind),b.addEventListener("iteminserted",this._handleSectionInsertedBind),b.addEventListener("itemmoved",this._handleSectionMovedBind),b.addEventListener("itemremoved",this._handleSectionRemovedBind),b.addEventListener("reload",this._handleSectionReloadBind))},_attachSections:function(){this._measured=!1;for(var a=0;a<this.sections.length;a++){var b=this._sections.getAt(a);if(b._animation&&b._animation.cancel(),b.element.parentNode===this._surfaceElement)throw new d("WinJS.UI.Hub.DuplicateSection",E.duplicateSection);this._surfaceElement.appendChild(b.element)}},_assignHeaderTemplate:function(){this._measured=!1;for(var a=0;a<this.sections.length;a++){var b=this._sections.getAt(a);b._setHeaderTemplate(this.headerTemplate)}},_loadSection:function(a){var b=this._sections.getAt(a);return b._process().then(function(){var a=b.contentElement.style;""!==a.visibility&&(a.visibility="")})},_loadSections:function(){function b(a){a.then(function(){p.schedule(c,p.Priority.idle)})}function c(){if(d===e._loadId&&!e._disposed)if(g.length){var a=g.shift(),c=e._loadSection(a);b(c)}else i.complete()}this._loadId++;var d=this._loadId,e=this,f=n.wrap(),g=[],h=n.wrap();if(this._showProgressPromise||(this._showProgressPromise=n.timeout(y).then(function(){this._disposed||(this._progressBar||(this._progressBar=a.document.createElement("progress"),r.addClass(this._progressBar,C._ClassName.hubProgress),this._progressBar.max=100),this._progressBar.parentNode||this.element.insertBefore(this._progressBar,this._viewportElement),this._showProgressPromise=null)}.bind(this),function(){this._showProgressPromise=null}.bind(this))),this.sections.length){var i=new o;h=i.promise;for(var l=[],m=Math.max(0,this.indexOfFirstVisible),q=Math.max(0,this.indexOfLastVisible),s=m;q>=s;s++)l.push(this._loadSection(s));for(m--,q++;m>=0||q<this.sections.length;)q<this.sections.length&&(g.push(q),q++),m>=0&&(g.push(m),m--);var t=n.join(l);t.done(function(){d!==this._loadId||e._disposed||(this._showProgressPromise&&this._showProgressPromise.cancel(),this._progressBar&&this._progressBar.parentNode&&this._progressBar.parentNode.removeChild(this._progressBar),p.schedule(function(){if(d===this._loadId&&!e._disposed&&!this._visible){if(this._visible=!0,this._viewportElement.style.opacity=1,this._animateEntrance&&k.isAnimationEnabled()){var b={type:C.AnimationType.entrance};this._fireEntrance&&!this._fireEvent(C._EventName.contentAnimating,b)||(this._viewportElement.style["-ms-overflow-style"]="none",f=j.enterContent(this._viewportElement).then(function(){this._viewportElement.style["-ms-overflow-style"]="",this._viewportElement.onmousewheel=function(){}}.bind(this)))}this._element===a.document.activeElement&&this._moveFocusIn(this.sectionOnScreen)}},p.Priority.high,this,"WinJS.UI.Hub.entranceAnimation"))}.bind(this)),b(t)}else this._showProgressPromise&&this._showProgressPromise.cancel(),this._progressBar&&this._progressBar.parentNode&&this._progressBar.parentNode.removeChild(this._progressBar);n.join([this.runningAnimations,f,h]).done(function(){d!==this._loadId||e._disposed||(this.runningAnimations=n.wrap(),this._measured&&this._scrollLength!==this._viewportElement[this._names.scrollSize]&&(this._measured=!1),this._setState(C.LoadingState.complete),p.schedule(this._updateSnapList.bind(this),p.Priority.idle))}.bind(this))},loadingState:{get:function(){return this._loadingState}},_setState:function(b){if(b!==this._loadingState){this._writeProfilerMark("loadingStateChanged:"+b+",info"),this._loadingState=b;var c=a.document.createEvent("CustomEvent");c.initCustomEvent(C._EventName.loadingStateChanged,!0,!1,{loadingState:b}),this._element.dispatchEvent(c)}},_parse:function(){for(var a=[],b=this.element.firstElementChild;b;){m.processAll(b);var c=b.winControl;if(!c)throw new d("WinJS.UI.Hub.InvalidContent",E.invalidContent);a.push(c);var e=b.nextElementSibling;b.parentElement.removeChild(b),b=e}this.sections=new l.List(a)},_fireEvent:function(b,c){var d=a.document.createEvent("CustomEvent");return d.initCustomEvent(b,!0,!0,c),this.element.dispatchEvent(d)},_findHeaderTabStop:function(a){if(a.parentNode&&r._matchesSelector(a,".win-hub-section-header-tabstop, .win-hub-section-header-tabstop *")){for(;!r.hasClass(a,"win-hub-section-header-tabstop");)a=a.parentElement;return a}return null},_isInteractive:function(b){for(;b&&b!==a.document.body;){if(r.hasClass(b,"win-interactive"))return!0;b=b.parentElement}return!1},_clickHandler:function(a){var b=this._findHeaderTabStop(a.target);if(b&&!this._isInteractive(a.target)){var c=b.parentElement.parentElement.winControl;if(!c.isHeaderStatic){var d=this.sections.indexOf(c);this._fireEvent(C._EventName.headerInvoked,{index:d,section:c})}}},_resizeHandler:function(){this._measured=!1,p.schedule(this._updateSnapList.bind(this),p.Priority.idle)},_scrollHandler:function(){this._measured=!1,this._pendingSections||(this._pendingScrollLocation=null,this._pendingSectionOnScreen=null,this._pendingScrollHandler||(this._pendingScrollHandler=c._requestAnimationFrame(function(){this._pendingScrollHandler=null,this._pendingSections||this.loadingState!==C.LoadingState.complete&&this._loadSections()}.bind(this))))},_measure:function(){if(!this._measured||0===this._scrollLength){this._writeProfilerMark("measure,StartTM"),this._measured=!0,this._rtl="rtl"===r._getComputedStyle(this._element,null).direction,this.orientation===t.Orientation.vertical?this._names=z:this._rtl?this._names=A:this._names=B,this._viewportSize=this._viewportElement[this._names.offsetSize],this._viewportOppositeSize=this._viewportElement[this._names.oppositeOffsetSize],this._scrollPosition=r.getScrollPosition(this._viewportElement)[this._names.scrollPos],this._scrollLength=this._viewportElement[this._names.scrollSize];var a=r._getComputedStyle(this._surfaceElement);this._startSpacer=parseFloat(a[this._names.marginStart])+parseFloat(a[this._names.borderStart])+parseFloat(a[this._names.paddingStart]),this._endSpacer=parseFloat(a[this._names.marginEnd])+parseFloat(a[this._names.borderEnd])+parseFloat(a[this._names.paddingEnd]),this._sectionSizes=[];for(var b=0;b<this.sections.length;b++){var c=this.sections.getAt(b),d=r._getComputedStyle(c.element);this._sectionSizes[b]={offset:c.element[this._names.offsetPos],size:c.element[this._names.offsetSize],marginStart:parseFloat(d[this._names.marginStart]),marginEnd:parseFloat(d[this._names.marginEnd]),borderStart:parseFloat(d[this._names.borderStart]),borderEnd:parseFloat(d[this._names.borderEnd]),paddingStart:parseFloat(d[this._names.paddingStart]),paddingEnd:parseFloat(d[this._names.paddingEnd])},this._rtl&&this.orientation===t.Orientation.horizontal&&(this._sectionSizes[b].offset=this._viewportSize-(this._sectionSizes[b].offset+this._sectionSizes[b].size))}this._writeProfilerMark("measure,StopTM")}},_updateSnapList:function(){this._writeProfilerMark("updateSnapList,StartTM"),this._measure();for(var a="snapList(",b=0;b<this._sectionSizes.length;b++){b>0&&(a+=",");var c=this._sectionSizes[b];a+=c.offset-c.marginStart-this._startSpacer+"px"}a+=")";var d="",e="";this.orientation===t.Orientation.vertical?d=a:e=a,this._lastSnapPointY!==d&&(this._lastSnapPointY=d,this._viewportElement.style["-ms-scroll-snap-points-y"]=d),this._lastSnapPointX!==e&&(this._lastSnapPointX=e,this._viewportElement.style["-ms-scroll-snap-points-x"]=e),this._writeProfilerMark("updateSnapList,StopTM")},_scrollToSection:function(a,b){this._measure();var c=this._sectionSizes[a],d=Math.min(this._scrollLength-this._viewportSize,c.offset-c.marginStart-this._startSpacer);this._scrollTo(d,b)},_ensureVisible:function(a,b){this._measure();var c=this._ensureVisibleMath(a,this._scrollPosition);this._scrollTo(c,b)},_ensureVisibleMath:function(a,b){this._measure();var c=this._sectionSizes[a],d=Math.min(this._scrollLength-this._viewportSize,c.offset-c.marginStart-this._startSpacer),e=Math.max(0,c.offset+c.size+c.marginEnd+this._endSpacer-this._viewportSize+1);return b>d?b=d:e>b&&(b=Math.min(d,e)),b},_scrollTo:function(a,b){if(this._scrollPosition=a,b)this.orientation===t.Orientation.vertical?r._zoomTo(this._viewportElement,{contentX:0,contentY:this._scrollPosition,viewportX:0,viewportY:0}):r._zoomTo(this._viewportElement,{contentX:this._scrollPosition,contentY:0,viewportX:0,viewportY:0});else{var c={};c[this._names.scrollPos]=this._scrollPosition,r.setScrollPosition(this._viewportElement,c)}},_windowKeyDownHandler:function(a){if(a.keyCode===s.tab){this._tabSeenLast=!0;var b=this;c._yieldForEvents(function(){b._tabSeenLast=!1})}},_focusin:function(a){if(this._tabSeenLast){var b=this._findHeaderTabStop(a.target);if(b&&!this._isInteractive(a.target)){var c=this.sections.indexOf(b.parentElement.parentElement.winControl);c>-1&&this._ensureVisible(c,!0)}}for(var d=a.target;d&&!r.hasClass(d,v.HubSection._ClassName.hubSection);)d=d.parentElement;if(d){var c=this.sections.indexOf(d.winControl);c>-1&&(this._currentIndexForSezo=c)}if(a.target===this.element){var e;+this._sectionToFocus===this._sectionToFocus&&this._sectionToFocus>=0&&this._sectionToFocus<this.sections.length?(e=this._sectionToFocus,this._sectionToFocus=null):e=this.sectionOnScreen,this._moveFocusIn(e)}},_moveFocusIn:function(a){if(a>=0){for(var b=a;b<this.sections.length;b++){var c=this.sections.getAt(b),d=r._trySetActive(c._headerTabStopElement,this._viewportElement);if(d)return;if(r._setActiveFirstFocusableElement(c.contentElement,this._viewportElement))return}for(var b=a-1;b>=0;b--){var c=this.sections.getAt(b);if(r._setActiveFirstFocusableElement(c.contentElement,this._viewportElement))return;var d=r._trySetActive(c._headerTabStopElement,this._viewportElement);if(d)return}}},_keyDownHandler:function(a){if(!this._isInteractive(a.target)&&!r._hasCursorKeysBehaviors(a.target)){var b=this._rtl?s.rightArrow:s.leftArrow,c=this._rtl?s.leftArrow:s.rightArrow;if(a.keyCode===s.upArrow||a.keyCode===s.downArrow||a.keyCode===s.leftArrow||a.keyCode===s.rightArrow||a.keyCode===s.pageUp||a.keyCode===s.pageDown){var d=this._findHeaderTabStop(a.target);if(d){var e,f=this.sections.indexOf(d.parentElement.parentElement.winControl),g=!1;if(a.keyCode===s.pageDown||this.orientation===t.Orientation.horizontal&&a.keyCode===c||this.orientation===t.Orientation.vertical&&a.keyCode===s.downArrow){for(var h=f+1;h<this.sections.length;h++)if(this._tryFocus(h)){e=h;break}}else if(a.keyCode===s.pageUp||this.orientation===t.Orientation.horizontal&&a.keyCode===b||this.orientation===t.Orientation.vertical&&a.keyCode===s.upArrow)for(var h=f-1;h>=0;h--)if(this._tryFocus(h)){e=h;break}a.keyCode!==s.upArrow&&a.keyCode!==s.downArrow&&a.keyCode!==s.leftArrow&&a.keyCode!==s.rightArrow||(g=!0),+e===e&&(g?this._ensureVisible(e,!0):this._scrollToSection(e,!0),a.preventDefault())}}else if(a.keyCode===s.home||a.keyCode===s.end){this._measure();var i=Math.max(0,this._scrollLength-this._viewportSize);this._scrollTo(a.keyCode===s.home?0:i,!0),a.preventDefault()}}},_tryFocus:function(b){var c=this.sections.getAt(b);return r._setActive(c._headerTabStopElement,this._viewportElement),a.document.activeElement===c._headerTabStopElement},zoomableView:{get:function(){return this._zoomableView||(this._zoomableView=new D(this)),this._zoomableView}},_getPanAxis:function(){return this.orientation===t.Orientation.horizontal?"horizontal":"vertical"},_configureForZoom:function(){},_setCurrentItem:function(a,b){var c;c=this.orientation===t.Orientation.horizontal?a:b,this._measure(),c+=this._scrollPosition,this._currentIndexForSezo=this._sectionSizes.length-1;for(var d=1;d<this._sectionSizes.length;d++){var e=this._sectionSizes[d];if(e.offset-e.marginStart>c){this._currentIndexForSezo=d-1;break}}},_getCurrentItem:function(){var a;if(this._sectionSizes.length>0){this._measure();var b=Math.max(0,Math.min(this._currentIndexForSezo,this._sectionSizes.length)),c=this._sectionSizes[b];a=this.orientation===t.Orientation.horizontal?{left:Math.max(0,c.offset-c.marginStart-this._scrollPosition),top:0,width:c.size,height:this._viewportOppositeSize}:{left:0,top:Math.max(0,c.offset-c.marginStart-this._scrollPosition),width:this._viewportOppositeSize,height:c.size};var d=this.sections.getAt(b);return n.wrap({item:{data:d,index:b,groupIndexHint:b},position:a})}},_beginZoom:function(){this._viewportElement.style["-ms-overflow-style"]="none"},_positionItem:function(a,b){if(a.index>=0&&a.index<this._sectionSizes.length){this._measure();var c,d=this._sectionSizes[a.index];c=this.orientation===t.Orientation.horizontal?b.left:b.top,this._sectionToFocus=a.index;var e=d.offset-c,e=this._ensureVisibleMath(a.index,e);this._scrollPosition=e;var f={};f[this._names.scrollPos]=this._scrollPosition,r.setScrollPosition(this._viewportElement,f)}},_endZoom:function(){this._viewportElement.style["-ms-overflow-style"]=""},_writeProfilerMark:function(a){var b="WinJS.UI.Hub:"+this._id+":"+a;h(b),f.log&&f.log(b,null,"hubprofiler")},dispose:function(){if(!this._disposed){this._disposed=!0,a.removeEventListener("keydown",this._windowKeyDownHandlerBound),r._resizeNotifier.unsubscribe(this.element,this._resizeHandlerBound),this._elementResizeInstrument.dispose(),this._updateEvents(this._sections);for(var b=0;b<this.sections.length;b++)this.sections.getAt(b).dispose()}},forceLayout:function(){this._resizeHandler()}},{AnimationType:{entrance:"entrance",contentTransition:"contentTransition",insert:"insert",remove:"remove"},LoadingState:{loading:"loading",complete:"complete"},_ClassName:{hub:"win-hub",hubSurface:"win-hub-surface",hubProgress:"win-hub-progress",hubViewport:"win-hub-viewport",hubVertical:"win-hub-vertical",hubHorizontal:"win-hub-horizontal"},_EventName:{contentAnimating:x.contentAnimating,headerInvoked:x.headerInvoked,loadingStateChanged:x.loadingStateChanged}});b.Class.mix(C,q.DOMEventMixin);var D=b.Class.define(function(a){this._hub=a},{getPanAxis:function(){return this._hub._getPanAxis()},configureForZoom:function(a,b,c,d){this._hub._configureForZoom(a,b,c,d)},setCurrentItem:function(a,b){this._hub._setCurrentItem(a,b)},getCurrentItem:function(){return this._hub._getCurrentItem()},beginZoom:function(){this._hub._beginZoom()},positionItem:function(a,b){return this._hub._positionItem(a,b)},endZoom:function(a){this._hub._endZoom(a)}}),E={get duplicateConstruction(){return"Invalid argument: Controls may only be instantiated one time for each DOM element"},get duplicateSection(){return"Hub duplicate sections: Each HubSection must be unique"},get invalidContent(){return"Invalid content: Hub content must be made up of HubSections."},get hubViewportAriaLabel(){return g._getWinJSString("ui/hubViewportAriaLabel").value}};return C})})}),d("require-style!less/styles-lightdismissservice",[],function(){});var e=this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);c.prototype=b.prototype,a.prototype=new c};d("WinJS/_LightDismissService",["require","exports","./Application","./Core/_Base","./Core/_BaseUtils","./Utilities/_ElementUtilities","./Core/_Global","./Utilities/_KeyboardBehavior","./Core/_Log","./Core/_Resources"],function(a,b,c,d,f,g,h,i,j,k){a(["require-style!less/styles-lightdismissservice"]);var l=1e3,m={get closeOverlay(){return k._getWinJSString("ui/closeOverlay").value}};b._ClassNames={_clickEater:"win-clickeater"};b.LightDismissalReasons={tap:"tap",lostFocus:"lostFocus",escape:"escape",hardwareBackButton:"hardwareBackButton",windowResize:"windowResize",windowBlur:"windowBlur"},b.DismissalPolicies={light:function(a){switch(a.reason){case b.LightDismissalReasons.tap:case b.LightDismissalReasons.escape:return a.active?!0:(a.stopPropagation(),!1);case b.LightDismissalReasons.hardwareBackButton:return a.active?(a.preventDefault(),!0):(a.stopPropagation(),!1);case b.LightDismissalReasons.lostFocus:case b.LightDismissalReasons.windowResize:case b.LightDismissalReasons.windowBlur:return!0}},modal:function(a){switch(a.stopPropagation(),a.reason){case b.LightDismissalReasons.tap:case b.LightDismissalReasons.lostFocus:case b.LightDismissalReasons.windowResize:case b.LightDismissalReasons.windowBlur:return!1;case b.LightDismissalReasons.escape:return a.active;case b.LightDismissalReasons.hardwareBackButton:return a.preventDefault(),a.active}},sticky:function(a){return a.stopPropagation(),!1}};var n={keyDown:"keyDown",keyUp:"keyUp",keyPress:"keyPress"},o=function(){function a(a){this.element=a.element,this.element.tabIndex=a.tabIndex,this.onLightDismiss=a.onLightDismiss,a.onTakeFocus&&(this.onTakeFocus=a.onTakeFocus),a.onShouldLightDismiss&&(this.onShouldLightDismiss=a.onShouldLightDismiss),this._ldeOnKeyDownBound=this._ldeOnKeyDown.bind(this),this._ldeOnKeyUpBound=this._ldeOnKeyUp.bind(this),this._ldeOnKeyPressBound=this._ldeOnKeyPress.bind(this)}return a.prototype.restoreFocus=function(){var a=h.document.activeElement;if(a&&this.containsElement(a))return this._ldeCurrentFocus=a,!0;var b=!i._keyboardSeenLast;return this._ldeCurrentFocus&&this.containsElement(this._ldeCurrentFocus)&&g._tryFocusOnAnyElement(this._ldeCurrentFocus,b)},a.prototype._ldeOnKeyDown=function(a){this._ldeService.keyDown(this,a)},a.prototype._ldeOnKeyUp=function(a){this._ldeService.keyUp(this,a)},a.prototype._ldeOnKeyPress=function(a){this._ldeService.keyPress(this,a)},a.prototype.setZIndex=function(a){this.element.style.zIndex=a},a.prototype.getZIndexCount=function(){return 1},a.prototype.containsElement=function(a){return this.element.contains(a)},a.prototype.onTakeFocus=function(a){this.restoreFocus()||g._focusFirstFocusableElement(this.element,a)||g._tryFocusOnAnyElement(this.element,a)},a.prototype.onFocus=function(a){this._ldeCurrentFocus=a},a.prototype.onShow=function(a){this._ldeService=a,this.element.addEventListener("keydown",this._ldeOnKeyDownBound),this.element.addEventListener("keyup",this._ldeOnKeyUpBound),this.element.addEventListener("keypress",this._ldeOnKeyPressBound)},a.prototype.onHide=function(){this._ldeCurrentFocus=null,this._ldeService=null,this.element.removeEventListener("keydown",this._ldeOnKeyDownBound),this.element.removeEventListener("keyup",this._ldeOnKeyUpBound),this.element.removeEventListener("keypress",this._ldeOnKeyPressBound)},a.prototype.onKeyInStack=function(a){},a.prototype.onShouldLightDismiss=function(a){return!1},a.prototype.onLightDismiss=function(a){},a}(),p=function(a){function c(){a.apply(this,arguments)}return e(c,a),c.prototype.onKeyInStack=function(a){},c.prototype.onShouldLightDismiss=function(a){return b.DismissalPolicies.light(a)},c}(o);b.LightDismissableElement=p;var q=function(a){function c(){a.apply(this,arguments)}return e(c,a),c.prototype.onKeyInStack=function(a){a.stopPropagation()},c.prototype.onShouldLightDismiss=function(a){return b.DismissalPolicies.modal(a)},c}(o);b.ModalElement=q;var r=function(){function a(){}return a.prototype.setZIndex=function(a){},a.prototype.getZIndexCount=function(){return 1},a.prototype.containsElement=function(a){return h.document.body.contains(a)},a.prototype.onTakeFocus=function(a){this.currentFocus&&this.containsElement(this.currentFocus)&&g._tryFocusOnAnyElement(this.currentFocus,a)},a.prototype.onFocus=function(a){this.currentFocus=a},a.prototype.onShow=function(a){},a.prototype.onHide=function(){this.currentFocus=null},a.prototype.onKeyInStack=function(a){},a.prototype.onShouldLightDismiss=function(a){return!1},a.prototype.onLightDismiss=function(a){},a}(),s=function(){function a(){this._debug=!1,this._clients=[],this._notifying=!1,this._bodyClient=new r,this._updateDom_rendered={serviceActive:!1},this._clickEaterEl=this._createClickEater(),this._onBeforeRequestingFocusOnKeyboardInputBound=this._onBeforeRequestingFocusOnKeyboardInput.bind(this),this._onFocusInBound=this._onFocusIn.bind(this),this._onKeyDownBound=this._onKeyDown.bind(this),this._onWindowResizeBound=this._onWindowResize.bind(this),this._onClickEaterPointerUpBound=this._onClickEaterPointerUp.bind(this),this._onClickEaterPointerCancelBound=this._onClickEaterPointerCancel.bind(this),c.addEventListener("backclick",this._onBackClick.bind(this)),h.window.addEventListener("blur",this._onWindowBlur.bind(this)),this.shown(this._bodyClient)}return a.prototype.shown=function(a){var b=this._clients.indexOf(a);-1===b&&(this._clients.push(a),a.onShow(this),this._updateDom())},a.prototype.hidden=function(a){var b=this._clients.indexOf(a);-1!==b&&(this._clients.splice(b,1),a.setZIndex(""),a.onHide(),this._updateDom())},a.prototype.updated=function(a){this._updateDom()},a.prototype.keyDown=function(a,b){b.keyCode===g.Key.escape?this._escapePressed(b):this._dispatchKeyboardEvent(a,n.keyDown,b)},a.prototype.keyUp=function(a,b){this._dispatchKeyboardEvent(a,n.keyUp,b)},a.prototype.keyPress=function(a,b){this._dispatchKeyboardEvent(a,n.keyPress,b)},a.prototype.isShown=function(a){return-1!==this._clients.indexOf(a)},a.prototype.isTopmost=function(a){return a===this._clients[this._clients.length-1]},a.prototype._setDebug=function(a){this._debug=a},a.prototype._updateDom=function(a){a=a||{};var b=!!a.activeDismissableNeedsFocus,d=this._updateDom_rendered;if(!this._notifying){var e=this._clients.length>1;if(e!==d.serviceActive){if(e)c.addEventListener("beforerequestingfocusonkeyboardinput",this._onBeforeRequestingFocusOnKeyboardInputBound),g._addEventListener(h.document.documentElement,"focusin",this._onFocusInBound),h.document.documentElement.addEventListener("keydown",this._onKeyDownBound),h.window.addEventListener("resize",this._onWindowResizeBound),this._bodyClient.currentFocus=h.document.activeElement,h.document.body.appendChild(this._clickEaterEl);else{c.removeEventListener("beforerequestingfocusonkeyboardinput",this._onBeforeRequestingFocusOnKeyboardInputBound),g._removeEventListener(h.document.documentElement,"focusin",this._onFocusInBound),h.document.documentElement.removeEventListener("keydown",this._onKeyDownBound),h.window.removeEventListener("resize",this._onWindowResizeBound);var f=this._clickEaterEl.parentNode;f&&f.removeChild(this._clickEaterEl)}d.serviceActive=e}var j=0,k=l+1;this._clients.forEach(function(a,b){var c=k+j;a.setZIndex(""+c),k=c,j=a.getZIndexCount()+1}),e&&(this._clickEaterEl.style.zIndex=""+(k-1));var m=this._clients.length>0?this._clients[this._clients.length-1]:null;if(this._activeDismissable!==m&&(this._activeDismissable=m,b=!0),b){var n=!i._keyboardSeenLast;this._activeDismissable&&this._activeDismissable.onTakeFocus(n)}}},a.prototype._dispatchKeyboardEvent=function(a,b,c){var d=this._clients.indexOf(a);if(-1!==d)for(var e={type:b,keyCode:c.keyCode,propagationStopped:!1,stopPropagation:function(){this.propagationStopped=!0,c.stopPropagation()}},f=this._clients.slice(0,d+1),g=f.length-1;g>=0&&!e.propagationStopped;g--)f[g].onKeyInStack(e)},a.prototype._dispatchLightDismiss=function(a,b,c){if(this._notifying)return void(j.log&&j.log('_LightDismissService ignored dismiss trigger to avoid re-entrancy: "'+a+'"',"winjs _LightDismissService","warning"));if(b=b||this._clients.slice(0),0!==b.length){this._notifying=!0;for(var d={reason:a,active:!1,_stop:!1,stopPropagation:function(){this._stop=!0},_doDefault:!0,preventDefault:function(){this._doDefault=!1}},e=b.length-1;e>=0&&!d._stop;e--)d.active=this._activeDismissable===b[e],b[e].onShouldLightDismiss(d)&&b[e].onLightDismiss(d);return this._notifying=!1,this._updateDom(c),d._doDefault}},a.prototype._onBeforeRequestingFocusOnKeyboardInput=function(a){return!0},a.prototype._clickEaterTapped=function(){this._dispatchLightDismiss(b.LightDismissalReasons.tap)},a.prototype._onFocusIn=function(a){for(var c=a.target,d=this._clients.length-1;d>=0&&!this._clients[d].containsElement(c);d--);-1!==d&&this._clients[d].onFocus(c),d+1<this._clients.length&&this._dispatchLightDismiss(b.LightDismissalReasons.lostFocus,this._clients.slice(d+1),{activeDismissableNeedsFocus:!0})},a.prototype._onKeyDown=function(a){a.keyCode===g.Key.escape&&this._escapePressed(a)},a.prototype._escapePressed=function(a){a.preventDefault(),a.stopPropagation(),this._dispatchLightDismiss(b.LightDismissalReasons.escape)},a.prototype._onBackClick=function(a){var c=this._dispatchLightDismiss(b.LightDismissalReasons.hardwareBackButton);return!c},a.prototype._onWindowResize=function(a){this._dispatchLightDismiss(b.LightDismissalReasons.windowResize)},a.prototype._onWindowBlur=function(a){if(!this._debug)if(h.document.hasFocus()){var c=h.document.activeElement;c&&"IFRAME"===c.tagName&&!c.msLightDismissBlur&&(c.addEventListener("blur",this._onWindowBlur.bind(this),!1),c.msLightDismissBlur=!0)}else this._dispatchLightDismiss(b.LightDismissalReasons.windowBlur)},a.prototype._createClickEater=function(){var a=h.document.createElement("section");return a.className=b._ClassNames._clickEater,g._addEventListener(a,"pointerdown",this._onClickEaterPointerDown.bind(this),!0),a.addEventListener("click",this._onClickEaterClick.bind(this),!0),a.setAttribute("role","menuitem"),a.setAttribute("aria-label",m.closeOverlay),a.setAttribute("unselectable","on"),a},a.prototype._onClickEaterPointerDown=function(a){a.stopPropagation(),a.preventDefault(),this._clickEaterPointerId=a.pointerId,this._registeredClickEaterCleanUp||(g._addEventListener(h.window,"pointerup",this._onClickEaterPointerUpBound),g._addEventListener(h.window,"pointercancel",this._onClickEaterPointerCancelBound),this._registeredClickEaterCleanUp=!0)},a.prototype._onClickEaterPointerUp=function(a){var b=this;if(a.stopPropagation(),a.preventDefault(),a.pointerId===this._clickEaterPointerId){this._resetClickEaterPointerState();var c=h.document.elementFromPoint(a.clientX,a.clientY);c===this._clickEaterEl&&(this._skipClickEaterClick=!0,f._yieldForEvents(function(){b._skipClickEaterClick=!1}),this._clickEaterTapped())}},a.prototype._onClickEaterClick=function(a){a.stopPropagation(),a.preventDefault(),this._skipClickEaterClick||this._clickEaterTapped()},a.prototype._onClickEaterPointerCancel=function(a){a.pointerId===this._clickEaterPointerId&&this._resetClickEaterPointerState()},a.prototype._resetClickEaterPointerState=function(){this._registeredClickEaterCleanUp&&(g._removeEventListener(h.window,"pointerup",this._onClickEaterPointerUpBound),g._removeEventListener(h.window,"pointercancel",this._onClickEaterPointerCancelBound)),this._clickEaterPointerId=null,this._registeredClickEaterCleanUp=!1},a}(),t=new s;b.shown=t.shown.bind(t),b.hidden=t.hidden.bind(t),b.updated=t.updated.bind(t),b.isShown=t.isShown.bind(t),b.isTopmost=t.isTopmost.bind(t),b.keyDown=t.keyDown.bind(t),b.keyUp=t.keyUp.bind(t),b.keyPress=t.keyPress.bind(t),b._clickEaterTapped=t._clickEaterTapped.bind(t),b._onBackClick=t._onBackClick.bind(t),b._setDebug=t._setDebug.bind(t),d.Namespace.define("WinJS.UI._LightDismissService",{shown:b.shown,hidden:b.hidden,updated:b.updated,isShown:b.isShown,isTopmost:b.isTopmost,keyDown:b.keyDown,keyUp:b.keyUp,keyPress:b.keyPress,_clickEaterTapped:b._clickEaterTapped,_onBackClick:b._onBackClick,_setDebug:b._setDebug,LightDismissableElement:p,DismissalPolicies:b.DismissalPolicies,LightDismissalReasons:b.LightDismissalReasons,_ClassNames:b._ClassNames,_service:t})}),d("WinJS/Controls/_LegacyAppBar/_Constants",["exports","../../Core/_Base"],function(a,b){"use strict";b.Namespace._moduleDefine(a,null,{appBarClass:"win-navbar",firstDivClass:"win-firstdiv",finalDivClass:"win-finaldiv",invokeButtonClass:"win-navbar-invokebutton",ellipsisClass:"win-navbar-ellipsis",primaryCommandsClass:"win-primarygroup",secondaryCommandsClass:"win-secondarygroup",commandLayoutClass:"win-commandlayout",menuLayoutClass:"win-menulayout",topClass:"win-top",bottomClass:"win-bottom",showingClass:"win-navbar-opening",shownClass:"win-navbar-opened",hidingClass:"win-navbar-closing",hiddenClass:"win-navbar-closed",compactClass:"win-navbar-compact",minimalClass:"win-navbar-minimal",menuContainerClass:"win-navbar-menu",appBarPlacementTop:"top",appBarPlacementBottom:"bottom",appBarLayoutCustom:"custom",appBarLayoutCommands:"commands",appBarLayoutMenu:"menu",appBarInvokeButtonWidth:32,typeSeparator:"separator",typeContent:"content",typeButton:"button",typeToggle:"toggle",typeFlyout:"flyout",appBarCommandClass:"win-command",appBarCommandGlobalClass:"win-global",appBarCommandSelectionClass:"win-selection",commandHiddenClass:"win-command-hidden",sectionSelection:"selection",sectionGlobal:"global",sectionPrimary:"primary",sectionSecondary:"secondary",menuCommandClass:"win-command",menuCommandButtonClass:"win-command-button",menuCommandToggleClass:"win-command-toggle",menuCommandFlyoutClass:"win-command-flyout",menuCommandFlyoutActivatedClass:"win-command-flyout-activated",menuCommandSeparatorClass:"win-command-separator",_menuCommandInvokedEvent:"_invoked",menuClass:"win-menu",menuContainsToggleCommandClass:"win-menu-containstogglecommand",menuContainsFlyoutCommandClass:"win-menu-containsflyoutcommand",menuMouseSpacingClass:"win-menu-mousespacing",menuTouchSpacingClass:"win-menu-touchspacing",menuCommandHoverDelay:400,overlayClass:"win-overlay",flyoutClass:"win-flyout",flyoutLightClass:"win-ui-light",settingsFlyoutClass:"win-settingsflyout",scrollsClass:"win-scrolls",pinToRightEdge:-1,pinToBottomEdge:-1,separatorWidth:34,buttonWidth:68,narrowClass:"win-narrow",wideClass:"win-wide",_visualViewportClass:"win-visualviewport-space",commandPropertyMutated:"_commandpropertymutated",commandVisibilityChanged:"commandvisibilitychanged"})}),d("WinJS/Utilities/_KeyboardInfo",["require","exports","../Core/_BaseCoreUtils","../Core/_Global","../Core/_WinRT"],function(a,b,c,d,e){"use strict";var f={visualViewportClass:"win-visualviewport-space",scrollTimeout:150};b._KeyboardInfo,b._KeyboardInfo={get _visible(){try{return e.Windows.UI.ViewManagement.InputPane&&e.Windows.UI.ViewManagement.InputPane.getForCurrentView().occludedRect.height>0}catch(a){return!1}},get _extraOccluded(){var a=0;return!b._KeyboardInfo._isResized&&e.Windows.UI.ViewManagement.InputPane&&(a=e.Windows.UI.ViewManagement.InputPane.getForCurrentView().occludedRect.height),a},get _isResized(){var a=d.document.documentElement.clientHeight/d.innerHeight,b=d.document.documentElement.clientWidth/d.innerWidth;return.99>b/a},get _visibleDocBottom(){return b._KeyboardInfo._visibleDocTop+b._KeyboardInfo._visibleDocHeight;
},get _visibleDocHeight(){return b._KeyboardInfo._visualViewportHeight-b._KeyboardInfo._extraOccluded},get _visibleDocTop(){return 0},get _visibleDocBottomOffset(){return b._KeyboardInfo._extraOccluded},get _visualViewportHeight(){var a=b._KeyboardInfo._visualViewportSpace;return a.height},get _visualViewportWidth(){var a=b._KeyboardInfo._visualViewportSpace;return a.width},get _visualViewportSpace(){var a=d.document.body.querySelector("."+f.visualViewportClass);return a||(a=d.document.createElement("DIV"),a.className=f.visualViewportClass,d.document.body.appendChild(a)),a.getBoundingClientRect()},get _animationShowLength(){if(c.hasWinRT){if(e.Windows.UI.Core.AnimationMetrics){for(var a=e.Windows.UI.Core.AnimationMetrics,b=new a.AnimationDescription(a.AnimationEffect.showPanel,a.AnimationEffectTarget.primary),d=b.animations,f=0,g=0;g<d.size;g++){var h=d[g];f=Math.max(f,h.delay+h.duration)}return f}var i=300,j=50;return j+i}return 0},get _scrollTimeout(){return f.scrollTimeout},get _layoutViewportCoords(){var a=d.window.pageYOffset-d.document.documentElement.scrollTop,b=d.document.documentElement.clientHeight-(a+this._visibleDocHeight);return{visibleDocTop:a,visibleDocBottom:b}}}}),d("require-style!less/styles-overlay",[],function(){}),d("require-style!less/colors-overlay",[],function(){}),d("WinJS/Controls/Flyout/_Overlay",["exports","../../Core/_Global","../../Core/_WinRT","../../Core/_Base","../../Core/_BaseUtils","../../Core/_ErrorFromName","../../Core/_Events","../../Core/_Resources","../../Core/_WriteProfilerMark","../../_Accents","../../Animations","../../Application","../../ControlProcessor","../../Promise","../../Scheduler","../../Utilities/_Control","../../Utilities/_ElementUtilities","../../Utilities/_KeyboardInfo","../_LegacyAppBar/_Constants","require-style!less/styles-overlay","require-style!less/colors-overlay"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){"use strict";j.createAccentRule("button[aria-checked=true].win-command:before,         .win-menu-containsflyoutcommand button.win-command-flyout-activated:before",[{name:"background-color",value:j.ColorTypes.accent},{name:"border-color",value:j.ColorTypes.accent}]),j.createAccentRule(".win-flyout, .win-settingsflyout",[{name:"border-color",value:j.ColorTypes.accent}]),d.Namespace._moduleDefine(a,"WinJS.UI",{_Overlay:d.Namespace._lazy(function(){function a(a,c,d){var e=b.document.querySelectorAll("."+s.overlayClass);if(e)for(var f=e.length,g=0;f>g;g++){var h=e[g],i=h.winControl;if(!i._disposed&&i){var j=i[c](a);if(d&&j)return j}}}function e(a){if(!a)return[];"string"!=typeof a&&a&&a.length||(a=[a]);var c,d=[];for(c=0;c<a.length;c++)if(a[c])if("string"==typeof a[c]){var e=b.document.getElementById(a[c]);e&&d.push(e)}else a[c].element?d.push(a[c].element):d.push(a[c]);return d}var g=d.Class.define(function(){this._currentState=g.states.off,this._inputPaneShowing=this._inputPaneShowing.bind(this),this._inputPaneHiding=this._inputPaneHiding.bind(this),this._documentScroll=this._documentScroll.bind(this),this._windowResized=this._windowResized.bind(this)},{initialize:function(){this._toggleListeners(g.states.on)},reset:function(){this._toggleListeners(g.states.off),this._toggleListeners(g.states.on)},_inputPaneShowing:function(b){i(g.profilerString+"_showingKeyboard,StartTM"),a(b,"_showingKeyboard"),i(g.profilerString+"_showingKeyboard,StopTM")},_inputPaneHiding:function(b){i(g.profilerString+"_hidingKeyboard,StartTM"),a(b,"_hidingKeyboard"),i(g.profilerString+"_hidingKeyboard,StopTM")},_documentScroll:function(b){i(g.profilerString+"_checkScrollPosition,StartTM"),a(b,"_checkScrollPosition"),i(g.profilerString+"_checkScrollPosition,StopTM")},_windowResized:function(b){i(g.profilerString+"_baseResize,StartTM"),a(b,"_baseResize"),i(g.profilerString+"_baseResize,StopTM")},_toggleListeners:function(a){var d;if(this._currentState!==a){if(a===g.states.on?d="addEventListener":a===g.states.off&&(d="removeEventListener"),c.Windows.UI.ViewManagement.InputPane){var e=c.Windows.UI.ViewManagement.InputPane.getForCurrentView();e[d]("showing",this._inputPaneShowing,!1),e[d]("hiding",this._inputPaneHiding,!1),b.document[d]("scroll",this._documentScroll,!1)}b.addEventListener("resize",this._windowResized,!1),this._currentState=a}}},{profilerString:{get:function(){return"WinJS.UI._Overlay Global Listener:"}},states:{get:function(){return{off:0,on:1}}}}),j={get duplicateConstruction(){return"Invalid argument: Controls may only be instantiated one time for each DOM element"},get mustContainCommands(){return"Invalid HTML: AppBars/Menus must contain only AppBarCommands/MenuCommands"},get closeOverlay(){return h._getWinJSString("ui/closeOverlay").value}},l=d.Class.define(function(a,b){this._baseOverlayConstructor(a,b)},{_baseOverlayConstructor:function(a,c){this._disposed=!1,a||(a=b.document.createElement("div"));var d=a.winControl;if(d)throw new f("WinJS.UI._Overlay.DuplicateConstruction",j.duplicateConstruction);this._element||(this._element=a),this._element.hasAttribute("tabIndex")||(this._element.tabIndex=-1),this._sticky=!1,this._doNext="",this._element.style.visibility="hidden",this._element.style.opacity=0,a.winControl=this,q.addClass(this._element,s.overlayClass),q.addClass(this._element,"win-disposable");var e=this._element.getAttribute("unselectable");null!==e&&void 0!==e||this._element.setAttribute("unselectable","on"),this._currentAnimateIn=this._baseAnimateIn,this._currentAnimateOut=this._baseAnimateOut,this._animationPromise=n.as(),this._queuedToShow=[],this._queuedToHide=[],this._queuedCommandAnimation=!1,c&&p.setOptions(this,c),l._globalEventListeners.initialize()},element:{get:function(){return this._element}},dispose:function(){this._disposed||(this._disposed=!0,this._dispose())},_dispose:function(){},_show:function(){this._baseShow()},_hide:function(){this._baseHide()},hidden:{get:function(){return"hidden"===this._element.style.visibility||"hiding"===this._element.winAnimating||"hide"===this._doNext},set:function(a){var b=this.hidden;!a&&b?this.show():a&&!b&&this.hide()}},addEventListener:function(a,b,c){return this._element.addEventListener(a,b,c)},removeEventListener:function(a,b,c){return this._element.removeEventListener(a,b,c)},_baseShow:function(){if(this._animating||this._needToHandleHidingKeyboard)return this._doNext="show",!1;if("visible"!==this._element.style.visibility){this._element.winAnimating="showing",this._element.style.display="",this._element.style.visibility="hidden",this._queuedCommandAnimation&&(this._showAndHideFast(this._queuedToShow,this._queuedToHide),this._queuedToShow=[],this._queuedToHide=[]),this._beforeShow(),this._sendEvent(l.beforeShow),this._ensurePosition();var a=this;return this._animationPromise=this._currentAnimateIn().then(function(){a._baseEndShow()},function(){a._baseEndShow()}),!0}return!1},_beforeShow:function(){},_ensurePosition:function(){},_baseEndShow:function(){this._disposed||(this._element.setAttribute("aria-hidden","false"),this._element.winAnimating="","show"===this._doNext&&(this._doNext=""),this._sendEvent(l.afterShow),this._writeProfilerMark("show,StopTM"),o.schedule(this._checkDoNext,o.Priority.normal,this,"WinJS.UI._Overlay._checkDoNext"))},_baseHide:function(){if(this._animating)return this._doNext="hide",!1;if(this._needToHandleHidingKeyboard&&(this._element.style.visibility=""),"hidden"!==this._element.style.visibility){if(this._element.winAnimating="hiding",this._element.setAttribute("aria-hidden","true"),this._sendEvent(l.beforeHide),""===this._element.style.visibility)this._element.style.opacity=0,this._baseEndHide();else{var a=this;this._animationPromise=this._currentAnimateOut().then(function(){a._baseEndHide()},function(){a._baseEndHide()})}return!0}return!1},_baseEndHide:function(){this._disposed||(this._beforeEndHide(),this._element.style.visibility="hidden",this._element.style.display="none",this._element.winAnimating="",this._queuedCommandAnimation&&(this._showAndHideFast(this._queuedToShow,this._queuedToHide),this._queuedToShow=[],this._queuedToHide=[]),"hide"===this._doNext&&(this._doNext=""),this._afterHide(),this._sendEvent(l.afterHide),this._writeProfilerMark("hide,StopTM"),o.schedule(this._checkDoNext,o.Priority.normal,this,"WinJS.UI._Overlay._checkDoNext"))},_beforeEndHide:function(){},_afterHide:function(){},_checkDoNext:function(){this._animating||this._needToHandleHidingKeyboard||this._disposed||("hide"===this._doNext?(this._hide(),this._doNext=""):this._queuedCommandAnimation?this._showAndHideQueue():"show"===this._doNext&&(this._show(),this._doNext=""))},_baseAnimateIn:function(){return this._element.style.opacity=0,this._element.style.visibility="visible",q._getComputedStyle(this._element,null).opacity,k.fadeIn(this._element)},_baseAnimateOut:function(){return this._element.style.opacity=1,q._getComputedStyle(this._element,null).opacity,k.fadeOut(this._element)},_animating:{get:function(){return!!this._element.winAnimating}},_sendEvent:function(a,c){if(!this._disposed){var d=b.document.createEvent("CustomEvent");d.initEvent(a,!0,!0,c||{}),this._element.dispatchEvent(d)}},_showCommands:function(a,b){var c=this._resolveCommands(a);this._showAndHideCommands(c.commands,[],b)},_hideCommands:function(a,b){var c=this._resolveCommands(a);this._showAndHideCommands([],c.commands,b)},_showOnlyCommands:function(a,b){var c=this._resolveCommands(a);this._showAndHideCommands(c.commands,c.others,b)},_showAndHideCommands:function(a,b,c){c||this.hidden&&!this._animating?(this._showAndHideFast(a,b),this._removeFromQueue(a,this._queuedToShow),this._removeFromQueue(b,this._queuedToHide)):(this._updateAnimateQueue(a,this._queuedToShow,this._queuedToHide),this._updateAnimateQueue(b,this._queuedToHide,this._queuedToShow))},_removeFromQueue:function(a,b){var c;for(c=0;c<a.length;c++){var d;for(d=0;d<b.length;d++)if(b[d]===a[c]){b.splice(d,1);break}}},_updateAnimateQueue:function(a,b,c){if(!this._disposed){var d;for(d=0;d<a.length;d++){var e;for(e=0;e<b.length&&b[e]!==a[d];e++);for(e===b.length&&(b[e]=a[d]),e=0;e<c.length;e++)if(c[e]===a[d]){c.splice(e,1);break}}this._queuedCommandAnimation||(this._animating||o.schedule(this._checkDoNext,o.Priority.normal,this,"WinJS.UI._Overlay._checkDoNext"),this._queuedCommandAnimation=!0)}},_showAndHideFast:function(a,b){var c,d;for(c=0;c<a.length;c++)d=a[c],d&&d.style&&(d.style.visibility="",d.style.display="");for(c=0;c<b.length;c++)d=b[c],d&&d.style&&(d.style.visibility="hidden",d.style.display="none");this._commandsUpdated()},_showAndHideQueue:function(){if(this._queuedCommandAnimation=!1,this.hidden)this._showAndHideFast(this._queuedToShow,this._queuedToHide),o.schedule(this._checkDoNext,o.Priority.normal,this,"WinJS.UI._Overlay._checkDoNext");else{var a,c=this._queuedToShow,d=this._queuedToHide,e=this._findSiblings(c.concat(d));for(a=0;a<c.length;a++)c[a]&&c[a].style&&b.document.body.contains(c[a])?"hidden"!==c[a].style.visibility&&"0"!==c[a].style.opacity&&(e.push(c[a]),c.splice(a,1),a--):(c.splice(a,1),a--);for(a=0;a<d.length;a++)d[a]&&d[a].style&&b.document.body.contains(d[a])&&"hidden"!==d[a].style.visibility&&"0"!==d[a].style.opacity||(d.splice(a,1),a--);var f=this._baseBeginAnimateCommands(c,d,e),g=this;f?f.done(function(){g._baseEndAnimateCommands(d)},function(){g._baseEndAnimateCommands(d)}):o.schedule(function(){g._baseEndAnimateCommands([])},o.Priority.normal,null,"WinJS.UI._Overlay._endAnimateCommandsWithoutAnimation")}this._queuedToShow=[],this._queuedToHide=[]},_baseBeginAnimateCommands:function(a,b,c){this._beginAnimateCommands(a,b,this._getVisibleCommands(c));var d=null,e=null;b.length>0&&(e=k.createDeleteFromListAnimation(b,0===a.length?c:void 0)),a.length>0&&(d=k.createAddToListAnimation(a,c));for(var f=0,g=b.length;g>f;f++){var h=b[f].getBoundingClientRect(),i=q._getComputedStyle(b[f]);b[f].style.top=h.top-parseFloat(i.marginTop)+"px",b[f].style.left=h.left-parseFloat(i.marginLeft)+"px",b[f].style.opacity=0,b[f].style.position="fixed"}this._element.winAnimating="rearranging";var j=null;for(e&&(j=e.execute()),f=0;f<a.length;f++)a[f].style.visibility="",a[f].style.display="",a[f].style.opacity=1;if(d){var l=d.execute();j=j?n.join([j,l]):l}return j},_beginAnimateCommands:function(){},_getVisibleCommands:function(a){var b,c=a,d=[];c||(c=this.element.querySelectorAll(".win-command"));for(var e=0,f=c.length;f>e;e++)b=c[e].winControl||c[e],b.hidden||d.push(b);return d},_baseEndAnimateCommands:function(a){if(!this._disposed){var b;for(b=0;b<a.length;b++)a[b].style.position="",a[b].style.top="",a[b].style.left="",a[b].getBoundingClientRect(),a[b].style.visibility="hidden",a[b].style.display="none",a[b].style.opacity=1;this._element.winAnimating="",this._endAnimateCommands(),this._checkDoNext()}},_endAnimateCommands:function(){},_resolveCommands:function(a){a=e(a);var b={};b.commands=[],b.others=[];var c,d,f=this.element.querySelectorAll(".win-command");for(c=0;c<f.length;c++){var g=!1;for(d=0;d<a.length;d++)if(a[d]===f[c]){b.commands.push(f[c]),a.splice(d,1),g=!0;break}g||b.others.push(f[c])}return b},_findSiblings:function(a){var b,c,d=[],e=this.element.querySelectorAll(".win-command");for(b=0;b<e.length;b++){var f=!1;for(c=0;c<a.length;c++)if(a[c]===e[b]){a.splice(c,1),f=!0;break}f||d.push(e[b])}return d},_baseResize:function(a){this._resize(a)},_hideOrDismiss:function(){var a=this._element;a&&q.hasClass(a,s.settingsFlyoutClass)?this._dismiss():a&&q.hasClass(a,s.appBarClass)?this.close():this.hide()},_resize:function(){},_commandsUpdated:function(){},_checkScrollPosition:function(){},_showingKeyboard:function(){},_hidingKeyboard:function(){},_verifyCommandsOnly:function(a,b){for(var c=a.children,d=new Array(c.length),e=0;e<c.length;e++){if(!q.hasClass(c[e],"win-command")&&c[e].getAttribute("data-win-control")!==b)throw new f("WinJS.UI._Overlay.MustContainCommands",j.mustContainCommands);m.processAll(c[e]),d[e]=c[e].winControl}return d},_focusOnLastFocusableElementOrThis:function(){this._focusOnLastFocusableElement()||l._trySetActive(this._element)},_focusOnLastFocusableElement:function(){if(this._element.firstElementChild){var a=this._element.firstElementChild.tabIndex,c=this._element.lastElementChild.tabIndex;this._element.firstElementChild.tabIndex=-1,this._element.lastElementChild.tabIndex=-1;var d=q._focusLastFocusableElement(this._element);return d&&l._trySelect(b.document.activeElement),this._element.firstElementChild.tabIndex=a,this._element.lastElementChild.tabIndex=c,d}return!1},_focusOnFirstFocusableElementOrThis:function(){this._focusOnFirstFocusableElement()||l._trySetActive(this._element)},_focusOnFirstFocusableElement:function(a,c){if(this._element.firstElementChild){var d=this._element.firstElementChild.tabIndex,e=this._element.lastElementChild.tabIndex;this._element.firstElementChild.tabIndex=-1,this._element.lastElementChild.tabIndex=-1;var f=q._focusFirstFocusableElement(this._element,a,c);return f&&l._trySelect(b.document.activeElement),this._element.firstElementChild.tabIndex=d,this._element.lastElementChild.tabIndex=e,f}return!1},_writeProfilerMark:function(a){i("WinJS.UI._Overlay:"+this._id+":"+a)}},{_isFlyoutVisible:function(){for(var a=b.document.querySelectorAll("."+s.flyoutClass),c=0;c<a.length;c++){var d=a[c].winControl;if(d&&!d.hidden)return!0}return!1},_trySetActive:function(a,c){return a&&b.document.body&&b.document.body.contains(a)&&q._setActive(a,c)?a===b.document.activeElement:!1},_trySelect:function(a){try{a&&a.select&&a.select()}catch(b){}},_sizeOfDocument:function(){return{width:b.document.documentElement.offsetWidth,height:b.document.documentElement.offsetHeight}},_getParentControlUsingClassName:function(a,c){for(;a&&a!==b.document.body;){if(q.hasClass(a,c))return a.winControl;a=a.parentNode}return null},_globalEventListeners:new g,_hideAppBars:function(a,b){var c=a.map(function(a){return a.close(),a._animationPromise});return n.join(c)},_showAppBars:function(a,b){var c=a.map(function(a){return a._show(),a._animationPromise});return n.join(c)},_keyboardInfo:r._KeyboardInfo,_scrollTimeout:r._KeyboardInfo._scrollTimeout,beforeShow:"beforeshow",beforeHide:"beforehide",afterShow:"aftershow",afterHide:"afterhide",commonstrings:{get cannotChangeCommandsWhenVisible(){return"Invalid argument: You must call hide() before changing {0} commands"},get cannotChangeHiddenProperty(){return"Unable to set hidden property while parent {0} is visible."}}});return d.Class.mix(l,p.DOMEventMixin),l})})}),d("WinJS/Controls/Flyout",["exports","../Core/_Global","../Core/_Base","../Core/_BaseUtils","../Core/_ErrorFromName","../Core/_Events","../Core/_Log","../Core/_Resources","../Core/_WriteProfilerMark","../Animations","../_Signal","../_LightDismissService","../Utilities/_Dispose","../Utilities/_ElementUtilities","../Utilities/_KeyboardBehavior","../Utilities/_Hoverable","./_LegacyAppBar/_Constants","./Flyout/_Overlay"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){"use strict";c.Namespace._moduleDefine(a,"WinJS.UI",{Flyout:c.Namespace._lazy(function(){function a(a,b){return n.convertToPixels(a,n._getComputedStyle(a,null)[b])}function p(b){return{marginTop:a(b,"marginTop"),marginBottom:a(b,"marginBottom"),marginLeft:a(b,"marginLeft"),marginRight:a(b,"marginRight"),totalWidth:n.getTotalWidth(b),totalHeight:n.getTotalHeight(b),contentWidth:n.getContentWidth(b),contentHeight:n.getContentHeight(b)}}var s=n.Key,t={get ariaLabel(){return h._getWinJSString("ui/flyoutAriaLabel").value},get noAnchor(){return"Invalid argument: Flyout anchor element not found in DOM."},get badPlacement(){return"Invalid argument: Flyout placement should be 'top' (default), 'bottom', 'left', 'right', 'auto', 'autohorizontal', or 'autovertical'."},get badAlignment(){return"Invalid argument: Flyout alignment should be 'center' (default), 'left', or 'right'."},get noCoordinates(){return"Invalid argument: Flyout coordinates must contain a valid x,y pair."}},u=f._createEventProperty,v=c.Class.define(function(a){this._onLightDismiss=a,this._currentlyFocusedClient=null,this._clients=[]},{shown:function(a){a._focusable=!0;var b=this._clients.indexOf(a);-1===b&&(this._clients.push(a),a.onShow(this),l.isShown(this)?(l.updated(this),this._activateTopFocusableClientIfNeeded()):l.shown(this))},hiding:function(a){var b=this._clients.indexOf(a);-1!==b&&(this._clients[b]._focusable=!1,this._activateTopFocusableClientIfNeeded())},hidden:function(a){var b=this._clients.indexOf(a);-1!==b&&(this._clients.splice(b,1),a.setZIndex(""),a.onHide(),0===this._clients.length?l.hidden(this):(l.updated(this),this._activateTopFocusableClientIfNeeded()))},keyDown:function(a,b){l.keyDown(this,b)},keyUp:function(a,b){l.keyUp(this,b)},keyPress:function(a,b){l.keyPress(this,b)},clients:{get:function(){return this._clients}},_clientForElement:function(a){for(var b=this._clients.length-1;b>=0;b--)if(this._clients[b].containsElement(a))return this._clients[b];return null},_focusableClientForElement:function(a){for(var b=this._clients.length-1;b>=0;b--)if(this._clients[b]._focusable&&this._clients[b].containsElement(a))return this._clients[b];return null},_getTopmostFocusableClient:function(){for(var a=this._clients.length-1;a>=0;a--){var b=this._clients[a];if(b&&b._focusable)return b}return null},_activateTopFocusableClientIfNeeded:function(){var a=this._getTopmostFocusableClient();if(a&&l.isTopmost(this)){var b=!o._keyboardSeenLast;a.onTakeFocus(b)}},setZIndex:function(a){this._clients.forEach(function(b,c){b.setZIndex(a+c)},this)},getZIndexCount:function(){return this._clients.length},containsElement:function(a){return!!this._clientForElement(a)},onTakeFocus:function(a){var c=this._focusableClientForElement(b.document.activeElement);!c&&-1!==this._clients.indexOf(this._currentlyFocusedClient)&&this._currentlyFocusedClient._focusable&&(c=this._currentlyFocusedClient),c||(c=this._getTopmostFocusableClient()),this._currentlyFocusedClient=c,c&&c.onTakeFocus(a)},onFocus:function(a){this._currentlyFocusedClient=this._clientForElement(a),this._currentlyFocusedClient&&this._currentlyFocusedClient.onFocus(a)},onShow:function(a){},onHide:function(){this._currentlyFocusedClient=null},onKeyInStack:function(a){var b=this._clients.indexOf(this._currentlyFocusedClient);if(-1!==b)for(var c=this._clients.slice(0,b+1),d=c.length-1;d>=0&&!a.propagationStopped;d--)c[d]._focusable&&c[d].onKeyInStack(a)},onShouldLightDismiss:function(a){return l.DismissalPolicies.light(a)},onLightDismiss:function(a){this._onLightDismiss(a)}}),w=c.Class.define(function(){var a=this;this._dismissableLayer=new v(function(b){b.reason===l.LightDismissalReasons.escape?a.collapseFlyout(a.getAt(a.length-1)):a.collapseAll()}),this._cascadingStack=[],this._handleKeyDownInCascade_bound=this._handleKeyDownInCascade.bind(this),this._inputType=null},{appendFlyout:function(a){if(g.log&&this.reentrancyLock&&g.log("_CascadeManager is attempting to append a Flyout through reentrancy.","winjs _CascadeManager","error"),this.indexOf(a)<0){var b=this.collapseAll;if(a._positionRequest instanceof y.AnchorPositioning){var c=this.indexOfElement(a._positionRequest.anchor);c>=0&&(b=function(){this.collapseFlyout(this.getAt(c+1))})}b.call(this),a.element.addEventListener("keydown",this._handleKeyDownInCascade_bound,!1),this._cascadingStack.push(a)}},collapseFlyout:function(a){if(!this.reentrancyLock&&a&&this.indexOf(a)>=0){this.reentrancyLock=!0;var b=new k;this.unlocked=b.promise;for(var c;this.length&&a!==c;)c=this._cascadingStack.pop(),c.element.removeEventListener("keydown",this._handleKeyDownInCascade_bound,!1),c._hide();0===this._cascadingStack.length&&(this._inputType=null),this.reentrancyLock=!1,this.unlocked=null,b.complete()}},flyoutShown:function(a){this._dismissableLayer.shown(a._dismissable)},flyoutHiding:function(a){this._dismissableLayer.hiding(a._dismissable)},flyoutHidden:function(a){this._dismissableLayer.hidden(a._dismissable)},collapseAll:function(){var a=this.getAt(0);a&&this.collapseFlyout(a)},indexOf:function(a){return this._cascadingStack.indexOf(a)},indexOfElement:function(a){for(var b=-1,c=0,d=this.length;d>c;c++){var e=this.getAt(c);if(e.element.contains(a)){b=c;break}}return b},length:{get:function(){return this._cascadingStack.length}},getAt:function(a){return this._cascadingStack[a]},handleFocusIntoFlyout:function(a){var b=this.indexOfElement(a.target);if(b>=0){var c=this.getAt(b+1);this.collapseFlyout(c)}},inputType:{get:function(){return this._inputType||(this._inputType=o._lastInputType),this._inputType}},dismissableLayer:{get:function(){return this._dismissableLayer}},_handleKeyDownInCascade:function(a){var b="rtl"===n._getComputedStyle(a.target).direction,c=b?s.rightArrow:s.leftArrow,d=a.target;if(a.keyCode===c){var e=this.indexOfElement(d);if(e>=1){var f=this.getAt(e);this.collapseFlyout(f),a.preventDefault()}}else a.keyCode!==s.alt&&a.keyCode!==s.F10||this.collapseAll()}}),x={top:{top:"50px",left:"0px",keyframe:"WinJS-showFlyoutTop"},bottom:{top:"-50px",left:"0px",keyframe:"WinJS-showFlyoutBottom"},left:{top:"0px",left:"50px",keyframe:"WinJS-showFlyoutLeft"},right:{top:"0px",left:"-50px",keyframe:"WinJS-showFlyoutRight"}},y={AnchorPositioning:c.Class.define(function(a,c,d){if("string"==typeof a?a=b.document.getElementById(a):a&&a.element&&(a=a.element),!a)throw new e("WinJS.UI.Flyout.NoAnchor",t.noAnchor);this.anchor=a,this.placement=c,this.alignment=d},{getTopLeft:function(a,b){function c(a){h(a)?(z=f(a)-y,u=r._Overlay._keyboardInfo._visibleDocTop,w=x.top):(z=g(a)-y,u=q.pinToBottomEdge,w=x.bottom),v=!0}function d(a,b){return(r._Overlay._keyboardInfo._visibleDocHeight-a.height)/2>=b.totalHeight}function f(a){return a.top-r._Overlay._keyboardInfo._visibleDocTop}function g(a){return r._Overlay._keyboardInfo._visibleDocBottom-a.bottom}function h(a){return f(a)>g(a)}function i(a,b){return u=a-b.totalHeight,w=x.top,u>=r._Overlay._keyboardInfo._visibleDocTop&&u+b.totalHeight<=r._Overlay._keyboardInfo._visibleDocBottom}function j(a,b){return u=a,w=x.bottom,u>=r._Overlay._keyboardInfo._visibleDocTop&&u+b.totalHeight<=r._Overlay._keyboardInfo._visibleDocBottom}function k(a,b){return s=a-b.totalWidth,w=x.left,s>=0&&s+b.totalWidth<=r._Overlay._keyboardInfo._visualViewportWidth}function l(a,b){return s=a,w=x.right,s>=0&&s+b.totalWidth<=r._Overlay._keyboardInfo._visualViewportWidth}function m(a,b){u=a.top+a.height/2-b.totalHeight/2,u<r._Overlay._keyboardInfo._visibleDocTop?u=r._Overlay._keyboardInfo._visibleDocTop:u+b.totalHeight>=r._Overlay._keyboardInfo._visibleDocBottom&&(u=q.pinToBottomEdge)}function n(a,b,c){if("center"===c)s=a.left+a.width/2-b.totalWidth/2;else if("left"===c)s=a.left;else{if("right"!==c)throw new e("WinJS.UI.Flyout.BadAlignment",t.badAlignment);s=a.right-b.totalWidth}0>s?s=0:s+b.totalWidth>=r._Overlay._keyboardInfo._visualViewportWidth&&(s=q.pinToRightEdge)}var o;try{o=this.anchor.getBoundingClientRect()}catch(p){throw new e("WinJS.UI.Flyout.NoAnchor",t.noAnchor)}var s,u,v,w,y=a.totalHeight-a.contentHeight,z=a.contentHeight,A=this.alignment;switch(this.placement){case"top":i(o.top,a)||(u=r._Overlay._keyboardInfo._visibleDocTop,v=!0,z=f(o)-y),n(o,a,A);break;case"bottom":j(o.bottom,a)||(u=q.pinToBottomEdge,v=!0,z=g(o)-y),n(o,a,A);break;case"left":k(o.left,a)||(s=0),m(o,a);break;case"right":l(o.right,a)||(s=q.pinToRightEdge),m(o,a);break;case"autovertical":i(o.top,a)||j(o.bottom,a)||c(o),n(o,a,A);break;case"autohorizontal":k(o.left,a)||l(o.right,a)||(s=q.pinToRightEdge),m(o,a);break;case"auto":d(o,a)?(i(o.top,a)||j(o.bottom,a),n(o,a,A)):k(o.left,a)||l(o.right,a)?m(o,a):(c(o),n(o,a,A));break;case"_cascade":j(o.top-a.marginTop,a)||i(o.bottom+a.marginBottom,a)||m(o,a);var B=3,C=o.right-a.marginLeft-B,D=o.left+a.marginRight+B;b?k(D,a)||l(C,a)||(s=0,w=x.left):l(C,a)||k(D,a)||(s=q.pinToRightEdge,w=x.right);break;default:throw new e("WinJS.UI.Flyout.BadPlacement",t.badPlacement)}return{left:s,top:u,animOffset:w,doesScroll:v,contentHeight:z,verticalMarginBorderPadding:y}}}),CoordinatePositioning:c.Class.define(function(a){if(a.clientX===+a.clientX&&a.clientY===+a.clientY){var b=a;a={x:b.clientX,y:b.clientY}}else if(a.x!==+a.x||a.y!==+a.y)throw new e("WinJS.UI.Flyout.NoCoordinates",t.noCoordinates);this.coordinates=a},{getTopLeft:function(a,b){var c=this.coordinates,d=a.totalWidth-a.marginLeft-a.marginRight,e=b?d:0,f=a.totalHeight-a.contentHeight,g=a.contentHeight,h=c.y-a.marginTop,i=c.x-a.marginLeft-e;return 0>h?h=0:h+a.totalHeight>r._Overlay._keyboardInfo._visibleDocBottom&&(h=q.pinToBottomEdge),0>i?i=0:i+a.totalWidth>r._Overlay._keyboardInfo._visualViewportWidth&&(i=q.pinToRightEdge),{left:i,top:h,verticalMarginBorderPadding:f,contentHeight:g,doesScroll:!1,animOffset:x.top}}})},z=c.Class.derive(r._Overlay,function(a,c){c=c||{},this._element=a||b.document.createElement("div"),this._id=this._element.id||n._uniqueID(this._element),this._writeProfilerMark("constructor,StartTM"),this._baseFlyoutConstructor(this._element,c);var d=this._element.getElementsByTagName("*"),e=this._addFirstDiv();e.tabIndex=n._getLowestTabIndexInList(d);var f=this._addFinalDiv();return f.tabIndex=n._getHighestTabIndexInList(d),this._element.addEventListener("keydown",this._handleKeyDown,!0),this._writeProfilerMark("constructor,StopTM"),this},{_lastMaxHeight:null,_baseFlyoutConstructor:function(a,b){this._placement="auto",this._alignment="center",this._baseOverlayConstructor(a,b),this._element.style.visibilty="hidden",this._element.style.display="none",n.addClass(this._element,q.flyoutClass);var c=this;this._dismissable=new l.LightDismissableElement({element:this._element,tabIndex:this._element.hasAttribute("tabIndex")?this._element.tabIndex:-1,onLightDismiss:function(){c.hide()},onTakeFocus:function(a){c._dismissable.restoreFocus()||(n.hasClass(c.element,q.menuClass)?r._Overlay._trySetActive(c._element):c._focusOnFirstFocusableElementOrThis())}});var d=this._element.getAttribute("role");null!==d&&""!==d&&void 0!==d||(n.hasClass(this._element,q.menuClass)?this._element.setAttribute("role","menu"):this._element.setAttribute("role","dialog"));var e=this._element.getAttribute("aria-label");null!==e&&""!==e&&void 0!==e||this._element.setAttribute("aria-label",t.ariaLabel),this._currentAnimateIn=this._flyoutAnimateIn,this._currentAnimateOut=this._flyoutAnimateOut,n._addEventListener(this.element,"focusin",this._handleFocusIn.bind(this),!1)},anchor:{get:function(){return this._anchor},set:function(a){this._anchor=a}},placement:{get:function(){return this._placement},set:function(a){if("top"!==a&&"bottom"!==a&&"left"!==a&&"right"!==a&&"auto"!==a&&"autohorizontal"!==a&&"autovertical"!==a)throw new e("WinJS.UI.Flyout.BadPlacement",t.badPlacement);this._placement=a}},alignment:{get:function(){return this._alignment},set:function(a){if("right"!==a&&"left"!==a&&"center"!==a)throw new e("WinJS.UI.Flyout.BadAlignment",t.badAlignment);this._alignment=a}},disabled:{get:function(){return!!this._element.disabled},set:function(a){a=!!a;var b=!!this._element.disabled;b!==a&&(this._element.disabled=a,!this.hidden&&this._element.disabled&&this.hide())}},onbeforeshow:u(r._Overlay.beforeShow),onaftershow:u(r._Overlay.afterShow),onbeforehide:u(r._Overlay.beforeHide),onafterhide:u(r._Overlay.afterHide),_dispose:function(){m.disposeSubTree(this.element),this._hide(),z._cascadeManager.flyoutHidden(this),this.anchor=null},show:function(a,b,c){this._writeProfilerMark("show,StartTM"),this._positionRequest=new y.AnchorPositioning(a||this._anchor,b||this._placement,c||this._alignment),this._show()},_show:function(){this._baseFlyoutShow()},showAt:function(a){this._writeProfilerMark("show,StartTM"),this._positionRequest=new y.CoordinatePositioning(a),this._show()},hide:function(){this._writeProfilerMark("hide,StartTM"),this._hide()},_hide:function(){z._cascadeManager.collapseFlyout(this),this._baseHide()&&z._cascadeManager.flyoutHiding(this)},_beforeEndHide:function(){z._cascadeManager.flyoutHidden(this)},_baseFlyoutShow:function(){if(!this.disabled&&!this._disposed)if(z._cascadeManager.appendFlyout(this),this._element.winAnimating)this._doNext="show";else if(z._cascadeManager.reentrancyLock){this._doNext="show";var a=this;z._cascadeManager.unlocked.then(function(){a._checkDoNext()})}else if(this._baseShow()){if(!n.hasClass(this.element,"win-menu")){var b=this._element.getElementsByTagName("*"),c=this.element.querySelectorAll(".win-first");this.element.children.length&&!n.hasClass(this.element.children[0],q.firstDivClass)&&(c&&c.length>0&&c.item(0).parentNode.removeChild(c.item(0)),c=this._addFirstDiv()),c.tabIndex=n._getLowestTabIndexInList(b);var d=this.element.querySelectorAll(".win-final");n.hasClass(this.element.children[this.element.children.length-1],q.finalDivClass)||(d&&d.length>0&&d.item(0).parentNode.removeChild(d.item(0)),d=this._addFinalDiv()),d.tabIndex=n._getHighestTabIndexInList(b)}z._cascadeManager.flyoutShown(this)}},_lightDismiss:function(){z._cascadeManager.collapseAll()},_ensurePosition:function(){this._keyboardMovedUs=!1,this._clearAdjustedStyles(),this._setAlignment();var a=p(this._element),b="rtl"===n._getComputedStyle(this._element).direction;this._currentPosition=this._positionRequest.getTopLeft(a,b),this._currentPosition.top<0?(this._element.style.bottom=r._Overlay._keyboardInfo._visibleDocBottomOffset+"px",this._element.style.top="auto"):(this._element.style.top=this._currentPosition.top+"px",this._element.style.bottom="auto"),this._currentPosition.left<0?(this._element.style.right="0px",this._element.style.left="auto"):(this._element.style.left=this._currentPosition.left+"px",this._element.style.right="auto"),this._currentPosition.doesScroll&&(n.addClass(this._element,q.scrollsClass),this._lastMaxHeight=this._element.style.maxHeight,this._element.style.maxHeight=this._currentPosition.contentHeight+"px"),r._Overlay._keyboardInfo._visible&&(this._checkKeyboardFit(),this._keyboardMovedUs&&this._adjustForKeyboard())},_clearAdjustedStyles:function(){this._element.style.top="0px",this._element.style.bottom="auto",this._element.style.left="0px",this._element.style.right="auto",n.removeClass(this._element,q.scrollsClass),null!==this._lastMaxHeight&&(this._element.style.maxHeight=this._lastMaxHeight,
this._lastMaxHeight=null),n.removeClass(this._element,"win-rightalign"),n.removeClass(this._element,"win-leftalign")},_setAlignment:function(){switch(this._positionRequest.alignment){case"left":n.addClass(this._element,"win-leftalign");break;case"right":n.addClass(this._element,"win-rightalign")}},_showingKeyboard:function(a){if(!this.hidden&&(a.ensuredFocusedElementInView=!0,this._checkKeyboardFit(),this._keyboardMovedUs)){this._element.style.opacity=0;var c=this;b.setTimeout(function(){c._adjustForKeyboard(),c._baseAnimateIn()},r._Overlay._keyboardInfo._animationShowLength)}},_resize:function(){if((!this.hidden||this._animating)&&this._needToHandleHidingKeyboard){var a=this;d._setImmediate(function(){a.hidden&&!a._animating||a._ensurePosition()}),this._needToHandleHidingKeyboard=!1}},_checkKeyboardFit:function(){var a=!1,b=r._Overlay._keyboardInfo._visibleDocHeight,c=this._currentPosition.contentHeight+this._currentPosition.verticalMarginBorderPadding;c>b?(a=!0,this._currentPosition.top=q.pinToBottomEdge,this._currentPosition.contentHeight=b-this._currentPosition.verticalMarginBorderPadding,this._currentPosition.doesScroll=!0):this._currentPosition.top>=0&&this._currentPosition.top+c>r._Overlay._keyboardInfo._visibleDocBottom?(this._currentPosition.top=q.pinToBottomEdge,a=!0):this._currentPosition.top===q.pinToBottomEdge&&(a=!0),this._keyboardMovedUs=a},_adjustForKeyboard:function(){this._currentPosition.doesScroll&&(this._lastMaxHeight||(n.addClass(this._element,q.scrollsClass),this._lastMaxHeight=this._element.style.maxHeight),this._element.style.maxHeight=this._currentPosition.contentHeight+"px"),this._checkScrollPosition(!0)},_hidingKeyboard:function(){if(!this.hidden||this._animating)if(r._Overlay._keyboardInfo._isResized)this._needToHandleHidingKeyboard=!0;else{var a=this;d._setImmediate(function(){a.hidden&&!a._animating||a._ensurePosition()})}},_checkScrollPosition:function(a){this.hidden&&!a||(this._currentPosition.top<0?(this._element.style.bottom=r._Overlay._keyboardInfo._visibleDocBottomOffset+"px",this._element.style.top="auto"):(this._element.style.top=this._currentPosition.top+"px",this._element.style.bottom="auto"))},_flyoutAnimateIn:function(){return this._keyboardMovedUs?this._baseAnimateIn():(this._element.style.opacity=1,this._element.style.visibility="visible",j.showPopup(this._element,this._currentPosition.animOffset))},_flyoutAnimateOut:function(){return this._keyboardMovedUs?this._baseAnimateOut():(this._element.style.opacity=0,j.hidePopup(this._element,this._currentPosition.animOffset))},_hideAllOtherFlyouts:function(a){for(var c=b.document.querySelectorAll("."+q.flyoutClass),d=0;d<c.length;d++){var e=c[d].winControl;e&&!e.hidden&&e!==a&&e.hide()}},_handleKeyDown:function(a){a.keyCode!==s.space&&a.keyCode!==s.enter||this!==b.document.activeElement?!a.shiftKey||a.keyCode!==s.tab||this!==b.document.activeElement||a.altKey||a.ctrlKey||a.metaKey||(a.preventDefault(),a.stopPropagation(),this.winControl._focusOnLastFocusableElementOrThis()):(a.preventDefault(),a.stopPropagation(),this.winControl.hide())},_handleFocusIn:function(a){this.element.contains(a.relatedTarget)||z._cascadeManager.handleFocusIntoFlyout(a)},_addFirstDiv:function(){var a=b.document.createElement("div");a.className=q.firstDivClass,a.style.display="inline",a.setAttribute("role","menuitem"),a.setAttribute("aria-hidden","true"),this._element.children[0]?this._element.insertBefore(a,this._element.children[0]):this._element.appendChild(a);var c=this;return n._addEventListener(a,"focusin",function(){c._focusOnLastFocusableElementOrThis()},!1),a},_addFinalDiv:function(){var a=b.document.createElement("div");a.className=q.finalDivClass,a.style.display="inline",a.setAttribute("role","menuitem"),a.setAttribute("aria-hidden","true"),this._element.appendChild(a);var c=this;return n._addEventListener(a,"focusin",function(){c._focusOnFirstFocusableElementOrThis()},!1),a},_writeProfilerMark:function(a){i("WinJS.UI.Flyout:"+this._id+":"+a)}},{_cascadeManager:new w});return z})})}),d("WinJS/Controls/CommandingSurface/_Constants",["require","exports"],function(a,b){b.ClassNames={controlCssClass:"win-commandingsurface",disposableCssClass:"win-disposable",tabStopClass:"win-commandingsurface-tabstop",contentClass:"win-commandingsurface-content",actionAreaCssClass:"win-commandingsurface-actionarea",actionAreaContainerCssClass:"win-commandingsurface-actionareacontainer",overflowButtonCssClass:"win-commandingsurface-overflowbutton",spacerCssClass:"win-commandingsurface-spacer",ellipsisCssClass:"win-commandingsurface-ellipsis",overflowAreaCssClass:"win-commandingsurface-overflowarea",overflowAreaContainerCssClass:"win-commandingsurface-overflowareacontainer",contentFlyoutCssClass:"win-commandingsurface-contentflyout",menuCssClass:"win-menu",menuContainsToggleCommandClass:"win-menu-containstogglecommand",insetOutlineClass:"win-commandingsurface-insetoutline",openingClass:"win-commandingsurface-opening",openedClass:"win-commandingsurface-opened",closingClass:"win-commandingsurface-closing",closedClass:"win-commandingsurface-closed",noneClass:"win-commandingsurface-closeddisplaynone",minimalClass:"win-commandingsurface-closeddisplayminimal",compactClass:"win-commandingsurface-closeddisplaycompact",fullClass:"win-commandingsurface-closeddisplayfull",overflowTopClass:"win-commandingsurface-overflowtop",overflowBottomClass:"win-commandingsurface-overflowbottom",commandHiddenClass:"win-commandingsurface-command-hidden",commandPrimaryOverflownPolicyClass:"win-commandingsurface-command-primary-overflown",commandSecondaryOverflownPolicyClass:"win-commandingsurface-command-secondary-overflown",commandSeparatorHiddenPolicyClass:"win-commandingsurface-command-separator-hidden"},b.EventNames={beforeOpen:"beforeopen",afterOpen:"afteropen",beforeClose:"beforeclose",afterClose:"afterclose",commandPropertyMutated:"_commandpropertymutated"},b.actionAreaCommandWidth=68,b.actionAreaSeparatorWidth=34,b.actionAreaOverflowButtonWidth=32,b.overflowCommandHeight=44,b.overflowSeparatorHeight=12,b.controlMinWidth=b.actionAreaOverflowButtonWidth,b.overflowAreaMaxWidth=480,b.heightOfMinimal=24,b.heightOfCompact=48,b.contentMenuCommandDefaultLabel="Custom content",b.defaultClosedDisplayMode="compact",b.defaultOpened=!1,b.defaultOverflowDirection="bottom",b.typeSeparator="separator",b.typeContent="content",b.typeButton="button",b.typeToggle="toggle",b.typeFlyout="flyout",b.commandSelector=".win-command",b.primaryCommandSection="primary",b.secondaryCommandSection="secondary"}),d("WinJS/Controls/ToolBar/_Constants",["require","exports","../CommandingSurface/_Constants"],function(a,b,c){b.ClassNames={controlCssClass:"win-toolbar",disposableCssClass:"win-disposable",actionAreaCssClass:"win-toolbar-actionarea",overflowButtonCssClass:"win-toolbar-overflowbutton",spacerCssClass:"win-toolbar-spacer",ellipsisCssClass:"win-toolbar-ellipsis",overflowAreaCssClass:"win-toolbar-overflowarea",contentFlyoutCssClass:"win-toolbar-contentflyout",emptytoolbarCssClass:"win-toolbar-empty",menuCssClass:"win-menu",menuContainsToggleCommandClass:"win-menu-containstogglecommand",openedClass:"win-toolbar-opened",closedClass:"win-toolbar-closed",compactClass:"win-toolbar-closeddisplaycompact",fullClass:"win-toolbar-closeddisplayfull",overflowTopClass:"win-toolbar-overflowtop",overflowBottomClass:"win-toolbar-overflowbottom",placeHolderCssClass:"win-toolbar-placeholder"},b.EventNames={beforeOpen:"beforeopen",afterOpen:"afteropen",beforeClose:"beforeclose",afterClose:"afterclose"},b.OverflowDirection={top:"top",bottom:"bottom"},b.overflowAreaMaxWidth=c.overflowAreaMaxWidth,b.controlMinWidth=c.controlMinWidth,b.defaultClosedDisplayMode="compact",b.defaultOpened=!1,b.typeSeparator="separator",b.typeContent="content",b.typeButton="button",b.typeToggle="toggle",b.typeFlyout="flyout",b.commandSelector=".win-command",b.primaryCommandSection="primary",b.secondaryCommandSection="secondary"}),d("WinJS/Controls/AppBar/_Icon",["exports","../../Core/_Base","../../Core/_Resources"],function(a,b,c){"use strict";var d=["previous","next","play","pause","edit","save","clear","delete","remove","add","cancel","accept","more","redo","undo","home","up","forward","right","back","left","favorite","camera","settings","video","sync","download","mail","find","help","upload","emoji","twopage","leavechat","mailforward","clock","send","crop","rotatecamera","people","closepane","openpane","world","flag","previewlink","globe","trim","attachcamera","zoomin","bookmarks","document","protecteddocument","page","bullets","comment","mail2","contactinfo","hangup","viewall","mappin","phone","videochat","switch","contact","rename","pin","musicinfo","go","keyboard","dockleft","dockright","dockbottom","remote","refresh","rotate","shuffle","list","shop","selectall","orientation","import","importall","browsephotos","webcam","pictures","savelocal","caption","stop","showresults","volume","repair","message","page2","calendarday","calendarweek","calendar","characters","mailreplyall","read","link","accounts","showbcc","hidebcc","cut","attach","paste","filter","copy","emoji2","important","mailreply","slideshow","sort","manage","allapps","disconnectdrive","mapdrive","newwindow","openwith","contactpresence","priority","uploadskydrive","gototoday","font","fontcolor","contact2","folder","audio","placeholder","view","setlockscreen","settile","cc","stopslideshow","permissions","highlight","disableupdates","unfavorite","unpin","openlocal","mute","italic","underline","bold","movetofolder","likedislike","dislike","like","alignright","aligncenter","alignleft","zoom","zoomout","openfile","otheruser","admin","street","map","clearselection","fontdecrease","fontincrease","fontsize","cellphone","reshare","tag","repeatone","repeatall","outlinestar","solidstar","calculator","directions","target","library","phonebook","memo","microphone","postupdate","backtowindow","fullscreen","newfolder","calendarreply","unsyncfolder","reporthacked","syncfolder","blockcontact","switchapps","addfriend","touchpointer","gotostart","zerobars","onebar","twobars","threebars","fourbars","scan","preview","hamburger"],e=d.reduce(function(a,b){return a[b]={get:function(){return c._getWinJSString("ui/appBarIcons/"+b).value}},a},{});b.Namespace._moduleDefine(a,"WinJS.UI.AppBarIcon",e)}),d("WinJS/Controls/AppBar/_Command",["exports","../../Core/_Global","../../Core/_WinRT","../../Core/_Base","../../Core/_BaseUtils","../../Core/_ErrorFromName","../../Core/_Events","../../Core/_Resources","../../Utilities/_Control","../../Utilities/_Dispose","../../Utilities/_ElementUtilities","../Flyout/_Overlay","../Tooltip","../_LegacyAppBar/_Constants","./_Icon"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){"use strict";d.Namespace._moduleDefine(a,"WinJS.UI",{AppBarCommand:d.Namespace._lazy(function(){function a(a){var c=this.winControl;if(c){if(c._type===n.typeToggle)c.selected=!c.selected;else if(c._type===n.typeFlyout&&c._flyout){var d=c._flyout;"string"==typeof d&&(d=b.document.getElementById(d)),d.show||(d=d.winControl),d&&d.show&&d.show(this,"autovertical")}c.onclick&&c.onclick(a)}}function p(a,b){var c=a[b],d=a.constructor.prototype,e=q(d,b)||{},f=e.get.bind(a)||function(){return c},g=e.set.bind(a)||function(a){c=a};Object.defineProperty(a,b,{get:function(){return f()},set:function(c){var d=f();g(c);var e=f();this._disposed||d===c||d===e||a._disposed||a._propertyMutations.dispatchEvent(n.commandPropertyMutated,{command:a,propertyName:b,oldValue:d,newValue:e})}})}function q(a,b){for(var c=null;a&&!c;)c=Object.getOwnPropertyDescriptor(a,b),a=Object.getPrototypeOf(a);return c}var r=d.Class.define(function(){this._observer=e._merge({},g.eventMixin)},{bind:function(a){this._observer.addEventListener(n.commandPropertyMutated,a)},unbind:function(a){this._observer.removeEventListener(n.commandPropertyMutated,a)},dispatchEvent:function(a,b){this._observer.dispatchEvent(a,b)}}),s={get ariaLabel(){return h._getWinJSString("ui/appBarCommandAriaLabel").value},get duplicateConstruction(){return"Invalid argument: Controls may only be instantiated one time for each DOM element"},get badClick(){return"Invalid argument: The onclick property for an {0} must be a function"},get badDivElement(){return"Invalid argument: For a content command, the element must be null or a div element"},get badHrElement(){return"Invalid argument: For a separator, the element must be null or an hr element"},get badButtonElement(){return"Invalid argument: For a button, toggle, or flyout command, the element must be null or a button element"},get badPriority(){return"Invalid argument: the priority of an {0} must be a non-negative integer"}},t=d.Class.define(function(b,c){if(b&&b.winControl)throw new f("WinJS.UI.AppBarCommand.DuplicateConstruction",s.duplicateConstruction);if(this._disposed=!1,c||(c={}),c.type||(this._type=n.typeButton),c.section=c.section||n.sectionPrimary,this._element=b,c.type===n.typeContent?this._createContent():c.type===n.typeSeparator?this._createSeparator():this._createButton(),k.addClass(this._element,"win-disposable"),this._element.winControl=this,k.addClass(this._element,n.appBarCommandClass),c.onclick&&(this.onclick=c.onclick),c.onclick=a,i.setOptions(this,c),this._type!==n.typeToggle||c.selected||(this.selected=!1),this._type!==n.typeSeparator){var d=this._element.getAttribute("role");null!==d&&""!==d&&void 0!==d||(d=this._type===n.typeToggle?"checkbox":this._type===n.typeContent?"group":"menuitem",this._element.setAttribute("role",d),this._type===n.typeFlyout&&this._element.setAttribute("aria-haspopup",!0));var e=this._element.getAttribute("aria-label");null!==e&&""!==e&&void 0!==e||this._element.setAttribute("aria-label",s.ariaLabel)}this._propertyMutations=new r;var g=this;u.forEach(function(a){p(g,a)})},{id:{get:function(){return this._element.id},set:function(a){a&&!this._element.id&&(this._element.id=a)}},type:{get:function(){return this._type},set:function(a){this._type||(a!==n.typeContent&&a!==n.typeFlyout&&a!==n.typeToggle&&a!==n.typeSeparator?this._type=n.typeButton:this._type=a)}},label:{get:function(){return this._label},set:function(a){this._label=a,this._labelSpan&&(this._labelSpan.textContent=this.label),!this.tooltip&&this._tooltipControl&&(this._tooltip=this.label,this._tooltipControl.innerHTML=this.label),this._element.setAttribute("aria-label",this.label),this._testIdenticalTooltip()}},icon:{get:function(){return this._icon},set:function(a){this._icon=o[a]||a,this._imageSpan&&(this._icon&&1===this._icon.length?(this._imageSpan.textContent=this._icon,this._imageSpan.style.backgroundImage="",this._imageSpan.style.msHighContrastAdjust="",k.addClass(this._imageSpan,"win-commandglyph")):(this._imageSpan.textContent="",this._imageSpan.style.backgroundImage=this._icon,this._imageSpan.style.msHighContrastAdjust="none",k.removeClass(this._imageSpan,"win-commandglyph")))}},onclick:{get:function(){return this._onclick},set:function(a){if(a&&"function"!=typeof a)throw new f("WinJS.UI.AppBarCommand.BadClick",h._formatString(s.badClick,"AppBarCommand"));this._onclick=a}},priority:{get:function(){return this._priority},set:function(a){if(!(void 0===a||"number"==typeof a&&a>=0))throw new f("WinJS.UI.AppBarCommand.BadPriority",h._formatString(s.badPriority,"AppBarCommand"));this._priority=a}},flyout:{get:function(){var a=this._flyout;return"string"==typeof a&&(a=b.document.getElementById(a)),a&&!a.element&&a.winControl&&(a=a.winControl),a},set:function(a){var b=a;b&&"string"!=typeof b&&(b.element&&(b=b.element),b&&(b.id?b=b.id:(b.id=k._uniqueID(b),b=b.id))),"string"==typeof b&&this._element.setAttribute("aria-owns",b),this._flyout=a}},section:{get:function(){return this._section},set:function(a){this._section&&!c.Windows.ApplicationModel.DesignMode.designModeEnabled||this._setSection(a)}},tooltip:{get:function(){return this._tooltip},set:function(a){this._tooltip=a,this._tooltipControl&&(this._tooltipControl.innerHTML=this._tooltip),this._testIdenticalTooltip()}},selected:{get:function(){return"true"===this._element.getAttribute("aria-checked")},set:function(a){this._element.setAttribute("aria-checked",a)}},element:{get:function(){return this._element}},disabled:{get:function(){return!!this._element.disabled},set:function(a){this._element.disabled=a}},hidden:{get:function(){return k.hasClass(this._element,n.commandHiddenClass)},set:function(a){if(a!==this.hidden){var b=this.hidden;a?k.addClass(this._element,n.commandHiddenClass):k.removeClass(this._element,n.commandHiddenClass),this._sendEvent(n.commandVisibilityChanged)||(b?k.addClass(this._element,n.commandHiddenClass):k.removeClass(this._element,n.commandHiddenClass))}}},firstElementFocus:{get:function(){return this._firstElementFocus||this._lastElementFocus||this._element},set:function(a){this._firstElementFocus=a===this.element?null:a,this._updateTabStop()}},lastElementFocus:{get:function(){return this._lastElementFocus||this._firstElementFocus||this._element},set:function(a){this._lastElementFocus=a===this.element?null:a,this._updateTabStop()}},dispose:function(){this._disposed||(this._disposed=!0,this._tooltipControl&&this._tooltipControl.dispose(),this._type===n.typeContent&&j.disposeSubTree(this.element))},addEventListener:function(a,b,c){return this._element.addEventListener(a,b,c)},removeEventListener:function(a,b,c){return this._element.removeEventListener(a,b,c)},extraClass:{get:function(){return this._extraClass},set:function(a){this._extraClass&&k.removeClass(this._element,this._extraClass),this._extraClass=a,k.addClass(this._element,this._extraClass)}},_testIdenticalTooltip:function(){this._hideIfFullSize=this._label===this._tooltip},_createContent:function(){if(this._element){if("DIV"!==this._element.tagName)throw new f("WinJS.UI.AppBarCommand.BadDivElement",s.badDivElement)}else this._element=b.document.createElement("div");parseInt(this._element.getAttribute("tabIndex"),10)!==this._element.tabIndex&&(this._element.tabIndex=0)},_createSeparator:function(){if(this._element){if("HR"!==this._element.tagName)throw new f("WinJS.UI.AppBarCommand.BadHrElement",s.badHrElement)}else this._element=b.document.createElement("hr")},_createButton:function(){if(this._element){if("BUTTON"!==this._element.tagName)throw new f("WinJS.UI.AppBarCommand.BadButtonElement",s.badButtonElement);var a=this._element.getAttribute("type");null!==a&&""!==a&&void 0!==a||this._element.setAttribute("type","button"),this._element.innerHTML=""}else this._element=b.document.createElement("button");this._element.type="button",this._iconSpan=b.document.createElement("span"),this._iconSpan.setAttribute("aria-hidden","true"),this._iconSpan.className="win-commandicon",this._iconSpan.tabIndex=-1,this._element.appendChild(this._iconSpan),this._imageSpan=b.document.createElement("span"),this._imageSpan.setAttribute("aria-hidden","true"),this._imageSpan.className="win-commandimage",this._imageSpan.tabIndex=-1,this._iconSpan.appendChild(this._imageSpan),this._labelSpan=b.document.createElement("span"),this._labelSpan.setAttribute("aria-hidden","true"),this._labelSpan.className="win-label",this._labelSpan.tabIndex=-1,this._element.appendChild(this._labelSpan),this._tooltipControl=new m.Tooltip(this._element);var c=this;this._tooltipControl.addEventListener("beforeopen",function(){c._hideIfFullSize&&!l._Overlay._getParentControlUsingClassName(c._element.parentElement,n.reducedClass)&&c._tooltipControl.close()},!1)},_setSection:function(a){a||(a=n.sectionPrimary),this._section&&(this._section===n.sectionGlobal?k.removeClass(this._element,n.appBarCommandGlobalClass):this.section===n.sectionSelection&&k.removeClass(this._element,n.appBarCommandSelectionClass)),this._section=a,a===n.sectionGlobal?k.addClass(this._element,n.appBarCommandGlobalClass):a===n.sectionSelection&&k.addClass(this._element,n.appBarCommandSelectionClass)},_updateTabStop:function(){this._firstElementFocus||this._lastElementFocus?this.element.tabIndex=-1:this.element.tabIndex=0},_isFocusable:function(){return!this.hidden&&this._type!==n.typeSeparator&&!this.element.disabled&&(this.firstElementFocus.tabIndex>=0||this.lastElementFocus.tabIndex>=0)},_sendEvent:function(a,c){if(!this._disposed){var d=b.document.createEvent("CustomEvent");return d.initCustomEvent(a,!0,!0,c||{}),this._element.dispatchEvent(d)}}}),u=["label","disabled","flyout","extraClass","selected","onclick","hidden"];return t})}),d.Namespace._moduleDefine(a,"WinJS.UI",{Command:d.Namespace._lazy(function(){return a.AppBarCommand})})}),d("WinJS/Controls/Menu/_Command",["exports","../../Core/_Global","../../Core/_Base","../../Core/_ErrorFromName","../../Core/_Resources","../../Promise","../../Utilities/_Control","../../Utilities/_ElementUtilities","../_LegacyAppBar/_Constants","../Flyout/_Overlay"],function(a,b,c,d,e,f,g,h,i,j){"use strict";c.Namespace._moduleDefine(a,"WinJS.UI",{MenuCommand:c.Namespace._lazy(function(){var a={get ariaLabel(){return e._getWinJSString("ui/menuCommandAriaLabel").value},get duplicateConstruction(){return"Invalid argument: Controls may only be instantiated one time for each DOM element"},get badClick(){return"Invalid argument: The onclick property for an {0} must be a function"},get badHrElement(){return"Invalid argument: For a separator, the element must be null or an hr element"},get badButtonElement(){return"Invalid argument: For a button, toggle, or flyout command, the element must be null or a button element"}},k=c.Class.define(function(b,c){if(b&&b.winControl)throw new d("WinJS.UI.MenuCommand.DuplicateConstruction",a.duplicateConstruction);if(this._disposed=!1,c||(c={}),c.type||(this._type=i.typeButton),this._element=b,c.type===i.typeSeparator?this._createSeparator():this._createButton(),h.addClass(this._element,"win-disposable"),this._element.winControl=this,h.addClass(this._element,i.menuCommandClass),c.selected||c.type!==i.typeToggle||(this.selected=!1),c.onclick&&(this.onclick=c.onclick),c.onclick=this._handleClick.bind(this),g.setOptions(this,c),this._type!==i.typeSeparator){var e=this._element.getAttribute("role");null!==e&&""!==e&&void 0!==e||(e="menuitem",this._type===i.typeToggle&&(e="checkbox"),this._element.setAttribute("role",e),this._type===i.typeFlyout&&this._element.setAttribute("aria-haspopup",!0));var f=this._element.getAttribute("aria-label");null!==f&&""!==f&&void 0!==f||this._element.setAttribute("aria-label",a.ariaLabel)}},{id:{get:function(){return this._element.id},set:function(a){this._element.id||(this._element.id=a)}},type:{get:function(){return this._type},set:function(a){this._type||(a!==i.typeButton&&a!==i.typeFlyout&&a!==i.typeToggle&&a!==i.typeSeparator&&(a=i.typeButton),this._type=a,a===i.typeButton?h.addClass(this.element,i.menuCommandButtonClass):a===i.typeFlyout?(h.addClass(this.element,i.menuCommandFlyoutClass),this.element.addEventListener("keydown",this._handleKeyDown.bind(this),!1)):a===i.typeSeparator?h.addClass(this.element,i.menuCommandSeparatorClass):a===i.typeToggle&&h.addClass(this.element,i.menuCommandToggleClass))}},label:{get:function(){return this._label},set:function(a){this._label=a||"",this._labelSpan&&(this._labelSpan.textContent=this.label),this._element.setAttribute("aria-label",this.label)}},onclick:{get:function(){return this._onclick},set:function(b){if(b&&"function"!=typeof b)throw new d("WinJS.UI.MenuCommand.BadClick",e._formatString(a.badClick,"MenuCommand"));this._onclick=b}},flyout:{get:function(){var a=this._flyout;return"string"==typeof a&&(a=b.document.getElementById(a)),a&&!a.element&&(a=a.winControl),a},set:function(a){var b=a;b&&"string"!=typeof b&&(b.element&&(b=b.element),b&&(b.id?b=b.id:(b.id=h._uniqueID(b),b=b.id))),"string"==typeof b&&this._element.setAttribute("aria-owns",b),this._flyout!==a&&k._deactivateFlyoutCommand(this),this._flyout=a}},selected:{get:function(){return"true"===this._element.getAttribute("aria-checked")},set:function(a){this._element.setAttribute("aria-checked",!!a)}},element:{get:function(){return this._element}},disabled:{get:function(){return!!this._element.disabled},set:function(a){a=!!a,a&&this.type===i.typeFlyout&&k._deactivateFlyoutCommand(this),this._element.disabled=a}},hidden:{get:function(){return"hidden"===this._element.style.visibility},set:function(a){var b=j._Overlay._getParentControlUsingClassName(this._element,i.menuClass);if(b&&!b.hidden)throw new d("WinJS.UI.MenuCommand.CannotChangeHiddenProperty",e._formatString(j._Overlay.commonstrings.cannotChangeHiddenProperty,"Menu"));var c=this._element.style;a?(this.type===i.typeFlyout&&k._deactivateFlyoutCommand(this),c.visibility="hidden",c.display="none"):(c.visibility="",c.display="block")}},extraClass:{get:function(){return this._extraClass},set:function(a){this._extraClass&&h.removeClass(this._element,this._extraClass),this._extraClass=a,h.addClass(this._element,this._extraClass)}},dispose:function(){this._disposed||(this._disposed=!0)},addEventListener:function(a,b,c){return this._element.addEventListener(a,b,c)},removeEventListener:function(a,b,c){return this._element.removeEventListener(a,b,c)},_createSeparator:function(){if(this._element){if("HR"!==this._element.tagName)throw new d("WinJS.UI.MenuCommand.BadHrElement",a.badHrElement)}else this._element=b.document.createElement("hr")},_createButton:function(){if(this._element){if("BUTTON"!==this._element.tagName)throw new d("WinJS.UI.MenuCommand.BadButtonElement",a.badButtonElement)}else this._element=b.document.createElement("button");this._element.innerHTML='<div class="win-menucommand-liner"><span class="win-toggleicon" aria-hidden="true"></span><span class="win-label" aria-hidden="true"></span><span class="win-flyouticon" aria-hidden="true"></span></div>',this._element.type="button",this._menuCommandLiner=this._element.firstElementChild,this._toggleSpan=this._menuCommandLiner.firstElementChild,this._labelSpan=this._toggleSpan.nextElementSibling,this._flyoutSpan=this._labelSpan.nextElementSibling},_sendEvent:function(a,c){if(!this._disposed){var d=b.document.createEvent("CustomEvent");d.initCustomEvent(a,!0,!0,c||{}),this._element.dispatchEvent(d)}},_invoke:function(a){this.hidden||this.disabled||this._disposed||(this._type===i.typeToggle?this.selected=!this.selected:this._type===i.typeFlyout&&k._activateFlyoutCommand(this),a&&"click"===a.type&&this.onclick&&this.onclick(a),this._sendEvent(i._menuCommandInvokedEvent,{command:this}))},_handleClick:function(a){this._invoke(a)},_handleKeyDown:function(a){var b=h.Key,c="rtl"===h._getComputedStyle(this.element).direction,d=c?b.leftArrow:b.rightArrow;a.keyCode===d&&this.type===i.typeFlyout&&(this._invoke(a),a.preventDefault())}},{_activateFlyoutCommand:function(a){return new f(function(b,c){a=a.winControl||a;var d=a.flyout;d&&d.hidden&&d.show?(h.addClass(a.element,i.menuCommandFlyoutActivatedClass),d.element.setAttribute("aria-expanded","true"),d.addEventListener("beforehide",function e(){d.removeEventListener("beforehide",e,!1),h.removeClass(a.element,i.menuCommandFlyoutActivatedClass),d.element.removeAttribute("aria-expanded")},!1),d.addEventListener("aftershow",function f(){d.removeEventListener("aftershow",f,!1),b()},!1),d.show(a,"_cascade")):c()})},_deactivateFlyoutCommand:function(a){return new f(function(b){a=a.winControl||a,h.removeClass(a.element,i.menuCommandFlyoutActivatedClass);var c=a.flyout;c&&!c.hidden&&c.hide?(c.addEventListener("afterhide",function d(){c.removeEventListener("afterhide",d,!1),b()},!1),c.hide()):b()})}});return k})})});var e=this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);c.prototype=b.prototype,a.prototype=new c};return d("WinJS/Controls/CommandingSurface/_MenuCommand",["require","exports","../Menu/_Command"],function(a,b,c){var d=function(a){function b(b,c){c&&c.beforeInvoke&&(this._beforeInvoke=c.beforeInvoke),a.call(this,b,c)}return e(b,a),b.prototype._invoke=function(b){this._beforeInvoke&&this._beforeInvoke(b),a.prototype._invoke.call(this,b)},b}(c.MenuCommand);b._MenuCommand=d}),d("WinJS/Utilities/_OpenCloseMachine",["require","exports","../Core/_Global","../Promise","../_Signal"],function(a,b,c,d,e){"use strict";function f(a){return d._cancelBlocker(a,function(){a.cancel()})}function g(){}function h(a,b){a._interruptibleWorkPromises=a._interruptibleWorkPromises||[];var c=new e;a._interruptibleWorkPromises.push(b(c.promise)),c.complete()}function i(){(this._interruptibleWorkPromises||[]).forEach(function(a){a.cancel()})}var j={beforeOpen:"beforeopen",afterOpen:"afteropen",beforeClose:"beforeclose",afterClose:"afterclose",_openCloseStateSettled:"_openCloseStateSettled"},k=function(){function a(a){this._control=a,this._initializedSignal=new e,this._disposed=!1,this._setState(l.Init)}return a.prototype.exitInit=function(){this._initializedSignal.complete()},a.prototype.updateDom=function(){this._state.updateDom()},a.prototype.open=function(){this._state.open()},a.prototype.close=function(){this._state.close()},Object.defineProperty(a.prototype,"opened",{get:function(){return this._state.opened},set:function(a){a?this.open():this.close()},enumerable:!0,configurable:!0}),a.prototype.dispose=function(){this._setState(l.Disposed),this._disposed=!0,this._control=null},a.prototype._setState=function(a,b){this._disposed||(this._state&&this._state.exit(),this._state=new a,this._state.machine=this,this._state.enter(b))},a.prototype._fireEvent=function(a,b){b=b||{};var d=b.detail||null,e=!!b.cancelable,f=c.document.createEvent("CustomEvent");return f.initCustomEvent(a,!0,e,d),this._control.eventElement.dispatchEvent(f)},a.prototype._fireBeforeOpen=function(){return this._fireEvent(j.beforeOpen,{cancelable:!0})},a.prototype._fireBeforeClose=function(){return this._fireEvent(j.beforeClose,{cancelable:!0})},a}();b.OpenCloseMachine=k;var l;!function(a){function b(){this.machine._control.onUpdateDom()}var c=function(){function a(){this.name="Init",this.exit=i,this.updateDom=g}return a.prototype.enter=function(){var a=this;h(this,function(b){return b.then(function(){return a.machine._initializedSignal.promise}).then(function(){a.machine._control.onUpdateDomWithIsOpened(a._opened),a.machine._setState(a._opened?l:d)})})},Object.defineProperty(a.prototype,"opened",{get:function(){return this._opened},enumerable:!0,configurable:!0}),a.prototype.open=function(){this._opened=!0},a.prototype.close=function(){this._opened=!1},a}();a.Init=c;var d=function(){function a(){this.name="Closed",this.exit=g,this.opened=!1,this.close=g,this.updateDom=b}return a.prototype.enter=function(a){a=a||{},a.openIsPending&&this.open(),this.machine._fireEvent(j._openCloseStateSettled)},a.prototype.open=function(){this.machine._setState(e)},a}(),e=function(){function a(){this.name="BeforeOpen",this.exit=i,this.opened=!1,this.open=g,this.close=g,this.updateDom=b}return a.prototype.enter=function(){var a=this;h(this,function(b){return b.then(function(){return a.machine._fireBeforeOpen()}).then(function(b){b?a.machine._setState(k):a.machine._setState(d)})})},a}(),k=function(){function a(){this.name="Opening",this.exit=i,this.updateDom=g}return a.prototype.enter=function(){var a=this;h(this,function(b){return b.then(function(){return a._closeIsPending=!1,f(a.machine._control.onOpen())}).then(function(){a.machine._fireEvent(j.afterOpen)}).then(function(){a.machine._control.onUpdateDom(),a.machine._setState(l,{closeIsPending:a._closeIsPending})})})},Object.defineProperty(a.prototype,"opened",{get:function(){return!this._closeIsPending},enumerable:!0,configurable:!0}),a.prototype.open=function(){this._closeIsPending=!1},a.prototype.close=function(){this._closeIsPending=!0},a}(),l=function(){function a(){this.name="Opened",this.exit=g,this.opened=!0,this.open=g,this.updateDom=b}return a.prototype.enter=function(a){a=a||{},a.closeIsPending&&this.close(),this.machine._fireEvent(j._openCloseStateSettled)},a.prototype.close=function(){this.machine._setState(m)},a}(),m=function(){function a(){this.name="BeforeClose",this.exit=i,this.opened=!0,this.open=g,this.close=g,this.updateDom=b}return a.prototype.enter=function(){
var a=this;h(this,function(b){return b.then(function(){return a.machine._fireBeforeClose()}).then(function(b){b?a.machine._setState(n):a.machine._setState(l)})})},a}(),n=function(){function a(){this.name="Closing",this.exit=i,this.updateDom=g}return a.prototype.enter=function(){var a=this;h(this,function(b){return b.then(function(){return a._openIsPending=!1,f(a.machine._control.onClose())}).then(function(){a.machine._fireEvent(j.afterClose)}).then(function(){a.machine._control.onUpdateDom(),a.machine._setState(d,{openIsPending:a._openIsPending})})})},Object.defineProperty(a.prototype,"opened",{get:function(){return this._openIsPending},enumerable:!0,configurable:!0}),a.prototype.open=function(){this._openIsPending=!0},a.prototype.close=function(){this._openIsPending=!1},a}(),o=function(){function a(){this.name="Disposed",this.enter=g,this.exit=g,this.opened=!1,this.open=g,this.close=g,this.updateDom=g}return a}();a.Disposed=o}(l||(l={}))}),d("require-style!less/styles-commandingsurface",[],function(){}),d("require-style!less/colors-commandingsurface",[],function(){}),d("WinJS/Controls/CommandingSurface/_CommandingSurface",["require","exports","../../Animations","../../Core/_Base","../../Core/_BaseUtils","../../BindingList","../../ControlProcessor","../CommandingSurface/_Constants","../AppBar/_Command","../CommandingSurface/_MenuCommand","../../Utilities/_Control","../../Utilities/_Dispose","../../Utilities/_ElementUtilities","../../Core/_ErrorFromName","../../Core/_Events","../../Controls/Flyout","../../Core/_Global","../../Utilities/_Hoverable","../../Utilities/_KeyboardBehavior","../../Core/_Log","../../Promise","../../Core/_Resources","../../Scheduler","../../Utilities/_OpenCloseMachine","../../_Signal","../../Core/_WriteProfilerMark"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z){function A(a,b){b&&m.addClass(a,b)}function B(a,b){b&&m.removeClass(a,b)}function C(a,b){return a.filter(function(a){return b.indexOf(a)<0})}function D(a,b){return a.filter(function(a){return-1!==b.indexOf(a)})}a(["require-style!less/styles-commandingsurface"]),a(["require-style!less/colors-commandingsurface"]);var E={get overflowButtonAriaLabel(){return v._getWinJSString("ui/commandingSurfaceOverflowButtonAriaLabel").value},get badData(){return"Invalid argument: The data property must an instance of a WinJS.Binding.List"},get mustContainCommands(){return"The commandingSurface can only contain WinJS.UI.Command or WinJS.UI.AppBarCommand controls"},get duplicateConstruction(){return"Invalid argument: Controls may only be instantiated one time for each DOM element"}},F={bottom:"bottom",top:"top"},G={};G[F.top]=h.ClassNames.overflowTopClass,G[F.bottom]=h.ClassNames.overflowBottomClass;var H={none:"none",minimal:"minimal",compact:"compact",full:"full"},I={};I[H.none]=h.ClassNames.noneClass,I[H.minimal]=h.ClassNames.minimalClass,I[H.compact]=h.ClassNames.compactClass,I[H.full]=h.ClassNames.fullClass;var J=function(){function a(a,b){var c=this;if(void 0===b&&(b={}),this._hoverable=r.isHoverable,this._dataChangedEvents=["itemchanged","iteminserted","itemmoved","itemremoved","reload"],this._updateDomImpl=function(){var a={closedDisplayMode:void 0,isOpenedMode:void 0,overflowDirection:void 0,overflowAlignmentOffset:void 0},b=function(){var b=a,d=c._dom;if(b.isOpenedMode!==c._isOpenedMode&&(c._isOpenedMode?(B(d.root,h.ClassNames.closedClass),A(d.root,h.ClassNames.openedClass),d.overflowButton.setAttribute("aria-expanded","true"),d.firstTabStop.tabIndex=0,d.finalTabStop.tabIndex=0,d.firstTabStop.setAttribute("x-ms-aria-flowfrom",d.finalTabStop.id),d.finalTabStop.setAttribute("aria-flowto",d.firstTabStop.id)):(B(d.root,h.ClassNames.openedClass),A(d.root,h.ClassNames.closedClass),d.overflowButton.setAttribute("aria-expanded","false"),d.firstTabStop.tabIndex=-1,d.finalTabStop.tabIndex=-1,d.firstTabStop.removeAttribute("x-ms-aria-flowfrom"),d.finalTabStop.removeAttribute("aria-flowto")),b.isOpenedMode=c._isOpenedMode),b.closedDisplayMode!==c.closedDisplayMode&&(B(d.root,I[b.closedDisplayMode]),A(d.root,I[c.closedDisplayMode]),b.closedDisplayMode=c.closedDisplayMode),b.overflowDirection!==c.overflowDirection&&(B(d.root,G[b.overflowDirection]),A(d.root,G[c.overflowDirection]),b.overflowDirection=c.overflowDirection),c._overflowAlignmentOffset!==b.overflowAlignmentOffset){var e=c._rtl?"left":"right",f=c._overflowAlignmentOffset+"px";d.overflowAreaContainer.style[e]=f}},d={newDataStage:3,measuringStage:2,layoutStage:1,idle:0},e=d.idle,f=function(){c._writeProfilerMark("_updateDomImpl_updateCommands,info");for(var a=e;a!==d.idle;){var b=a,f=!1;switch(a){case d.newDataStage:a=d.measuringStage,f=c._processNewData();break;case d.measuringStage:a=d.layoutStage,f=c._measure();break;case d.layoutStage:a=d.idle,f=c._layoutCommands()}if(!f){a=b;break}}e=a,a===d.idle?c._layoutCompleteCallback&&c._layoutCompleteCallback():c._minimalLayout()};return{get renderedState(){return{get closedDisplayMode(){return a.closedDisplayMode},get isOpenedMode(){return a.isOpenedMode},get overflowDirection(){return a.overflowDirection},get overflowAlignmentOffset(){return a.overflowAlignmentOffset}}},update:function(){b(),f()},dataDirty:function(){e=Math.max(d.newDataStage,e)},measurementsDirty:function(){e=Math.max(d.measuringStage,e)},layoutDirty:function(){e=Math.max(d.layoutStage,e)},get _currentLayoutStage(){return e}}}(),this._writeProfilerMark("constructor,StartTM"),a){if(a.winControl)throw new n("WinJS.UI._CommandingSurface.DuplicateConstruction",E.duplicateConstruction);b.data||(b=e._shallowCopy(b),b.data=b.data||this._getDataFromDOMElements(a))}this._initializeDom(a||q.document.createElement("div")),this._machine=b.openCloseMachine||new x.OpenCloseMachine({eventElement:this._dom.root,onOpen:function(){return c.synchronousOpen(),u.wrap()},onClose:function(){return c.synchronousClose(),u.wrap()},onUpdateDom:function(){c._updateDomImpl.update()},onUpdateDomWithIsOpened:function(a){a?c.synchronousOpen():c.synchronousClose()}}),this._disposed=!1,this._primaryCommands=[],this._secondaryCommands=[],this._refreshBound=this._refresh.bind(this),this._resizeHandlerBound=this._resizeHandler.bind(this),this._winKeyboard=new s._WinKeyboard(this._dom.root),this._refreshPending=!1,this._rtl=!1,this._initializedSignal=new y,this._isOpenedMode=h.defaultOpened,this._menuCommandProjections=[],this.overflowDirection=h.defaultOverflowDirection,this.closedDisplayMode=h.defaultClosedDisplayMode,this.opened=this._isOpenedMode,k.setOptions(this,b),m._resizeNotifier.subscribe(this._dom.root,this._resizeHandlerBound),this._dom.root.addEventListener("keydown",this._keyDownHandler.bind(this)),m._addEventListener(this._dom.firstTabStop,"focusin",function(){c._focusLastFocusableElementOrThis(!1)}),m._addEventListener(this._dom.finalTabStop,"focusin",function(){c._focusFirstFocusableElementOrThis(!1)}),m._inDom(this._dom.root).then(function(){c._rtl="rtl"===m._getComputedStyle(c._dom.root).direction,b.openCloseMachine||c._machine.exitInit(),c._initializedSignal.complete(),c._writeProfilerMark("constructor,StopTM")})}return Object.defineProperty(a.prototype,"element",{get:function(){return this._dom.root},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"data",{get:function(){return this._data},set:function(a){if(this._writeProfilerMark("set_data,info"),a!==this.data){if(!(a instanceof f.List))throw new n("WinJS.UI._CommandingSurface.BadData",E.badData);this._data&&this._removeDataListeners(),this._data=a,this._addDataListeners(),this._dataUpdated()}},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"closedDisplayMode",{get:function(){return this._closedDisplayMode},set:function(a){this._writeProfilerMark("set_closedDisplayMode,info");var b=a!==this._closedDisplayMode;H[a]&&b&&(this._updateDomImpl.layoutDirty(),this._closedDisplayMode=a,this._machine.updateDom())},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"overflowDirection",{get:function(){return this._overflowDirection},set:function(a){var b=a!==this._overflowDirection;F[a]&&b&&(this._overflowDirection=a,this._machine.updateDom())},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"opened",{get:function(){return this._machine.opened},set:function(a){this._machine.opened=a},enumerable:!0,configurable:!0}),a.prototype.open=function(){this._machine.open()},a.prototype.close=function(){this._machine.close()},a.prototype.dispose=function(){this._disposed||(this._disposed=!0,this._machine.dispose(),m._resizeNotifier.unsubscribe(this._dom.root,this._resizeHandlerBound),this._contentFlyout&&(this._contentFlyout.dispose(),this._contentFlyout.element.parentNode.removeChild(this._contentFlyout.element)),l.disposeSubTree(this._dom.root))},a.prototype.forceLayout=function(){this._updateDomImpl.measurementsDirty(),this._machine.updateDom()},a.prototype.getBoundingRects=function(){return{commandingSurface:this._dom.root.getBoundingClientRect(),overflowArea:this._dom.overflowArea.getBoundingClientRect()}},a.prototype.getCommandById=function(a){if(this._data)for(var b=0,c=this._data.length;c>b;b++){var d=this._data.getAt(b);if(d.id===a)return d}return null},a.prototype.showOnlyCommands=function(a){if(this._data){for(var b=0,c=this._data.length;c>b;b++)this._data.getAt(b).hidden=!0;for(var b=0,c=a.length;c>b;b++){var d="string"==typeof a[b]?this.getCommandById(a[b]):a[b];d&&(d.hidden=!1)}}},a.prototype.takeFocus=function(a){this._focusFirstFocusableElementOrThis(a)},a.prototype._focusFirstFocusableElementOrThis=function(a){m._focusFirstFocusableElement(this._dom.content,a)||m._tryFocusOnAnyElement(this.element,a)},a.prototype._focusLastFocusableElementOrThis=function(a){m._focusLastFocusableElement(this._dom.content,a)||m._tryFocusOnAnyElement(this.element,a)},a.prototype.deferredDomUpate=function(){this._machine.updateDom()},a.prototype.createOpenAnimation=function(a){t.log&&this._updateDomImpl.renderedState.isOpenedMode&&t.log("The CommandingSurface should only attempt to create an open animation when it's not already opened");var b=this;return{execute:function(){m.addClass(b.element,h.ClassNames.openingClass);var d=b.getBoundingRects();return b._dom.overflowAreaContainer.style.width=d.overflowArea.width+"px",b._dom.overflowAreaContainer.style.height=d.overflowArea.height+"px",c._commandingSurfaceOpenAnimation({actionAreaClipper:b._dom.actionAreaContainer,actionArea:b._dom.actionArea,overflowAreaClipper:b._dom.overflowAreaContainer,overflowArea:b._dom.overflowArea,oldHeight:a,newHeight:d.commandingSurface.height,overflowAreaHeight:d.overflowArea.height,menuPositionedAbove:b.overflowDirection===F.top}).then(function(){m.removeClass(b.element,h.ClassNames.openingClass),b._clearAnimation()})}}},a.prototype.createCloseAnimation=function(a){t.log&&!this._updateDomImpl.renderedState.isOpenedMode&&t.log("The CommandingSurface should only attempt to create an closed animation when it's not already closed");var b=this.getBoundingRects().commandingSurface.height,d=this._dom.overflowArea.offsetHeight,e=(this._dom.overflowArea.offsetTop,this);return{execute:function(){return m.addClass(e.element,h.ClassNames.closingClass),c._commandingSurfaceCloseAnimation({actionAreaClipper:e._dom.actionAreaContainer,actionArea:e._dom.actionArea,overflowAreaClipper:e._dom.overflowAreaContainer,overflowArea:e._dom.overflowArea,oldHeight:b,newHeight:a,overflowAreaHeight:d,menuPositionedAbove:e.overflowDirection===F.top}).then(function(){m.removeClass(e.element,h.ClassNames.closingClass),e._clearAnimation()})}}},Object.defineProperty(a.prototype,"initialized",{get:function(){return this._initializedSignal.promise},enumerable:!0,configurable:!0}),a.prototype._writeProfilerMark=function(a){z("WinJS.UI._CommandingSurface:"+this._id+":"+a)},a.prototype._initializeDom=function(a){var b=this;this._writeProfilerMark("_intializeDom,info"),a.winControl=this,this._id=a.id||m._uniqueID(a),a.hasAttribute("tabIndex")||(a.tabIndex=-1),m.addClass(a,h.ClassNames.controlCssClass),m.addClass(a,h.ClassNames.disposableCssClass);var c=q.document.createElement("div");m.addClass(c,h.ClassNames.contentClass),a.appendChild(c);var d=q.document.createElement("div");m.addClass(d,h.ClassNames.actionAreaCssClass);var e=document.createElement("div");m.addClass(e,h.ClassNames.insetOutlineClass);var f=q.document.createElement("div");m.addClass(f,h.ClassNames.actionAreaContainerCssClass),f.appendChild(d),f.appendChild(e),c.appendChild(f);var g=q.document.createElement("div");m.addClass(g,h.ClassNames.spacerCssClass),g.tabIndex=-1,d.appendChild(g);var i=q.document.createElement("button");i.tabIndex=0,i.innerHTML="<span class='"+h.ClassNames.ellipsisCssClass+"'></span>",i.setAttribute("aria-label",E.overflowButtonAriaLabel),m.addClass(i,h.ClassNames.overflowButtonCssClass),d.appendChild(i),i.addEventListener("click",function(){b.opened=!b.opened});var j=q.document.createElement("div");m.addClass(j,h.ClassNames.overflowAreaCssClass),m.addClass(j,h.ClassNames.menuCssClass);var k=q.document.createElement("DIV");m.addClass(k,h.ClassNames.insetOutlineClass);var l=q.document.createElement("div");m.addClass(l,h.ClassNames.overflowAreaContainerCssClass),l.appendChild(j),l.appendChild(k),c.appendChild(l);var n=q.document.createElement("div");m.addClass(n,h.ClassNames.spacerCssClass),n.tabIndex=-1,j.appendChild(n);var o=q.document.createElement("div");m.addClass(o,h.ClassNames.tabStopClass),m._ensureId(o),a.insertBefore(o,a.children[0]);var p=q.document.createElement("div");m.addClass(p,h.ClassNames.tabStopClass),m._ensureId(p),a.appendChild(p),this._dom={root:a,content:c,actionArea:d,actionAreaContainer:f,actionAreaSpacer:g,overflowButton:i,overflowArea:j,overflowAreaContainer:l,overflowAreaSpacer:n,firstTabStop:o,finalTabStop:p}},a.prototype._getFocusableElementsInfo=function(){var a=this,b={elements:[],focusedIndex:-1},c=Array.prototype.slice.call(this._dom.actionArea.children);return this._updateDomImpl.renderedState.isOpenedMode&&(c=c.concat(Array.prototype.slice.call(this._dom.overflowArea.children))),c.forEach(function(c){a._isElementFocusable(c)&&(b.elements.push(c),c.contains(q.document.activeElement)&&(b.focusedIndex=b.elements.length-1))}),b},a.prototype._dataUpdated=function(){var a=this;this._primaryCommands=[],this._secondaryCommands=[],this.data.length>0&&this.data.forEach(function(b){"secondary"===b.section?a._secondaryCommands.push(b):a._primaryCommands.push(b)}),this._updateDomImpl.dataDirty(),this._machine.updateDom()},a.prototype._refresh=function(){var a=this;this._refreshPending||(this._refreshPending=!0,this._batchDataUpdates(function(){a._refreshPending&&!a._disposed&&(a._refreshPending=!1,a._dataUpdated())}))},a.prototype._batchDataUpdates=function(a){w.schedule(function(){a()},w.Priority.high,null,"WinJS.UI._CommandingSurface._refresh")},a.prototype._addDataListeners=function(){var a=this;this._dataChangedEvents.forEach(function(b){a._data.addEventListener(b,a._refreshBound,!1)})},a.prototype._removeDataListeners=function(){var a=this;this._dataChangedEvents.forEach(function(b){a._data.removeEventListener(b,a._refreshBound,!1)})},a.prototype._isElementFocusable=function(a){var b=!1;if(a){var c=a.winControl;b=c?!this._hasAnyHiddenClasses(c)&&c.type!==h.typeSeparator&&!c.hidden&&!c.disabled&&(!c.firstElementFocus||c.firstElementFocus.tabIndex>=0||c.lastElementFocus.tabIndex>=0):"none"!==a.style.display&&"hidden"!==m._getComputedStyle(a).visibility&&a.tabIndex>=0}return b},a.prototype._clearHiddenPolicyClasses=function(a){m.removeClass(a.element,h.ClassNames.commandPrimaryOverflownPolicyClass),m.removeClass(a.element,h.ClassNames.commandSecondaryOverflownPolicyClass),m.removeClass(a.element,h.ClassNames.commandSeparatorHiddenPolicyClass)},a.prototype._hasHiddenPolicyClasses=function(a){return m.hasClass(a.element,h.ClassNames.commandPrimaryOverflownPolicyClass)||m.hasClass(a.element,h.ClassNames.commandSecondaryOverflownPolicyClass)||m.hasClass(a.element,h.ClassNames.commandSeparatorHiddenPolicyClass)},a.prototype._hasAnyHiddenClasses=function(a){return m.hasClass(a.element,h.ClassNames.commandHiddenClass)||this._hasHiddenPolicyClasses(a)},a.prototype._isCommandInActionArea=function(a){return a&&a.winControl&&a.parentElement===this._dom.actionArea},a.prototype._getLastElementFocus=function(a){return this._isCommandInActionArea(a)?a.winControl.lastElementFocus:a},a.prototype._getFirstElementFocus=function(a){return this._isCommandInActionArea(a)?a.winControl.firstElementFocus:a},a.prototype._keyDownHandler=function(a){if(!a.altKey){if(m._matchesSelector(a.target,".win-interactive, .win-interactive *"))return;var b,c=m.Key,d=this._getFocusableElementsInfo();if(d.elements.length)switch(a.keyCode){case this._rtl?c.rightArrow:c.leftArrow:case c.upArrow:var e=Math.max(0,d.focusedIndex-1);b=this._getLastElementFocus(d.elements[e%d.elements.length]);break;case this._rtl?c.leftArrow:c.rightArrow:case c.downArrow:var e=Math.min(d.focusedIndex+1,d.elements.length-1);b=this._getFirstElementFocus(d.elements[e]);break;case c.home:var e=0;b=this._getFirstElementFocus(d.elements[e]);break;case c.end:var e=d.elements.length-1;b=this._getLastElementFocus(d.elements[e])}b&&b!==q.document.activeElement&&(b.focus(),a.preventDefault())}},a.prototype._getDataFromDOMElements=function(a){this._writeProfilerMark("_getDataFromDOMElements,info"),g.processAll(a,!0);for(var b,c=[],d=a.children.length,e=0;d>e;e++){if(b=a.children[e],!(b.winControl&&b.winControl instanceof i.AppBarCommand))throw new n("WinJS.UI._CommandingSurface.MustContainCommands",E.mustContainCommands);c.push(b.winControl)}return new f.List(c)},a.prototype._canMeasure=function(){return(this._updateDomImpl.renderedState.isOpenedMode||this._updateDomImpl.renderedState.closedDisplayMode===H.compact||this._updateDomImpl.renderedState.closedDisplayMode===H.full)&&q.document.body.contains(this._dom.root)&&this._dom.actionArea.offsetWidth>0},a.prototype._resizeHandler=function(){if(this._canMeasure()){var a=m._getPreciseContentWidth(this._dom.actionArea);this._cachedMeasurements&&this._cachedMeasurements.actionAreaContentBoxWidth!==a&&(this._cachedMeasurements.actionAreaContentBoxWidth=a,this._updateDomImpl.layoutDirty(),this._machine.updateDom())}else this._updateDomImpl.measurementsDirty()},a.prototype.synchronousOpen=function(){this._overflowAlignmentOffset=0,this._isOpenedMode=!0,this._updateDomImpl.update(),this._overflowAlignmentOffset=this._computeAdjustedOverflowAreaOffset(),this._updateDomImpl.update()},a.prototype._computeAdjustedOverflowAreaOffset=function(){t.log&&(!this._updateDomImpl.renderedState.isOpenedMode&&t.log("The CommandingSurface should only attempt to compute adjusted overflowArea offset  when it has been rendered opened"),0!==this._updateDomImpl.renderedState.overflowAlignmentOffset&&t.log("The CommandingSurface should only attempt to compute adjusted overflowArea offset  when it has been rendered with an overflowAlignementOffset of 0"));var a=(this._dom.overflowArea,this.getBoundingRects()),b=0;if(this._rtl){var c=window.innerWidth,d=a.overflowArea.right;b=Math.min(c-d,0)}else{var e=a.overflowArea.left;b=Math.min(0,e)}return b},a.prototype.synchronousClose=function(){this._isOpenedMode=!1,this._updateDomImpl.update()},a.prototype.updateDom=function(){this._updateDomImpl.update()},a.prototype._getDataChangeInfo=function(){var a=this,b=[],c=[],d=[],e=[],f=[],g=[],i=[],j=[],k=[],l=[];return Array.prototype.forEach.call(this._dom.actionArea.querySelectorAll(h.commandSelector),function(b){a._hasAnyHiddenClasses(b.winControl)||e.push(b),f.push(b)}),this.data.forEach(function(b){var c=b.hidden,d=c&&!m.hasClass(b.element,h.ClassNames.commandHiddenClass),e=!c&&m.hasClass(b.element,h.ClassNames.commandHiddenClass),f=m.hasClass(b.element,h.ClassNames.commandPrimaryOverflownPolicyClass);a._hasAnyHiddenClasses(b.element.winControl)||g.push(b.element),f?j.push(b.element):d?k.push(b.element):e&&l.push(b.element),i.push(b.element)}),c=C(f,i),d=D(e,g),b=C(i,f),{nextElements:i,prevElements:f,added:b,deleted:c,unchanged:d,hiding:k,showing:l,overflown:j}},a.prototype._processNewData=function(){var a=this;this._writeProfilerMark("_processNewData,info");var b=this._getDataChangeInfo(),d=c._createUpdateListAnimation(b.added.concat(b.showing).concat(b.overflown),b.deleted.concat(b.hiding),b.unchanged);return b.deleted.forEach(function(b){var c=b.winControl;c&&c._propertyMutations&&c._propertyMutations.unbind(a._refreshBound)}),b.added.forEach(function(b){var c=b.winControl;c&&c._propertyMutations&&c._propertyMutations.bind(a._refreshBound)}),b.prevElements.forEach(function(a){a.parentElement&&a.parentElement.removeChild(a)}),b.nextElements.forEach(function(b){a._dom.actionArea.appendChild(b)}),b.hiding.forEach(function(a){m.addClass(a,h.ClassNames.commandHiddenClass)}),b.showing.forEach(function(a){m.removeClass(a,h.ClassNames.commandHiddenClass)}),this._dom.actionArea.appendChild(this._dom.overflowButton),d.execute(),!0},a.prototype._measure=function(){var a=this;if(this._writeProfilerMark("_measure,info"),this._canMeasure()){var b=this._dom.overflowButton.style.display;this._dom.overflowButton.style.display="";var c=m._getPreciseTotalWidth(this._dom.overflowButton);this._dom.overflowButton.style.display=b;var d=m._getPreciseContentWidth(this._dom.actionArea),e=0,f=0,g={};return this._primaryCommands.forEach(function(b){var c=b.element.style.display;b.element.style.display="inline-block",b.type===h.typeContent?g[a._commandUniqueId(b)]=m._getPreciseTotalWidth(b.element):b.type===h.typeSeparator?e||(e=m._getPreciseTotalWidth(b.element)):f||(f=m._getPreciseTotalWidth(b.element)),b.element.style.display=c}),this._cachedMeasurements={contentCommandWidths:g,separatorWidth:e,standardCommandWidth:f,overflowButtonWidth:c,actionAreaContentBoxWidth:d},!0}return!1},a.prototype._layoutCommands=function(){var a=this;this._writeProfilerMark("_layoutCommands,StartTM");var b=[],c=[],d=[],e=[];this.data.forEach(function(d){a._clearHiddenPolicyClasses(d),d.hidden||(d.section===h.secondaryCommandSection?b.push(d):c.push(d))});var f=b.length>0,g=this._getVisiblePrimaryCommandsLocation(c,f);d=g.commandsForActionArea,e=g.commandsForOverflowArea,e.forEach(function(a){return m.addClass(a.element,h.ClassNames.commandPrimaryOverflownPolicyClass)}),b.forEach(function(a){return m.addClass(a.element,h.ClassNames.commandSecondaryOverflownPolicyClass)}),this._hideSeparatorsIfNeeded(d),m.empty(this._dom.overflowArea),this._menuCommandProjections.map(function(a){a.dispose()});var i=function(a){return a.type===h.typeContent},k=e.some(i)||b.some(i);k&&!this._contentFlyout&&(this._contentFlyoutInterior=q.document.createElement("div"),m.addClass(this._contentFlyoutInterior,h.ClassNames.contentFlyoutCssClass),this._contentFlyout=new p.Flyout,this._contentFlyout.element.appendChild(this._contentFlyoutInterior),q.document.body.appendChild(this._contentFlyout.element),this._contentFlyout.onbeforeshow=function(){m.empty(a._contentFlyoutInterior),m._reparentChildren(a._chosenCommand.element,a._contentFlyoutInterior)},this._contentFlyout.onafterhide=function(){m._reparentChildren(a._contentFlyoutInterior,a._chosenCommand.element)});var l=!1,n=[];if(e.forEach(function(b){b.type===h.typeToggle&&(l=!0),n.push(a._projectAsMenuCommand(b))}),e.length>0&&b.length>0){var o=new j._MenuCommand(null,{type:h.typeSeparator});n.push(o)}b.forEach(function(b){b.type===h.typeToggle&&(l=!0),n.push(a._projectAsMenuCommand(b))}),this._hideSeparatorsIfNeeded(n),n.forEach(function(b){a._dom.overflowArea.appendChild(b.element)}),this._menuCommandProjections=n,m[l?"addClass":"removeClass"](this._dom.overflowArea,h.ClassNames.menuContainsToggleCommandClass),n.length>0&&this._dom.overflowArea.appendChild(this._dom.overflowAreaSpacer);var r=this._needsOverflowButton(d.length>0,n.length>0);return this._dom.overflowButton.style.display=r?"":"none",this._writeProfilerMark("_layoutCommands,StopTM"),!0},a.prototype._getVisiblePrimaryCommandsInfo=function(a){for(var b=0,c=[],d=0,e=0,f=a.length-1;f>=0;f--){var g=a[f];d=void 0===g.priority?e--:g.priority,b=this._getCommandWidth(g),c.unshift({command:g,width:b,priority:d})}return c},a.prototype._getVisiblePrimaryCommandsLocation=function(a,b){for(var c=[],d=[],e=this._getVisiblePrimaryCommandsInfo(a),f=e.slice(0).sort(function(a,b){return a.priority-b.priority}),g=Number.MAX_VALUE,h=this._cachedMeasurements.actionAreaContentBoxWidth,i=this._needsOverflowButton(a.length>0,b),j=0,k=f.length;k>j;j++){h-=f[j].width;var l=i||j!==k-1?this._cachedMeasurements.overflowButtonWidth:0;if(l>h){g=f[j].priority-1;break}}return e.forEach(function(a){a.priority<=g?c.push(a.command):d.push(a.command)}),{commandsForActionArea:c,commandsForOverflowArea:d}},a.prototype._needsOverflowButton=function(a,b){return b?!0:!(!this._hasExpandableActionArea()||!a)},a.prototype._minimalLayout=function(){if(this.closedDisplayMode===H.minimal){var a=function(a){return!a.hidden},b=this.data.some(a);this._dom.overflowButton.style.display=b?"":"none"}},a.prototype._commandUniqueId=function(a){return m._uniqueID(a.element)},a.prototype._getCommandWidth=function(a){return a.type===h.typeContent?this._cachedMeasurements.contentCommandWidths[this._commandUniqueId(a)]:a.type===h.typeSeparator?this._cachedMeasurements.separatorWidth:this._cachedMeasurements.standardCommandWidth},a.prototype._projectAsMenuCommand=function(a){var b=this,c=new j._MenuCommand(null,{label:a.label,type:(a.type===h.typeContent?h.typeFlyout:a.type)||h.typeButton,disabled:a.disabled,flyout:a.flyout,beforeInvoke:function(){b._chosenCommand=c._originalICommand,b._chosenCommand.type===h.typeToggle&&(b._chosenCommand.selected=!b._chosenCommand.selected)}});return a.selected&&(c.selected=!0),a.extraClass&&(c.extraClass=a.extraClass),a.type===h.typeContent?(c.label||(c.label=h.contentMenuCommandDefaultLabel),c.flyout=this._contentFlyout):c.onclick=a.onclick,c._originalICommand=a,c},a.prototype._hideSeparatorsIfNeeded=function(a){var b,c=h.typeSeparator,d=a.length;a.forEach(function(a){a.type===h.typeSeparator&&c===h.typeSeparator&&m.addClass(a.element,h.ClassNames.commandSeparatorHiddenPolicyClass),c=a.type});for(var e=d-1;e>=0&&(b=a[e],b.type===h.typeSeparator);e--)m.addClass(b.element,h.ClassNames.commandSeparatorHiddenPolicyClass)},a.prototype._hasExpandableActionArea=function(){switch(this.closedDisplayMode){case H.none:case H.minimal:case H.compact:return!0;case H.full:default:return!1}},a.prototype._clearAnimation=function(){var a=e._browserStyleEquivalents.transform.scriptName;this._dom.actionAreaContainer.style[a]="",this._dom.actionArea.style[a]="",this._dom.overflowAreaContainer.style[a]="",this._dom.overflowArea.style[a]=""},a.ClosedDisplayMode=H,a.OverflowDirection=F,a.supportedForProcessing=!0,a}();b._CommandingSurface=J,d.Class.mix(J,o.createEventProperties(h.EventNames.beforeOpen,h.EventNames.afterOpen,h.EventNames.beforeClose,h.EventNames.afterClose)),d.Class.mix(J,k.DOMEventMixin)}),d("WinJS/Controls/CommandingSurface",["require","exports"],function(a,b){function c(){return d||a(["./CommandingSurface/_CommandingSurface"],function(a){d=a}),d._CommandingSurface}var d=null,e=Object.create({},{_CommandingSurface:{get:function(){return c()}}});return e}),d("require-style!less/styles-toolbar",[],function(){}),d("WinJS/Controls/ToolBar/_ToolBar",["require","exports","../../Core/_Base","../ToolBar/_Constants","../CommandingSurface","../../Utilities/_Control","../../Utilities/_Dispose","../../Utilities/_ElementUtilities","../../Core/_ErrorFromName","../../Core/_Events","../../Core/_Global","../../_LightDismissService","../../Core/_Resources","../../Utilities/_OpenCloseMachine","../../Core/_WriteProfilerMark"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){function p(a,b){b&&h.addClass(a,b)}function q(a,b){b&&h.removeClass(a,b)}a(["require-style!less/styles-toolbar"]);var r={get ariaLabel(){return m._getWinJSString("ui/toolbarAriaLabel").value},get overflowButtonAriaLabel(){return m._getWinJSString("ui/toolbarOverflowButtonAriaLabel").value},get mustContainCommands(){return"The toolbar can only contain WinJS.UI.Command or WinJS.UI.AppBarCommand controls"},get duplicateConstruction(){return"Invalid argument: Controls may only be instantiated one time for each DOM element"}},s={compact:"compact",full:"full"},t={};t[s.compact]=d.ClassNames.compactClass,t[s.full]=d.ClassNames.fullClass;var u=function(){function a(a,b){var c=this;if(void 0===b&&(b={}),this._updateDomImpl_renderedState={isOpenedMode:void 0,closedDisplayMode:void 0,prevInlineWidth:void 0},this._writeProfilerMark("constructor,StartTM"),a&&a.winControl)throw new i("WinJS.UI.ToolBar.DuplicateConstruction",r.duplicateConstruction);this._initializeDom(a||k.document.createElement("div"));var g=new n.OpenCloseMachine({eventElement:this.element,onOpen:function(){var a=c._commandingSurface.createOpenAnimation(c._getClosedHeight());return c._synchronousOpen(),a.execute()},onClose:function(){var a=c._commandingSurface.createCloseAnimation(c._getClosedHeight());return a.execute().then(function(){c._synchronousClose()})},onUpdateDom:function(){c._updateDomImpl()},onUpdateDomWithIsOpened:function(a){c._isOpenedMode=a,c._updateDomImpl()}});this._handleShowingKeyboardBound=this._handleShowingKeyboard.bind(this),h._inputPaneListener.addEventListener(this._dom.root,"showing",this._handleShowingKeyboardBound),this._disposed=!1,this._cachedClosedHeight=null,this._commandingSurface=new e._CommandingSurface(this._dom.commandingSurfaceEl,{openCloseMachine:g}),p(this._dom.commandingSurfaceEl.querySelector(".win-commandingsurface-actionarea"),d.ClassNames.actionAreaCssClass),p(this._dom.commandingSurfaceEl.querySelector(".win-commandingsurface-overflowarea"),d.ClassNames.overflowAreaCssClass),p(this._dom.commandingSurfaceEl.querySelector(".win-commandingsurface-overflowbutton"),d.ClassNames.overflowButtonCssClass),p(this._dom.commandingSurfaceEl.querySelector(".win-commandingsurface-ellipsis"),d.ClassNames.ellipsisCssClass),this._isOpenedMode=d.defaultOpened,this._dismissable=new l.LightDismissableElement({element:this._dom.root,tabIndex:this._dom.root.hasAttribute("tabIndex")?this._dom.root.tabIndex:-1,onLightDismiss:function(){c.close()},onTakeFocus:function(a){c._dismissable.restoreFocus()||c._commandingSurface.takeFocus(a)}}),this.closedDisplayMode=d.defaultClosedDisplayMode,this.opened=this._isOpenedMode,f.setOptions(this,b),h._inDom(this.element).then(function(){return c._commandingSurface.initialized}).then(function(){g.exitInit(),c._writeProfilerMark("constructor,StopTM")})}return Object.defineProperty(a.prototype,"element",{get:function(){return this._dom.root},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"data",{get:function(){return this._commandingSurface.data},set:function(a){this._commandingSurface.data=a},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"closedDisplayMode",{get:function(){return this._commandingSurface.closedDisplayMode},set:function(a){s[a]&&(this._commandingSurface.closedDisplayMode=a,this._cachedClosedHeight=null)},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"opened",{get:function(){return this._commandingSurface.opened},set:function(a){this._commandingSurface.opened=a},enumerable:!0,configurable:!0}),a.prototype.open=function(){this._commandingSurface.open()},a.prototype.close=function(){this._commandingSurface.close()},a.prototype.dispose=function(){this._disposed||(this._disposed=!0,l.hidden(this._dismissable),this._commandingSurface.dispose(),this._synchronousClose(),h._inputPaneListener.removeEventListener(this._dom.root,"showing",this._handleShowingKeyboardBound),g.disposeSubTree(this.element))},a.prototype.forceLayout=function(){this._commandingSurface.forceLayout()},a.prototype.getCommandById=function(a){return this._commandingSurface.getCommandById(a)},a.prototype.showOnlyCommands=function(a){return this._commandingSurface.showOnlyCommands(a)},a.prototype._writeProfilerMark=function(a){o("WinJS.UI.ToolBar:"+this._id+":"+a)},a.prototype._initializeDom=function(a){
this._writeProfilerMark("_intializeDom,info"),a.winControl=this,this._id=a.id||h._uniqueID(a),h.addClass(a,d.ClassNames.controlCssClass),h.addClass(a,d.ClassNames.disposableCssClass);var b=a.getAttribute("role");b||a.setAttribute("role","menubar");var c=a.getAttribute("aria-label");c||a.setAttribute("aria-label",r.ariaLabel);var e=document.createElement("DIV");h._reparentChildren(a,e),a.appendChild(e);var f=k.document.createElement("DIV");h.addClass(f,d.ClassNames.placeHolderCssClass),g.markDisposable(f,this.dispose.bind(this)),this._dom={root:a,commandingSurfaceEl:e,placeHolder:f}},a.prototype._handleShowingKeyboard=function(a){this.close()},a.prototype._synchronousOpen=function(){this._isOpenedMode=!0,this._updateDomImpl()},a.prototype._synchronousClose=function(){this._isOpenedMode=!1,this._updateDomImpl()},a.prototype._updateDomImpl=function(){var a=this._updateDomImpl_renderedState;a.isOpenedMode!==this._isOpenedMode&&(this._isOpenedMode?this._updateDomImpl_renderOpened():this._updateDomImpl_renderClosed(),a.isOpenedMode=this._isOpenedMode),a.closedDisplayMode!==this.closedDisplayMode&&(q(this._dom.root,t[a.closedDisplayMode]),p(this._dom.root,t[this.closedDisplayMode]),a.closedDisplayMode=this.closedDisplayMode),this._commandingSurface.updateDom()},a.prototype._getClosedHeight=function(){if(null===this._cachedClosedHeight){var a=this._isOpenedMode;this._isOpenedMode&&this._synchronousClose(),this._cachedClosedHeight=this._commandingSurface.getBoundingRects().commandingSurface.height,a&&this._synchronousOpen()}return this._cachedClosedHeight},a.prototype._updateDomImpl_renderOpened=function(){var a=this;this._updateDomImpl_renderedState.prevInlineWidth=this._dom.root.style.width;var b=this._dom.root.getBoundingClientRect(),c=h._getPreciseContentWidth(this._dom.root),e=h._getPreciseContentHeight(this._dom.root),f=h._getComputedStyle(this._dom.root),g=h._convertToPrecisePixels(f.paddingTop),i=h._convertToPrecisePixels(f.borderTopWidth),j=h._getPreciseMargins(this._dom.root),m=b.top+i+g,n=m+e,o=this._dom.placeHolder,p=o.style;p.width=b.width+"px",p.height=b.height+"px",p.marginTop=j.top+"px",p.marginRight=j.right+"px",p.marginBottom=j.bottom+"px",p.marginLeft=j.left+"px",h._maintainFocus(function(){a._dom.root.parentElement.insertBefore(o,a._dom.root),k.document.body.appendChild(a._dom.root),a._dom.root.style.width=c+"px",a._dom.root.style.left=b.left-j.left+"px";var e=0,f=k.innerHeight,g=m-e,i=f-n;g>i?(a._commandingSurface.overflowDirection=d.OverflowDirection.top,a._dom.root.style.bottom=f-b.bottom-j.bottom+"px"):(a._commandingSurface.overflowDirection=d.OverflowDirection.bottom,a._dom.root.style.top=e+b.top-j.top+"px"),h.addClass(a._dom.root,d.ClassNames.openedClass),h.removeClass(a._dom.root,d.ClassNames.closedClass)}),this._commandingSurface.synchronousOpen(),l.shown(this._dismissable)},a.prototype._updateDomImpl_renderClosed=function(){var a=this;h._maintainFocus(function(){if(a._dom.placeHolder.parentElement){var b=a._dom.placeHolder;b.parentElement.insertBefore(a._dom.root,b),b.parentElement.removeChild(b)}a._dom.root.style.top="",a._dom.root.style.right="",a._dom.root.style.bottom="",a._dom.root.style.left="",a._dom.root.style.width=a._updateDomImpl_renderedState.prevInlineWidth,h.addClass(a._dom.root,d.ClassNames.closedClass),h.removeClass(a._dom.root,d.ClassNames.openedClass)}),this._commandingSurface.synchronousClose(),l.hidden(this._dismissable)},a.ClosedDisplayMode=s,a.supportedForProcessing=!0,a}();b.ToolBar=u,c.Class.mix(u,j.createEventProperties(d.EventNames.beforeOpen,d.EventNames.afterOpen,d.EventNames.beforeClose,d.EventNames.afterClose)),c.Class.mix(u,f.DOMEventMixin)}),d("WinJS/Controls/ToolBar",["require","exports","../Core/_Base"],function(a,b,c){var d=null;c.Namespace.define("WinJS.UI",{ToolBar:{get:function(){return d||a(["./ToolBar/_ToolBar"],function(a){d=a}),d.ToolBar}}})}),d("WinJS/Controls/_LegacyAppBar/_Layouts",["exports","../../Animations/_TransitionAnimation","../../BindingList","../../Core/_BaseUtils","../../Core/_Global","../../Core/_Base","../../Core/_ErrorFromName","../../Core/_Resources","../../Core/_WriteProfilerMark","../../Controls/ToolBar","../../Controls/ToolBar/_Constants","../../Promise","../../Scheduler","../../Utilities/_Control","../../Utilities/_Dispose","../../Utilities/_ElementUtilities","../AppBar/_Command","./_Constants"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){"use strict";f.Namespace._moduleDefine(a,"WinJS.UI",{_AppBarBaseLayout:f.Namespace._lazy(function(){var a=r.appBarLayoutCustom,b={get nullCommand(){return"Invalid argument: command must not be null"}},c=f.Class.define(function(a,b){this._disposed=!1,b=b||{},n.setOptions(this,b),a&&this.connect(a)},{className:{get:function(){return this._className}},type:{get:function(){return this._type||a}},commandsInOrder:{get:function(){var a=this.appBarEl.querySelectorAll("."+r.appBarCommandClass);return Array.prototype.map.call(a,function(a){return a.winControl})}},connect:function(a){this.className&&p.addClass(a,this.className),this.appBarEl=a},disconnect:function(){this.className&&p.removeClass(this.appBarEl,this.className),this.appBarEl=null,this.dispose()},layout:function(a){for(var b=a.length,c=0;b>c;c++){var d=this.sanitizeCommand(a[c]);this.appBarEl.appendChild(d._element)}},showCommands:function(a){this.appBarEl.winControl._showCommands(a)},showOnlyCommands:function(a){this.appBarEl.winControl._showOnlyCommands(a)},hideCommands:function(a){this.appBarEl.winControl._hideCommands(a)},sanitizeCommand:function(a){if(!a)throw new g("WinJS.UI.AppBar.NullCommand",b.nullCommand);return a=a.winControl||a,a._element||(a=new q.AppBarCommand(null,a)),a._element.parentElement&&a._element.parentElement.removeChild(a._element),a},dispose:function(){this._disposed=!0},disposeChildren:function(){var a=this.appBarEl.querySelectorAll("."+r.firstDivClass);a=a.length>=1?a[0]:null;var b=this.appBarEl.querySelectorAll("."+r.finalDivClass);b=b.length>=1?b[0]:null;for(var c=this.appBarEl.children,d=c.length,e=0;d>e;e++){var f=c[e];f!==a&&f!==b&&o.disposeSubTree(f)}},handleKeyDown:function(){},commandsUpdated:function(){},beginAnimateCommands:function(){},endAnimateCommands:function(){},scale:function(){},resize:function(){},positionChanging:function(a,b){return l.wrap()},setFocusOnShow:function(){this.appBarEl.winControl._setFocusToAppBar()}});return c})}),f.Namespace._moduleDefine(a,"WinJS.UI",{_AppBarCommandsLayout:f.Namespace._lazy(function(){var b=r.commandLayoutClass,c=r.appBarLayoutCommands,d=f.Class.derive(a._AppBarBaseLayout,function(d){a._AppBarBaseLayout.call(this,d,{_className:b,_type:c}),this._commandLayoutsInit(d)},{commandsInOrder:{get:function(){return this._originalCommands.filter(function(a){return this.appBarEl.contains(a.element)},this)}},layout:function(a){p.empty(this._primaryCommands),p.empty(this._secondaryCommands),this._originalCommands=[];for(var b=0,c=a.length;c>b;b++){var d=this.sanitizeCommand(a[b]);this._originalCommands.push(d),"primary"===d.section||"global"===d.section?this._primaryCommands.appendChild(d._element):this._secondaryCommands.appendChild(d._element)}this.appBarEl.appendChild(this._secondaryCommands),this.appBarEl.appendChild(this._primaryCommands),this._needToMeasureNewCommands=!0,m.schedule(function(){this._needToMeasureNewCommands&&!this._disposed&&this.scale()}.bind(this),m.Priority.idle,this,"WinJS._commandLayoutsMixin._scaleNewCommands")},disposeChildren:function(){o.disposeSubTree(this._primaryCommands),o.disposeSubTree(this._secondaryCommands)},handleKeyDown:function(a){var b=p.Key;if(!p._matchesSelector(a.target,".win-interactive, .win-interactive *")){var c="rtl"===p._getComputedStyle(this.appBarEl).direction,d=c?b.rightArrow:b.leftArrow,f=c?b.leftArrow:b.rightArrow;if(a.keyCode===d||a.keyCode===f||a.keyCode===b.home||a.keyCode===b.end){var g,h=this._primaryCommands.contains(e.document.activeElement),i=this._getFocusableCommandsInLogicalOrder(h);if(i.length)switch(a.keyCode){case d:var j=Math.max(-1,i.focusedIndex-1)+i.length;g=i[j%i.length].winControl.lastElementFocus;break;case f:var j=i.focusedIndex+1+i.length;g=i[j%i.length].winControl.firstElementFocus;break;case b.home:var j=0;g=i[j].winControl.firstElementFocus;break;case b.end:var j=i.length-1;g=i[j].winControl.lastElementFocus}g&&g!==e.document.activeElement&&(g.focus(),a.preventDefault())}}},commandsUpdated:function(a){var b=a?a:this.commandsInOrder.filter(function(a){return!a.hidden});this._fullSizeWidthOfLastKnownVisibleCommands=this._getWidthOfFullSizeCommands(b)},beginAnimateCommands:function(a,b,c){this._scaleAfterAnimations=!1;var d=this._getWidthOfFullSizeCommands(a)-this._getWidthOfFullSizeCommands(b);if(d>0){var e=c.concat(a);this.commandsUpdated(e),this.scale()}else 0>d&&(this._scaleAfterAnimations=!0)},endAnimateCommands:function(){this._scaleAfterAnimations&&(this.commandsUpdated(),this.scale())},resize:function(){this._disposed||(this._appBarTotalKnownWidth=null,this.appBarEl.winControl.opened&&this.scale())},disconnect:function(){a._AppBarBaseLayout.prototype.disconnect.call(this)},_getWidthOfFullSizeCommands:function(a){this._needToMeasureNewCommands&&this._measureContentCommands();var b=0,c=0,d=0;if(!a)return this._fullSizeWidthOfLastKnownVisibleCommands;for(var e,f=0,g=a.length;g>f;f++)e=a[f].winControl||a[f],e._type===r.typeSeparator?c++:e._type!==r.typeContent?d++:b+=e._fullSizeWidth;return b+=c*r.separatorWidth+d*r.buttonWidth},_getFocusableCommandsInLogicalOrder:function(){var a=this._secondaryCommands.children,b=this._primaryCommands.children,c=-1,d=function(a){for(var b=[],d=0,f=a.length;f>d;d++){var g=a[d];if(p.hasClass(g,r.appBarCommandClass)&&g.winControl){var h=g.contains(e.document.activeElement);(g.winControl._isFocusable()||h)&&(b.push(g),h&&(c=b.length-1))}}return b},f=Array.prototype.slice.call(a).concat(Array.prototype.slice.call(b)),g=d(f);return g.focusedIndex=c,g},_commandLayoutsInit:function(){this._primaryCommands=e.document.createElement("DIV"),this._secondaryCommands=e.document.createElement("DIV"),p.addClass(this._primaryCommands,r.primaryCommandsClass),p.addClass(this._secondaryCommands,r.secondaryCommandsClass)},_scaleHelper:function(){var a="minimal"===this.appBarEl.winControl.closedDisplayMode?r.appBarInvokeButtonWidth:0;return e.document.documentElement.clientWidth-a},_measureContentCommands:function(){if(e.document.body.contains(this.appBarEl)){this._needToMeasureNewCommands=!1;var a=p.hasClass(this.appBarEl,"win-navbar-closed");p.removeClass(this.appBarEl,"win-navbar-closed");var b=this.appBarEl.style.display;this.appBarEl.style.display="";for(var c,d,f=this.appBarEl.querySelectorAll("div."+r.appBarCommandClass),g=0,h=f.length;h>g;g++)d=f[g],d.winControl&&d.winControl._type===r.typeContent&&(c=d.style.display,d.style.display="",d.winControl._fullSizeWidth=p.getTotalWidth(d)||0,d.style.display=c);this.appBarEl.style.display=b,a&&p.addClass(this.appBarEl,"win-navbar-closed"),this.commandsUpdated()}}});return d})}),f.Namespace._moduleDefine(a,"WinJS.UI",{_AppBarMenuLayout:f.Namespace._lazy(function(){function g(a,c){var f=c.duration*b._animationFactor,g=d._browserStyleEquivalents.transition.scriptName;a.style[g]=f+"ms "+t.cssName+" "+c.timing,a.style[t.scriptName]=c.to;var h;return new l(function(b){var c=function(b){b.target===a&&b.propertyName===t.cssName&&h()},i=!1;h=function(){i||(e.clearTimeout(j),a.removeEventListener(d._browserEventEquivalents.transitionEnd,c),a.style[g]="",i=!0),b()};var j=e.setTimeout(function(){j=e.setTimeout(h,f)},50);a.addEventListener(d._browserEventEquivalents.transitionEnd,c)},function(){h()})}function h(a,b,c){var d=c.anchorTrailingEdge?c.to.total-c.from.total:c.from.total-c.to.total,e="width"===c.dimension?"translateX":"translateY",f=c.dimension,h=c.duration||367,i=c.timing||"cubic-bezier(0.1, 0.9, 0.2, 1)";a.style[f]=c.to.total+"px",a.style[t.scriptName]=e+"("+d+"px)",b.style[f]=c.to.content+"px",b.style[t.scriptName]=e+"("+-d+"px)",p._getComputedStyle(a).opacity,p._getComputedStyle(b).opacity;var j={duration:h,timing:i,to:""};return l.join([g(a,j),g(b,j)])}function m(a,b,c){var e=c.anchorTrailingEdge?c.from.total-c.to.total:c.to.total-c.from.total,f="width"===c.dimension?"translateX":"translateY",h=c.duration||367,i=c.timing||"cubic-bezier(0.1, 0.9, 0.2, 1)";a.style[t.scriptName]="",b.style[t.scriptName]="",p._getComputedStyle(a).opacity,p._getComputedStyle(b).opacity;var j={duration:h,timing:i},k=d._merge(j,{to:f+"("+e+"px)"}),m=d._merge(j,{to:f+"("+-e+"px)"});return l.join([g(a,k),g(b,m)])}function n(a,b,c){return c.to.total>c.from.total?h(a,b,c):c.to.total<c.from.total?m(a,b,c):l.as()}var q=r.menuLayoutClass,s=r.appBarLayoutMenu,t=d._browserStyleEquivalents.transform,u=f.Class.derive(a._AppBarBaseLayout,function(b){a._AppBarBaseLayout.call(this,b,{_className:q,_type:s}),this._tranformNames=d._browserStyleEquivalents.transform,this._animationCompleteBound=this._animationComplete.bind(this),this._positionToolBarBound=this._positionToolBar.bind(this)},{commandsInOrder:{get:function(){return this._originalCommands}},layout:function(a){this._writeProfilerMark("layout,info"),a=a||[],this._originalCommands=[];var b=this;a.forEach(function(a){b._originalCommands.push(b.sanitizeCommand(a))}),this._displayedCommands=this._originalCommands.slice(0),this._menu?p.empty(this._menu):(this._menu=e.document.createElement("div"),p.addClass(this._menu,r.menuContainerClass)),this.appBarEl.appendChild(this._menu),this._toolbarEl=e.document.createElement("div"),this._menu.appendChild(this._toolbarEl),this._createToolBar(a)},showCommands:function(a){var b=this._getCommandsElements(a),c=[],d=[],e=this;this._originalCommands.forEach(function(a){(b.indexOf(a.element)>=0||e._displayedCommands.indexOf(a)>=0)&&(d.push(a),c.push(a))}),this._displayedCommands=d,this._updateData(c)},showOnlyCommands:function(a){this._displayedCommands=[],this.showCommands(a)},hideCommands:function(a){var b=this._getCommandsElements(a),c=[],d=[],e=this;this._originalCommands.forEach(function(a){-1===b.indexOf(a.element)&&e._displayedCommands.indexOf(a)>=0&&(d.push(a),c.push(a))}),this._displayedCommands=d,this._updateData(c)},connect:function(b){this._writeProfilerMark("connect,info"),a._AppBarBaseLayout.prototype.connect.call(this,b),this._id=p._uniqueID(b)},resize:function(){this._writeProfilerMark("resize,info"),this._initialized&&(this._forceLayoutPending=!0)},positionChanging:function(a,b){return this._writeProfilerMark("positionChanging from:"+a+" to: "+b+",info"),this._animationPromise=this._animationPromise||l.wrap(),this._animating&&this._animationPromise.cancel(),this._animating=!0,"shown"===b||"shown"!==a&&"compact"===b?(this._positionToolBar(),this._animationPromise=this._animateToolBarEntrance()):"minimal"===a||"compact"===a||"hidden"===a?this._animationPromise=l.wrap():this._animationPromise=this._animateToolBarExit(),this._animationPromise.then(this._animationCompleteBound,this._animationCompleteBound),this._animationPromise},disposeChildren:function(){this._writeProfilerMark("disposeChildren,info"),this._toolbar&&o.disposeSubTree(this._toolbarEl),this._originalCommands=[],this._displayedCommands=[]},setFocusOnShow:function(){this.appBarEl.winControl._setFocusToAppBar(!0,this._menu)},_updateData:function(a){var b=p.hasClass(this.appBarEl,"win-navbar-closed"),d=p.hasClass(this.appBarEl,"win-navbar-opened");p.removeClass(this.appBarEl,"win-navbar-closed");var e=this.appBarEl.style.display;this.appBarEl.style.display="",this._toolbar.data=new c.List(a),b&&this._positionToolBar(),this.appBarEl.style.display=e,b&&p.addClass(this.appBarEl,"win-navbar-closed"),d&&(this._positionToolBar(),this._animateToolBarEntrance())},_getCommandsElements:function(a){if(!a)return[];"string"!=typeof a&&a&&a.length||(a=[a]);for(var b=[],c=0,d=a.length;d>c;c++)if(a[c])if("string"==typeof a[c]){var f=e.document.getElementById(a[c]);if(f)b.push(f);else for(var g=0,h=this._originalCommands.length;h>g;g++){var f=this._originalCommands[g].element;f.id===a[c]&&b.push(f)}}else a[c].element?b.push(a[c].element):b.push(a[c]);return b},_animationComplete:function(){this._disposed||(this._animating=!1)},_createToolBar:function(a){this._writeProfilerMark("_createToolBar,info");var b=p.hasClass(this.appBarEl,"win-navbar-closed");p.removeClass(this.appBarEl,"win-navbar-closed");var d=this.appBarEl.style.display;this.appBarEl.style.display="",this._toolbar=new j.ToolBar(this._toolbarEl,{data:new c.List(this._originalCommands),shownDisplayMode:"full"});var e=this;this._appbarInvokeButton=this.appBarEl.querySelector("."+r.invokeButtonClass),this._overflowButton=this._toolbarEl.querySelector("."+k.overflowButtonCssClass),this._overflowButton.addEventListener("click",function(){e._appbarInvokeButton.click()}),this._positionToolBar(),this.appBarEl.style.display=d,b&&p.addClass(this.appBarEl,"win-navbar-closed")},_positionToolBar:function(){this._disposed||(this._writeProfilerMark("_positionToolBar,info"),this._initialized=!0)},_animateToolBarEntrance:function(){this._writeProfilerMark("_animateToolBarEntrance,info"),this._forceLayoutPending&&(this._forceLayoutPending=!1,this._toolbar.forceLayout(),this._positionToolBar());var a=this._isMinimal()?0:this.appBarEl.offsetHeight;if(this._isBottom()){var b=this._menu.offsetHeight-a;return this._executeTranslate(this._menu,"translateY("+-b+"px)")}return n(this._menu,this._toolbarEl,{from:{content:a,total:a},to:{content:this._menu.offsetHeight,total:this._menu.offsetHeight},dimension:"height",duration:400,timing:"ease-in"})},_animateToolBarExit:function(){this._writeProfilerMark("_animateToolBarExit,info");var a=this._isMinimal()?0:this.appBarEl.offsetHeight;return this._isBottom()?this._executeTranslate(this._menu,"none"):n(this._menu,this._toolbarEl,{from:{content:this._menu.offsetHeight,total:this._menu.offsetHeight},to:{content:a,total:a},dimension:"height",duration:400,timing:"ease-in"})},_executeTranslate:function(a,c){return b.executeTransition(a,{property:this._tranformNames.cssName,delay:0,duration:400,timing:"ease-in",to:c})},_isMinimal:function(){return"minimal"===this.appBarEl.winControl.closedDisplayMode},_isBottom:function(){return"bottom"===this.appBarEl.winControl.placement},_writeProfilerMark:function(a){i("WinJS.UI._AppBarMenuLayout:"+this._id+":"+a)}});return u})})}),d("WinJS/Controls/_LegacyAppBar",["exports","../Core/_Global","../Core/_WinRT","../Core/_Base","../Core/_BaseUtils","../Core/_ErrorFromName","../Core/_Events","../Core/_Resources","../Core/_WriteProfilerMark","../Animations","../Promise","../Scheduler","../_LightDismissService","../Utilities/_Control","../Utilities/_Dispose","../Utilities/_ElementUtilities","../Utilities/_Hoverable","../Utilities/_KeyboardBehavior","./_LegacyAppBar/_Constants","./_LegacyAppBar/_Layouts","./AppBar/_Command","./AppBar/_Icon","./Flyout/_Overlay","../Application"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x){"use strict";d.Namespace._moduleDefine(a,"WinJS.UI",{_LegacyAppBar:d.Namespace._lazy(function(){function a(a){var c=b.document.querySelectorAll("."+s.appBarClass);if(c)for(var d=c.length,e=0;d>e;e++){var f=c[e],g=f.winControl;g&&!f.disabled&&g._manipulationChanged(a)}}var q={beforeOpen:"beforeopen",afterOpen:"afteropen",beforeClose:"beforeclose",afterClose:"afterclose"},u=g._createEventProperty,v={none:0,hidden:0,minimal:25,compact:48},x={none:"hidden",hidden:"hidden",minimal:"minimal",shown:"shown",compact:"compact"},y={none:"none",minimal:"minimal",compact:"compact"},z="shown",A="hidden",B=!1,C={get ariaLabel(){return h._getWinJSString("ui/appBarAriaLabel").value},get requiresCommands(){return"Invalid argument: commands must not be empty"},get cannotChangePlacementWhenVisible(){return"Invalid argument: The placement property cannot be set when the AppBar is visible, call hide() first"},get cannotChangeLayoutWhenVisible(){return"Invalid argument: The layout property cannot be set when the AppBar is visible, call hide() first"}},D=d.Class.derive(w._Overlay,function(c,d){this._initializing=!0,d=d||{},this._element=c||b.document.createElement("div"),this._id=this._element.id||p._uniqueID(this._element),this._writeProfilerMark("constructor,StartTM"),p.addClass(this._element,s.appBarClass);var e=this;this._dismissable=new m.LightDismissableElement({element:this._element,tabIndex:this._element.hasAttribute("tabIndex")?this._element.tabIndex:-1,onLightDismiss:function(){e.close()},onTakeFocus:function(a){e._dismissable.restoreFocus()||e._layoutImpl.setFocusOnShow()}});var f=this._element.getAttribute("role");f||this._element.setAttribute("role","menubar");var g=this._element.getAttribute("aria-label");g||this._element.setAttribute("aria-label",C.ariaLabel),this._baseOverlayConstructor(this._element),this._lastPositionVisited=x.none,p.addClass(this._element,s.hiddenClass),this._invokeButton=b.document.createElement("button"),this._invokeButton.tabIndex=0,this._invokeButton.setAttribute("type","button"),this._invokeButton.innerHTML="<span class='"+s.ellipsisClass+"'></span>",p.addClass(this._invokeButton,s.invokeButtonClass),this._element.appendChild(this._invokeButton),this._invokeButton.addEventListener("click",function(){e.opened?e._hide():e._show()},!1),this._layout=s.appBarLayoutCustom,delete d._layout,this.placement=d.placement||s.appBarPlacementBottom,this.closedDisplayMode=d.closedDisplayMode||y.compact,n.setOptions(this,d);var h=this._commandsUpdated.bind(this);return this._element.addEventListener(s.commandVisibilityChanged,function(a){e._disposed||(e.opened&&a.preventDefault(),h())}),this._initializing=!1,this._setFocusToAppBarBound=this._setFocusToAppBar.bind(this),this._element.addEventListener("keydown",this._handleKeyDown.bind(this),!1),B||(b.document.addEventListener("MSManipulationStateChanged",a,!1),B=!0),this.closedDisplayMode===y.none&&this.layout===s.appBarLayoutCommands&&(this._element.style.display="none"),this._winKeyboard=new r._WinKeyboard(this._element),this._writeProfilerMark("constructor,StopTM"),this},{placement:{get:function(){return this._placement},set:function(a){var b=!1;if(c.Windows.ApplicationModel.DesignMode.designModeEnabled&&(this._hide(),b=!0),this.opened)throw new f("WinJS.UI._LegacyAppBar.CannotChangePlacementWhenVisible",C.cannotChangePlacementWhenVisible);this._placement=a===s.appBarPlacementTop?s.appBarPlacementTop:s.appBarPlacementBottom,this._placement===s.appBarPlacementTop?(p.addClass(this._element,s.topClass),p.removeClass(this._element,s.bottomClass)):this._placement===s.appBarPlacementBottom&&(p.removeClass(this._element,s.topClass),p.addClass(this._element,s.bottomClass)),this._ensurePosition(),b&&this._show()}},_layout:{get:function(){return this._layoutImpl.type},set:function(a){a!==s.appBarLayoutCommands&&a!==s.appBarLayoutCustom&&a!==s.appBarLayoutMenu;var b=!1;if(c.Windows.ApplicationModel.DesignMode.designModeEnabled&&(this._hide(),b=!0),this.opened)throw new f("WinJS.UI._LegacyAppBar.CannotChangeLayoutWhenVisible",C.cannotChangeLayoutWhenVisible);var d;this._initializing||(d=this._layoutImpl.commandsInOrder,this._layoutImpl.disconnect()),a===s.appBarLayoutCommands?this._layoutImpl=new t._AppBarCommandsLayout:a===s.appBarLayoutMenu?this._layoutImpl=new t._AppBarMenuLayout:this._layoutImpl=new t._AppBarBaseLayout,this._layoutImpl.connect(this._element),d&&d.length&&this._layoutCommands(d),b&&this._show()},configurable:!0},commands:{set:function(a){if(this.opened)throw new f("WinJS.UI._LegacyAppBar.CannotChangeCommandsWhenVisible",h._formatString(w._Overlay.commonstrings.cannotChangeCommandsWhenVisible,"_LegacyAppBar"));this._initializing||this._disposeChildren(),this._layoutCommands(a)}},_layoutCommands:function(a){p.empty(this._element),this._element.appendChild(this._invokeButton),Array.isArray(a)||(a=[a]),this._layoutImpl.layout(a)},closedDisplayMode:{get:function(){return this._closedDisplayMode},set:function(a){var b=this._closedDisplayMode;if(b!==a){var c=p.hasClass(this._element,s.hiddenClass)||p.hasClass(this._element,s.hidingClass);a===y.none?(this._closedDisplayMode=y.none,c&&b||(p.removeClass(this._element,s.minimalClass),p.removeClass(this._element,s.compactClass))):a===y.minimal?(this._closedDisplayMode=y.minimal,c&&b&&b!==y.none||(p.addClass(this._element,s.minimalClass),p.removeClass(this._element,s.compactClass))):(this._closedDisplayMode=y.compact,p.addClass(this._element,s.compactClass),p.removeClass(this._element,s.minimalClass)),this._layoutImpl.resize(),c&&this._changeVisiblePosition(x[this._closedDisplayMode])}}},opened:{get:function(){return!p.hasClass(this._element,s.hiddenClass)&&!p.hasClass(this._element,s.hidingClass)&&this._doNext!==x.minimal&&this._doNext!==x.compact&&this._doNext!==x.none},set:function(a){var b=this.opened;a&&!b?this._show():!a&&b&&this._hide()}},onbeforeopen:u(q.beforeOpen),onafteropen:u(q.afterOpen),onbeforeclose:u(q.beforeClose),onafterclose:u(q.afterClose),getCommandById:function(a){var b=this._layoutImpl.commandsInOrder.filter(function(b){return b.id===a||b.element.id===a});return 1===b.length?b[0]:0===b.length?null:b},showCommands:function(a){if(!a)throw new f("WinJS.UI._LegacyAppBar.RequiresCommands",C.requiresCommands);this._layoutImpl.showCommands(a)},hideCommands:function(a){if(!a)throw new f("WinJS.UI._LegacyAppBar.RequiresCommands",C.requiresCommands);this._layoutImpl.hideCommands(a)},showOnlyCommands:function(a){if(!a)throw new f("WinJS.UI._LegacyAppBar.RequiresCommands",C.requiresCommands);this._layoutImpl.showOnlyCommands(a)},open:function(){this._writeProfilerMark("show,StartTM"),this._show()},_show:function(){var a=x.shown,b=null;this.disabled||!p.hasClass(this._element,s.hiddenClass)&&!p.hasClass(this._element,s.hidingClass)||(b=z),this._changeVisiblePosition(a,b),b&&(this._updateFirstAndFinalDiv(),m.shown(this._dismissable))},close:function(){this._writeProfilerMark("hide,StartTM"),this._hide()},_hide:function(a){var a=a||x[this.closedDisplayMode],b=null;p.hasClass(this._element,s.hiddenClass)||p.hasClass(this._element,s.hidingClass)||(b=A),this._changeVisiblePosition(a,b)},_dispose:function(){o.disposeSubTree(this.element),m.hidden(this._dismissable),this._layoutImpl.dispose(),this.disabled=!0,this.close()},_disposeChildren:function(){this._layoutImpl.disposeChildren()},_handleKeyDown:function(a){this._invokeButton.contains(b.document.activeElement)||this._layoutImpl.handleKeyDown(a)},_visiblePixels:{get:function(){return{hidden:v.hidden,minimal:v.minimal,compact:Math.max(this._heightWithoutLabels||0,v.compact),shown:this._element.offsetHeight}}},_visiblePosition:{get:function(){return this._animating&&x[this._element.winAnimating]?this._element.winAnimating:this._lastPositionVisited}},_visible:{get:function(){return this._visiblePosition!==x.none}},_changeVisiblePosition:function(a,b){if(this._visiblePosition===a&&!this._keyboardObscured||this.disabled&&a!==x.disabled)this._afterPositionChange(null);else if(this._animating||this._needToHandleShowingKeyboard||this._needToHandleHidingKeyboard)this._doNext=a,this._afterPositionChange(null);else{this._element.winAnimating=a;var c=!this._initializing,d=this._lastPositionVisited;this._element.style.display="";var e=a===x.hidden;this._keyboardObscured&&(e?c=!1:d=x.hidden,this._keyboardObscured=!1),b===z?this._beforeShow():b===A&&this._beforeHide(),this._ensurePosition(),this._element.style.opacity=1,this._element.style.visibility="visible",this._animationPromise=c?this._animatePositionChange(d,a):k.wrap(),this._animationPromise.then(function(){this._afterPositionChange(a,b)}.bind(this),function(){this._afterPositionChange(a,b)}.bind(this))}},_afterPositionChange:function(a,b){if(!this._disposed){if(a){a===x.minimal&&(p.addClass(this._element,s.minimalClass),p.removeClass(this._element,s.compactClass)),a===x.hidden&&this.closedDisplayMode===y.none&&(p.removeClass(this._element,s.minimalClass),p.removeClass(this._element,s.compactClass)),this._element.winAnimating="",this._lastPositionVisited=a,this._doNext===this._lastPositionVisited&&(this._doNext=""),b===A&&m.hidden(this._dismissable),a===x.hidden&&(this._element.style.visibility="hidden",this._element.style.display="none");var c=e._browserStyleEquivalents.transform.scriptName;this._element.style[c]="",b===z?this._afterShow():b===A&&this._afterHide(),l.schedule(this._checkDoNext,l.Priority.normal,this,"WinJS.UI._LegacyAppBar._checkDoNext")}this._afterPositionChangeCallBack()}},_afterPositionChangeCallBack:function(){},_beforeShow:function(){this._queuedCommandAnimation&&(this._showAndHideFast(this._queuedToShow,this._queuedToHide),this._queuedToShow=[],this._queuedToHide=[]),this._layoutImpl.scale(),this.closedDisplayMode===y.compact&&(this._heightWithoutLabels=this._element.offsetHeight),p.removeClass(this._element,s.hiddenClass),p.addClass(this._element,s.showingClass),this._sendEvent(q.beforeOpen)},_afterShow:function(){p.removeClass(this._element,s.showingClass),p.addClass(this._element,s.shownClass),this._sendEvent(q.afterOpen),this._writeProfilerMark("show,StopTM")},_beforeHide:function(){p.removeClass(this._element,s.shownClass),p.addClass(this._element,s.hidingClass),this._sendEvent(q.beforeClose)},_afterHide:function(){this._queuedCommandAnimation&&(this._showAndHideFast(this._queuedToShow,this._queuedToHide),this._queuedToShow=[],this._queuedToHide=[]),p.removeClass(this._element,s.hidingClass),p.addClass(this._element,s.hiddenClass),this._sendEvent(q.afterClose),this._writeProfilerMark("hide,StopTM")},_animatePositionChange:function(a,b){var c,d=this._layoutImpl.positionChanging(a,b),e=this._visiblePixels[a],f=this._visiblePixels[b],g=Math.abs(f-e),h=this._placement===s.appBarPlacementTop?-g:g;if(this._placement===s.appBarPlacementTop&&(a===x.shown&&b===x.compact||a===x.compact&&b===x.shown)&&(h=0),f>e){var i={top:h+"px",left:"0px"};c=j.showEdgeUI(this._element,i,{mechanism:"transition"})}else{var l={top:h+"px",left:"0px"};c=j.hideEdgeUI(this._element,l,{mechanism:"transition"})}return k.join([d,c])},_checkDoNext:function(){this._animating||this._needToHandleShowingKeyboard||this._needToHandleHidingKeyboard||this._disposed||(this._doNext===x.disabled||this._doNext===x.hidden||this._doNext===x.minimal||this._doNext===x.compact?(this._hide(this._doNext),this._doNext=""):this._queuedCommandAnimation?this._showAndHideQueue():this._doNext===x.shown&&(this._show(),this._doNext=""))},_setFocusToAppBar:function(a,b){this._focusOnFirstFocusableElement(a,b)||w._Overlay._trySetActive(this._element,b)},_commandsUpdated:function(){this._initializing||(this._layoutImpl.commandsUpdated(),this._layoutImpl.scale())},_beginAnimateCommands:function(a,b,c){this._layoutImpl.beginAnimateCommands(a,b,c)},_endAnimateCommands:function(){this._layoutImpl.endAnimateCommands(),this._endAnimateCommandsCallBack()},_endAnimateCommandsCallBack:function(){},_getTopOfVisualViewport:function(){return w._Overlay._keyboardInfo._visibleDocTop},_getAdjustedBottom:function(){return w._Overlay._keyboardInfo._visibleDocBottomOffset},_showingKeyboard:function(a){if(this._keyboardObscured=!1,this._needToHandleHidingKeyboard=!1,!w._Overlay._keyboardInfo._visible||!this._alreadyInPlace()){this._needToHandleShowingKeyboard=!0,this.opened&&this._element.contains(b.document.activeElement)&&(a.ensuredFocusedElementInView=!0),this._visible&&this._placement!==s.appBarPlacementTop&&w._Overlay._isFlyoutVisible()?this._keyboardObscured=!0:this._scrollHappened=!1;var c=this;b.setTimeout(function(a){c._checkKeyboardTimer(a)},w._Overlay._keyboardInfo._animationShowLength+w._Overlay._scrollTimeout)}},_hidingKeyboard:function(){this._keyboardObscured=!1,this._needToHandleShowingKeyboard=!1,this._needToHandleHidingKeyboard=!0,w._Overlay._keyboardInfo._isResized||((this._visible||this._animating)&&(this._checkScrollPosition(),this._element.style.display=""),this._needToHandleHidingKeyboard=!1)},_resize:function(a){this._needToHandleShowingKeyboard?this._visible&&(this._placement===s.appBarPlacementTop||this._keyboardObscured||(this._element.style.display="none")):this._needToHandleHidingKeyboard&&(this._needToHandleHidingKeyboard=!1,
(this._visible||this._animating)&&(this._checkScrollPosition(),this._element.style.display="")),this._initializing||this._layoutImpl.resize(a)},_checkKeyboardTimer:function(){this._scrollHappened||this._mayEdgeBackIn()},_manipulationChanged:function(a){0===a.currentState&&this._scrollHappened&&this._mayEdgeBackIn()},_mayEdgeBackIn:function(){if(this._needToHandleShowingKeyboard)if(this._needToHandleShowingKeyboard=!1,this._keyboardObscured||this._placement===s.appBarPlacementTop&&0===w._Overlay._keyboardInfo._visibleDocTop)this._checkDoNext();else{var a=this._visiblePosition;this._lastPositionVisited=x.hidden,this._changeVisiblePosition(a,!1)}this._scrollHappened=!1},_ensurePosition:function(){var a=this._computePositionOffset();this._element.style.bottom=a.bottom,this._element.style.top=a.top},_computePositionOffset:function(){var a={};return this._placement===s.appBarPlacementBottom?(a.bottom=this._getAdjustedBottom()+"px",a.top=""):this._placement===s.appBarPlacementTop&&(a.bottom="",a.top=this._getTopOfVisualViewport()+"px"),a},_checkScrollPosition:function(){return this._needToHandleShowingKeyboard?void(this._scrollHappened=!0):void((this._visible||this._animating)&&(this._ensurePosition(),this._checkDoNext()))},_alreadyInPlace:function(){var a=this._computePositionOffset();return a.top===this._element.style.top&&a.bottom===this._element.style.bottom},_updateFirstAndFinalDiv:function(){var a=this._element.querySelectorAll("."+s.firstDivClass);a=a.length>=1?a[0]:null;var c=this._element.querySelectorAll("."+s.finalDivClass);c=c.length>=1?c[0]:null,a&&this._element.children[0]!==a&&(a.parentNode.removeChild(a),a=null),c&&this._element.children[this._element.children.length-1]!==c&&(c.parentNode.removeChild(c),c=null),a||(a=b.document.createElement("div"),a.style.display="inline",a.className=s.firstDivClass,a.tabIndex=-1,a.setAttribute("aria-hidden","true"),p._addEventListener(a,"focusin",this._focusOnLastFocusableElementOrThis.bind(this),!1),this._element.children[0]?this._element.insertBefore(a,this._element.children[0]):this._element.appendChild(a)),c||(c=b.document.createElement("div"),c.style.display="inline",c.className=s.finalDivClass,c.tabIndex=-1,c.setAttribute("aria-hidden","true"),p._addEventListener(c,"focusin",this._focusOnFirstFocusableElementOrThis.bind(this),!1),this._element.appendChild(c)),this._element.children[this._element.children.length-2]!==this._invokeButton&&this._element.insertBefore(this._invokeButton,c);var d=this._element.getElementsByTagName("*"),e=p._getHighestTabIndexInList(d);this._invokeButton.tabIndex=e,a&&(a.tabIndex=p._getLowestTabIndexInList(d)),c&&(c.tabIndex=e)},_writeProfilerMark:function(a){i("WinJS.UI._LegacyAppBar:"+this._id+":"+a)}},{_Events:q});return D})})}),d("WinJS/Controls/Menu",["exports","../Core/_Global","../Core/_Base","../Core/_BaseUtils","../Core/_ErrorFromName","../Core/_Resources","../Core/_WriteProfilerMark","../Promise","../Utilities/_ElementUtilities","../Utilities/_Hoverable","../Utilities/_KeyboardBehavior","./_LegacyAppBar/_Constants","./Flyout","./Flyout/_Overlay","./Menu/_Command"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){"use strict";c.Namespace._moduleDefine(a,"WinJS.UI",{Menu:c.Namespace._lazy(function(){function a(a){var b=a.element||a;return i._matchesSelector(b,"."+l.menuClass+" ."+l.menuCommandClass)}var j=i.Key,p={get ariaLabel(){return f._getWinJSString("ui/menuAriaLabel").value},get requiresCommands(){return"Invalid argument: commands must not be empty"},get nullCommand(){return"Invalid argument: command must not be null"}},q=c.Class.derive(m.Flyout,function(a,c){c=c||{},this._element=a||b.document.createElement("div"),this._id=this._element.id||i._uniqueID(this._element),this._writeProfilerMark("constructor,StartTM"),!c.commands&&this._element&&(c=d._shallowCopy(c),c.commands=this._verifyCommandsOnly(this._element,"WinJS.UI.MenuCommand"));var e="menu",f=null;this._element&&(e=this._element.getAttribute("role")||e,f=this._element.getAttribute("aria-label")||f),this._baseFlyoutConstructor(this._element,c),this._element.setAttribute("role",e),this._element.setAttribute("aria-label",f),this._element.addEventListener("keydown",this._handleKeyDown.bind(this),!0),this._element.addEventListener(l._menuCommandInvokedEvent,this._handleCommandInvoked.bind(this),!1),this._element.addEventListener("mouseover",this._handleMouseOver.bind(this),!1),this._element.addEventListener("mouseout",this._handleMouseOut.bind(this),!1),i.addClass(this._element,l.menuClass),this._winKeyboard=new k._WinKeyboard(this._element),this.hide(),this._writeProfilerMark("constructor,StopTM")},{commands:{set:function(a){if(!this.hidden)throw new e("WinJS.UI.Menu.CannotChangeCommandsWhenVisible",f._formatString(n._Overlay.commonstrings.cannotChangeCommandsWhenVisible,"Menu"));i.empty(this._element),Array.isArray(a)||(a=[a]);for(var b=a.length,c=0;b>c;c++)this._addCommand(a[c])}},getCommandById:function(a){for(var b=this.element.querySelectorAll("#"+a),c=[],d=0,e=b.length;e>d;d++)b[d].winControl&&c.push(b[d].winControl);return 1===c.length?c[0]:0===c.length?null:c},showCommands:function(a){if(!a)throw new e("WinJS.UI.Menu.RequiresCommands",p.requiresCommands);this._showCommands(a,!0)},hideCommands:function(a){if(!a)throw new e("WinJS.UI.Menu.RequiresCommands",p.requiresCommands);this._hideCommands(a,!0)},showOnlyCommands:function(a){if(!a)throw new e("WinJS.UI.Menu.RequiresCommands",p.requiresCommands);this._showOnlyCommands(a,!0)},_hide:function(){this._hoverPromise&&this._hoverPromise.cancel(),m.Flyout.prototype._hide.call(this)},_afterHide:function(){i.removeClass(this.element,l.menuMouseSpacingClass),i.removeClass(this.element,l.menuTouchSpacingClass)},_beforeShow:function(){i.hasClass(this.element,l.menuMouseSpacingClass)||i.hasClass(this.element,l.menuTouchSpacingClass)||i.addClass(this.element,m.Flyout._cascadeManager.inputType===k._InputTypes.mouse||m.Flyout._cascadeManager.inputType===k._InputTypes.keyboard?l.menuMouseSpacingClass:l.menuTouchSpacingClass),this._checkMenuCommands()},_addCommand:function(a){if(!a)throw new e("WinJS.UI.Menu.NullCommand",p.nullCommand);a._element||(a=new o.MenuCommand(null,a)),a._element.parentElement&&a._element.parentElement.removeChild(a._element),this._element.appendChild(a._element)},_dispose:function(){this._hoverPromise&&this._hoverPromise.cancel(),m.Flyout.prototype._dispose.call(this)},_commandsUpdated:function(){this.hidden||this._checkMenuCommands()},_checkMenuCommands:function(){var a=this._element.querySelectorAll(".win-command"),b=!1,c=!1;if(a)for(var d=0,e=a.length;e>d;d++){var f=a[d].winControl;f&&!f.hidden&&(b||f.type!==l.typeToggle||(b=!0),c||f.type!==l.typeFlyout||(c=!0))}i[b?"addClass":"removeClass"](this._element,l.menuContainsToggleCommandClass),i[c?"addClass":"removeClass"](this._element,l.menuContainsFlyoutCommandClass)},_handleKeyDown:function(a){a.keyCode===j.upArrow?(q._focusOnPreviousElement(this.element),a.preventDefault()):a.keyCode===j.downArrow?(q._focusOnNextElement(this.element),a.preventDefault()):a.keyCode!==j.space&&a.keyCode!==j.enter||this.element!==b.document.activeElement?a.keyCode===j.tab&&a.preventDefault():(a.preventDefault(),this.hide())},_handleFocusIn:function(b){var c=b.target;if(a(c)){var d=c.winControl;if(i.hasClass(d.element,l.menuCommandFlyoutActivatedClass))d.flyout.element.focus();else{var e=this.element.querySelector("."+l.menuCommandFlyoutActivatedClass);e&&o.MenuCommand._deactivateFlyoutCommand(e)}}else c===this.element&&m.Flyout.prototype._handleFocusIn.call(this,b)},_handleCommandInvoked:function(a){this._hoverPromise&&this._hoverPromise.cancel();var b=a.detail.command;b._type!==l.typeFlyout&&b._type!==l.typeSeparator&&this._lightDismiss()},_hoverPromise:null,_handleMouseOver:function(b){var c=b.target;if(a(c)){var d=c.winControl,e=this;c.focus&&(c.focus(),i.removeClass(c,"win-keyboard"),d.type===l.typeFlyout&&d.flyout&&d.flyout.hidden&&(this._hoverPromise=this._hoverPromise||h.timeout(l.menuCommandHoverDelay).then(function(){e.hidden||e._disposed||d._invoke(b),e._hoverPromise=null},function(){e._hoverPromise=null})))}},_handleMouseOut:function(c){var d=c.target;a(d)&&!d.contains(c.relatedTarget)&&(d===b.document.activeElement&&this.element.focus(),this._hoverPromise&&this._hoverPromise.cancel())},_writeProfilerMark:function(a){g("WinJS.UI.Menu:"+this._id+":"+a)}});return q._focusOnNextElement=function(a){var c=b.document.activeElement;do c=c===a?c.firstElementChild:c.nextElementSibling,c?c.focus():c=a;while(c!==b.document.activeElement)},q._focusOnPreviousElement=function(a){var c=b.document.activeElement;do c=c===a?c.lastElementChild:c.previousElementSibling,c?c.focus():c=a;while(c!==b.document.activeElement)},q})})}),d("WinJS/Controls/AutoSuggestBox/_SearchSuggestionManagerShim",["exports","../../_Signal","../../Core/_Base","../../Core/_BaseUtils","../../Core/_Events","../../BindingList"],function(a,b,c,d,e,f){"use strict";var g={reset:0,itemInserted:1,itemRemoved:2,itemChanged:3},h={Query:0,Result:1,Separator:2},i=c.Class.derive(Array,function(){},{reset:function(){this.length=0,this.dispatchEvent("vectorchanged",{collectionChange:g.reset,index:0})},insert:function(a,b){this.splice(a,0,b),this.dispatchEvent("vectorchanged",{collectionChange:g.itemInserted,index:a})},remove:function(a){this.splice(a,1),this.dispatchEvent("vectorchanged",{collectionChange:g.itemRemoved,index:a})}});c.Class.mix(i,e.eventMixin);var j=c.Class.define(function(){this._data=[]},{size:{get:function(){return this._data.length}},appendQuerySuggestion:function(a){this._data.push({kind:h.Query,text:a})},appendQuerySuggestions:function(a){a.forEach(this.appendQuerySuggestion.bind(this))},appendResultSuggestion:function(a,b,c,d,e){this._data.push({kind:h.Result,text:a,detailText:b,tag:c,imageUrl:d,imageAlternateText:e,image:null})},appendSearchSeparator:function(a){this._data.push({kind:h.Separator,text:a})}}),k=c.Class.define(function(a,b,c){this._queryText=a,this._language=b,this._linguisticDetails=c,this._searchSuggestionCollection=new j},{language:{get:function(){return this._language}},linguisticDetails:{get:function(){return this._linguisticDetails}},queryText:{get:function(){return this._queryText}},searchSuggestionCollection:{get:function(){return this._searchSuggestionCollection}},getDeferral:function(){return this._deferralSignal||(this._deferralSignal=new b)},_deferralSignal:null}),l=c.Class.define(function(){this._updateVector=this._updateVector.bind(this),this._suggestionVector=new i,this._query="",this._history={"":[]},this._dataSource=[],this.searchHistoryContext="",this.searchHistoryEnabled=!0},{addToHistory:function(a){if(a&&a.trim()){for(var b=this._history[this.searchHistoryContext],c=-1,d=0,e=b.length;e>d;d++){var f=b[d];if(f.text.toLowerCase()===a.toLowerCase()){c=d;break}}c>=0&&b.splice(c,1),b.splice(0,0,{text:a,kind:h.Query}),this._updateVector()}},clearHistory:function(){this._history[this.searchHistoryContext]=[],this._updateVector()},setLocalContentSuggestionSettings:function(a){},setQuery:function(a){function b(a){c._dataSource=a,c._updateVector()}var c=this;this._query=a;var d=new k(a);this.dispatchEvent("suggestionsrequested",{request:d}),d._deferralSignal?d._deferralSignal.promise.then(b.bind(this,d.searchSuggestionCollection._data)):b(d.searchSuggestionCollection._data)},searchHistoryContext:{get:function(){return""+this._searchHistoryContext},set:function(a){a=""+a,this._history[a]||(this._history[a]=[]),this._searchHistoryContext=a}},searchHistoryEnabled:{get:function(){return this._searchHistoryEnabled},set:function(a){this._searchHistoryEnabled=a}},suggestions:{get:function(){return this._suggestionVector}},_updateVector:function(){for(this.suggestions.insert(this.suggestions.length,{text:"",kind:h.Query});this.suggestions.length>1;)this.suggestions.remove(0);var a=0,b={};if(this.searchHistoryEnabled){var c=this._query.toLowerCase();this._history[this.searchHistoryContext].forEach(function(d){var e=d.text.toLowerCase();0===e.indexOf(c)&&(this.suggestions.insert(a,d),b[e]=!0,a++)},this)}this._dataSource.forEach(function(c){c.kind===h.Query?b[c.text.toLowerCase()]||(this.suggestions.insert(a,c),a++):(this.suggestions.insert(a,c),a++)},this),this.suggestions.remove(this.suggestions.length-1)}});c.Class.mix(l,e.eventMixin),c.Namespace._moduleDefine(a,null,{_CollectionChange:g,_SearchSuggestionKind:h,_SearchSuggestionManagerShim:l})}),d("require-style!less/styles-autosuggestbox",[],function(){}),d("require-style!less/colors-autosuggestbox",[],function(){}),d("WinJS/Controls/AutoSuggestBox",["exports","../Core/_Global","../Core/_WinRT","../Core/_Base","../Core/_ErrorFromName","../Core/_Events","../Core/_Resources","../Utilities/_Control","../Utilities/_ElementListUtilities","../Utilities/_ElementUtilities","../Utilities/_Hoverable","../_Accents","../Animations","../BindingList","../Promise","./Repeater","./AutoSuggestBox/_SearchSuggestionManagerShim","require-style!less/styles-autosuggestbox","require-style!less/colors-autosuggestbox"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){"use strict";l.createAccentRule("html.win-hoverable .win-autosuggestbox .win-autosuggestbox-suggestion-selected:hover",[{name:"background-color",value:l.ColorTypes.listSelectHover}]),l.createAccentRule(".win-autosuggestbox .win-autosuggestbox-suggestion-selected",[{name:"background-color",value:l.ColorTypes.listSelectRest}]),l.createAccentRule(".win-autosuggestbox .win-autosuggestbox-suggestion-selected.win-autosuggestbox-suggestion-selected:hover:active",[{name:"background-color",value:l.ColorTypes.listSelectPress}]);var r={asb:"win-autosuggestbox",asbDisabled:"win-autosuggestbox-disabled",asbFlyout:"win-autosuggestbox-flyout",asbFlyoutAbove:"win-autosuggestbox-flyout-above",asbBoxFlyoutHighlightText:"win-autosuggestbox-flyout-highlighttext",asbHitHighlightSpan:"win-autosuggestbox-hithighlight-span",asbInput:"win-autosuggestbox-input",asbInputFocus:"win-autosuggestbox-input-focus",asbSuggestionQuery:"win-autosuggestbox-suggestion-query",asbSuggestionResult:"win-autosuggestbox-suggestion-result",asbSuggestionResultText:"win-autosuggestbox-suggestion-result-text",asbSuggestionResultDetailedText:"win-autosuggestbox-suggestion-result-detailed-text",asbSuggestionSelected:"win-autosuggestbox-suggestion-selected",asbSuggestionSeparator:"win-autosuggestbox-suggestion-separator"};d.Namespace._moduleDefine(a,"WinJS.UI",{AutoSuggestBox:d.Namespace._lazy(function(){function a(a,c,d,e){function f(a,c,d){var e=b.document.createElement("span");return e.textContent=c,e.setAttribute("aria-hidden","true"),e.classList.add(r.asbHitHighlightSpan),a.insertBefore(e,d),e}if(d){i.query("."+r.asbHitHighlightSpan,a).forEach(function(a){a.parentNode.removeChild(a)});var g=a.firstChild,h=c.hits;!h&&e&&c.kind!==q._SearchSuggestionKind.Separator&&(h=e.find(d));for(var k=x._sortAndMergeHits(h),l=0,m=0;m<k.length;m++){var n=k[m];f(a,d.substring(l,n.startPosition),g),l=n.startPosition+n.length;var o=f(a,d.substring(n.startPosition,l),g);j.addClass(o,r.asbBoxFlyoutHighlightText)}l<d.length&&f(a,d.substring(l),g)}}function k(a){var b={ctrlKey:1,altKey:2,shiftKey:4},c=0;return a.ctrlKey&&(c|=b.ctrlKey),a.altKey&&(c|=b.altKey),a.shiftKey&&(c|=b.shiftKey),c}function l(c,d){function e(a){c._internalFocusMove=!0,c._inputElement.focus(),c._processSuggestionChosen(d,a)}var f=b.document.createElement("div"),h=new b.Image;h.style.opacity=0;var i=function(a){function b(){h.removeEventListener("load",b,!1),m.fadeIn(h)}h.addEventListener("load",b,!1),h.src=a};null!==d.image?d.image.openReadAsync().then(function(a){null!==a&&i(b.URL.createObjectURL(a,{oneTimeOnly:!0}))}):null!==d.imageUrl&&i(d.imageUrl),h.setAttribute("aria-hidden","true"),f.appendChild(h);var k=b.document.createElement("div");j.addClass(k,r.asbSuggestionResultText),a(k,d,d.text),k.title=d.text,k.setAttribute("aria-hidden","true"),f.appendChild(k);var l=b.document.createElement("br");k.appendChild(l);var n=b.document.createElement("span");j.addClass(n,r.asbSuggestionResultDetailedText),a(n,d,d.detailText),n.title=d.detailText,n.setAttribute("aria-hidden","true"),k.appendChild(n),j.addClass(f,r.asbSuggestionResult),j._addEventListener(f,"click",function(a){c._isFlyoutPointerDown||e(a)}),j._addEventListener(f,"pointerup",e),f.setAttribute("role","option");var o=g._formatString(w.ariaLabelResult,d.text,d.detailText);return f.setAttribute("aria-label",o),f}function s(c,d){function e(a){c._internalFocusMove=!0,c._inputElement.focus(),c._processSuggestionChosen(d,a)}var f=b.document.createElement("div");a(f,d,d.text),f.title=d.text,f.classList.add(r.asbSuggestionQuery),j._addEventListener(f,"click",function(a){c._isFlyoutPointerDown||e(a)}),j._addEventListener(f,"pointerup",e);var h=g._formatString(w.ariaLabelQuery,d.text);return f.setAttribute("role","option"),f.setAttribute("aria-label",h),f}function t(a){var c=b.document.createElement("div");if(a.text.length>0){var d=b.document.createElement("div");d.textContent=a.text,d.title=a.text,d.setAttribute("aria-hidden","true"),c.appendChild(d)}c.insertAdjacentHTML("beforeend","<hr/>"),j.addClass(c,r.asbSuggestionSeparator),c.setAttribute("role","separator");var e=g._formatString(w.ariaLabelSeparator,a.text);return c.setAttribute("aria-label",e),c}var u=j.Key,v={querychanged:"querychanged",querysubmitted:"querysubmitted",resultsuggestionchosen:"resultsuggestionchosen",suggestionsrequested:"suggestionsrequested"},w={get duplicateConstruction(){return"Invalid argument: Controls may only be instantiated one time for each DOM element"},get invalidSuggestionKind(){return"Error: Invalid suggestion kind."},get ariaLabel(){return g._getWinJSString("ui/autoSuggestBoxAriaLabel").value},get ariaLabelInputNoPlaceHolder(){return g._getWinJSString("ui/autoSuggestBoxAriaLabelInputNoPlaceHolder").value},get ariaLabelInputPlaceHolder(){return g._getWinJSString("ui/autoSuggestBoxAriaLabelInputPlaceHolder").value},get ariaLabelQuery(){return g._getWinJSString("ui/autoSuggestBoxAriaLabelQuery").value},get ariaLabelResult(){return g._getWinJSString("ui/autoSuggestBoxAriaLabelResult").value},get ariaLabelSeparator(){return g._getWinJSString("ui/autoSuggestBoxAriaLabelSeparator").value}},x=d.Class.define(function(a,c){if(a=a||b.document.createElement("div"),c=c||{},a.winControl)throw new e("WinJS.UI.AutoSuggestBox.DuplicateConstruction",w.duplicateConstruction);this._suggestionsChangedHandler=this._suggestionsChangedHandler.bind(this),this._suggestionsRequestedHandler=this._suggestionsRequestedHandler.bind(this),this._element=a,a.winControl=this,a.classList.add(r.asb),a.classList.add("win-disposable"),this._setupDOM(),this._setupSSM(),this._chooseSuggestionOnEnter=!1,this._currentFocusedIndex=-1,this._currentSelectedIndex=-1,this._flyoutOpenPromise=o.wrap(),this._lastKeyPressLanguage="",this._prevLinguisticDetails=this._getLinguisticDetails(),this._prevQueryText="",h.setOptions(this,c),this._hideFlyout()},{onresultsuggestionchosen:f._createEventProperty(v.resultsuggestionchosen),onquerychanged:f._createEventProperty(v.querychanged),onquerysubmitted:f._createEventProperty(v.querysubmitted),onsuggestionsrequested:f._createEventProperty(v.suggestionsrequested),element:{get:function(){return this._element}},chooseSuggestionOnEnter:{get:function(){return this._chooseSuggestionOnEnter},set:function(a){this._chooseSuggestionOnEnter=!!a}},disabled:{get:function(){return this._inputElement.disabled},set:function(a){this._inputElement.disabled!==!!a&&(a?this._disableControl():this._enableControl())}},placeholderText:{get:function(){return this._inputElement.placeholder},set:function(a){this._inputElement.placeholder=a,this._updateInputElementAriaLabel()}},queryText:{get:function(){return this._inputElement.value},set:function(a){this._inputElement.value="",this._inputElement.value=a}},searchHistoryDisabled:{get:function(){return!this._suggestionManager.searchHistoryEnabled},set:function(a){this._suggestionManager.searchHistoryEnabled=!a}},searchHistoryContext:{get:function(){return this._suggestionManager.searchHistoryContext},set:function(a){this._suggestionManager.searchHistoryContext=a}},dispose:function(){this._disposed||(this._flyoutOpenPromise.cancel(),this._suggestions.removeEventListener("vectorchanged",this._suggestionsChangedHandler),this._suggestionManager.removeEventListener("suggestionsrequested",this._suggestionsRequestedHandler),this._suggestionManager=null,this._suggestions=null,this._hitFinder=null,this._disposed=!0)},setLocalContentSuggestionSettings:function(a){this._suggestionManager.setLocalContentSuggestionSettings(a)},_setupDOM:function(){function a(a){return f._renderSuggestion(a)}var c=this._flyoutPointerReleasedHandler.bind(this),d=this._inputOrImeChangeHandler.bind(this);this._element.getAttribute("aria-label")||this._element.setAttribute("aria-label",w.ariaLabel),this._element.setAttribute("role","group"),this._inputElement=b.document.createElement("input"),this._inputElement.autocorrect="off",this._inputElement.type="search",this._inputElement.classList.add(r.asbInput),this._inputElement.classList.add("win-textbox"),this._inputElement.setAttribute("role","textbox"),this._inputElement.addEventListener("keydown",this._keyDownHandler.bind(this)),this._inputElement.addEventListener("keypress",this._keyPressHandler.bind(this)),this._inputElement.addEventListener("keyup",this._keyUpHandler.bind(this)),this._inputElement.addEventListener("focus",this._inputFocusHandler.bind(this)),this._inputElement.addEventListener("blur",this._inputBlurHandler.bind(this)),this._inputElement.addEventListener("input",d),this._inputElement.addEventListener("compositionstart",d),this._inputElement.addEventListener("compositionupdate",d),this._inputElement.addEventListener("compositionend",d),j._addEventListener(this._inputElement,"pointerdown",this._inputPointerDownHandler.bind(this)),this._updateInputElementAriaLabel(),this._element.appendChild(this._inputElement);var e=this._tryGetInputContext();e&&(e.addEventListener("MSCandidateWindowShow",this._msCandidateWindowShowHandler.bind(this)),e.addEventListener("MSCandidateWindowHide",this._msCandidateWindowHideHandler.bind(this))),this._flyoutElement=b.document.createElement("div"),this._flyoutElement.classList.add(r.asbFlyout),this._flyoutElement.addEventListener("blur",this._flyoutBlurHandler.bind(this)),j._addEventListener(this._flyoutElement,"pointerup",c),j._addEventListener(this._flyoutElement,"pointercancel",c),j._addEventListener(this._flyoutElement,"pointerout",c),j._addEventListener(this._flyoutElement,"pointerdown",this._flyoutPointerDownHandler.bind(this)),this._element.appendChild(this._flyoutElement);var f=this;this._suggestionsData=new n.List,this._repeaterElement=b.document.createElement("div"),this._repeater=new p.Repeater(this._repeaterElement,{data:this._suggestionsData,template:a}),j._ensureId(this._repeaterElement),this._repeaterElement.setAttribute("role","listbox"),this._repeaterElement.setAttribute("aria-live","polite"),this._flyoutElement.appendChild(this._repeaterElement)},_setupSSM:function(){this._suggestionManager=new q._SearchSuggestionManagerShim,this._suggestions=this._suggestionManager.suggestions,this._suggestions.addEventListener("vectorchanged",this._suggestionsChangedHandler),this._suggestionManager.addEventListener("suggestionsrequested",this._suggestionsRequestedHandler)},_hideFlyout:function(){this._isFlyoutShown()&&(this._flyoutElement.style.display="none")},_showFlyout:function(){var a=this._prevNumSuggestions||0;if(this._prevNumSuggestions=this._suggestionsData.length,(!this._isFlyoutShown()||a!==this._suggestionsData.length)&&0!==this._suggestionsData.length){this._flyoutElement.style.display="block";var c=this._inputElement.getBoundingClientRect(),d=this._flyoutElement.getBoundingClientRect(),e=b.document.documentElement.clientWidth,f=c.top,g=b.document.documentElement.clientHeight-c.bottom;this._flyoutBelowInput=g>=f,this._flyoutBelowInput?(this._flyoutElement.classList.remove(r.asbFlyoutAbove),this._flyoutElement.scrollTop=0):(this._flyoutElement.classList.add(r.asbFlyoutAbove),this._flyoutElement.scrollTop=this._flyoutElement.scrollHeight-this._flyoutElement.clientHeight),this._addFlyoutIMEPaddingIfRequired();var h;h="rtl"===j._getComputedStyle(this._flyoutElement).direction?c.right-d.width>=0||c.left+d.width>e:c.left+d.width>e&&c.right-d.width>=0,h?this._flyoutElement.style.left=c.width-d.width-this._element.clientLeft+"px":this._flyoutElement.style.left="-"+this._element.clientLeft+"px",this._flyoutElement.style.touchAction=this._flyoutElement.scrollHeight>d.height?"pan-y":"none",this._flyoutOpenPromise.cancel();var i=this._flyoutBelowInput?"WinJS-flyoutBelowASB-showPopup":"WinJS-flyoutAboveASB-showPopup";this._flyoutOpenPromise=m.showPopup(this._flyoutElement,{top:"0px",left:"0px",keyframe:i})}},_addFlyoutIMEPaddingIfRequired:function(){var a=this._tryGetInputContext();if(a&&this._isFlyoutShown()&&this._flyoutBelowInput){var b=this._flyoutElement.getBoundingClientRect(),c=a.getCandidateWindowClientRect(),d=this._inputElement.getBoundingClientRect(),e=d.bottom,f=d.bottom+b.height;if(!(c.top>f||c.bottom<e)){var g=m.createRepositionAnimation(this._flyoutElement);c.width<.45*d.width?this._flyoutElement.style.marginLeft=c.width+"px":this._flyoutElement.style.marginTop=c.bottom-c.top+4+"px",g.execute()}}},_findNextSuggestionElementIndex:function(a){for(var b=0>a?0:a+1,c=b;c<this._suggestionsData.length;c++)if(this._repeater.elementFromIndex(c)&&this._isSuggestionSelectable(this._suggestionsData.getAt(c)))return c;return-1},_findPreviousSuggestionElementIndex:function(a){for(var b=a>=this._suggestionsData.length?this._suggestionsData.length-1:a-1,c=b;c>=0;c--)if(this._repeater.elementFromIndex(c)&&this._isSuggestionSelectable(this._suggestionsData.getAt(c)))return c;return-1},_isFlyoutShown:function(){return"none"!==this._flyoutElement.style.display},_isSuggestionSelectable:function(a){return a.kind===q._SearchSuggestionKind.Query||a.kind===q._SearchSuggestionKind.Result},_processSuggestionChosen:function(a,b){this.queryText=a.text,a.kind===q._SearchSuggestionKind.Query?this._submitQuery(a.text,!1,b):a.kind===q._SearchSuggestionKind.Result&&this._fireEvent(v.resultsuggestionchosen,{tag:a.tag,keyModifiers:k(b),storageFile:null}),this._hideFlyout()},_selectSuggestionAtIndex:function(a){function b(a){var b=c._flyoutElement.getBoundingClientRect().bottom-c._flyoutElement.getBoundingClientRect().top;if(a.offsetTop+a.offsetHeight>c._flyoutElement.scrollTop+b){var d=a.offsetTop+a.offsetHeight-(c._flyoutElement.scrollTop+b);j._zoomTo(c._flyoutElement,{contentX:0,contentY:c._flyoutElement.scrollTop+d,viewportX:0,viewportY:0})}else a.offsetTop<c._flyoutElement.scrollTop&&j._zoomTo(c._flyoutElement,{contentX:0,contentY:a.offsetTop,viewportX:0,viewportY:0})}for(var c=this,d=null,e=0;e<this._suggestionsData.length;e++)d=this._repeater.elementFromIndex(e),e!==a?(d.classList.remove(r.asbSuggestionSelected),d.setAttribute("aria-selected","false")):(d.classList.add(r.asbSuggestionSelected),b(d),d.setAttribute("aria-selected","true"));this._currentSelectedIndex=a,d?this._inputElement.setAttribute("aria-activedescendant",this._repeaterElement.id+a):this._inputElement.hasAttribute("aria-activedescendant")&&this._inputElement.removeAttribute("aria-activedescendant")},_updateFakeFocus:function(){var a;a=this._isFlyoutShown()&&this._chooseSuggestionOnEnter?this._findNextSuggestionElementIndex(-1):-1,this._selectSuggestionAtIndex(a)},_updateQueryTextWithSuggestionText:function(a){a>=0&&a<this._suggestionsData.length&&(this.queryText=this._suggestionsData.getAt(a).text)},_disableControl:function(){this._isFlyoutShown()&&this._hideFlyout(),this._element.disabled=!0,this._element.classList.add(r.asbDisabled),this._inputElement.disabled=!0},_enableControl:function(){this._element.disabled=!1,this._element.classList.remove(r.asbDisabled),this._inputElement.disabled=!1,b.document.activeElement===this._element&&j._setActive(this._inputElement)},_fireEvent:function(a,c){var d=b.document.createEvent("CustomEvent");return d.initCustomEvent(a,!0,!0,c),this._element.dispatchEvent(d)},_getLinguisticDetails:function(a,b){function d(a,b,d,e,f){for(var g=null,h=[],i=0;i<a.length;i++)h[i]=e+a[i]+f;if(c.Windows.ApplicationModel.Search.SearchQueryLinguisticDetails)try{g=new c.Windows.ApplicationModel.Search.SearchQueryLinguisticDetails(h,b,d)}catch(j){}return g||(g={queryTextAlternatives:h,queryTextCompositionStart:b,queryTextCompositionLength:d}),g}var e=null;if(this._inputElement.value===this._prevQueryText&&a&&this._prevLinguisticDetails&&b)e=this._prevLinguisticDetails;else{var f=[],g=0,h=0,i="",j="";if(b){var k=this._tryGetInputContext();k&&k.getCompositionAlternatives&&(f=k.getCompositionAlternatives(),g=k.compositionStartOffset,h=k.compositionEndOffset-k.compositionStartOffset,this._inputElement.value!==this._prevQueryText||0===this._prevCompositionLength||h>0?(i=this._inputElement.value.substring(0,g),j=this._inputElement.value.substring(g+h)):(i=this._inputElement.value.substring(0,this._prevCompositionStart),j=this._inputElement.value.substring(this._prevCompositionStart+this._prevCompositionLength)))}e=d(f,g,h,i,j)}return e},_isElementInSearchControl:function(a){return this.element.contains(a)||this.element===a},_renderSuggestion:function(a){var b=null;if(!a)return b;if(a.kind===q._SearchSuggestionKind.Query)b=s(this,a);else if(a.kind===q._SearchSuggestionKind.Separator)b=t(a);else{if(a.kind!==q._SearchSuggestionKind.Result)throw new e("WinJS.UI.AutoSuggestBox.invalidSuggestionKind",w.invalidSuggestionKind);b=l(this,a)}return b},_shouldIgnoreInput:function(){var a=this._isProcessingDownKey||this._isProcessingUpKey||this._isProcessingTabKey||this._isProcessingEnterKey;return a||this._isFlyoutPointerDown},_submitQuery:function(a,b,d){this._disposed||(c.Windows.Globalization.Language&&(this._lastKeyPressLanguage=c.Windows.Globalization.Language.currentInputMethodLanguageTag),this._fireEvent(v.querysubmitted,{language:this._lastKeyPressLanguage,linguisticDetails:this._getLinguisticDetails(!0,b),queryText:a,keyModifiers:k(d)}),this._suggestionManager&&this._suggestionManager.addToHistory(this._inputElement.value,this._lastKeyPressLanguage))},_tryGetInputContext:function(){if(this._inputElement.msGetInputContext)try{return this._inputElement.msGetInputContext()}catch(a){return null}return null},_updateInputElementAriaLabel:function(){this._inputElement.setAttribute("aria-label",this._inputElement.placeholder?g._formatString(w.ariaLabelInputPlaceHolder,this._inputElement.placeholder):w.ariaLabelInputNoPlaceHolder)},_flyoutBlurHandler:function(a){this._isElementInSearchControl(b.document.activeElement)?this._internalFocusMove=!0:(this._element.classList.remove(r.asbInputFocus),this._hideFlyout())},_flyoutPointerDownHandler:function(a){function b(){if(d)for(var a=0;a<c._suggestionsData.length;a++)if(c._repeater.elementFromIndex(a)===d)return a;return-1}var c=this,d=a.target;for(this._isFlyoutPointerDown=!0;d&&d.parentNode!==this._repeaterElement;)d=d.parentNode;var e=b();e>=0&&e<this._suggestionsData.length&&this._currentFocusedIndex!==e&&this._isSuggestionSelectable(this._suggestionsData.getAt(e))&&(this._currentFocusedIndex=e,this._selectSuggestionAtIndex(e),this._updateQueryTextWithSuggestionText(this._currentFocusedIndex)),a.preventDefault()},_flyoutPointerReleasedHandler:function(){if(this._isFlyoutPointerDown=!1,this._reflowImeOnPointerRelease){this._reflowImeOnPointerRelease=!1;var a=m.createRepositionAnimation(this._flyoutElement);this._flyoutElement.style.marginTop="",this._flyoutElement.style.marginLeft="",a.execute()}},_inputBlurHandler:function(a){this._isElementInSearchControl(b.document.activeElement)||(this._element.classList.remove(r.asbInputFocus),this._hideFlyout()),this.queryText=this._prevQueryText,this._isProcessingDownKey=!1,this._isProcessingUpKey=!1,this._isProcessingTabKey=!1,this._isProcessingEnterKey=!1},_inputFocusHandler:function(a){this._inputElement.value!==this._prevQueryText&&c.Windows.Data.Text.SemanticTextQuery&&(""!==this._inputElement.value?this._hitFinder=new c.Windows.Data.Text.SemanticTextQuery(this._inputElement.value,this._inputElement.lang):this._hitFinder=null),
a.target!==this._inputElement||this._internalFocusMove||(this._showFlyout(),-1!==this._currentFocusedIndex?this._selectSuggestionAtIndex(this._currentFocusedIndex):this._updateFakeFocus(),this._suggestionManager.setQuery(this._inputElement.value,this._lastKeyPressLanguage,this._getLinguisticDetails(!0,!0))),this._internalFocusMove=!1,this._element.classList.add(r.asbInputFocus)},_inputOrImeChangeHandler:function(){function a(a){var c=!1;return b._prevLinguisticDetails.queryTextCompositionStart===a.queryTextCompositionStart&&b._prevLinguisticDetails.queryTextCompositionLength===a.queryTextCompositionLength&&b._prevLinguisticDetails.queryTextAlternatives.length===a.queryTextAlternatives.length||(c=!0),b._prevLinguisticDetails=a,c}var b=this;if(!this._shouldIgnoreInput()){var d=this._getLinguisticDetails(!1,!0),a=a(d);if((this._inputElement.value!==this._prevQueryText||0===this._prevCompositionLength||d.queryTextCompositionLength>0)&&(this._prevCompositionStart=d.queryTextCompositionStart,this._prevCompositionLength=d.queryTextCompositionLength),this._prevQueryText===this._inputElement.value&&!a)return;this._prevQueryText=this._inputElement.value,c.Windows.Globalization.Language&&(this._lastKeyPressLanguage=c.Windows.Globalization.Language.currentInputMethodLanguageTag),c.Windows.Data.Text.SemanticTextQuery&&(""!==this._inputElement.value?this._hitFinder=new c.Windows.Data.Text.SemanticTextQuery(this._inputElement.value,this._lastKeyPressLanguage):this._hitFinder=null),this._fireEvent(v.querychanged,{language:this._lastKeyPressLanguage,queryText:this._inputElement.value,linguisticDetails:d}),this._suggestionManager.setQuery(this._inputElement.value,this._lastKeyPressLanguage,d)}},_inputPointerDownHandler:function(){b.document.activeElement===this._inputElement&&-1!==this._currentSelectedIndex&&(this._currentFocusedIndex=-1,this._selectSuggestionAtIndex(this._currentFocusedIndex))},_keyDownHandler:function(a){function b(b){c._currentFocusedIndex=b,c._selectSuggestionAtIndex(b),a.preventDefault(),a.stopPropagation()}var c=this;if(this._lastKeyPressLanguage=a.locale,a.keyCode===u.tab?this._isProcessingTabKey=!0:a.keyCode===u.upArrow?this._isProcessingUpKey=!0:a.keyCode===u.downArrow?this._isProcessingDownKey=!0:a.keyCode===u.enter&&"ko"===a.locale&&(this._isProcessingEnterKey=!0),a.keyCode!==u.IME)if(a.keyCode===u.tab){var d=!0;a.shiftKey?-1!==this._currentFocusedIndex&&(b(-1),d=!1):-1===this._currentFocusedIndex&&(this._currentFocusedIndex=this._flyoutBelowInput?this._findNextSuggestionElementIndex(this._currentFocusedIndex):this._findPreviousSuggestionElementIndex(this._suggestionsData.length),-1!==this._currentFocusedIndex&&(b(this._currentFocusedIndex),this._updateQueryTextWithSuggestionText(this._currentFocusedIndex),d=!1)),d&&this._hideFlyout()}else if(a.keyCode===u.escape)-1!==this._currentFocusedIndex?(this.queryText=this._prevQueryText,b(-1)):""!==this.queryText&&(this.queryText="",this._inputOrImeChangeHandler(null),a.preventDefault(),a.stopPropagation());else if(this._flyoutBelowInput&&a.keyCode===u.upArrow||!this._flyoutBelowInput&&a.keyCode===u.downArrow){var e;-1!==this._currentSelectedIndex?(e=this._findPreviousSuggestionElementIndex(this._currentSelectedIndex),-1===e&&(this.queryText=this._prevQueryText)):e=this._findPreviousSuggestionElementIndex(this._suggestionsData.length),b(e),this._updateQueryTextWithSuggestionText(this._currentFocusedIndex)}else if(this._flyoutBelowInput&&a.keyCode===u.downArrow||!this._flyoutBelowInput&&a.keyCode===u.upArrow){var f=this._findNextSuggestionElementIndex(this._currentSelectedIndex);-1!==this._currentSelectedIndex&&-1===f&&(this.queryText=this._prevQueryText),b(f),this._updateQueryTextWithSuggestionText(this._currentFocusedIndex)}else a.keyCode===u.enter&&(-1===this._currentSelectedIndex?this._submitQuery(this._inputElement.value,!0,a):this._processSuggestionChosen(this._suggestionsData.getAt(this._currentSelectedIndex),a),this._hideFlyout())},_keyUpHandler:function(a){a.keyCode===u.tab?this._isProcessingTabKey=!1:a.keyCode===u.upArrow?this._isProcessingUpKey=!1:a.keyCode===u.downArrow?this._isProcessingDownKey=!1:a.keyCode===u.enter&&(this._isProcessingEnterKey=!1)},_keyPressHandler:function(a){this._lastKeyPressLanguage=a.locale},_msCandidateWindowHideHandler:function(){if(this._isFlyoutPointerDown)this._reflowImeOnPointerRelease=!0;else{var a=m.createRepositionAnimation(this._flyoutElement);this._flyoutElement.style.marginTop="",this._flyoutElement.style.marginLeft="",a.execute()}},_msCandidateWindowShowHandler:function(){this._addFlyoutIMEPaddingIfRequired(),this._reflowImeOnPointerRelease=!1},_suggestionsChangedHandler:function(c){var d=c.collectionChange||c.detail.collectionChange,e=+c.index===c.index?c.index:c.detail.index,f=q._CollectionChange;if(d===f.reset)this._isFlyoutShown()&&this._hideFlyout(),this._suggestionsData.splice(0,this._suggestionsData.length);else if(d===f.itemInserted){var g=this._suggestions[e];this._suggestionsData.splice(e,0,g),this._showFlyout()}else if(d===f.itemRemoved)1===this._suggestionsData.length&&(j._setActive(this._inputElement),this._hideFlyout()),this._suggestionsData.splice(e,1);else if(d===f.itemChanged){var g=this._suggestions[e];if(g!==this._suggestionsData.getAt(e))this._suggestionsData.setAt(e,g);else{var h=this._repeater.elementFromIndex(e);if(j.hasClass(h,r.asbSuggestionQuery))a(h,g,g.text);else{var i=h.querySelector("."+r.asbSuggestionResultText);if(i){a(i,g,g.text);var k=h.querySelector("."+r.asbSuggestionResultDetailedText);k&&a(k,g,g.detailText)}}}}b.document.activeElement===this._inputElement&&this._updateFakeFocus()},_suggestionsRequestedHandler:function(a){c.Windows.Globalization.Language&&(this._lastKeyPressLanguage=c.Windows.Globalization.Language.currentInputMethodLanguageTag);var b,d=a.request||a.detail.request;this._fireEvent(v.suggestionsrequested,{setPromise:function(a){b=d.getDeferral(),a.then(function(){b.complete()})},searchSuggestionCollection:d.searchSuggestionCollection,language:this._lastKeyPressLanguage,linguisticDetails:this._getLinguisticDetails(!0,!0),queryText:this._inputElement.value})}},{createResultSuggestionImage:function(a){return c.Windows.Foundation.Uri&&c.Windows.Storage.Streams.RandomAccessStreamReference?c.Windows.Storage.Streams.RandomAccessStreamReference.createFromUri(new c.Windows.Foundation.Uri(a)):a},_EventNames:v,_sortAndMergeHits:function(a){function b(a,b){var c=0;return a.startPosition<b.startPosition?c=-1:a.startPosition>b.startPosition&&(c=1),c}function c(a,b,c){if(0===c)a.push(b);else{var d=a[a.length-1],e=d.startPosition+d.length;if(b.startPosition<=e){var f=b.startPosition+b.length;f>e&&(d.length=f-d.startPosition)}else a.push(b)}return a}var d=[];if(a){for(var e=new Array(a.length),f=0;f<a.length;f++)e.push({startPosition:a[f].startPosition,length:a[f].length});e.sort(b),e.reduce(c,d)}return d}});return d.Class.mix(x,h.DOMEventMixin),x})}),a.ClassNames=r}),d("require-style!less/styles-searchbox",[],function(){}),d("require-style!less/colors-searchbox",[],function(){}),d("WinJS/Controls/SearchBox",["../Core/_Global","../Core/_WinRT","../Core/_Base","../Core/_ErrorFromName","../Core/_Events","../Core/_Resources","./AutoSuggestBox","../_Accents","../Utilities/_Control","../Utilities/_ElementUtilities","./AutoSuggestBox/_SearchSuggestionManagerShim","../Application","require-style!less/styles-searchbox","require-style!less/colors-searchbox"],function(a,b,c,d,e,f,g,h,i,j,k,l){"use strict";h.createAccentRule("html.win-hoverable .win-searchbox-button:not(.win-searchbox-button-disabled):hover",[{name:"color",value:h.ColorTypes.accent}]),h.createAccentRule(".win-searchbox-button.win-searchbox-button:not(.win-searchbox-button-disabled):hover:active",[{name:"background-color",value:h.ColorTypes.accent}]),c.Namespace.define("WinJS.UI",{SearchBox:c.Namespace._lazy(function(){var d={searchBox:"win-searchbox",searchBoxDisabled:"win-searchbox-disabled",searchBoxInput:"win-searchbox-input",searchBoxInputFocus:"win-searchbox-input-focus",searchBoxButton:"win-searchbox-button",searchBoxFlyout:"win-searchbox-flyout",searchBoxFlyoutHighlightText:"win-searchbox-flyout-highlighttext",searchBoxHitHighlightSpan:"win-searchbox-hithighlight-span",searchBoxSuggestionResult:"win-searchbox-suggestion-result",searchBoxSuggestionResultText:"win-searchbox-suggestion-result-text",searchBoxSuggestionResultDetailedText:"win-searchbox-suggestion-result-detailed-text",searchBoxSuggestionSelected:"win-searchbox-suggestion-selected",searchBoxSuggestionQuery:"win-searchbox-suggestion-query",searchBoxSuggestionSeparator:"win-searchbox-suggestion-separator",searchBoxButtonInputFocus:"win-searchbox-button-input-focus",searchBoxButtonDisabled:"win-searchbox-button-disabled"},e={receivingfocusonkeyboardinput:"receivingfocusonkeyboardinput"},h={get invalidSearchBoxSuggestionKind(){return"Error: Invalid search suggestion kind."},get ariaLabel(){return f._getWinJSString("ui/searchBoxAriaLabel").value},get ariaLabelInputNoPlaceHolder(){return f._getWinJSString("ui/searchBoxAriaLabelInputNoPlaceHolder").value},get ariaLabelInputPlaceHolder(){return f._getWinJSString("ui/searchBoxAriaLabelInputPlaceHolder").value},get searchBoxDeprecated(){return"SearchBox is deprecated and may not be available in future releases. Instead use AutoSuggestBox."}},m=c.Class.derive(g.AutoSuggestBox,function(b,c){j._deprecated(h.searchBoxDeprecated),this._requestingFocusOnKeyboardInputHandlerBind=this._requestingFocusOnKeyboardInputHandler.bind(this),this._buttonElement=a.document.createElement("div"),this._focusOnKeyboardInput=!1,g.AutoSuggestBox.call(this,b,c),this.element.classList.add(d.searchBox),this._flyoutElement.classList.add(d.searchBoxFlyout),this._inputElement.classList.add(d.searchBoxInput),this._inputElement.addEventListener("blur",this._searchboxInputBlurHandler.bind(this)),this._inputElement.addEventListener("focus",this._searchboxInputFocusHandler.bind(this)),this._buttonElement.tabIndex=-1,this._buttonElement.classList.add(d.searchBoxButton),this._buttonElement.addEventListener("click",this._buttonClickHandler.bind(this)),j._addEventListener(this._buttonElement,"pointerdown",this._buttonPointerDownHandler.bind(this)),this.element.appendChild(this._buttonElement)},{focusOnKeyboardInput:{get:function(){return this._focusOnKeyboardInput},set:function(a){this._focusOnKeyboardInput&&!a?l._applicationListener.removeEventListener(this.element,"requestingfocusonkeyboardinput",this._requestingFocusOnKeyboardInputHandlerBind):!this._focusOnKeyboardInput&&a&&l._applicationListener.addEventListener(this.element,"requestingfocusonkeyboardinput",this._requestingFocusOnKeyboardInputHandlerBind),this._focusOnKeyboardInput=!!a}},dispose:function(){this._disposed||(g.AutoSuggestBox.prototype.dispose.call(this),this._focusOnKeyboardInput&&l._applicationListener.removeEventListener(this.element,"requestingfocusonkeyboardinput",this._requestingFocusOnKeyboardInputHandlerBind))},_disableControl:function(){g.AutoSuggestBox.prototype._disableControl.call(this),this._buttonElement.disabled=!0,this._buttonElement.classList.add(d.searchBoxButtonDisabled),this.element.classList.add(d.searchBoxDisabled)},_enableControl:function(){g.AutoSuggestBox.prototype._enableControl.call(this),this._buttonElement.disabled=!1,this._buttonElement.classList.remove(d.searchBoxButtonDisabled),this.element.classList.remove(d.searchBoxDisabled)},_renderSuggestion:function(a){var b=g.AutoSuggestBox.prototype._renderSuggestion.call(this,a);if(a.kind===k._SearchSuggestionKind.Query)b.classList.add(d.searchBoxSuggestionQuery);else if(a.kind===k._SearchSuggestionKind.Separator)b.classList.add(d.searchBoxSuggestionSeparator);else{b.classList.add(d.searchBoxSuggestionResult);var c=b.querySelector("."+g.ClassNames.asbSuggestionResultText);c.classList.add(d.searchBoxSuggestionResultText);var e=b.querySelector("."+g.ClassNames.asbSuggestionResultDetailedText);e.classList.add(d.searchBoxSuggestionResultDetailedText);for(var f=b.querySelectorAll("."+g.ClassNames.asbHitHighlightSpan),h=0,i=f.length;i>h;h++)f[h].classList.add(d.searchBoxHitHighlightSpan);for(var j=b.querySelectorAll("."+g.ClassNames.asbBoxFlyoutHighlightText),h=0,i=j.length;i>h;h++)j[h].classList.add(d.searchBoxFlyoutHighlightText)}return b},_selectSuggestionAtIndex:function(a){g.AutoSuggestBox.prototype._selectSuggestionAtIndex.call(this,a);var b=this.element.querySelector("."+d.searchBoxSuggestionSelected);b&&b.classList.remove(d.searchBoxSuggestionSelected);var c=this.element.querySelector("."+g.ClassNames.asbSuggestionSelected);c&&c.classList.add(d.searchBoxSuggestionSelected)},_shouldIgnoreInput:function(){var a=g.AutoSuggestBox.prototype._shouldIgnoreInput(),b=j._matchesSelector(this._buttonElement,":active");return a||b},_updateInputElementAriaLabel:function(){this._inputElement.setAttribute("aria-label",this._inputElement.placeholder?f._formatString(h.ariaLabelInputPlaceHolder,this._inputElement.placeholder):h.ariaLabelInputNoPlaceHolder)},_buttonPointerDownHandler:function(a){this._inputElement.focus(),a.preventDefault()},_buttonClickHandler:function(a){this._inputElement.focus(),this._submitQuery(this._inputElement.value,!0,a),this._hideFlyout()},_searchboxInputBlurHandler:function(){j.removeClass(this.element,d.searchBoxInputFocus),j.removeClass(this._buttonElement,d.searchBoxButtonInputFocus)},_searchboxInputFocusHandler:function(){j.addClass(this.element,d.searchBoxInputFocus),j.addClass(this._buttonElement,d.searchBoxButtonInputFocus)},_requestingFocusOnKeyboardInputHandler:function(){if(this._fireEvent(e.receivingfocusonkeyboardinput,null),a.document.activeElement!==this._inputElement)try{this._inputElement.focus()}catch(b){}}},{createResultSuggestionImage:function(a){return j._deprecated(h.searchBoxDeprecated),b.Windows.Foundation.Uri&&b.Windows.Storage.Streams.RandomAccessStreamReference?b.Windows.Storage.Streams.RandomAccessStreamReference.createFromUri(new b.Windows.Foundation.Uri(a)):a},_getKeyModifiers:function(a){var b={ctrlKey:1,altKey:2,shiftKey:4},c=0;return a.ctrlKey&&(c|=b.ctrlKey),a.altKey&&(c|=b.altKey),a.shiftKey&&(c|=b.shiftKey),c},_isTypeToSearchKey:function(a){return!(a.shiftKey||a.ctrlKey||a.altKey)}});return c.Class.mix(m,i.DOMEventMixin),m})})}),d("WinJS/Controls/SettingsFlyout",["../Core/_Global","../Core/_WinRT","../Core/_Base","../Core/_BaseUtils","../Core/_ErrorFromName","../Core/_Events","../Core/_Resources","../Core/_WriteProfilerMark","../Animations","../Pages","../Promise","../_LightDismissService","../Utilities/_Dispose","../Utilities/_ElementUtilities","../Utilities/_ElementListUtilities","../Utilities/_Hoverable","./_LegacyAppBar/_Constants","./Flyout/_Overlay"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){"use strict";c.Namespace.define("WinJS.UI",{SettingsFlyout:c.Namespace._lazy(function(){function d(){if(b.Windows.UI.ApplicationSettings.SettingsEdgeLocation){var a=b.Windows.UI.ApplicationSettings;return a.SettingsPane.edge===a.SettingsEdgeLocation.left}return!1}function p(a,b){for(var c,d,e=a.querySelectorAll("."+q.settingsFlyoutClass),f=0;f<e.length;f++)if(d=e[f].winControl){if(d.settingsCommandId===b){c=d;break}e[f].id===b&&(c=c||d)}return c}var s,t=n.Key,u=f._createEventProperty,v="narrow",w="wide",x=c.Class.derive(r._Overlay,function(b,c){n._deprecated(z.settingsFlyoutIsDeprecated),this._element=b||a.document.createElement("div"),this._id=this._element.id||n._uniqueID(this._element),this._writeProfilerMark("constructor,StartTM"),this._baseOverlayConstructor(this._element,c),this._addFirstDiv(),this._addFinalDiv(),this._element.addEventListener("keydown",this._handleKeyDown,!0),this._element.style.visibilty="hidden",this._element.style.display="none",n.addClass(this._element,q.settingsFlyoutClass);var d=this;this._dismissable=new l.LightDismissableElement({element:this._element,tabIndex:this._element.hasAttribute("tabIndex")?this._element.tabIndex:-1,onLightDismiss:function(){d.hide()},onTakeFocus:function(a){if(!d._dismissable.restoreFocus()){var b=d.element.querySelector("."+q.firstDivClass);b&&(b.msSettingsFlyoutFocusOut||(n._addEventListener(b,"focusout",function(){s=1},!1),b.msSettingsFlyoutFocusOut=!0),s=0,n._tryFocus(b,a))}}}),o.query("div.win-content",this._element).forEach(function(a){n._matchesSelector(a,".win-ui-dark, .win-ui-dark *")||n.addClass(a,q.flyoutLightClass)});var e=this._element.getAttribute("role");null!==e&&""!==e&&void 0!==e||this._element.setAttribute("role","dialog");var f=this._element.getAttribute("aria-label");null!==f&&""!==f&&void 0!==f||this._element.setAttribute("aria-label",z.ariaLabel),this._currentAnimateIn=this._animateSlideIn,this._currentAnimateOut=this._animateSlideOut,this._writeProfilerMark("constructor,StopTM")},{width:{get:function(){return this._width},set:function(a){n._deprecated(z.widthDeprecationMessage),a!==this._width&&(this._width===v?n.removeClass(this._element,q.narrowClass):this._width===w&&n.removeClass(this._element,q.wideClass),this._width=a,this._width===v?n.addClass(this._element,q.narrowClass):this._width===w&&n.addClass(this._element,q.wideClass))}},settingsCommandId:{get:function(){return this._settingsCommandId},set:function(a){this._settingsCommandId=a}},disabled:{get:function(){return!!this._element.disabled},set:function(a){a=!!a;var b=!!this._element.disabled;b!==a&&(this._element.disabled=a,!this.hidden&&this._element.disabled&&this._dismiss())}},onbeforeshow:u(r._Overlay.beforeShow),onaftershow:u(r._Overlay.afterShow),onbeforehide:u(r._Overlay.beforeHide),onafterhide:u(r._Overlay.afterHide),show:function(){this.disabled||(this._writeProfilerMark("show,StartTM"),this._show())},_dispose:function(){l.hidden(this._dismissable),m.disposeSubTree(this.element),this._dismiss()},_show:function(){if(this._baseShow()){if(!n.hasClass(this.element.children[0],q.firstDivClass)){var a=this.element.querySelectorAll("."+q.firstDivClass);a&&a.length>0&&a.item(0).parentNode.removeChild(a.item(0)),this._addFirstDiv()}if(!n.hasClass(this.element.children[this.element.children.length-1],q.finalDivClass)){var b=this.element.querySelectorAll("."+q.finalDivClass);b&&b.length>0&&b.item(0).parentNode.removeChild(b.item(0)),this._addFinalDiv()}this._setBackButtonsAriaLabel(),l.shown(this._dismissable)}},_setBackButtonsAriaLabel:function(){for(var a,b=this.element.querySelectorAll(".win-backbutton"),c=0;c<b.length;c++)a=b[c].getAttribute("aria-label"),null!==a&&""!==a&&void 0!==a||b[c].setAttribute("aria-label",z.backbuttonAriaLabel)},hide:function(){this._writeProfilerMark("hide,StartTM"),this._hide()},_hide:function(){this._baseHide()},_beforeEndHide:function(){l.hidden(this._dismissable)},_animateSlideIn:function(){var a=d(),b=a?"-100px":"100px";o.query("div.win-content",this._element).forEach(function(a){i.enterPage(a,{left:b})});var c,e=this._element.offsetWidth;return a?(c={top:"0px",left:"-"+e+"px"},this._element.style.right="auto",this._element.style.left="0px"):(c={top:"0px",left:e+"px"},this._element.style.right="0px",this._element.style.left="auto"),this._element.style.opacity=1,this._element.style.visibility="visible",i.showPanel(this._element,c)},_animateSlideOut:function(){var a,b=this._element.offsetWidth;return d()?(a={top:"0px",left:b+"px"},this._element.style.right="auto",this._element.style.left="-"+b+"px"):(a={top:"0px",left:"-"+b+"px"},this._element.style.right="-"+b+"px",this._element.style.left="auto"),i.showPanel(this._element,a)},_fragmentDiv:{get:function(){return this._fragDiv},set:function(a){this._fragDiv=a}},_unloadPage:function(b){var c=b.currentTarget.winControl;c.removeEventListener(r._Overlay.afterHide,this._unloadPage,!1),k.as().then(function(){c._fragmentDiv&&(a.document.body.removeChild(c._fragmentDiv),c._fragmentDiv=null)})},_dismiss:function(){this.addEventListener(r._Overlay.afterHide,this._unloadPage,!1),this._hide()},_handleKeyDown:function(b){if(b.keyCode!==t.space&&b.keyCode!==t.enter||this.children[0]!==a.document.activeElement){if(b.shiftKey&&b.keyCode===t.tab&&this.children[0]===a.document.activeElement){b.preventDefault(),b.stopPropagation();for(var c=this.getElementsByTagName("*"),d=c.length-2;d>=0&&(c[d].focus(),c[d]!==a.document.activeElement);d--);}}else b.preventDefault(),b.stopPropagation(),this.winControl._dismiss()},_focusOnLastFocusableElementFromParent:function(){var b=a.document.activeElement;if(s&&b&&n.hasClass(b,q.firstDivClass)){var c=this.parentElement.getElementsByTagName("*");if(!(c.length<=2)){var d,e=c[c.length-1].tabIndex;if(e){for(d=c.length-2;d>0;d--)if(c[d].tabIndex===e){c[d].focus();break}}else for(d=c.length-2;d>0&&("DIV"===c[d].tagName&&null===c[d].getAttribute("tabIndex")||(c[d].focus(),c[d]!==a.document.activeElement));d--);}}},_focusOnFirstFocusableElementFromParent:function(){var b=a.document.activeElement;if(b&&n.hasClass(b,q.finalDivClass)){var c=this.parentElement.getElementsByTagName("*");if(!(c.length<=2)){var d,e=c[0].tabIndex;if(e){for(d=1;d<c.length-1;d++)if(c[d].tabIndex===e){c[d].focus();break}}else for(d=1;d<c.length-1&&("DIV"===c[d].tagName&&null===c[d].getAttribute("tabIndex")||(c[d].focus(),c[d]!==a.document.activeElement));d++);}}},_addFirstDiv:function(){for(var b=this._element.getElementsByTagName("*"),c=0,d=0;d<b.length;d++)0<b[d].tabIndex&&(0===c||b[d].tabIndex<c)&&(c=b[d].tabIndex);var e=a.document.createElement("div");e.className=q.firstDivClass,e.style.display="inline",e.setAttribute("role","menuitem"),e.setAttribute("aria-hidden","true"),e.tabIndex=c,n._addEventListener(e,"focusin",this._focusOnLastFocusableElementFromParent,!1),this._element.children[0]?this._element.insertBefore(e,this._element.children[0]):this._element.appendChild(e)},_addFinalDiv:function(){for(var b=this._element.getElementsByTagName("*"),c=0,d=0;d<b.length;d++)b[d].tabIndex>c&&(c=b[d].tabIndex);var e=a.document.createElement("div");e.className=q.finalDivClass,e.style.display="inline",e.setAttribute("role","menuitem"),e.setAttribute("aria-hidden","true"),e.tabIndex=c,n._addEventListener(e,"focusin",this._focusOnFirstFocusableElementFromParent,!1),this._element.appendChild(e)},_writeProfilerMark:function(a){h("WinJS.UI.SettingsFlyout:"+this._id+":"+a)}});x.show=function(){b.Windows.UI.ApplicationSettings.SettingsPane&&b.Windows.UI.ApplicationSettings.SettingsPane.show();for(var c=a.document.querySelectorAll('div[data-win-control="WinJS.UI.SettingsFlyout"]'),d=c.length,e=0;d>e;e++){var f=c[e].winControl;f&&f._dismiss()}};var y={event:void 0};x.populateSettings=function(a){if(y.event=a.detail,y.event.applicationcommands){var c=b.Windows.UI.ApplicationSettings;Object.keys(y.event.applicationcommands).forEach(function(a){var b=y.event.applicationcommands[a];b.title||(b.title=a);var d=new c.SettingsCommand(a,b.title,x._onSettingsCommand);y.event.e.request.applicationCommands.append(d)})}},x._onSettingsCommand=function(a){var b=a.id;y.event.applicationcommands&&y.event.applicationcommands[b]&&x.showSettings(b,y.event.applicationcommands[b].href)},x.showSettings=function(b,c){var d=p(a.document,b);if(d)d.show();else{if(!c)throw new e("WinJS.UI.SettingsFlyout.BadReference",z.badReference);var f=a.document.createElement("div");f=a.document.body.appendChild(f),j.render(c,f).then(function(){d=p(f,b),d?(d._fragmentDiv=f,d.show()):a.document.body.removeChild(f)})}};var z={get ariaLabel(){return g._getWinJSString("ui/settingsFlyoutAriaLabel").value},get badReference(){return"Invalid argument: Invalid href to settings flyout fragment"},get backbuttonAriaLabel(){return g._getWinJSString("ui/backbuttonarialabel").value},get widthDeprecationMessage(){return"SettingsFlyout.width may be altered or unavailable in future versions. Instead, style the CSS width property on elements with the .win-settingsflyout class."},get settingsFlyoutIsDeprecated(){return"SettingsFlyout is deprecated and may not be available in future releases. Instead, put settings on their own page within the app."}};return x})})}),d("require-style!less/styles-splitviewcommand",[],function(){}),d("require-style!less/colors-splitviewcommand",[],function(){}),d("WinJS/Controls/SplitView/Command",["exports","../../Core/_Global","../../Core/_Base","../../Core/_ErrorFromName","../../Core/_Events","../../ControlProcessor","../../Utilities/_Control","../../Utilities/_ElementUtilities","../../Utilities/_KeyboardBehavior","../AppBar/_Icon","require-style!less/styles-splitviewcommand","require-style!less/colors-splitviewcommand"],function(a,b,c,d,e,f,g,h,i,j){"use strict";c.Namespace._moduleDefine(a,"WinJS.UI",{_WinPressed:c.Namespace._lazy(function(){var a=c.Class.define(function(a){this._element=a,h._addEventListener(this._element,"pointerdown",this._MSPointerDownButtonHandler.bind(this))},{_MSPointerDownButtonHandler:function(c){this._pointerUpBound||(this._pointerUpBound=this._MSPointerUpHandler.bind(this),this._pointerCancelBound=this._MSPointerCancelHandler.bind(this),this._pointerOverBound=this._MSPointerOverHandler.bind(this),this._pointerOutBound=this._MSPointerOutHandler.bind(this)),c.isPrimary&&(this._pointerId&&this._resetPointer(),h._matchesSelector(c.target,".win-interactive, .win-interactive *")||(this._pointerId=c.pointerId,h._addEventListener(b,"pointerup",this._pointerUpBound,!0),h._addEventListener(b,"pointercancel",this._pointerCancelBound),!0,h._addEventListener(this._element,"pointerover",this._pointerOverBound,!0),h._addEventListener(this._element,"pointerout",this._pointerOutBound,!0),h.addClass(this._element,a.winPressed)))},_MSPointerOverHandler:function(b){this._pointerId===b.pointerId&&h.addClass(this._element,a.winPressed)},_MSPointerOutHandler:function(b){this._pointerId===b.pointerId&&h.removeClass(this._element,a.winPressed)},_MSPointerCancelHandler:function(a){this._pointerId===a.pointerId&&this._resetPointer()},_MSPointerUpHandler:function(a){this._pointerId===a.pointerId&&this._resetPointer()},_resetPointer:function(){this._pointerId=null,h._removeEventListener(b,"pointerup",this._pointerUpBound,!0),h._removeEventListener(b,"pointercancel",this._pointerCancelBound,!0),h._removeEventListener(this._element,"pointerover",this._pointerOverBound,!0),h._removeEventListener(this._element,"pointerout",this._pointerOutBound,!0),h.removeClass(this._element,a.winPressed)},dispose:function(){this._disposed||(this._disposed=!0,this._resetPointer())}},{winPressed:"win-pressed"});return a}),SplitViewCommand:c.Namespace._lazy(function(){var k=h.Key,l={get duplicateConstruction(){return"Invalid argument: Controls may only be instantiated one time for each DOM element"}},m={command:"win-splitviewcommand",commandButton:"win-splitviewcommand-button",commandButtonContent:"win-splitviewcommand-button-content",commandSplitButton:"win-splitviewcommand-splitbutton",commandSplitButtonOpened:"win-splitviewcommand-splitbutton-opened",commandIcon:"win-splitviewcommand-icon",commandLabel:"win-splitviewcommand-label"},n={invoked:"invoked",_splitToggle:"_splittoggle"},o=e._createEventProperty,p=c.Class.define(function(a,c){if(a=a||b.document.createElement("DIV"),c=c||{},a.winControl)throw new d("WinJS.UI.SplitViewCommand.DuplicateConstruction",l.duplicateConstruction);this._winKeyboard=new i._WinKeyboard(a),this._baseConstructor(a,c)},{_baseConstructor:function(a,b,c){this._classNames=c||m,a.winControl=this,this._element=a,h.addClass(this.element,this._classNames.command),h.addClass(this.element,"win-disposable"),this._tooltip=null,this._splitOpened=!1,this._buildDom(),a.addEventListener("keydown",this._keydownHandler.bind(this)),g.setOptions(this,b)},element:{get:function(){return this._element}},label:{get:function(){return this._label},set:function(a){this._label=a,this._labelEl.textContent=a}},tooltip:{get:function(){return this._tooltip},set:function(a){this._tooltip=a,this._tooltip||""===this._tooltip?this._element.setAttribute("title",this._tooltip):this._element.removeAttribute("title")}},icon:{get:function(){return this._icon},set:function(a){this._icon=j[a]||a,this._icon&&1===this._icon.length?(this._imageSpan.textContent=this._icon,this._imageSpan.style.backgroundImage="",this._imageSpan.style.msHighContrastAdjust="",this._imageSpan.style.display=""):this._icon&&this._icon.length>1?(this._imageSpan.textContent="",this._imageSpan.style.backgroundImage=this._icon,this._imageSpan.style.msHighContrastAdjust="none",this._imageSpan.style.display=""):(this._imageSpan.textContent="",this._imageSpan.style.backgroundImage="",this._imageSpan.style.msHighContrastAdjust="",this._imageSpan.style.display="none")}},oninvoked:o(n.invoked),_toggleSplit:function(){this._splitOpened=!this._splitOpened,this._splitOpened?(h.addClass(this._splitButtonEl,this._classNames.commandSplitButtonOpened),this._splitButtonEl.setAttribute("aria-expanded","true")):(h.removeClass(this._splitButtonEl,this._classNames.commandSplitButtonOpened),this._splitButtonEl.setAttribute("aria-expanded","false")),this._fireEvent(p._EventName._splitToggle)},_rtl:{get:function(){return"rtl"===h._getComputedStyle(this.element).direction}},_keydownHandler:function(a){if(!h._matchesSelector(a.target,".win-interactive, .win-interactive *")){var b=this._rtl?k.rightArrow:k.leftArrow,c=this._rtl?k.leftArrow:k.rightArrow;a.altKey||a.keyCode!==b&&a.keyCode!==k.home&&a.keyCode!==k.end||a.target!==this._splitButtonEl?a.altKey||a.keyCode!==c||!this.splitButton||a.target!==this._buttonEl&&!this._buttonEl.contains(a.target)?a.keyCode!==k.space&&a.keyCode!==k.enter||a.target!==this._buttonEl&&!this._buttonEl.contains(a.target)?a.keyCode!==k.space&&a.keyCode!==k.enter||a.target!==this._splitButtonEl||this._toggleSplit():this._invoke():(h._setActive(this._splitButtonEl),a.keyCode===c&&a.stopPropagation(),a.preventDefault()):(h._setActive(this._buttonEl),a.keyCode===b&&a.stopPropagation(),a.preventDefault())}},_getFocusInto:function(a){var b=this._rtl?k.rightArrow:k.leftArrow;return a===b&&this.splitButton?this._splitButtonEl:this._buttonEl},_buildDom:function(){var b='<div tabindex="0" role="button" class="'+this._classNames.commandButton+'"><div class="'+this._classNames.commandButtonContent+'"><div class="'+this._classNames.commandIcon+'"></div><div class="'+this._classNames.commandLabel+'"></div></div></div><div tabindex="-1" aria-expanded="false" class="'+this._classNames.commandSplitButton+'"></div>';this.element.insertAdjacentHTML("afterBegin",b),this._buttonEl=this.element.firstElementChild,this._buttonPressedBehavior=new a._WinPressed(this._buttonEl),this._contentEl=this._buttonEl.firstElementChild,this._imageSpan=this._contentEl.firstElementChild,this._imageSpan.style.display="none",this._labelEl=this._imageSpan.nextElementSibling,this._splitButtonEl=this._buttonEl.nextElementSibling,this._splitButtonPressedBehavior=new a._WinPressed(this._splitButtonEl),this._splitButtonEl.style.display="none",h._ensureId(this._buttonEl),this._splitButtonEl.setAttribute("aria-labelledby",this._buttonEl.id),this._buttonEl.addEventListener("click",this._handleButtonClick.bind(this));var c=new h._MutationObserver(this._splitButtonAriaExpandedPropertyChangeHandler.bind(this));c.observe(this._splitButtonEl,{attributes:!0,attributeFilter:["aria-expanded"]}),this._splitButtonEl.addEventListener("click",this._handleSplitButtonClick.bind(this));for(var d=this._splitButtonEl.nextSibling;d;)this._buttonEl.insertBefore(d,this._contentEl),"#text"!==d.nodeName&&f.processAll(d),d=this._splitButtonEl.nextSibling},_handleButtonClick:function(a){var b=a.target;h._matchesSelector(b,".win-interactive, .win-interactive *")||this._invoke()},_splitButtonAriaExpandedPropertyChangeHandler:function(){"true"===this._splitButtonEl.getAttribute("aria-expanded")!==this._splitOpened&&this._toggleSplit()},_handleSplitButtonClick:function(){this._toggleSplit()},_invoke:function(){this._fireEvent(p._EventName.invoked)},_fireEvent:function(a,c){var d=b.document.createEvent("CustomEvent");d.initCustomEvent(a,!0,!1,c),this.element.dispatchEvent(d)},dispose:function(){this._disposed||(this._disposed=!0,this._buttonPressedBehavior.dispose(),this._splitButtonPressedBehavior.dispose());
}},{_ClassName:m,_EventName:n});return c.Class.mix(p,g.DOMEventMixin),p})})}),d("WinJS/Controls/NavBar/_Command",["exports","../../Core/_Global","../../Core/_Base","../../Core/_ErrorFromName","../../Navigation","../../Utilities/_ElementUtilities","../SplitView/Command"],function(a,b,c,d,e,f,g){"use strict";c.Namespace._moduleDefine(a,"WinJS.UI",{NavBarCommand:c.Namespace._lazy(function(){var a={get duplicateConstruction(){return"Invalid argument: Controls may only be instantiated one time for each DOM element"},get navBarCommandDeprecated(){return"NavBarCommand is deprecated and may not be available in future releases. If you were using a NavBarCommand inside of a SplitView, use SplitViewCommand instead."}},h={command:"win-navbarcommand",commandButton:"win-navbarcommand-button",commandButtonContent:"win-navbarcommand-button-content",commandSplitButton:"win-navbarcommand-splitbutton",commandSplitButtonOpened:"win-navbarcommand-splitbutton-opened",commandIcon:"win-navbarcommand-icon",commandLabel:"win-navbarcommand-label"},i=g.SplitViewCommand.prototype,j=c.Class.derive(g.SplitViewCommand,function(c,e){if(f._deprecated(a.navBarCommandDeprecated),c=c||b.document.createElement("DIV"),e=e||{},c.winControl)throw new d("WinJS.UI.NavBarCommand.DuplicateConstruction",a.duplicateConstruction);this._baseConstructor(c,e,h)},{element:{get:function(){return Object.getOwnPropertyDescriptor(i,"element").get.call(this)}},label:{get:function(){return Object.getOwnPropertyDescriptor(i,"label").get.call(this)},set:function(a){return Object.getOwnPropertyDescriptor(i,"label").set.call(this,a)}},tooltip:{get:function(){return Object.getOwnPropertyDescriptor(i,"tooltip").get.call(this)},set:function(a){return Object.getOwnPropertyDescriptor(i,"tooltip").set.call(this,a)}},icon:{get:function(){return Object.getOwnPropertyDescriptor(i,"icon").get.call(this)},set:function(a){return Object.getOwnPropertyDescriptor(i,"icon").set.call(this,a)}},location:{get:function(){return this._location},set:function(a){this._location=a}},oninvoked:{get:function(){},enumerable:!1},state:{get:function(){return this._state},set:function(a){this._state=a}},splitButton:{get:function(){return this._split},set:function(a){this._split=a,this._split?this._splitButtonEl.style.display="":this._splitButtonEl.style.display="none"}},splitOpened:{get:function(){return this._splitOpened},set:function(a){this._splitOpened!==!!a&&this._toggleSplit()}},dispose:function(){i.dispose.call(this)},_invoke:function(){this.location&&e.navigate(this.location,this.state),this._fireEvent(j._EventName._invoked)}},{_ClassName:h,_EventName:{_invoked:"_invoked",_splitToggle:"_splittoggle"}});return j})})}),d("WinJS/Controls/NavBar/_Container",["exports","../../Core/_Global","../../Core/_Base","../../Core/_BaseUtils","../../Core/_ErrorFromName","../../Core/_Events","../../Core/_Log","../../Core/_Resources","../../Core/_WriteProfilerMark","../../Animations","../../Animations/_TransitionAnimation","../../BindingList","../../ControlProcessor","../../Navigation","../../Promise","../../Scheduler","../../Utilities/_Control","../../Utilities/_ElementUtilities","../../Utilities/_KeyboardBehavior","../../Utilities/_UI","../_LegacyAppBar/_Constants","../Repeater","./_Command"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w){"use strict";function x(){return null===b.document.activeElement||b.document.activeElement===b.document.body}c.Namespace._moduleDefine(a,"WinJS.UI",{NavBarContainer:c.Namespace._lazy(function(){var a=r.Key,y=3e3,z=r._MSPointerEvent.MSPOINTER_TYPE_TOUCH||"touch",A=0,B=f._createEventProperty,C={invoked:"invoked",splittoggle:"splittoggle"},D={get duplicateConstruction(){return"Invalid argument: Controls may only be instantiated one time for each DOM element"},get navBarContainerViewportAriaLabel(){return h._getWinJSString("ui/navBarContainerViewportAriaLabel").value},get navBarContainerIsDeprecated(){return"NavBarContainer is deprecated and may not be available in future releases. Instead, use a WinJS SplitView to display navigation targets within the app."}},E=c.Class.define(function(a,c){if(r._deprecated(D.navBarContainerIsDeprecated),a=a||b.document.createElement("DIV"),this._id=a.id||r._uniqueID(a),this._writeProfilerMark("constructor,StartTM"),c=c||{},a.winControl)throw new e("WinJS.UI.NavBarContainer.DuplicateConstruction",D.duplicateConstruction);a.winControl=this,this._element=a,r.addClass(this.element,E._ClassName.navbarcontainer),r.addClass(this.element,"win-disposable"),a.getAttribute("tabIndex")||(a.tabIndex=-1),this._focusCurrentItemPassivelyBound=this._focusCurrentItemPassively.bind(this),this._closeSplitAndResetBound=this._closeSplitAndReset.bind(this),this._currentManipulationState=A,this._panningDisabled=!r._supportsSnapPoints,this._fixedSize=!1,this._maxRows=1,this._sizes={},this._setupTree(),this._duringConstructor=!0,this._dataChangingBound=this._dataChanging.bind(this),this._dataChangedBound=this._dataChanged.bind(this),n.addEventListener("navigated",this._closeSplitAndResetBound),this.layout=c.layout||t.Orientation.horizontal,c.maxRows&&(this.maxRows=c.maxRows),c.template&&(this.template=c.template),c.data&&(this.data=c.data),c.fixedSize&&(this.fixedSize=c.fixedSize),q._setOptions(this,c,!0),this._duringConstructor=!1,c.currentIndex&&(this.currentIndex=c.currentIndex),this._updatePageUI(),p.schedule(function(){this._updateAppBarReference()},p.Priority.normal,this,"WinJS.UI.NavBarContainer_async_initialize"),this._writeProfilerMark("constructor,StopTM")},{element:{get:function(){return this._element}},template:{get:function(){return this._template},set:function(a){if(this._template=a,this._repeater){var c=this.element.contains(b.document.activeElement);this._duringConstructor||this._closeSplitIfOpen(),this._repeater.template=this._repeater.template,this._duringConstructor||(this._measured=!1,this._sizes.itemMeasured=!1,this._reset(),c&&this._keyboardBehavior._focus(0))}}},_render:function(a){var c=b.document.createElement("div"),d=this._template;d&&(d.render?d.render(a,c):d.winControl&&d.winControl.render?d.winControl.render(a,c):c.appendChild(d(a)));var e=new w.NavBarCommand(c,a);return e._element},data:{get:function(){return this._repeater&&this._repeater.data},set:function(a){a||(a=new l.List),this._duringConstructor||this._closeSplitIfOpen(),this._removeDataChangingEvents(),this._removeDataChangedEvents();var c=this.element.contains(b.document.activeElement);this._repeater||(this._surfaceEl.innerHTML="",this._repeater=new v.Repeater(this._surfaceEl,{template:this._render.bind(this)})),this._addDataChangingEvents(a),this._repeater.data=a,this._addDataChangedEvents(a),this._duringConstructor||(this._measured=!1,this._sizes.itemMeasured=!1,this._reset(),c&&this._keyboardBehavior._focus(0))}},maxRows:{get:function(){return this._maxRows},set:function(a){a=+a===a?a:1,this._maxRows=Math.max(1,a),this._duringConstructor||(this._closeSplitIfOpen(),this._measured=!1,this._reset())}},layout:{get:function(){return this._layout},set:function(a){a===t.Orientation.vertical?(this._layout=t.Orientation.vertical,r.removeClass(this.element,E._ClassName.horizontal),r.addClass(this.element,E._ClassName.vertical)):(this._layout=t.Orientation.horizontal,r.removeClass(this.element,E._ClassName.vertical),r.addClass(this.element,E._ClassName.horizontal)),this._viewportEl.style.msScrollSnapType="",this._zooming=!1,this._duringConstructor||(this._measured=!1,this._sizes.itemMeasured=!1,this._ensureVisible(this._keyboardBehavior.currentIndex,!0),this._updatePageUI(),this._closeSplitIfOpen())}},currentIndex:{get:function(){return this._keyboardBehavior.currentIndex},set:function(a){if(a===+a){var c=this.element.contains(b.document.activeElement);this._keyboardBehavior.currentIndex=a,this._ensureVisible(this._keyboardBehavior.currentIndex,!0),c&&this._keyboardBehavior._focus()}}},fixedSize:{get:function(){return this._fixedSize},set:function(a){this._fixedSize=!!a,this._duringConstructor||(this._closeSplitIfOpen(),this._measured?this._surfaceEl.children.length>0&&this._updateGridStyles():this._measure())}},oninvoked:B(C.invoked),onsplittoggle:B(C.splittoggle),forceLayout:function(){this._resizeHandler(),this._measured&&(this._scrollPosition=r.getScrollPosition(this._viewportEl)[this.layout===t.Orientation.horizontal?"scrollLeft":"scrollTop"]),this._duringForceLayout=!0,this._ensureVisible(this._keyboardBehavior.currentIndex,!0),this._updatePageUI(),this._duringForceLayout=!1},_updateAppBarReference:function(){if(!this._appBarEl||!this._appBarEl.contains(this.element)){this._appBarEl&&(this._appBarEl.removeEventListener("beforeopen",this._closeSplitAndResetBound),this._appBarEl.removeEventListener("beforeopen",this._resizeImplBound),this._appBarEl.removeEventListener("afteropen",this._focusCurrentItemPassivelyBound));for(var a=this.element.parentNode;a&&!r.hasClass(a,u.appBarClass);)a=a.parentNode;this._appBarEl=a,this._appBarEl&&(this._appBarEl.addEventListener("beforeopen",this._closeSplitAndResetBound),this._appBarEl.addEventListener("afteropen",this._focusCurrentItemPassivelyBound))}},_closeSplitAndReset:function(){this._closeSplitIfOpen(),this._reset()},_dataChanging:function(a){this._elementHadFocus=b.document.activeElement,this._currentSplitNavItem&&this._currentSplitNavItem.splitOpened&&("itemremoved"===a.type?this._surfaceEl.children[a.detail.index].winControl===this._currentSplitNavItem&&this._closeSplitIfOpen():"itemchanged"===a.type?this._surfaceEl.children[a.detail.index].winControl===this._currentSplitNavItem&&this._closeSplitIfOpen():"itemmoved"===a.type?this._surfaceEl.children[a.detail.oldIndex].winControl===this._currentSplitNavItem&&this._closeSplitIfOpen():"reload"===a.type&&this._closeSplitIfOpen())},_dataChanged:function(a){this._measured=!1,"itemremoved"===a.type?a.detail.index<this._keyboardBehavior.currentIndex?this._keyboardBehavior.currentIndex--:a.detail.index===this._keyboardBehavior.currentIndex&&(this._keyboardBehavior.currentIndex=this._keyboardBehavior.currentIndex,x()&&this._elementHadFocus&&this._keyboardBehavior._focus()):"itemchanged"===a.type?a.detail.index===this._keyboardBehavior.currentIndex&&x()&&this._elementHadFocus&&this._keyboardBehavior._focus():"iteminserted"===a.type?a.detail.index<=this._keyboardBehavior.currentIndex&&this._keyboardBehavior.currentIndex++:"itemmoved"===a.type?a.detail.oldIndex===this._keyboardBehavior.currentIndex&&(this._keyboardBehavior.currentIndex=a.detail.newIndex,x()&&this._elementHadFocus&&this._keyboardBehavior._focus()):"reload"===a.type&&(this._keyboardBehavior.currentIndex=0,x()&&this._elementHadFocus&&this._keyboardBehavior._focus()),this._ensureVisible(this._keyboardBehavior.currentIndex,!0),this._updatePageUI()},_focusCurrentItemPassively:function(){this.element.contains(b.document.activeElement)&&this._keyboardBehavior._focus()},_reset:function(){this._keyboardBehavior.currentIndex=0,this.element.contains(b.document.activeElement)&&this._keyboardBehavior._focus(0),this._viewportEl.style.msScrollSnapType="",this._zooming=!1,this._ensureVisible(0,!0),this._updatePageUI()},_removeDataChangedEvents:function(){this._repeater&&(this._repeater.data.removeEventListener("itemchanged",this._dataChangedBound),this._repeater.data.removeEventListener("iteminserted",this._dataChangedBound),this._repeater.data.removeEventListener("itemmoved",this._dataChangedBound),this._repeater.data.removeEventListener("itemremoved",this._dataChangedBound),this._repeater.data.removeEventListener("reload",this._dataChangedBound))},_addDataChangedEvents:function(){this._repeater&&(this._repeater.data.addEventListener("itemchanged",this._dataChangedBound),this._repeater.data.addEventListener("iteminserted",this._dataChangedBound),this._repeater.data.addEventListener("itemmoved",this._dataChangedBound),this._repeater.data.addEventListener("itemremoved",this._dataChangedBound),this._repeater.data.addEventListener("reload",this._dataChangedBound))},_removeDataChangingEvents:function(){this._repeater&&(this._repeater.data.removeEventListener("itemchanged",this._dataChangingBound),this._repeater.data.removeEventListener("iteminserted",this._dataChangingBound),this._repeater.data.removeEventListener("itemmoved",this._dataChangingBound),this._repeater.data.removeEventListener("itemremoved",this._dataChangingBound),this._repeater.data.removeEventListener("reload",this._dataChangingBound))},_addDataChangingEvents:function(a){a.addEventListener("itemchanged",this._dataChangingBound),a.addEventListener("iteminserted",this._dataChangingBound),a.addEventListener("itemmoved",this._dataChangingBound),a.addEventListener("itemremoved",this._dataChangingBound),a.addEventListener("reload",this._dataChangingBound)},_mouseleave:function(){this._mouseInViewport&&(this._mouseInViewport=!1,this._updateArrows())},_MSPointerDown:function(a){a.pointerType===z&&this._mouseInViewport&&(this._mouseInViewport=!1,this._updateArrows())},_MSPointerMove:function(a){a.pointerType!==z&&(this._mouseInViewport||(this._mouseInViewport=!0,this._updateArrows()))},_setupTree:function(){this._animateNextPreviousButtons=o.wrap(),this._element.addEventListener("mouseleave",this._mouseleave.bind(this)),r._addEventListener(this._element,"pointerdown",this._MSPointerDown.bind(this)),r._addEventListener(this._element,"pointermove",this._MSPointerMove.bind(this)),r._addEventListener(this._element,"focusin",this._focusHandler.bind(this),!1),this._pageindicatorsEl=b.document.createElement("div"),r.addClass(this._pageindicatorsEl,E._ClassName.pageindicators),this._element.appendChild(this._pageindicatorsEl),this._ariaStartMarker=b.document.createElement("div"),this._element.appendChild(this._ariaStartMarker),this._viewportEl=b.document.createElement("div"),r.addClass(this._viewportEl,E._ClassName.viewport),this._element.appendChild(this._viewportEl),this._viewportEl.setAttribute("role","group"),this._viewportEl.setAttribute("aria-label",D.navBarContainerViewportAriaLabel),this._boundResizeHandler=this._resizeHandler.bind(this),r._resizeNotifier.subscribe(this._element,this._boundResizeHandler),this._viewportEl.addEventListener("mselementresize",this._resizeHandler.bind(this)),this._viewportEl.addEventListener("scroll",this._scrollHandler.bind(this)),this._viewportEl.addEventListener("MSManipulationStateChanged",this._MSManipulationStateChangedHandler.bind(this)),this._ariaEndMarker=b.document.createElement("div"),this._element.appendChild(this._ariaEndMarker),this._surfaceEl=b.document.createElement("div"),r.addClass(this._surfaceEl,E._ClassName.surface),this._viewportEl.appendChild(this._surfaceEl),this._surfaceEl.addEventListener(w.NavBarCommand._EventName._invoked,this._navbarCommandInvokedHandler.bind(this)),this._surfaceEl.addEventListener(w.NavBarCommand._EventName._splitToggle,this._navbarCommandSplitToggleHandler.bind(this)),r._addEventListener(this._surfaceEl,"focusin",this._itemsFocusHandler.bind(this),!1),this._surfaceEl.addEventListener("keydown",this._keyDownHandler.bind(this));for(var a=this.element.firstElementChild;a!==this._pageindicatorsEl;)this._surfaceEl.appendChild(a),m.process(a),a=this.element.firstElementChild;this._leftArrowEl=b.document.createElement("div"),r.addClass(this._leftArrowEl,E._ClassName.navleftarrow),r.addClass(this._leftArrowEl,E._ClassName.navarrow),this._element.appendChild(this._leftArrowEl),this._leftArrowEl.addEventListener("click",this._goLeft.bind(this)),this._leftArrowEl.style.opacity=0,this._leftArrowEl.style.visibility="hidden",this._leftArrowFadeOut=o.wrap(),this._rightArrowEl=b.document.createElement("div"),r.addClass(this._rightArrowEl,E._ClassName.navrightarrow),r.addClass(this._rightArrowEl,E._ClassName.navarrow),this._element.appendChild(this._rightArrowEl),this._rightArrowEl.addEventListener("click",this._goRight.bind(this)),this._rightArrowEl.style.opacity=0,this._rightArrowEl.style.visibility="hidden",this._rightArrowFadeOut=o.wrap(),this._keyboardBehavior=new s._KeyboardBehavior(this._surfaceEl,{scroller:this._viewportEl}),this._winKeyboard=new s._WinKeyboard(this._surfaceEl)},_goRight:function(){this._sizes.rtl?this._goPrev():this._goNext()},_goLeft:function(){this._sizes.rtl?this._goNext():this._goPrev()},_goNext:function(){this._measure();var a=this._sizes.rowsPerPage*this._sizes.columnsPerPage,b=Math.min(Math.floor(this._keyboardBehavior.currentIndex/a)+1,this._sizes.pages-1);this._keyboardBehavior.currentIndex=Math.min(a*b,this._surfaceEl.children.length),this._keyboardBehavior._focus()},_goPrev:function(){this._measure();var a=this._sizes.rowsPerPage*this._sizes.columnsPerPage,b=Math.max(0,Math.floor(this._keyboardBehavior.currentIndex/a)-1);this._keyboardBehavior.currentIndex=Math.max(a*b,0),this._keyboardBehavior._focus()},_currentPage:{get:function(){return this.layout===t.Orientation.horizontal&&(this._measure(),this._sizes.viewportOffsetWidth>0)?Math.min(this._sizes.pages-1,Math.round(this._scrollPosition/this._sizes.viewportOffsetWidth)):0}},_resizeHandler:function(){if(!this._disposed&&this._measured){var a=this.layout===t.Orientation.horizontal?this._sizes.viewportOffsetWidth!==parseFloat(r._getComputedStyle(this._viewportEl).width):this._sizes.viewportOffsetHeight!==parseFloat(r._getComputedStyle(this._viewportEl).height);a&&(this._measured=!1,this._pendingResize||(this._pendingResize=!0,this._resizeImplBound=this._resizeImplBound||this._resizeImpl.bind(this),this._updateAppBarReference(),this._appBarEl&&this._appBarEl.winControl&&!this._appBarEl.winControl.opened?(p.schedule(this._resizeImplBound,p.Priority.idle,null,"WinJS.UI.NavBarContainer._resizeImpl"),this._appBarEl.addEventListener("beforeopen",this._resizeImplBound)):this._resizeImpl()))}},_resizeImpl:function(){!this._disposed&&this._pendingResize&&(this._pendingResize=!1,this._appBarEl&&this._appBarEl.removeEventListener("beforeopen",this._resizeImplBound),this._keyboardBehavior.currentIndex=0,this.element.contains(b.document.activeElement)&&this._keyboardBehavior._focus(this._keyboardBehavior.currentIndex),this._closeSplitIfOpen(),this._ensureVisible(this._keyboardBehavior.currentIndex,!0),this._updatePageUI())},_keyDownHandler:function(c){var d=c.keyCode;if(!c.altKey&&(d===a.pageUp||d===a.pageDown)){var e=c.target;if(r._matchesSelector(e,".win-interactive, .win-interactive *"))return;var f=this._keyboardBehavior.currentIndex;this._measure();var g=this._sizes,h=Math.floor(f/(g.columnsPerPage*g.rowsPerPage)),i=null;if(d===a.pageUp){if(this.layout===t.Orientation.horizontal){var j=h*g.columnsPerPage*g.rowsPerPage;f===j&&this._surfaceEl.children[f].winControl._buttonEl===b.document.activeElement?f-=g.columnsPerPage*g.rowsPerPage:f=j}else{var k=this._surfaceEl.children[f],l=k.offsetTop,m=l+k.offsetHeight,n=this._zooming?this._zoomPosition:this._scrollPosition;if(l>=n&&m<n+g.viewportOffsetHeight)for(;f>0&&this._surfaceEl.children[f-1].offsetTop>n;)f--;if(this._keyboardBehavior.currentIndex===f){var o=m-g.viewportOffsetHeight;for(f=Math.max(0,f-1);f>0&&this._surfaceEl.children[f-1].offsetTop>o;)f--;i=f>0?this._surfaceEl.children[f].offsetTop-this._sizes.itemMarginTop:0}}f=Math.max(f,0),this._keyboardBehavior.currentIndex=f;var p=this._surfaceEl.children[f].winControl._buttonEl;null!==i&&this._scrollTo(i),r._setActive(p,this._viewportEl)}else{if(this.layout===t.Orientation.horizontal){var q=(h+1)*g.columnsPerPage*g.rowsPerPage-1;f===q?f+=g.columnsPerPage*g.rowsPerPage:f=q}else{var k=this._surfaceEl.children[this._keyboardBehavior.currentIndex],l=k.offsetTop,m=l+k.offsetHeight,n=this._zooming?this._zoomPosition:this._scrollPosition;if(l>=n&&m<n+g.viewportOffsetHeight)for(;f<this._surfaceEl.children.length-1&&this._surfaceEl.children[f+1].offsetTop+this._surfaceEl.children[f+1].offsetHeight<n+g.viewportOffsetHeight;)f++;if(f===this._keyboardBehavior.currentIndex){var s=l+g.viewportOffsetHeight;for(f=Math.min(this._surfaceEl.children.length-1,f+1);f<this._surfaceEl.children.length-1&&this._surfaceEl.children[f+1].offsetTop+this._surfaceEl.children[f+1].offsetHeight<s;)f++;i=f<this._surfaceEl.children.length-1?this._surfaceEl.children[f+1].offsetTop-this._sizes.viewportOffsetHeight:this._scrollLength-this._sizes.viewportOffsetHeight}}f=Math.min(f,this._surfaceEl.children.length-1),this._keyboardBehavior.currentIndex=f;var p=this._surfaceEl.children[f].winControl._buttonEl;null!==i&&this._scrollTo(i);try{r._setActive(p,this._viewportEl)}catch(u){}}}},_focusHandler:function(a){var b=a.target;this._surfaceEl.contains(b)||(this._skipEnsureVisible=!0,this._keyboardBehavior._focus(this._keyboardBehavior.currentIndex))},_itemsFocusHandler:function(a){var b=a.target;if(b!==this._surfaceEl){for(;b.parentNode!==this._surfaceEl;)b=b.parentNode;for(var c=-1;b;)c++,b=b.previousSibling;this._skipEnsureVisible?this._skipEnsureVisible=!1:this._ensureVisible(c)}},_ensureVisible:function(a,b){if(this._measure(),this.layout===t.Orientation.horizontal){var c=Math.floor(a/(this._sizes.rowsPerPage*this._sizes.columnsPerPage));this._scrollTo(c*this._sizes.viewportOffsetWidth,b)}else{var d,e=this._surfaceEl.children[a];d=a>0?e.offsetTop-this._sizes.itemMarginTop:0;var f;f=a<this._surfaceEl.children.length-1?this._surfaceEl.children[a+1].offsetTop-this._sizes.viewportOffsetHeight:this._scrollLength-this._sizes.viewportOffsetHeight;var g=this._zooming?this._zoomPosition:this._scrollPosition;g=Math.max(g,f),g=Math.min(g,d),this._scrollTo(g,b)}},_scrollTo:function(a,b){if(this._measure(),a=this.layout===t.Orientation.horizontal?Math.max(0,Math.min(this._scrollLength-this._sizes.viewportOffsetWidth,a)):Math.max(0,Math.min(this._scrollLength-this._sizes.viewportOffsetHeight,a)),b){if(Math.abs(this._scrollPosition-a)>1){this._zooming=!1,this._scrollPosition=a,this._updatePageUI(),this._duringForceLayout||this._closeSplitIfOpen();var c={};c[this.layout===t.Orientation.horizontal?"scrollLeft":"scrollTop"]=a,r.setScrollPosition(this._viewportEl,c)}}else(!this._zooming&&Math.abs(this._scrollPosition-a)>1||this._zooming&&Math.abs(this._zoomPosition-a)>1)&&(this._zoomPosition=a,this._zooming=!0,this.layout===t.Orientation.horizontal?(this._viewportEl.style.msScrollSnapType="none",r._zoomTo(this._viewportEl,{contentX:a,contentY:0,viewportX:0,viewportY:0})):r._zoomTo(this._viewportEl,{contentX:0,contentY:a,viewportX:0,viewportY:0}),this._closeSplitIfOpen())},_MSManipulationStateChangedHandler:function(a){this._currentManipulationState=a.currentState,a.currentState===a.MS_MANIPULATION_STATE_ACTIVE&&(this._viewportEl.style.msScrollSnapType="",this._zooming=!1),b.clearTimeout(this._manipulationStateTimeoutId),a.currentState===a.MS_MANIPULATION_STATE_STOPPED&&(this._manipulationStateTimeoutId=b.setTimeout(function(){this._viewportEl.style.msScrollSnapType="",this._zooming=!1,this._updateCurrentIndexIfPageChanged()}.bind(this),100))},_scrollHandler:function(){if(!this._disposed&&(this._measured=!1,!this._checkingScroll)){var a=this;this._checkingScroll=d._requestAnimationFrame(function(){if(!a._disposed){a._checkingScroll=null;var b=r.getScrollPosition(a._viewportEl)[a.layout===t.Orientation.horizontal?"scrollLeft":"scrollTop"];b!==a._scrollPosition&&(a._scrollPosition=b,a._closeSplitIfOpen()),a._updatePageUI(),a._zooming||a._currentManipulationState!==A||a._updateCurrentIndexIfPageChanged()}})}},_updateCurrentIndexIfPageChanged:function(){if(this.layout===t.Orientation.horizontal){this._measure();var a=this._currentPage,c=a*this._sizes.rowsPerPage*this._sizes.columnsPerPage,d=(a+1)*this._sizes.rowsPerPage*this._sizes.columnsPerPage-1;(this._keyboardBehavior.currentIndex<c||this._keyboardBehavior.currentIndex>d)&&(this._keyboardBehavior.currentIndex=c,this.element.contains(b.document.activeElement)&&this._keyboardBehavior._focus(this._keyboardBehavior.currentIndex))}},_measure:function(){if(!this._measured){this._resizeImpl(),this._writeProfilerMark("measure,StartTM");var a=this._sizes;a.rtl="rtl"===r._getComputedStyle(this._element).direction;var b=this._surfaceEl.children.length;if(b>0){if(!this._sizes.itemMeasured){this._writeProfilerMark("measureItem,StartTM");var c=this._surfaceEl.firstElementChild;c.style.margin="",c.style.width="";var d=r._getComputedStyle(c);a.itemOffsetWidth=parseFloat(r._getComputedStyle(c).width),0===c.offsetWidth&&(a.itemOffsetWidth=0),a.itemMarginLeft=parseFloat(d.marginLeft),a.itemMarginRight=parseFloat(d.marginRight),a.itemWidth=a.itemOffsetWidth+a.itemMarginLeft+a.itemMarginRight,a.itemOffsetHeight=parseFloat(r._getComputedStyle(c).height),0===c.offsetHeight&&(a.itemOffsetHeight=0),a.itemMarginTop=parseFloat(d.marginTop),a.itemMarginBottom=parseFloat(d.marginBottom),a.itemHeight=a.itemOffsetHeight+a.itemMarginTop+a.itemMarginBottom,a.itemOffsetWidth>0&&a.itemOffsetHeight>0&&(a.itemMeasured=!0),this._writeProfilerMark("measureItem,StopTM")}if(a.viewportOffsetWidth=parseFloat(r._getComputedStyle(this._viewportEl).width),0===this._viewportEl.offsetWidth&&(a.viewportOffsetWidth=0),a.viewportOffsetHeight=parseFloat(r._getComputedStyle(this._viewportEl).height),0===this._viewportEl.offsetHeight&&(a.viewportOffsetHeight=0),0===a.viewportOffsetWidth||0===a.itemOffsetHeight?this._measured=!1:this._measured=!0,this.layout===t.Orientation.horizontal){this._scrollPosition=r.getScrollPosition(this._viewportEl).scrollLeft,a.leadingEdge=this._leftArrowEl.offsetWidth+parseInt(r._getComputedStyle(this._leftArrowEl).marginLeft)+parseInt(r._getComputedStyle(this._leftArrowEl).marginRight);var e=a.viewportOffsetWidth-2*a.leadingEdge;a.maxColumns=a.itemWidth?Math.max(1,Math.floor(e/a.itemWidth)):1,a.rowsPerPage=Math.min(this.maxRows,Math.ceil(b/a.maxColumns)),a.columnsPerPage=Math.min(a.maxColumns,b),a.pages=Math.ceil(b/(a.columnsPerPage*a.rowsPerPage)),a.trailingEdge=a.leadingEdge,a.extraSpace=e-a.columnsPerPage*a.itemWidth,this._scrollLength=a.viewportOffsetWidth*a.pages,this._keyboardBehavior.fixedSize=a.rowsPerPage,this._keyboardBehavior.fixedDirection=s._KeyboardBehavior.FixedDirection.height,this._surfaceEl.style.height=a.itemHeight*a.rowsPerPage+"px",this._surfaceEl.style.width=this._scrollLength+"px"}else this._scrollPosition=this._viewportEl.scrollTop,a.leadingEdge=0,a.rowsPerPage=b,a.columnsPerPage=1,a.pages=1,a.trailingEdge=0,this._scrollLength=this._viewportEl.scrollHeight,this._keyboardBehavior.fixedSize=a.columnsPerPage,this._keyboardBehavior.fixedDirection=s._KeyboardBehavior.FixedDirection.width,this._surfaceEl.style.height="",this._surfaceEl.style.width="";this._updateGridStyles()}else a.pages=1,this._hasPreviousContent=!1,this._hasNextContent=!1,this._surfaceEl.style.height="",this._surfaceEl.style.width="";this._writeProfilerMark("measure,StopTM")}},_updateGridStyles:function(){for(var a=this._sizes,b=this._surfaceEl.children.length,c=0;b>c;c++){var d,e,f=this._surfaceEl.children[c],g="";if(this.layout===t.Orientation.horizontal){var h=Math.floor(c/a.rowsPerPage),i=h%a.columnsPerPage===0,j=h%a.columnsPerPage===a.columnsPerPage-1,k=a.trailingEdge;if(this.fixedSize)k+=a.extraSpace;else{var l=a.extraSpace-(a.maxColumns-a.columnsPerPage)*a.itemWidth;g=a.itemOffsetWidth+l/a.maxColumns+"px"}var m,n;a.rtl?(m=i?a.leadingEdge:0,n=j?k:0):(m=j?k:0,n=i?a.leadingEdge:0),d=m+a.itemMarginRight+"px",e=n+a.itemMarginLeft+"px"}else d="",e="";f.style.marginRight!==d&&(f.style.marginRight=d),f.style.marginLeft!==e&&(f.style.marginLeft=e),f.style.width!==g&&(f.style.width=g)}},_updatePageUI:function(){this._measure();var a=this._currentPage;this._hasPreviousContent=0!==a,this._hasNextContent=a<this._sizes.pages-1,this._updateArrows(),this._indicatorCount!==this._sizes.pages&&(this._indicatorCount=this._sizes.pages,this._pageindicatorsEl.innerHTML=new Array(this._sizes.pages+1).join('<span class="'+E._ClassName.indicator+'"></span>'));for(var b=0;b<this._pageindicatorsEl.children.length;b++)b===a?r.addClass(this._pageindicatorsEl.children[b],E._ClassName.currentindicator):r.removeClass(this._pageindicatorsEl.children[b],E._ClassName.currentindicator);if(this._sizes.pages>1?(this._viewportEl.style.overflowX=this._panningDisabled?"hidden":"",this._pageindicatorsEl.style.visibility=""):(this._viewportEl.style.overflowX="hidden",this._pageindicatorsEl.style.visibility="hidden"),this._sizes.pages<=1||this._layout!==t.Orientation.horizontal)this._ariaStartMarker.removeAttribute("aria-flowto"),this._ariaEndMarker.removeAttribute("x-ms-aria-flowfrom");else{var c=a*this._sizes.rowsPerPage*this._sizes.columnsPerPage,d=this._surfaceEl.children[c].winControl._buttonEl;r._ensureId(d),this._ariaStartMarker.setAttribute("aria-flowto",d.id);var e=Math.min(this._surfaceEl.children.length-1,(a+1)*this._sizes.rowsPerPage*this._sizes.columnsPerPage-1),f=this._surfaceEl.children[e].winControl._buttonEl;r._ensureId(f),this._ariaEndMarker.setAttribute("x-ms-aria-flowfrom",f.id)}},_closeSplitIfOpen:function(){this._currentSplitNavItem&&(this._currentSplitNavItem.splitOpened&&this._currentSplitNavItem._toggleSplit(),this._currentSplitNavItem=null)},_updateArrows:function(){var a=this._sizes.rtl?this._hasNextContent:this._hasPreviousContent,b=this._sizes.rtl?this._hasPreviousContent:this._hasNextContent,c=this;(this._mouseInViewport||this._panningDisabled)&&a?(this._leftArrowWaitingToFadeOut&&this._leftArrowWaitingToFadeOut.cancel(),this._leftArrowWaitingToFadeOut=null,this._leftArrowFadeOut&&this._leftArrowFadeOut.cancel(),this._leftArrowFadeOut=null,this._leftArrowEl.style.visibility="",this._leftArrowFadeIn=this._leftArrowFadeIn||j.fadeIn(this._leftArrowEl)):(a?this._leftArrowWaitingToFadeOut=this._leftArrowWaitingToFadeOut||o.timeout(k._animationTimeAdjustment(y)):(this._leftArrowWaitingToFadeOut&&this._leftArrowWaitingToFadeOut.cancel(),this._leftArrowWaitingToFadeOut=o.wrap()),this._leftArrowWaitingToFadeOut.then(function(){this._leftArrowFadeIn&&this._leftArrowFadeIn.cancel(),this._leftArrowFadeIn=null,this._leftArrowFadeOut=this._leftArrowFadeOut||j.fadeOut(this._leftArrowEl).then(function(){c._leftArrowEl.style.visibility="hidden"})}.bind(this))),(this._mouseInViewport||this._panningDisabled)&&b?(this._rightArrowWaitingToFadeOut&&this._rightArrowWaitingToFadeOut.cancel(),this._rightArrowWaitingToFadeOut=null,this._rightArrowFadeOut&&this._rightArrowFadeOut.cancel(),this._rightArrowFadeOut=null,this._rightArrowEl.style.visibility="",this._rightArrowFadeIn=this._rightArrowFadeIn||j.fadeIn(this._rightArrowEl)):(b?this._rightArrowWaitingToFadeOut=this._rightArrowWaitingToFadeOut||o.timeout(k._animationTimeAdjustment(y)):(this._rightArrowWaitingToFadeOut&&this._rightArrowWaitingToFadeOut.cancel(),this._rightArrowWaitingToFadeOut=o.wrap()),this._rightArrowWaitingToFadeOut.then(function(){this._rightArrowFadeIn&&this._rightArrowFadeIn.cancel(),this._rightArrowFadeIn=null,this._rightArrowFadeOut=this._rightArrowFadeOut||j.fadeOut(this._rightArrowEl).then(function(){c._rightArrowEl.style.visibility="hidden"})}.bind(this)))},_navbarCommandInvokedHandler:function(a){for(var b=a.target,c=-1;b;)c++,b=b.previousSibling;this._fireEvent(E._EventName.invoked,{index:c,navbarCommand:a.target.winControl,data:this._repeater?this._repeater.data.getAt(c):null})},_navbarCommandSplitToggleHandler:function(a){for(var b=a.target,c=-1;b;)c++,b=b.previousSibling;var d=a.target.winControl;this._closeSplitIfOpen(),d.splitOpened&&(this._currentSplitNavItem=d),this._fireEvent(E._EventName.splitToggle,{opened:d.splitOpened,index:c,navbarCommand:d,data:this._repeater?this._repeater.data.getAt(c):null})},_fireEvent:function(a,c){var d=b.document.createEvent("CustomEvent");d.initCustomEvent(a,!0,!1,c),this.element.dispatchEvent(d)},_writeProfilerMark:function(a){var b="WinJS.UI.NavBarContainer:"+this._id+":"+a;i(b),g.log&&g.log(b,null,"navbarcontainerprofiler")},dispose:function(){this._disposed||(this._disposed=!0,this._appBarEl&&(this._appBarEl.removeEventListener("beforeopen",this._closeSplitAndResetBound),this._appBarEl.removeEventListener("beforeopen",this._resizeImplBound)),n.removeEventListener("navigated",this._closeSplitAndResetBound),this._leftArrowWaitingToFadeOut&&this._leftArrowWaitingToFadeOut.cancel(),
this._leftArrowFadeOut&&this._leftArrowFadeOut.cancel(),this._leftArrowFadeIn&&this._leftArrowFadeIn.cancel(),this._rightArrowWaitingToFadeOut&&this._rightArrowWaitingToFadeOut.cancel(),this._rightArrowFadeOut&&this._rightArrowFadeOut.cancel(),this._rightArrowFadeIn&&this._rightArrowFadeIn.cancel(),r._resizeNotifier.unsubscribe(this._element,this._boundResizeHandler),this._removeDataChangingEvents(),this._removeDataChangedEvents())}},{_ClassName:{navbarcontainer:"win-navbarcontainer",pageindicators:"win-navbarcontainer-pageindicator-box",indicator:"win-navbarcontainer-pageindicator",currentindicator:"win-navbarcontainer-pageindicator-current",vertical:"win-navbarcontainer-vertical",horizontal:"win-navbarcontainer-horizontal",viewport:"win-navbarcontainer-viewport",surface:"win-navbarcontainer-surface",navarrow:"win-navbarcontainer-navarrow",navleftarrow:"win-navbarcontainer-navleft",navrightarrow:"win-navbarcontainer-navright"},_EventName:{invoked:C.invoked,splitToggle:C.splittoggle}});return c.Class.mix(E,q.DOMEventMixin),E})})}),d("require-style!less/styles-navbar",[],function(){}),d("require-style!less/colors-navbar",[],function(){}),d("WinJS/Controls/NavBar",["../Core/_Global","../Core/_WinRT","../Core/_Base","../Core/_BaseUtils","../Core/_Events","../Core/_WriteProfilerMark","../Promise","../Scheduler","../Utilities/_ElementUtilities","../Utilities/_Hoverable","../_Accents","./_LegacyAppBar","./NavBar/_Command","./NavBar/_Container","require-style!less/styles-navbar","require-style!less/colors-navbar"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){"use strict";k.createAccentRule("html.win-hoverable .win-navbarcommand-splitbutton.win-navbarcommand-splitbutton-opened:hover",[{name:"background-color",value:k.ColorTypes.listSelectHover}]),k.createAccentRule("html.win-hoverable .win-navbarcommand-splitbutton.win-navbarcommand-splitbutton-opened:hover.win-pressed",[{name:"background-color",value:k.ColorTypes.listSelectPress}]),k.createAccentRule(".win-navbarcommand-splitbutton.win-navbarcommand-splitbutton-opened",[{name:"background-color",value:k.ColorTypes.listSelectRest}]),k.createAccentRule(".win-navbarcommand-splitbutton.win-navbarcommand-splitbutton-opened.win-pressed",[{name:"background-color",value:k.ColorTypes.listSelectPress}]);var o="custom";c.Namespace.define("WinJS.UI",{NavBar:c.Namespace._lazy(function(){var j="childrenprocessed",k=e._createEventProperty,m=c.Class.derive(l._LegacyAppBar,function(a,c){i._deprecated(n.navBarIsDeprecated),c=c||{},c=d._shallowCopy(c),c.placement=c.placement||"top",c.layout=o,c.closedDisplayMode=c.closedDisplayMode||"minimal",l._LegacyAppBar.call(this,a,c),this._element.addEventListener("beforeopen",this._handleBeforeShow.bind(this)),i.addClass(this.element,m._ClassName.navbar),b.Windows.ApplicationModel.DesignMode.designModeEnabled?this._processChildren():h.schedule(this._processChildren.bind(this),h.Priority.idle,null,"WinJS.UI.NavBar.processChildren")},{closedDisplayMode:{get:function(){return this._closedDisplayMode},set:function(a){var b="none"===a?"none":"minimal";Object.getOwnPropertyDescriptor(l._LegacyAppBar.prototype,"closedDisplayMode").set.call(this,b),this._closedDisplayMode=b}},onchildrenprocessed:k(j),_processChildren:function(){if(!this._processed){this._processed=!0,this._writeProfilerMark("processChildren,StartTM");var a=this,b=g.as();return this._processors&&this._processors.forEach(function(c){for(var d=0,e=a.element.children.length;e>d;d++)!function(a){b=b.then(function(){c(a)})}(a.element.children[d])}),b.then(function(){a._writeProfilerMark("processChildren,StopTM"),a._fireEvent(m._EventName.childrenProcessed)},function(){a._writeProfilerMark("processChildren,StopTM"),a._fireEvent(m._EventName.childrenProcessed)})}return g.wrap()},_show:function(){if(!this.disabled){var a=this;this._processChildren().then(function(){l._LegacyAppBar.prototype._show.call(a)})}},_handleBeforeShow:function(){if(!this._disposed)for(var a=this.element.querySelectorAll(".win-navbarcontainer"),b=0;b<a.length;b++)a[b].winControl.forceLayout()},_fireEvent:function(b,c){var d=a.document.createEvent("CustomEvent");d.initCustomEvent(b,!0,!1,c||{}),this.element.dispatchEvent(d)},_writeProfilerMark:function(a){f("WinJS.UI.NavBar:"+this._id+":"+a)}},{_ClassName:{navbar:"win-navbar"},_EventName:{childrenProcessed:j},isDeclarativeControlContainer:d.markSupportedForProcessing(function(a,b){if(a._processed)for(var c=0,d=a.element.children.length;d>c;c++)b(a.element.children[c]);else a._processors=a._processors||[],a._processors.push(b)})}),n={get navBarIsDeprecated(){return"NavBar is deprecated and may not be available in future releases. Instead, use a WinJS SplitView to display navigation targets within the app."}};return m})})}),d("require-style!less/styles-viewbox",[],function(){}),d("WinJS/Controls/ViewBox",["../Core/_Global","../Core/_Base","../Core/_BaseUtils","../Core/_ErrorFromName","../Core/_Resources","../Scheduler","../Utilities/_Control","../Utilities/_Dispose","../Utilities/_ElementUtilities","../Utilities/_Hoverable","./ElementResizeInstrument","require-style!less/styles-viewbox"],function(a,b,c,d,e,f,g,h,i,j,k){"use strict";b.Namespace.define("WinJS.UI",{ViewBox:b.Namespace._lazy(function(){var e={get invalidViewBoxChildren(){return"ViewBox expects to be provided with only one child element"}},j=b.Class.define(function(b){this._disposed=!1,this._element=b||a.document.createElement("div");var c=this.element;c.winControl=this,i.addClass(c,"win-disposable"),i.addClass(c,"win-viewbox"),this._handleResizeBound=this._handleResize.bind(this),i._resizeNotifier.subscribe(c,this._handleResizeBound),this._elementResizeInstrument=new k._ElementResizeInstrument,c.appendChild(this._elementResizeInstrument.element),this._elementResizeInstrument.addEventListener("resize",this._handleResizeBound);var d=this;i._inDom(c).then(function(){d._disposed||d._elementResizeInstrument.addedToDom()}),this.forceLayout()},{_sizer:null,_element:null,element:{get:function(){return this._element}},_rtl:{get:function(){return"rtl"===i._getComputedStyle(this.element).direction}},_initialize:function(){var a=this.element,b=Array.prototype.slice.call(a.children);-1===b.indexOf(this._elementResizeInstrument.element)&&a.appendChild(this._elementResizeInstrument.element);var g=this;if(-1===b.indexOf(this._sizer)){var h=b.filter(function(a){return a!==g._elementResizeInstrument.element});if(c.validation&&1!==h.length)throw new d("WinJS.UI.ViewBox.InvalidChildren",e.invalidViewBoxChildren);this._sizer&&(this._sizer.onresize=null);var i=h[0];if(this._sizer=i,0===a.clientWidth&&0===a.clientHeight){var g=this;f.schedule(function(){g._updateLayout()},f.Priority.normal,null,"WinJS.UI.ViewBox._updateLayout")}}},_updateLayout:function(){var a=this._sizer;if(a){var b=this.element,d=a.clientWidth,e=a.clientHeight,f=b.clientWidth,g=b.clientHeight,h=f/d,i=g/e,j=Math.min(h,i),k=Math.abs(f-d*j)/2,l=Math.abs(g-e*j)/2,m=this._rtl;this._sizer.style[c._browserStyleEquivalents.transform.scriptName]="translate("+(m?"-":"")+k+"px,"+l+"px) scale("+j+")",this._sizer.style[c._browserStyleEquivalents["transform-origin"].scriptName]=m?"top right":"top left"}this._layoutCompleteCallback()},_handleResize:function(){if(!this._resizing){this._resizing=this._resizing||0,this._resizing++;try{this._updateLayout()}finally{this._resizing--}}},_layoutCompleteCallback:function(){},dispose:function(){this._disposed||(this.element&&i._resizeNotifier.unsubscribe(this.element,this._handleResizeBound),this._elementResizeInstrument.dispose(),this._disposed=!0,h.disposeSubTree(this._element))},forceLayout:function(){this._initialize(),this._updateLayout()}});return b.Class.mix(j,g.DOMEventMixin),j})})}),d("require-style!less/styles-contentdialog",[],function(){}),d("require-style!less/colors-contentdialog",[],function(){}),d("WinJS/Controls/ContentDialog",["../Application","../Utilities/_Dispose","../_Accents","../Promise","../_Signal","../_LightDismissService","../Core/_BaseUtils","../Core/_Global","../Core/_WinRT","../Core/_Base","../Core/_Events","../Core/_ErrorFromName","../Core/_Resources","../Utilities/_Control","../Utilities/_ElementUtilities","../Utilities/_KeyboardInfo","../Utilities/_Hoverable","../Animations","require-style!less/styles-contentdialog","require-style!less/colors-contentdialog"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){"use strict";c.createAccentRule(".win-contentdialog-dialog",[{name:"outline-color",value:c.ColorTypes.accent}]),j.Namespace.define("WinJS.UI",{ContentDialog:j.Namespace._lazy(function(){function a(a){if("undefined"==typeof u){var b=h.document.createElement("div");b.style.position="-ms-device-fixed",u="-ms-device-fixed"===o._getComputedStyle(b).position}return u}function c(a){return d._cancelBlocker(a,function(){a.cancel()})}function i(a){a.ensuredFocusedElementInView=!0,this.dialog._renderForInputPane(a.occludedRect.height)}function m(){this.dialog._clearInputPaneRendering()}function q(){}function s(a,b){a._interruptibleWorkPromises=a._interruptibleWorkPromises||[];var c=new e;a._interruptibleWorkPromises.push(b(a,c.promise)),c.complete()}function t(){(this._interruptibleWorkPromises||[]).forEach(function(a){a.cancel()})}var u,v={get duplicateConstruction(){return"Invalid argument: Controls may only be instantiated one time for each DOM element"},get controlDisposed(){return"Cannot interact with the control after it has been disposed"},get contentDialogAlreadyShowing(){return"Cannot show a ContentDialog if there is already a ContentDialog that is showing"}},w={none:"none",primary:"primary",secondary:"secondary"},x={contentDialog:"win-contentdialog",backgroundOverlay:"win-contentdialog-backgroundoverlay",dialog:"win-contentdialog-dialog",title:"win-contentdialog-title",content:"win-contentdialog-content",commands:"win-contentdialog-commands",primaryCommand:"win-contentdialog-primarycommand",secondaryCommand:"win-contentdialog-secondarycommand",_verticalAlignment:"win-contentdialog-verticalalignment",_scroller:"win-contentdialog-scroller",_column0or1:"win-contentdialog-column0or1",_visible:"win-contentdialog-visible",_tabStop:"win-contentdialog-tabstop",_commandSpacer:"win-contentdialog-commandspacer",_deviceFixedSupported:"win-contentdialog-devicefixedsupported"},y={beforeShow:"beforeshow",afterShow:"aftershow",beforeHide:"beforehide",afterHide:"afterhide"},z={Init:j.Class.define(null,{name:"Init",hidden:!0,enter:function(){var a=this.dialog;a._dismissable=new f.ModalElement({element:a._dom.root,tabIndex:a._dom.root.hasAttribute("tabIndex")?a._dom.root.tabIndex:-1,onLightDismiss:function(){a.hide(w.none)},onTakeFocus:function(b){a._dismissable.restoreFocus()||o._tryFocusOnAnyElement(a._dom.dialog,b)}}),this.dialog._dismissedSignal=null,this.dialog._setState(z.Hidden,!1)},exit:q,show:function(){throw"It's illegal to call show on the Init state"},hide:q,onCommandClicked:q,onInputPaneShown:q,onInputPaneHidden:q}),Hidden:j.Class.define(null,{name:"Hidden",hidden:!0,enter:function(a){a&&this.show()},exit:q,show:function(){var a=this.dialog._dismissedSignal=new e;return this.dialog._setState(z.BeforeShow),a.promise},hide:q,onCommandClicked:q,onInputPaneShown:q,onInputPaneHidden:q}),BeforeShow:j.Class.define(null,{name:"BeforeShow",hidden:!0,enter:function(){s(this,function(a,b){return b.then(function(){return a.dialog._fireBeforeShow()}).then(function(b){return b||a.dialog._cancelDismissalPromise(null),b}).then(function(b){b?a.dialog._setState(z.Showing):a.dialog._setState(z.Hidden,!1)})})},exit:t,show:function(){return d.wrapError(new l("WinJS.UI.ContentDialog.ContentDialogAlreadyShowing",v.contentDialogAlreadyShowing))},hide:q,onCommandClicked:q,onInputPaneShown:q,onInputPaneHidden:q}),Showing:j.Class.define(null,{name:"Showing",hidden:{get:function(){return!!this._pendingHide}},enter:function(){s(this,function(a,b){return b.then(function(){return a._pendingHide=null,o.addClass(a.dialog._dom.root,x._visible),a.dialog._addExternalListeners(),p._KeyboardInfo._visible&&a.dialog._renderForInputPane(),f.shown(a.dialog._dismissable),a.dialog._playEntranceAnimation()}).then(function(){a.dialog._fireEvent(y.afterShow)}).then(function(){a.dialog._setState(z.Shown,a._pendingHide)})})},exit:t,show:function(){if(this._pendingHide){var a=this._pendingHide.dismissalResult;return this._pendingHide=null,this.dialog._resetDismissalPromise(a,new e).promise}return d.wrapError(new l("WinJS.UI.ContentDialog.ContentDialogAlreadyShowing",v.contentDialogAlreadyShowing))},hide:function(a){this._pendingHide={dismissalResult:a}},onCommandClicked:q,onInputPaneShown:i,onInputPaneHidden:m}),Shown:j.Class.define(null,{name:"Shown",hidden:!1,enter:function(a){a&&this.hide(a.dismissalResult)},exit:q,show:function(){return d.wrapError(new l("WinJS.UI.ContentDialog.ContentDialogAlreadyShowing",v.contentDialogAlreadyShowing))},hide:function(a){this.dialog._setState(z.BeforeHide,a)},onCommandClicked:function(a){this.hide(a)},onInputPaneShown:i,onInputPaneHidden:m}),BeforeHide:j.Class.define(null,{name:"BeforeHide",hidden:!1,enter:function(a){s(this,function(b,c){return c.then(function(){return b.dialog._fireBeforeHide(a)}).then(function(c){c?b.dialog._setState(z.Hiding,a):b.dialog._setState(z.Shown,null)})})},exit:t,show:function(){return d.wrapError(new l("WinJS.UI.ContentDialog.ContentDialogAlreadyShowing",v.contentDialogAlreadyShowing))},hide:q,onCommandClicked:q,onInputPaneShown:i,onInputPaneHidden:m}),Hiding:j.Class.define(null,{name:"Hiding",hidden:{get:function(){return!this._showIsPending}},enter:function(a){s(this,function(b,c){return c.then(function(){b._showIsPending=!1,b.dialog._resetDismissalPromise(a,null)}).then(function(){return b.dialog._playExitAnimation()}).then(function(){b.dialog._removeExternalListeners(),f.hidden(b.dialog._dismissable),o.removeClass(b.dialog._dom.root,x._visible),b.dialog._clearInputPaneRendering(),b.dialog._fireAfterHide(a)}).then(function(){b.dialog._setState(z.Hidden,b._showIsPending)})})},exit:t,show:function(){return this._showIsPending?d.wrapError(new l("WinJS.UI.ContentDialog.ContentDialogAlreadyShowing",v.contentDialogAlreadyShowing)):(this._showIsPending=!0,this.dialog._dismissedSignal=new e,this.dialog._dismissedSignal.promise)},hide:function(a){this._showIsPending&&(this._showIsPending=!1,this.dialog._resetDismissalPromise(a,null))},onCommandClicked:q,onInputPaneShown:q,onInputPaneHidden:q}),Disposed:j.Class.define(null,{name:"Disposed",hidden:!0,enter:function(){f.hidden(this.dialog._dismissable),this.dialog._removeExternalListeners(),this.dialog._dismissedSignal&&this.dialog._dismissedSignal.error(new l("WinJS.UI.ContentDialog.ControlDisposed",v.controlDisposed))},exit:q,show:function(){return d.wrapError(new l("WinJS.UI.ContentDialog.ControlDisposed",v.controlDisposed))},hide:q,onCommandClicked:q,onInputPaneShown:q,onInputPaneHidden:q})},A=j.Class.define(function(a,b){if(a&&a.winControl)throw new l("WinJS.UI.ContentDialog.DuplicateConstruction",v.duplicateConstruction);b=b||{},this._onInputPaneShownBound=this._onInputPaneShown.bind(this),this._onInputPaneHiddenBound=this._onInputPaneHidden.bind(this),this._onUpdateInputPaneRenderingBound=this._onUpdateInputPaneRendering.bind(this),this._disposed=!1,this._currentFocus=null,this._rendered={registeredForResize:!1,resizedForInputPane:!1,top:"",bottom:""},this._initializeDom(a||h.document.createElement("div")),this._setState(z.Init),this.title="",this.primaryCommandText="",this.primaryCommandDisabled=!1,this.secondaryCommandText="",this.secondaryCommandDisabled=!1,n.setOptions(this,b)},{element:{get:function(){return this._dom.root}},title:{get:function(){return this._title},set:function(a){a=a||"",this._title!==a&&(this._title=a,this._dom.title.textContent=a,this._dom.title.style.display=a?"":"none")}},primaryCommandText:{get:function(){return this._primaryCommandText},set:function(a){a=a||"",this._primaryCommandText!==a&&(this._primaryCommandText=a,this._dom.commands[0].textContent=a,this._updateCommandsUI())}},secondaryCommandText:{get:function(){return this._secondaryCommandText},set:function(a){a=a||"",this._secondaryCommandText!==a&&(this._secondaryCommandText=a,this._dom.commands[1].textContent=a,this._updateCommandsUI())}},primaryCommandDisabled:{get:function(){return this._primaryCommandDisabled},set:function(a){a=!!a,this._primaryCommandDisabled!==a&&(this._primaryCommandDisabled=a,this._dom.commands[0].disabled=a)}},secondaryCommandDisabled:{get:function(){return this._secondaryCommandDisabled},set:function(a){a=!!a,this._secondaryCommandDisabled!==a&&(this._secondaryCommandDisabled=a,this._dom.commands[1].disabled=a)}},hidden:{get:function(){return this._state.hidden},set:function(a){if(!a&&this._state.hidden){var b=function(){};this.show().done(b,b)}else a&&!this._state.hidden&&this.hide(w.none)}},dispose:function(){this._disposed||(this._setState(z.Disposed),this._disposed=!0,o._resizeNotifier.unsubscribe(this._dom.root,this._onUpdateInputPaneRenderingBound),b._disposeElement(this._dom.content))},show:function(){return this._state.show()},hide:function(a){this._state.hide(void 0===a?w.none:a)},_initializeDom:function(b){var c=h.document.createElement("div");c.className=x.content,o._reparentChildren(b,c),b.winControl=this,o.addClass(b,x.contentDialog),o.addClass(b,x._verticalAlignment),o.addClass(b,"win-disposable"),b.innerHTML='<div class="'+x.backgroundOverlay+'"></div><div class="'+x._tabStop+'"></div><div tabindex="-1" role="dialog" class="'+x.dialog+'"><h2 class="'+x.title+'" role="heading"></h2><div class="'+x._scroller+'"></div><div class="'+x.commands+'"><button type="button" class="'+x._commandSpacer+' win-button"></button><button type="button" class="'+x.primaryCommand+' win-button"></button><button type="button" class="'+x.secondaryCommand+' win-button"></button></div></div><div class="'+x._tabStop+'"></div><div class="'+x._column0or1+'"></div>';var d={};d.root=b,d.backgroundOverlay=d.root.firstElementChild,d.startBodyTab=d.backgroundOverlay.nextElementSibling,d.dialog=d.startBodyTab.nextElementSibling,d.title=d.dialog.firstElementChild,d.scroller=d.title.nextElementSibling,d.commandContainer=d.scroller.nextElementSibling,d.commandSpacer=d.commandContainer.firstElementChild,d.commands=[],d.commands.push(d.commandSpacer.nextElementSibling),d.commands.push(d.commands[0].nextElementSibling),d.endBodyTab=d.dialog.nextElementSibling,d.content=c,this._dom=d,d.scroller.appendChild(d.content),o._ensureId(d.title),o._ensureId(d.startBodyTab),o._ensureId(d.endBodyTab),d.dialog.setAttribute("aria-labelledby",d.title.id),d.startBodyTab.setAttribute("x-ms-aria-flowfrom",d.endBodyTab.id),d.endBodyTab.setAttribute("aria-flowto",d.startBodyTab.id),this._updateTabIndices(),d.root.addEventListener("keydown",this._onKeyDownEnteringElement.bind(this),!0),o._addEventListener(d.root,"pointerdown",this._onPointerDown.bind(this)),o._addEventListener(d.root,"pointerup",this._onPointerUp.bind(this)),d.root.addEventListener("click",this._onClick.bind(this)),o._addEventListener(d.startBodyTab,"focusin",this._onStartBodyTabFocusIn.bind(this)),o._addEventListener(d.endBodyTab,"focusin",this._onEndBodyTabFocusIn.bind(this)),d.commands[0].addEventListener("click",this._onCommandClicked.bind(this,w.primary)),d.commands[1].addEventListener("click",this._onCommandClicked.bind(this,w.secondary)),a()&&o.addClass(d.root,x._deviceFixedSupported)},_updateCommandsUI:function(){this._dom.commands[0].style.display=this.primaryCommandText?"":"none",this._dom.commands[1].style.display=this.secondaryCommandText?"":"none",this._dom.commandSpacer.style.display=this.primaryCommandText&&!this.secondaryCommandText||!this.primaryCommandText&&this.secondaryCommandText?"":"none"},_updateTabIndices:function(){this._updateTabIndicesThrottled||(this._updateTabIndicesThrottled=g._throttledFunction(100,this._updateTabIndicesImpl.bind(this))),this._updateTabIndicesThrottled()},_updateTabIndicesImpl:function(){var a=o._getHighAndLowTabIndices(this._dom.content);this._dom.startBodyTab.tabIndex=a.lowest,this._dom.commands[0].tabIndex=a.highest,this._dom.commands[1].tabIndex=a.highest,this._dom.endBodyTab.tabIndex=a.highest},_elementInDialog:function(a){return this._dom.dialog.contains(a)||a===this._dom.startBodyTab||a===this._dom.endBodyTab},_onCommandClicked:function(a){this._state.onCommandClicked(a)},_onPointerDown:function(a){a.stopPropagation(),this._elementInDialog(a.target)||a.preventDefault()},_onPointerUp:function(a){a.stopPropagation(),this._elementInDialog(a.target)||a.preventDefault()},_onClick:function(a){a.stopPropagation(),this._elementInDialog(a.target)||a.preventDefault()},_onKeyDownEnteringElement:function(a){a.keyCode===o.Key.tab&&this._updateTabIndices()},_onStartBodyTabFocusIn:function(){o._focusLastFocusableElement(this._dom.dialog)},_onEndBodyTabFocusIn:function(){o._focusFirstFocusableElement(this._dom.dialog)},_onInputPaneShown:function(a){this._state.onInputPaneShown(a.detail.originalEvent)},_onInputPaneHidden:function(){this._state.onInputPaneHidden()},_onUpdateInputPaneRendering:function(){this._renderForInputPane()},_setState:function(a,b){this._disposed||(this._state&&this._state.exit(),this._state=new a,this._state.dialog=this,this._state.enter(b))},_resetDismissalPromise:function(a,b){var c=this._dismissedSignal,d=this._dismissedSignal=b;return c.complete({result:a}),d},_cancelDismissalPromise:function(a){var b=this._dismissedSignal,c=this._dismissedSignal=a;return b.cancel(),c},_fireEvent:function(a,b){b=b||{};var c=b.detail||null,d=!!b.cancelable,e=h.document.createEvent("CustomEvent");return e.initCustomEvent(a,!0,d,c),this._dom.root.dispatchEvent(e)},_fireBeforeShow:function(){return this._fireEvent(y.beforeShow,{cancelable:!0})},_fireBeforeHide:function(a){return this._fireEvent(y.beforeHide,{detail:{result:a},cancelable:!0})},_fireAfterHide:function(a){this._fireEvent(y.afterHide,{detail:{result:a}})},_playEntranceAnimation:function(){return c(r.fadeIn(this._dom.root))},_playExitAnimation:function(){return c(r.fadeOut(this._dom.root))},_addExternalListeners:function(){o._inputPaneListener.addEventListener(this._dom.root,"showing",this._onInputPaneShownBound),o._inputPaneListener.addEventListener(this._dom.root,"hiding",this._onInputPaneHiddenBound)},_removeExternalListeners:function(){o._inputPaneListener.removeEventListener(this._dom.root,"showing",this._onInputPaneShownBound),o._inputPaneListener.removeEventListener(this._dom.root,"hiding",this._onInputPaneHiddenBound)},_shouldResizeForInputPane:function(){if(this._rendered.resizedForInputPane)return!0;var a=this._dom.dialog.getBoundingClientRect(),b=p._KeyboardInfo._visibleDocTop>a.top||p._KeyboardInfo._visibleDocBottom<a.bottom;return b},_renderForInputPane:function(){var a=this._rendered;if(a.registeredForResize||(o._resizeNotifier.subscribe(this._dom.root,this._onUpdateInputPaneRenderingBound),a.registeredForResize=!0),this._shouldResizeForInputPane()){var b=p._KeyboardInfo._visibleDocTop+"px",c=p._KeyboardInfo._visibleDocBottomOffset+"px";if(a.top!==b&&(this._dom.root.style.top=b,a.top=b),a.bottom!==c&&(this._dom.root.style.bottom=c,a.bottom=c),!a.resizedForInputPane){this._dom.scroller.insertBefore(this._dom.title,this._dom.content),this._dom.root.style.height="auto";var d=h.document.activeElement;d&&this._dom.scroller.contains(d)&&d.scrollIntoView(),a.resizedForInputPane=!0}}},_clearInputPaneRendering:function(){var a=this._rendered;a.registeredForResize&&(o._resizeNotifier.unsubscribe(this._dom.root,this._onUpdateInputPaneRenderingBound),a.registeredForResize=!1),""!==a.top&&(this._dom.root.style.top="",a.top=""),""!==a.bottom&&(this._dom.root.style.bottom="",a.bottom=""),a.resizedForInputPane&&(this._dom.dialog.insertBefore(this._dom.title,this._dom.scroller),this._dom.root.style.height="",a.resizedForInputPane=!1)}},{DismissalResult:w,_ClassNames:x});return j.Class.mix(A,k.createEventProperties("beforeshow","aftershow","beforehide","afterhide")),j.Class.mix(A,n.DOMEventMixin),A})})}),d("require-style!less/styles-splitview",[],function(){}),d("require-style!less/colors-splitview",[],function(){}),d("WinJS/Controls/SplitView/_SplitView",["require","exports","../../Animations","../../Core/_Base","../../Core/_BaseUtils","../../Utilities/_Control","../../Utilities/_Dispose","../../Utilities/_ElementUtilities","../../Core/_ErrorFromName","../../Core/_Events","../../Core/_Global","../../_LightDismissService","../../Utilities/_OpenCloseMachine"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){function n(a,b){b&&h.addClass(a,b)}function o(a,b){b&&h.removeClass(a,b)}function p(a,b){return b===u.width?{content:a.contentWidth,total:a.totalWidth}:{content:a.contentHeight,total:a.totalHeight}}a(["require-style!less/styles-splitview"]),a(["require-style!less/colors-splitview"]);var q=e._browserStyleEquivalents.transform,r={get duplicateConstruction(){return"Invalid argument: Controls may only be instantiated one time for each DOM element"}},s={splitView:"win-splitview",pane:"win-splitview-pane",content:"win-splitview-content",paneClosed:"win-splitview-pane-closed",paneOpened:"win-splitview-pane-opened",_panePlaceholder:"win-splitview-paneplaceholder",_paneOutline:"win-splitview-paneoutline",_tabStop:"win-splitview-tabstop",_paneWrapper:"win-splitview-panewrapper",_contentWrapper:"win-splitview-contentwrapper",_animating:"win-splitview-animating",_placementLeft:"win-splitview-placementleft",_placementRight:"win-splitview-placementright",_placementTop:"win-splitview-placementtop",_placementBottom:"win-splitview-placementbottom",_closedDisplayNone:"win-splitview-closeddisplaynone",_closedDisplayInline:"win-splitview-closeddisplayinline",_openedDisplayInline:"win-splitview-openeddisplayinline",_openedDisplayOverlay:"win-splitview-openeddisplayoverlay"},t={beforeOpen:"beforeopen",afterOpen:"afteropen",beforeClose:"beforeclose",afterClose:"afterclose"},u={width:"width",height:"height"},v={none:"none",inline:"inline"},w={inline:"inline",overlay:"overlay"},x={left:"left",right:"right",top:"top",bottom:"bottom"},y={};y[v.none]=s._closedDisplayNone,y[v.inline]=s._closedDisplayInline;var z={};z[w.overlay]=s._openedDisplayOverlay,z[w.inline]=s._openedDisplayInline;var A={};A[x.left]=s._placementLeft,A[x.right]=s._placementRight,A[x.top]=s._placementTop,A[x.bottom]=s._placementBottom;var B=function(){function a(a,b){var c=this;if(void 0===b&&(b={}),this._updateDomImpl_rendered={paneIsFirst:void 0,isOpenedMode:void 0,closedDisplayMode:void 0,openedDisplayMode:void 0,panePlacement:void 0,panePlaceholderWidth:void 0,panePlaceholderHeight:void 0,isOverlayShown:void 0,startPaneTabIndex:void 0,endPaneTabIndex:void 0},a&&a.winControl)throw new i("WinJS.UI.SplitView.DuplicateConstruction",r.duplicateConstruction);this._initializeDom(a||k.document.createElement("div")),this._machine=new m.OpenCloseMachine({eventElement:this._dom.root,onOpen:function(){c._cachedHiddenPaneThickness=null;var a=c._getHiddenPaneThickness();return c._isOpenedMode=!0,c._updateDomImpl(),h.addClass(c._dom.root,s._animating),c._playShowAnimation(a).then(function(){h.removeClass(c._dom.root,s._animating)})},onClose:function(){return h.addClass(c._dom.root,s._animating),c._playHideAnimation(c._getHiddenPaneThickness()).then(function(){h.removeClass(c._dom.root,s._animating),c._isOpenedMode=!1,c._updateDomImpl()})},onUpdateDom:function(){c._updateDomImpl()},onUpdateDomWithIsOpened:function(a){c._isOpenedMode=a,c._updateDomImpl()}}),this._disposed=!1,this._dismissable=new l.LightDismissableElement({element:this._dom.paneWrapper,tabIndex:-1,onLightDismiss:function(){c.closePane()},onTakeFocus:function(a){c._dismissable.restoreFocus()||h._tryFocusOnAnyElement(c._dom.pane,a)}}),this._cachedHiddenPaneThickness=null,this.paneOpened=!1,this.closedDisplayMode=v.inline,this.openedDisplayMode=w.overlay,this.panePlacement=x.left,f.setOptions(this,b),h._inDom(this._dom.root).then(function(){c._rtl="rtl"===h._getComputedStyle(c._dom.root).direction,c._updateTabIndices(),c._machine.exitInit()})}return Object.defineProperty(a.prototype,"element",{get:function(){return this._dom.root},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"paneElement",{get:function(){return this._dom.pane},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"contentElement",{get:function(){return this._dom.content},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"closedDisplayMode",{get:function(){return this._closedDisplayMode},set:function(a){v[a]&&this._closedDisplayMode!==a&&(this._closedDisplayMode=a,this._cachedHiddenPaneThickness=null,this._machine.updateDom())},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"openedDisplayMode",{get:function(){return this._openedDisplayMode},set:function(a){w[a]&&this._openedDisplayMode!==a&&(this._openedDisplayMode=a,this._cachedHiddenPaneThickness=null,this._machine.updateDom())},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"panePlacement",{get:function(){return this._panePlacement},set:function(a){x[a]&&this._panePlacement!==a&&(this._panePlacement=a,this._cachedHiddenPaneThickness=null,this._machine.updateDom())},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"paneOpened",{get:function(){return this._machine.opened},set:function(a){this._machine.opened=a},enumerable:!0,configurable:!0}),a.prototype.dispose=function(){this._disposed||(this._disposed=!0,this._machine.dispose(),l.hidden(this._dismissable),g._disposeElement(this._dom.pane),g._disposeElement(this._dom.content))},a.prototype.openPane=function(){this._machine.open()},a.prototype.closePane=function(){this._machine.close()},a.prototype._initializeDom=function(a){var b=a.firstElementChild||k.document.createElement("div");h.addClass(b,s.pane),b.hasAttribute("tabIndex")||(b.tabIndex=-1);var c=k.document.createElement("div");h.addClass(c,s.content);for(var d=b.nextSibling;d;){var e=d.nextSibling;c.appendChild(d),d=e}var f=k.document.createElement("div");f.className=s._tabStop,h._ensureId(f);var g=k.document.createElement("div");g.className=s._tabStop,h._ensureId(g);var i=k.document.createElement("div");i.className=s._paneOutline;var j=k.document.createElement("div");j.className=s._paneWrapper,j.appendChild(f),j.appendChild(b),j.appendChild(i),j.appendChild(g);var l=k.document.createElement("div");l.className=s._panePlaceholder;var m=k.document.createElement("div");m.className=s._contentWrapper,m.appendChild(c),a.winControl=this,h.addClass(a,s.splitView),h.addClass(a,"win-disposable"),this._dom={root:a,pane:b,startPaneTab:f,endPaneTab:g,paneOutline:i,paneWrapper:j,panePlaceholder:l,content:c,contentWrapper:m},h._addEventListener(b,"keydown",this._onKeyDown.bind(this)),h._addEventListener(f,"focusin",this._onStartPaneTabFocusIn.bind(this)),h._addEventListener(g,"focusin",this._onEndPaneTabFocusIn.bind(this))},a.prototype._onKeyDown=function(a){a.keyCode===h.Key.tab&&this._updateTabIndices()},a.prototype._onStartPaneTabFocusIn=function(a){h._focusLastFocusableElement(this._dom.pane)},a.prototype._onEndPaneTabFocusIn=function(a){h._focusFirstFocusableElement(this._dom.pane)},a.prototype._measureElement=function(a){var b=h._getComputedStyle(a),c=h._getPositionRelativeTo(a,this._dom.root),d=parseInt(b.marginLeft,10),e=parseInt(b.marginTop,10);return{left:c.left-d,top:c.top-e,contentWidth:h.getContentWidth(a),contentHeight:h.getContentHeight(a),totalWidth:h.getTotalWidth(a),totalHeight:h.getTotalHeight(a)}},a.prototype._setContentRect=function(a){var b=this._dom.contentWrapper.style;b.left=a.left+"px",b.top=a.top+"px",b.height=a.contentHeight+"px",b.width=a.contentWidth+"px"},a.prototype._prepareAnimation=function(a,b){var c=this._dom.paneWrapper.style;c.position="absolute",c.left=a.left+"px",c.top=a.top+"px",c.height=a.totalHeight+"px",c.width=a.totalWidth+"px";var d=this._dom.contentWrapper.style;d.position="absolute",this._setContentRect(b)},a.prototype._clearAnimation=function(){var a=this._dom.paneWrapper.style;a.position="",a.left="",a.top="",a.height="",a.width="",a[q.scriptName]="";
var b=this._dom.contentWrapper.style;b.position="",b.left="",b.top="",b.height="",b.width="",b[q.scriptName]="";var c=this._dom.pane.style;c.height="",c.width="",c[q.scriptName]=""},a.prototype._getHiddenContentRect=function(a,b,c){if(this.openedDisplayMode===w.overlay)return a;var d=this._rtl?x.left:x.right,e=this.panePlacement===d||this.panePlacement===x.bottom?0:1,f={content:c.content-b.content,total:c.total-b.total};return this._horizontal?{left:a.left-e*f.total,top:a.top,contentWidth:a.contentWidth+f.content,contentHeight:a.contentHeight,totalWidth:a.totalWidth+f.total,totalHeight:a.totalHeight}:{left:a.left,top:a.top-e*f.total,contentWidth:a.contentWidth,contentHeight:a.contentHeight+f.content,totalWidth:a.totalWidth,totalHeight:a.totalHeight+f.total}},Object.defineProperty(a.prototype,"_horizontal",{get:function(){return this.panePlacement===x.left||this.panePlacement===x.right},enumerable:!0,configurable:!0}),a.prototype._getHiddenPaneThickness=function(){if(null===this._cachedHiddenPaneThickness)if(this._closedDisplayMode===v.none)this._cachedHiddenPaneThickness={content:0,total:0};else{this._isOpenedMode&&(h.removeClass(this._dom.root,s.paneOpened),h.addClass(this._dom.root,s.paneClosed));var a=this._measureElement(this._dom.pane);this._cachedHiddenPaneThickness=p(a,this._horizontal?u.width:u.height),this._isOpenedMode&&(h.removeClass(this._dom.root,s.paneClosed),h.addClass(this._dom.root,s.paneOpened))}return this._cachedHiddenPaneThickness},a.prototype._playShowAnimation=function(a){var b=this,d=this._horizontal?u.width:u.height,e=this._measureElement(this._dom.pane),f=this._measureElement(this._dom.content),g=p(e,d),h=this._getHiddenContentRect(f,a,g);this._prepareAnimation(e,h);var i=function(){var e=b._rtl?x.left:x.right,f=.3,h=a.total+f*(g.total-a.total);return c._resizeTransition(b._dom.paneWrapper,b._dom.pane,{from:h,to:g.total,actualSize:g.total,dimension:d,anchorTrailingEdge:b.panePlacement===e||b.panePlacement===x.bottom})},j=function(){return b.openedDisplayMode===w.inline&&b._setContentRect(f),i()};return j().then(function(){b._clearAnimation()})},a.prototype._playHideAnimation=function(a){var b=this,d=this._horizontal?u.width:u.height,e=this._measureElement(this._dom.pane),f=this._measureElement(this._dom.content),g=p(e,d),h=this._getHiddenContentRect(f,a,g);this._prepareAnimation(e,f);var i=function(){var e=b._rtl?x.left:x.right,f=.3,h=g.total-f*(g.total-a.total);return c._resizeTransition(b._dom.paneWrapper,b._dom.pane,{from:h,to:a.total,actualSize:g.total,dimension:d,anchorTrailingEdge:b.panePlacement===e||b.panePlacement===x.bottom})},j=function(){return b.openedDisplayMode===w.inline&&b._setContentRect(h),i()};return j().then(function(){b._clearAnimation()})},a.prototype._updateTabIndices=function(){this._updateTabIndicesThrottled||(this._updateTabIndicesThrottled=e._throttledFunction(100,this._updateTabIndicesImpl.bind(this))),this._updateTabIndicesThrottled()},a.prototype._updateTabIndicesImpl=function(){var a=h._getHighAndLowTabIndices(this._dom.pane);this._highestPaneTabIndex=a.highest,this._lowestPaneTabIndex=a.lowest,this._machine.updateDom()},a.prototype._updateDomImpl=function(){var a=this._updateDomImpl_rendered,b=this.panePlacement===x.left||this.panePlacement===x.top;b!==a.paneIsFirst&&(b?(this._dom.root.appendChild(this._dom.panePlaceholder),this._dom.root.appendChild(this._dom.paneWrapper),this._dom.root.appendChild(this._dom.contentWrapper)):(this._dom.root.appendChild(this._dom.contentWrapper),this._dom.root.appendChild(this._dom.paneWrapper),this._dom.root.appendChild(this._dom.panePlaceholder))),a.paneIsFirst=b,a.isOpenedMode!==this._isOpenedMode&&(this._isOpenedMode?(h.removeClass(this._dom.root,s.paneClosed),h.addClass(this._dom.root,s.paneOpened)):(h.removeClass(this._dom.root,s.paneOpened),h.addClass(this._dom.root,s.paneClosed))),a.isOpenedMode=this._isOpenedMode,a.panePlacement!==this.panePlacement&&(o(this._dom.root,A[a.panePlacement]),n(this._dom.root,A[this.panePlacement]),a.panePlacement=this.panePlacement),a.closedDisplayMode!==this.closedDisplayMode&&(o(this._dom.root,y[a.closedDisplayMode]),n(this._dom.root,y[this.closedDisplayMode]),a.closedDisplayMode=this.closedDisplayMode),a.openedDisplayMode!==this.openedDisplayMode&&(o(this._dom.root,z[a.openedDisplayMode]),n(this._dom.root,z[this.openedDisplayMode]),a.openedDisplayMode=this.openedDisplayMode);var c=this._isOpenedMode&&this.openedDisplayMode===w.overlay,d=c?this._lowestPaneTabIndex:-1,e=c?this._highestPaneTabIndex:-1;a.startPaneTabIndex!==d&&(this._dom.startPaneTab.tabIndex=d,-1===d?this._dom.startPaneTab.removeAttribute("x-ms-aria-flowfrom"):this._dom.startPaneTab.setAttribute("x-ms-aria-flowfrom",this._dom.endPaneTab.id),a.startPaneTabIndex=d),a.endPaneTabIndex!==e&&(this._dom.endPaneTab.tabIndex=e,-1===e?this._dom.endPaneTab.removeAttribute("aria-flowto"):this._dom.endPaneTab.setAttribute("aria-flowto",this._dom.startPaneTab.id),a.endPaneTabIndex=e);var f,g;if(c){var i=this._getHiddenPaneThickness();this._horizontal?(f=i.total+"px",g=""):(f="",g=i.total+"px")}else f="",g="";if(a.panePlaceholderWidth!==f||a.panePlaceholderHeight!==g){var j=this._dom.panePlaceholder.style;j.width=f,j.height=g,a.panePlaceholderWidth=f,a.panePlaceholderHeight=g}a.isOverlayShown!==c&&(c?l.shown(this._dismissable):l.hidden(this._dismissable),a.isOverlayShown=c)},a.ClosedDisplayMode=v,a.OpenedDisplayMode=w,a.PanePlacement=x,a.supportedForProcessing=!0,a._ClassNames=s,a}();b.SplitView=B,d.Class.mix(B,j.createEventProperties(t.beforeOpen,t.afterOpen,t.beforeClose,t.afterClose)),d.Class.mix(B,f.DOMEventMixin)}),d("WinJS/Controls/SplitView",["require","exports","../Core/_Base"],function(a,b,c){var d=null;c.Namespace.define("WinJS.UI",{SplitView:{get:function(){return d||a(["./SplitView/_SplitView"],function(a){d=a}),d.SplitView}}})}),d("require-style!less/styles-splitviewpanetoggle",[],function(){}),d("require-style!less/colors-splitviewpanetoggle",[],function(){}),d("WinJS/Controls/SplitViewPaneToggle/_SplitViewPaneToggle",["require","exports","../../Core/_Base","../../Utilities/_Control","../../Utilities/_ElementUtilities","../../Core/_ErrorFromName","../../Core/_Events","../../Core/_Global","../../Utilities/_KeyboardBehavior","../../Utilities/_Hoverable"],function(a,b,c,d,e,f,g,h,i,j){function k(a){return a&&a.winControl}function l(a){var b=k(a);return b?b.paneOpened:!1}j.isHoverable,a(["require-style!less/styles-splitviewpanetoggle"]),a(["require-style!less/colors-splitviewpanetoggle"]);var m={splitViewPaneToggle:"win-splitviewpanetoggle"},n={invoked:"invoked"},o={get duplicateConstruction(){return"Invalid argument: Controls may only be instantiated one time for each DOM element"},get badButtonElement(){return"Invalid argument: The SplitViewPaneToggle's element must be a button element"}},p=function(){function a(a,b){if(void 0===b&&(b={}),this._updateDom_rendered={splitView:void 0},a&&a.winControl)throw new f("WinJS.UI.SplitViewPaneToggle.DuplicateConstruction",o.duplicateConstruction);this._onPaneStateSettledBound=this._onPaneStateSettled.bind(this),this._ariaExpandedMutationObserver=new e._MutationObserver(this._onAriaExpandedPropertyChanged.bind(this)),this._initializeDom(a||h.document.createElement("button")),this._disposed=!1,this.splitView=null,d.setOptions(this,b),this._initialized=!0,this._updateDom()}return Object.defineProperty(a.prototype,"element",{get:function(){return this._dom.root},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"splitView",{get:function(){return this._splitView},set:function(a){this._splitView=a,a&&(this._opened=l(a)),this._updateDom()},enumerable:!0,configurable:!0}),a.prototype.dispose=function(){this._disposed||(this._disposed=!0,this._splitView&&this._removeListeners(this._splitView))},a.prototype._initializeDom=function(a){if("BUTTON"!==a.tagName)throw new f("WinJS.UI.SplitViewPaneToggle.BadButtonElement",o.badButtonElement);a.winControl=this,e.addClass(a,m.splitViewPaneToggle),e.addClass(a,"win-disposable"),a.hasAttribute("type")||(a.type="button"),new i._WinKeyboard(a),a.addEventListener("click",this._onClick.bind(this)),this._dom={root:a}},a.prototype._updateDom=function(){if(this._initialized&&!this._disposed){var a=this._updateDom_rendered;if(this._splitView!==a.splitView&&(a.splitView&&(this._dom.root.removeAttribute("aria-controls"),this._removeListeners(a.splitView)),this._splitView&&(e._ensureId(this._splitView),this._dom.root.setAttribute("aria-controls",this._splitView.id),this._addListeners(this._splitView)),a.splitView=this._splitView),this._splitView){var b=this._opened?"true":"false";e._setAttribute(this._dom.root,"aria-expanded",b);var c=k(this._splitView);c&&(c.paneOpened=this._opened)}}},a.prototype._addListeners=function(a){a.addEventListener("_openCloseStateSettled",this._onPaneStateSettledBound),this._ariaExpandedMutationObserver.observe(this._dom.root,{attributes:!0,attributeFilter:["aria-expanded"]})},a.prototype._removeListeners=function(a){a.removeEventListener("_openCloseStateSettled",this._onPaneStateSettledBound),this._ariaExpandedMutationObserver.disconnect()},a.prototype._fireEvent=function(a){var b=h.document.createEvent("CustomEvent");return b.initCustomEvent(a,!0,!1,null),this._dom.root.dispatchEvent(b)},a.prototype._onPaneStateSettled=function(a){a.target===this._splitView&&(this._opened=l(this._splitView),this._updateDom())},a.prototype._onAriaExpandedPropertyChanged=function(a){var b="true"===this._dom.root.getAttribute("aria-expanded");this._opened=b,this._updateDom()},a.prototype._onClick=function(a){this._invoked()},a.prototype._invoked=function(){this._disposed||(this._splitView&&(this._opened=!this._opened,this._updateDom()),this._fireEvent(n.invoked))},a._ClassNames=m,a.supportedForProcessing=!0,a}();b.SplitViewPaneToggle=p,c.Class.mix(p,g.createEventProperties(n.invoked)),c.Class.mix(p,d.DOMEventMixin)}),d("WinJS/Controls/SplitViewPaneToggle",["require","exports","../Core/_Base"],function(a,b,c){var d=null;c.Namespace.define("WinJS.UI",{SplitViewPaneToggle:{get:function(){return d||a(["./SplitViewPaneToggle/_SplitViewPaneToggle"],function(a){d=a}),d.SplitViewPaneToggle}}})}),d("WinJS/Controls/AppBar/_Constants",["require","exports","../CommandingSurface/_Constants"],function(a,b,c){b.ClassNames={controlCssClass:"win-appbar",disposableCssClass:"win-disposable",actionAreaCssClass:"win-appbar-actionarea",overflowButtonCssClass:"win-appbar-overflowbutton",spacerCssClass:"win-appbar-spacer",ellipsisCssClass:"win-appbar-ellipsis",overflowAreaCssClass:"win-appbar-overflowarea",contentFlyoutCssClass:"win-appbar-contentflyout",emptyappbarCssClass:"win-appbar-empty",menuCssClass:"win-menu",menuContainsToggleCommandClass:"win-menu-containstogglecommand",openedClass:"win-appbar-opened",closedClass:"win-appbar-closed",noneClass:"win-appbar-closeddisplaynone",minimalClass:"win-appbar-closeddisplayminimal",compactClass:"win-appbar-closeddisplaycompact",fullClass:"win-appbar-closeddisplayfull",placementTopClass:"win-appbar-top",placementBottomClass:"win-appbar-bottom"},b.EventNames={beforeOpen:"beforeopen",afterOpen:"afteropen",beforeClose:"beforeclose",afterClose:"afterclose",commandPropertyMutated:"_commandpropertymutated"},b.controlMinWidth=c.controlMinWidth,b.defaultClosedDisplayMode="compact",b.defaultOpened=!1,b.defaultPlacement="bottom",b.typeSeparator="separator",b.typeContent="content",b.typeButton="button",b.typeToggle="toggle",b.typeFlyout="flyout",b.commandSelector=".win-command",b.primaryCommandSection="primary",b.secondaryCommandSection="secondary"}),d("require-style!less/styles-appbar",[],function(){}),d("WinJS/Controls/AppBar/_AppBar",["require","exports","../../Core/_Base","../AppBar/_Constants","../CommandingSurface","../../Utilities/_Control","../../Utilities/_Dispose","../../Utilities/_ElementUtilities","../../Core/_ErrorFromName","../../Core/_Events","../../Core/_Global","../../Utilities/_KeyboardInfo","../../_LightDismissService","../../Promise","../../Core/_Resources","../../Utilities/_OpenCloseMachine","../../Core/_WriteProfilerMark"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){function r(a,b){b&&h.addClass(a,b)}function s(a,b){b&&h.removeClass(a,b)}a(["require-style!less/styles-appbar"]);var t=l._KeyboardInfo,u={get ariaLabel(){return o._getWinJSString("ui/appBarAriaLabel").value},get overflowButtonAriaLabel(){return o._getWinJSString("ui/appBarOverflowButtonAriaLabel").value},get mustContainCommands(){return"The AppBar can only contain WinJS.UI.Command or WinJS.UI.AppBarCommand controls"},get duplicateConstruction(){return"Invalid argument: Controls may only be instantiated one time for each DOM element"}},v={none:"none",minimal:"minimal",compact:"compact",full:"full"},w={};w[v.none]=d.ClassNames.noneClass,w[v.minimal]=d.ClassNames.minimalClass,w[v.compact]=d.ClassNames.compactClass,w[v.full]=d.ClassNames.fullClass;var x={top:"top",bottom:"bottom"},y={};y[x.top]=d.ClassNames.placementTopClass,y[x.bottom]=d.ClassNames.placementBottomClass;var z=function(){function a(b,c){var g=this;if(void 0===c&&(c={}),this._updateDomImpl_renderedState={isOpenedMode:void 0,placement:void 0,closedDisplayMode:void 0,adjustedOffsets:{top:void 0,bottom:void 0}},this._writeProfilerMark("constructor,StartTM"),b&&b.winControl)throw new i("WinJS.UI.AppBar.DuplicateConstruction",u.duplicateConstruction);this._initializeDom(b||k.document.createElement("div"));var j=new p.OpenCloseMachine({eventElement:this.element,onOpen:function(){var b=g._commandingSurface.createOpenAnimation(g._getClosedHeight());return g.element.style.position="fixed",g._placement===a.Placement.top?g.element.style.top=l._KeyboardInfo._layoutViewportCoords.visibleDocTop+"px":g.element.style.bottom=l._KeyboardInfo._layoutViewportCoords.visibleDocBottom+"px",g._synchronousOpen(),b.execute().then(function(){g.element.style.position="",g.element.style.top=g._adjustedOffsets.top,g.element.style.bottom=g._adjustedOffsets.bottom})},onClose:function(){var b=g._commandingSurface.createCloseAnimation(g._getClosedHeight());return g.element.style.position="fixed",g._placement===a.Placement.top?g.element.style.top=l._KeyboardInfo._layoutViewportCoords.visibleDocTop+"px":g.element.style.bottom=l._KeyboardInfo._layoutViewportCoords.visibleDocBottom+"px",b.execute().then(function(){g._synchronousClose(),g.element.style.position="",g.element.style.top=g._adjustedOffsets.top,g.element.style.bottom=g._adjustedOffsets.bottom})},onUpdateDom:function(){g._updateDomImpl()},onUpdateDomWithIsOpened:function(a){g._isOpenedMode=a,g._updateDomImpl()}});this._handleShowingKeyboardBound=this._handleShowingKeyboard.bind(this),this._handleHidingKeyboardBound=this._handleHidingKeyboard.bind(this),h._inputPaneListener.addEventListener(this._dom.root,"showing",this._handleShowingKeyboardBound),h._inputPaneListener.addEventListener(this._dom.root,"hiding",this._handleHidingKeyboardBound),this._disposed=!1,this._cachedClosedHeight=null,this._commandingSurface=new e._CommandingSurface(this._dom.commandingSurfaceEl,{openCloseMachine:j}),r(this._dom.commandingSurfaceEl.querySelector(".win-commandingsurface-actionarea"),d.ClassNames.actionAreaCssClass),r(this._dom.commandingSurfaceEl.querySelector(".win-commandingsurface-overflowarea"),d.ClassNames.overflowAreaCssClass),r(this._dom.commandingSurfaceEl.querySelector(".win-commandingsurface-overflowbutton"),d.ClassNames.overflowButtonCssClass),r(this._dom.commandingSurfaceEl.querySelector(".win-commandingsurface-ellipsis"),d.ClassNames.ellipsisCssClass),this._isOpenedMode=d.defaultOpened,this._dismissable=new m.LightDismissableElement({element:this._dom.root,tabIndex:this._dom.root.hasAttribute("tabIndex")?this._dom.root.tabIndex:-1,onLightDismiss:function(){g.close()},onTakeFocus:function(a){g._dismissable.restoreFocus()||g._commandingSurface.takeFocus(a)}}),this.closedDisplayMode=d.defaultClosedDisplayMode,this.placement=d.defaultPlacement,this.opened=this._isOpenedMode,f.setOptions(this,c),h._inDom(this.element).then(function(){return g._commandingSurface.initialized}).then(function(){j.exitInit(),g._writeProfilerMark("constructor,StopTM")})}return Object.defineProperty(a.prototype,"element",{get:function(){return this._dom.root},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"data",{get:function(){return this._commandingSurface.data},set:function(a){this._commandingSurface.data=a},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"closedDisplayMode",{get:function(){return this._commandingSurface.closedDisplayMode},set:function(a){v[a]&&(this._commandingSurface.closedDisplayMode=a,this._cachedClosedHeight=null)},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"placement",{get:function(){return this._placement},set:function(a){if(x[a]&&this._placement!==a){switch(this._placement=a,a){case x.top:this._commandingSurface.overflowDirection="bottom";break;case x.bottom:this._commandingSurface.overflowDirection="top"}this._adjustedOffsets=this._computeAdjustedOffsets(),this._commandingSurface.deferredDomUpate()}},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"opened",{get:function(){return this._commandingSurface.opened},set:function(a){this._commandingSurface.opened=a},enumerable:!0,configurable:!0}),a.prototype.open=function(){this._commandingSurface.open()},a.prototype.close=function(){this._commandingSurface.close()},a.prototype.dispose=function(){this._disposed||(this._disposed=!0,m.hidden(this._dismissable),this._commandingSurface.dispose(),h._inputPaneListener.removeEventListener(this._dom.root,"showing",this._handleShowingKeyboardBound),h._inputPaneListener.removeEventListener(this._dom.root,"hiding",this._handleHidingKeyboardBound),g.disposeSubTree(this.element))},a.prototype.forceLayout=function(){this._commandingSurface.forceLayout()},a.prototype.getCommandById=function(a){return this._commandingSurface.getCommandById(a)},a.prototype.showOnlyCommands=function(a){return this._commandingSurface.showOnlyCommands(a)},a.prototype._writeProfilerMark=function(a){q("WinJS.UI.AppBar:"+this._id+":"+a)},a.prototype._initializeDom=function(a){this._writeProfilerMark("_intializeDom,info"),a.winControl=this,this._id=a.id||h._uniqueID(a),h.addClass(a,d.ClassNames.controlCssClass),h.addClass(a,d.ClassNames.disposableCssClass);var b=a.getAttribute("role");b||a.setAttribute("role","menubar");var c=a.getAttribute("aria-label");c||a.setAttribute("aria-label",u.ariaLabel);var e=document.createElement("DIV");h._reparentChildren(a,e),a.appendChild(e),this._dom={root:a,commandingSurfaceEl:e}},a.prototype._handleShowingKeyboard=function(a){var b=this;if(this._dom.root.contains(k.document.activeElement)){var c=a.detail.originalEvent;c.ensuredFocusedElementInView=!0}var d=t._animationShowLength+t._scrollTimeout;return n.timeout(d).then(function(){b._shouldAdjustForShowingKeyboard()&&!b._disposed&&(b._adjustedOffsets=b._computeAdjustedOffsets(),b._commandingSurface.deferredDomUpate())})},a.prototype._shouldAdjustForShowingKeyboard=function(){return t._visible&&!t._isResized},a.prototype._handleHidingKeyboard=function(){this._adjustedOffsets=this._computeAdjustedOffsets(),this._commandingSurface.deferredDomUpate()},a.prototype._computeAdjustedOffsets=function(){var a={top:"",bottom:""};return this._placement===x.bottom?a.bottom=t._visibleDocBottomOffset+"px":this._placement===x.top&&(a.top=t._visibleDocTop+"px"),a},a.prototype._synchronousOpen=function(){this._isOpenedMode=!0,this._updateDomImpl()},a.prototype._synchronousClose=function(){this._isOpenedMode=!1,this._updateDomImpl()},a.prototype._updateDomImpl=function(){var a=this._updateDomImpl_renderedState;a.isOpenedMode!==this._isOpenedMode&&(this._isOpenedMode?this._updateDomImpl_renderOpened():this._updateDomImpl_renderClosed(),a.isOpenedMode=this._isOpenedMode),a.placement!==this.placement&&(s(this._dom.root,y[a.placement]),r(this._dom.root,y[this.placement]),a.placement=this.placement),a.closedDisplayMode!==this.closedDisplayMode&&(s(this._dom.root,w[a.closedDisplayMode]),r(this._dom.root,w[this.closedDisplayMode]),a.closedDisplayMode=this.closedDisplayMode),a.adjustedOffsets.top!==this._adjustedOffsets.top&&(this._dom.root.style.top=this._adjustedOffsets.top,a.adjustedOffsets.top=this._adjustedOffsets.top),a.adjustedOffsets.bottom!==this._adjustedOffsets.bottom&&(this._dom.root.style.bottom=this._adjustedOffsets.bottom,a.adjustedOffsets.bottom=this._adjustedOffsets.bottom),this._commandingSurface.updateDom()},a.prototype._getClosedHeight=function(){if(null===this._cachedClosedHeight){var a=this._isOpenedMode;this._isOpenedMode&&this._synchronousClose(),this._cachedClosedHeight=this._commandingSurface.getBoundingRects().commandingSurface.height,a&&this._synchronousOpen()}return this._cachedClosedHeight},a.prototype._updateDomImpl_renderOpened=function(){r(this._dom.root,d.ClassNames.openedClass),s(this._dom.root,d.ClassNames.closedClass),this._commandingSurface.synchronousOpen(),m.shown(this._dismissable)},a.prototype._updateDomImpl_renderClosed=function(){r(this._dom.root,d.ClassNames.closedClass),s(this._dom.root,d.ClassNames.openedClass),this._commandingSurface.synchronousClose(),m.hidden(this._dismissable)},a.ClosedDisplayMode=v,a.Placement=x,a.supportedForProcessing=!0,a}();b.AppBar=z,c.Class.mix(z,j.createEventProperties(d.EventNames.beforeOpen,d.EventNames.afterOpen,d.EventNames.beforeClose,d.EventNames.afterClose)),c.Class.mix(z,f.DOMEventMixin)}),d("WinJS/Controls/AppBar",["require","exports","../Core/_Base"],function(a,b,c){var d=null;c.Namespace.define("WinJS.UI",{AppBar:{get:function(){return d||a(["./AppBar/_AppBar"],function(a){d=a}),d.AppBar}}})}),d("ui",["WinJS/Core/_WinJS","WinJS/VirtualizedDataSource","WinJS/Vui","WinJS/Controls/IntrinsicControls","WinJS/Controls/ListView","WinJS/Controls/FlipView","WinJS/Controls/ItemContainer","WinJS/Controls/Repeater","WinJS/Controls/DatePicker","WinJS/Controls/TimePicker","WinJS/Controls/BackButton","WinJS/Controls/Rating","WinJS/Controls/ToggleSwitch","WinJS/Controls/SemanticZoom","WinJS/Controls/Pivot","WinJS/Controls/Hub","WinJS/Controls/Flyout","WinJS/Controls/_LegacyAppBar","WinJS/Controls/Menu","WinJS/Controls/SearchBox","WinJS/Controls/SettingsFlyout","WinJS/Controls/NavBar","WinJS/Controls/Tooltip","WinJS/Controls/ViewBox","WinJS/Controls/ContentDialog","WinJS/Controls/SplitView","WinJS/Controls/SplitViewPaneToggle","WinJS/Controls/SplitView/Command","WinJS/Controls/ToolBar","WinJS/Controls/AppBar"],function(a){"use strict";return a}),b(["WinJS/Core/_WinJS","ui"],function(a){f.WinJS=a,"undefined"!=typeof c&&(c.exports=a)}),f.WinJS})}()}(a("6")),c.exports}),$__System.registerDynamic("8",["7"],!0,function(a,b,c){return c.exports=a("7"),c.exports}),$__System.registerDynamic("9",["a"],!0,function(a,b,c){"use strict";var d=a("a"),e={getChildMapping:function(a){return a?d(a):a},mergeChildMappings:function(a,b){function c(c){return b.hasOwnProperty(c)?b[c]:a[c]}a=a||{},b=b||{};var d={},e=[];for(var f in a)b.hasOwnProperty(f)?e.length&&(d[f]=e,e=[]):e.push(f);var g,h={};for(var i in b){if(d.hasOwnProperty(i))for(g=0;g<d[i].length;g++){var j=d[i][g];h[d[i][g]]=c(j)}h[i]=c(i)}for(g=0;g<e.length;g++)h[e[g]]=c(e[g]);return h}};return c.exports=e,c.exports}),$__System.registerDynamic("b",["c","9","d","e"],!0,function(a,b,c){"use strict";var d=a("c"),e=a("9"),f=a("d"),g=a("e"),h=d.createClass({displayName:"ReactTransitionGroup",propTypes:{component:d.PropTypes.any,childFactory:d.PropTypes.func},getDefaultProps:function(){return{component:"span",childFactory:g.thatReturnsArgument}},getInitialState:function(){return{children:e.getChildMapping(this.props.children)}},componentWillMount:function(){this.currentlyTransitioningKeys={},this.keysToEnter=[],this.keysToLeave=[]},componentDidMount:function(){var a=this.state.children;for(var b in a)a[b]&&this.performAppear(b)},componentWillReceiveProps:function(a){var b=e.getChildMapping(a.children),c=this.state.children;this.setState({children:e.mergeChildMappings(c,b)});var d;for(d in b){var f=c&&c.hasOwnProperty(d);!b[d]||f||this.currentlyTransitioningKeys[d]||this.keysToEnter.push(d)}for(d in c){var g=b&&b.hasOwnProperty(d);!c[d]||g||this.currentlyTransitioningKeys[d]||this.keysToLeave.push(d)}},componentDidUpdate:function(){var a=this.keysToEnter;this.keysToEnter=[],a.forEach(this.performEnter);var b=this.keysToLeave;this.keysToLeave=[],b.forEach(this.performLeave)},performAppear:function(a){this.currentlyTransitioningKeys[a]=!0;var b=this.refs[a];b.componentWillAppear?b.componentWillAppear(this._handleDoneAppearing.bind(this,a)):this._handleDoneAppearing(a)},_handleDoneAppearing:function(a){var b=this.refs[a];b.componentDidAppear&&b.componentDidAppear(),delete this.currentlyTransitioningKeys[a];var c=e.getChildMapping(this.props.children);c&&c.hasOwnProperty(a)||this.performLeave(a)},performEnter:function(a){this.currentlyTransitioningKeys[a]=!0;var b=this.refs[a];b.componentWillEnter?b.componentWillEnter(this._handleDoneEntering.bind(this,a)):this._handleDoneEntering(a)},_handleDoneEntering:function(a){var b=this.refs[a];b.componentDidEnter&&b.componentDidEnter(),delete this.currentlyTransitioningKeys[a];var c=e.getChildMapping(this.props.children);c&&c.hasOwnProperty(a)||this.performLeave(a)},performLeave:function(a){this.currentlyTransitioningKeys[a]=!0;var b=this.refs[a];b.componentWillLeave?b.componentWillLeave(this._handleDoneLeaving.bind(this,a)):this._handleDoneLeaving(a)},_handleDoneLeaving:function(a){var b=this.refs[a];b.componentDidLeave&&b.componentDidLeave(),delete this.currentlyTransitioningKeys[a];var c=e.getChildMapping(this.props.children);c&&c.hasOwnProperty(a)?this.performEnter(a):this.setState(function(b){var c=f({},b.children);return delete c[a],{children:c}})},render:function(){var a=[];for(var b in this.state.children){var c=this.state.children[b];c&&a.push(d.cloneElement(this.props.childFactory(c),{ref:b,key:b}))}return d.createElement(this.props.component,this.props,a)}});return c.exports=h,c.exports}),$__System.registerDynamic("f",["10","6"],!0,function(a,b,c){return function(b){"use strict";var d=a("10"),e={addClass:function(a,b){return/\s/.test(b)?d(!1):void 0,b&&(a.classList?a.classList.add(b):e.hasClass(a,b)||(a.className=a.className+" "+b)),a},removeClass:function(a,b){return/\s/.test(b)?d(!1):void 0,b&&(a.classList?a.classList.remove(b):e.hasClass(a,b)&&(a.className=a.className.replace(new RegExp("(^|\\s)"+b+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,""))),a},conditionClass:function(a,b,c){return(c?e.addClass:e.removeClass)(a,b)},hasClass:function(a,b){return/\s/.test(b)?d(!1):void 0,a.classList?!!b&&a.classList.contains(b):(" "+a.className+" ").indexOf(" "+b+" ")>-1}};c.exports=e}(a("6")),c.exports}),$__System.registerDynamic("11",["12"],!0,function(a,b,c){"use strict";function d(){var a=document.createElement("div"),b=a.style;"AnimationEvent"in window||delete h.animationend.animation,"TransitionEvent"in window||delete h.transitionend.transition;for(var c in h){var d=h[c];for(var e in d)if(e in b){i.push(d[e]);break}}}function e(a,b,c){a.addEventListener(b,c,!1)}function f(a,b,c){a.removeEventListener(b,c,!1)}var g=a("12"),h={transitionend:{transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"mozTransitionEnd",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd"},animationend:{animation:"animationend",WebkitAnimation:"webkitAnimationEnd",MozAnimation:"mozAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd"}},i=[];g.canUseDOM&&d();var j={addEndEventListener:function(a,b){return 0===i.length?void window.setTimeout(b,0):void i.forEach(function(c){e(a,c,b)})},removeEndEventListener:function(a,b){0!==i.length&&i.forEach(function(c){f(a,c,b)})}};return c.exports=j,c.exports}),$__System.registerDynamic("13",["c","3","f","11","14"],!0,function(a,b,c){"use strict";var d=a("c"),e=a("3"),f=a("f"),g=a("11"),h=a("14"),i=17,j=d.createClass({displayName:"ReactCSSTransitionGroupChild",propTypes:{name:d.PropTypes.oneOfType([d.PropTypes.string,d.PropTypes.shape({enter:d.PropTypes.string,leave:d.PropTypes.string,active:d.PropTypes.string}),d.PropTypes.shape({enter:d.PropTypes.string,enterActive:d.PropTypes.string,leave:d.PropTypes.string,leaveActive:d.PropTypes.string,appear:d.PropTypes.string,appearActive:d.PropTypes.string})]).isRequired,appear:d.PropTypes.bool,enter:d.PropTypes.bool,leave:d.PropTypes.bool,appearTimeout:d.PropTypes.number,enterTimeout:d.PropTypes.number,leaveTimeout:d.PropTypes.number},transition:function(a,b,c){var d=e.findDOMNode(this);if(!d)return void(b&&b());var h=this.props.name[a]||this.props.name+"-"+a,i=this.props.name[a+"Active"]||h+"-active",j=null,k=function(a){a&&a.target!==d||(clearTimeout(j),f.removeClass(d,h),f.removeClass(d,i),g.removeEndEventListener(d,k),b&&b())};f.addClass(d,h),this.queueClass(i),c?(j=setTimeout(k,c),this.transitionTimeouts.push(j)):g.addEndEventListener(d,k)},queueClass:function(a){this.classNameQueue.push(a),this.timeout||(this.timeout=setTimeout(this.flushClassNameQueue,i))},flushClassNameQueue:function(){this.isMounted()&&this.classNameQueue.forEach(f.addClass.bind(f,e.findDOMNode(this))),this.classNameQueue.length=0,this.timeout=null},componentWillMount:function(){this.classNameQueue=[],this.transitionTimeouts=[]},componentWillUnmount:function(){this.timeout&&clearTimeout(this.timeout),this.transitionTimeouts.forEach(function(a){clearTimeout(a)})},componentWillAppear:function(a){this.props.appear?this.transition("appear",a,this.props.appearTimeout):a()},componentWillEnter:function(a){this.props.enter?this.transition("enter",a,this.props.enterTimeout):a()},componentWillLeave:function(a){this.props.leave?this.transition("leave",a,this.props.leaveTimeout):a()},render:function(){return h(this.props.children)}});return c.exports=j,c.exports}),$__System.registerDynamic("15",["c","d","b","13"],!0,function(a,b,c){"use strict";function d(a){var b="transition"+a+"Timeout",c="transition"+a;return function(a){if(a[c]){if(null==a[b])return new Error(b+" wasn't supplied to ReactCSSTransitionGroup: this can cause unreliable animations and won't be supported in a future version of React. See https://fb.me/react-animation-transition-group-timeout for more information.");if("number"!=typeof a[b])return new Error(b+" must be a number (in milliseconds)")}}}var e=a("c"),f=a("d"),g=a("b"),h=a("13"),i=e.createClass({displayName:"ReactCSSTransitionGroup",propTypes:{transitionName:h.propTypes.name,transitionAppear:e.PropTypes.bool,transitionEnter:e.PropTypes.bool,transitionLeave:e.PropTypes.bool,transitionAppearTimeout:d("Appear"),transitionEnterTimeout:d("Enter"),transitionLeaveTimeout:d("Leave")},getDefaultProps:function(){return{transitionAppear:!1,transitionEnter:!0,transitionLeave:!0}},_wrapChild:function(a){return e.createElement(h,{name:this.props.transitionName,appear:this.props.transitionAppear,enter:this.props.transitionEnter,leave:this.props.transitionLeave,appearTimeout:this.props.transitionAppearTimeout,enterTimeout:this.props.transitionEnterTimeout,leaveTimeout:this.props.transitionLeaveTimeout},a)},render:function(){return e.createElement(g,f({},this.props,{childFactory:this._wrapChild}))}});return c.exports=i,c.exports}),$__System.registerDynamic("16",["1a","17","18","19","6"],!0,function(a,b,c){return function(d){"use strict";function e(a){return a&&a.__esModule?a:{"default":a}}function f(a){function b(b){var c=a();return"string"==typeof c?((b||window.event).returnValue=c,c):void 0}return k.addEventListener(window,"beforeunload",b),function(){k.removeEventListener(window,"beforeunload",b)}}function g(a){return function(b){function c(){for(var a=void 0,b=0,c=l.length;null==a&&c>b;++b)a=l[b].call();return a}function d(a){return l.push(a),1===l.length&&j.canUseDOM&&(k=f(c)),function(){l=l.filter(function(b){return b!==a}),0===l.length&&k&&(k(),k=null)}}function e(a){j.canUseDOM&&-1===l.indexOf(a)&&(l.push(a),1===l.length&&(k=f(c)))}function g(a){l.length>0&&(l=l.filter(function(b){return b!==a;
}),0===l.length&&k())}var i=a(b),k=void 0,l=[];return h({},i,{listenBeforeUnload:d,registerBeforeUnloadHook:m["default"](e,"registerBeforeUnloadHook is deprecated; use listenBeforeUnload instead"),unregisterBeforeUnloadHook:m["default"](g,"unregisterBeforeUnloadHook is deprecated; use the callback returned from listenBeforeUnload instead")})}}b.__esModule=!0;var h=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},i=a("1a"),j=(e(i),a("17")),k=a("18"),l=a("19"),m=e(l);b["default"]=g,c.exports=b["default"]}(a("6")),c.exports}),$__System.registerDynamic("1b",["19","16"],!0,function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}b.__esModule=!0;var e=a("19"),f=d(e),g=a("16"),h=d(g);return b["default"]=f["default"](h["default"],"enableBeforeUnload is deprecated, use useBeforeUnload instead"),c.exports=b["default"],c.exports}),$__System.registerDynamic("1c",["19","1d"],!0,function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}b.__esModule=!0;var e=a("19"),f=d(e),g=a("1d"),h=d(g);return b["default"]=f["default"](h["default"],"enableQueries is deprecated, use useQueries instead"),c.exports=b["default"],c.exports}),$__System.registerDynamic("1e",["19","1f","20","21","22","23","16","1d","24","1b","1c"],!0,function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}b.__esModule=!0;var e=a("19"),f=d(e),g=a("1f"),h=d(g),i=a("20"),j=d(i);b.createHistory=j["default"];var k=a("21"),l=d(k);b.createHashHistory=l["default"];var m=a("22"),n=d(m);b.createMemoryHistory=n["default"];var o=a("23"),p=d(o);b.useBasename=p["default"];var q=a("16"),r=d(q);b.useBeforeUnload=r["default"];var s=a("1d"),t=d(s);b.useQueries=t["default"];var u=a("24"),v=d(u);b.Actions=v["default"];var w=a("1b"),x=d(w);b.enableBeforeUnload=x["default"];var y=a("1c"),z=d(y);b.enableQueries=z["default"];var A=f["default"](h["default"],"Using createLocation without a history instance is deprecated; please use history.createLocation instead");return b.createLocation=A,c.exports}),$__System.registerDynamic("25",["1e"],!0,function(a,b,c){return c.exports=a("1e"),c.exports}),$__System.register("26",[],function(){return{setters:[],execute:function(){}}}),$__System.registerDynamic("27",["21","1d","28","29","2a","2b","2c","2d","2e","6"],!0,function(a,b,c){return function(d){"use strict";function e(a){return a&&a.__esModule?a:{"default":a}}function f(a,b){var c={};for(var d in a)b.indexOf(d)>=0||Object.prototype.hasOwnProperty.call(a,d)&&(c[d]=a[d]);return c}function g(a){return!a||!a.__v2_compatible__}b.__esModule=!0;var h=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},i=a("21"),j=e(i),k=a("1d"),l=e(k),m=a("28"),n=e(m),o=a("29"),p=e(o),q=a("2a"),r=a("2b"),s=e(r),t=a("2c"),u=a("2d"),v=a("2e"),w=(e(v),n["default"].PropTypes),x=w.func,y=w.object,z=n["default"].createClass({displayName:"Router",propTypes:{history:y,children:q.routes,routes:q.routes,render:x,createElement:x,onError:x,onUpdate:x,matchContext:y},getDefaultProps:function(){return{render:function(a){return n["default"].createElement(s["default"],a)}}},getInitialState:function(){return{location:null,routes:null,params:null,components:null}},handleError:function(a){if(!this.props.onError)throw a;this.props.onError.call(this,a)},componentWillMount:function(){var a=this,b=this.props,c=(b.parseQueryString,b.stringifyQuery,this.createRouterObjects()),d=c.history,e=c.transitionManager,f=c.router;this._unlisten=e.listen(function(b,c){b?a.handleError(b):a.setState(c,a.props.onUpdate)}),this.history=d,this.router=f},createRouterObjects:function(){var a=this.props.matchContext;if(a)return a;var b=this.props.history,c=this.props,d=c.routes,e=c.children;g(b)&&(b=this.wrapDeprecatedHistory(b));var f=p["default"](b,t.createRoutes(d||e)),h=u.createRouterObject(b,f),i=u.createRoutingHistory(b,f);return{history:i,transitionManager:f,router:h}},wrapDeprecatedHistory:function(a){var b=this.props,c=b.parseQueryString,d=b.stringifyQuery,e=void 0;return e=a?function(){return a}:j["default"],l["default"](e)({parseQueryString:c,stringifyQuery:d})},componentWillReceiveProps:function(a){},componentWillUnmount:function(){this._unlisten&&this._unlisten()},render:function A(){var a=this.state,b=a.location,c=a.routes,d=a.params,e=a.components,g=this.props,i=g.createElement,A=g.render,j=f(g,["createElement","render"]);return null==b?null:(Object.keys(z.propTypes).forEach(function(a){return delete j[a]}),A(h({},j,{history:this.history,router:this.router,location:b,routes:c,params:d,components:e,createElement:i})))}});b["default"]=z,c.exports=b["default"]}(a("6")),c.exports}),$__System.registerDynamic("2f",["28","2e","6"],!0,function(a,b,c){return function(d){"use strict";function e(a){return a&&a.__esModule?a:{"default":a}}function f(a,b){var c={};for(var d in a)b.indexOf(d)>=0||Object.prototype.hasOwnProperty.call(a,d)&&(c[d]=a[d]);return c}function g(a){return 0===a.button}function h(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}function i(a){for(var b in a)if(a.hasOwnProperty(b))return!1;return!0}function j(a,b){var c=b.query,d=b.hash,e=b.state;return c||d||e?{pathname:a,query:c,hash:d,state:e}:a}b.__esModule=!0;var k=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},l=a("28"),m=e(l),n=a("2e"),o=(e(n),m["default"].PropTypes),p=o.bool,q=o.object,r=o.string,s=o.func,t=o.oneOfType,u=m["default"].createClass({displayName:"Link",contextTypes:{router:q},propTypes:{to:t([r,q]).isRequired,query:q,hash:r,state:q,activeStyle:q,activeClassName:r,onlyActiveOnIndex:p.isRequired,onClick:s},getDefaultProps:function(){return{onlyActiveOnIndex:!1,className:"",style:{}}},handleClick:function(a){var b=!0;if(this.props.onClick&&this.props.onClick(a),!h(a)&&g(a)){if(a.defaultPrevented===!0&&(b=!1),this.props.target)return void(b||a.preventDefault());if(a.preventDefault(),b){var c=this.props,d=c.to,e=c.query,f=c.hash,i=c.state,k=j(d,{query:e,hash:f,state:i});this.context.router.push(k)}}},render:function(){var a=this.props,b=a.to,c=a.query,d=a.hash,e=a.state,g=a.activeClassName,h=a.activeStyle,l=a.onlyActiveOnIndex,n=f(a,["to","query","hash","state","activeClassName","activeStyle","onlyActiveOnIndex"]),o=this.context.router;if(o){var p=j(b,{query:c,hash:d,state:e});n.href=o.createHref(p),(g||null!=h&&!i(h))&&o.isActive(p,l)&&(g&&(n.className+=""===n.className?g:" "+g),h&&(n.style=k({},n.style,h)))}return m["default"].createElement("a",k({},n,{onClick:this.handleClick}))}});b["default"]=u,c.exports=b["default"]}(a("6")),c.exports}),$__System.registerDynamic("30",["28","2f"],!0,function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}b.__esModule=!0;var e=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},f=a("28"),g=d(f),h=a("2f"),i=d(h),j=g["default"].createClass({displayName:"IndexLink",render:function(){return g["default"].createElement(i["default"],e({},this.props,{onlyActiveOnIndex:!0}))}});return b["default"]=j,c.exports=b["default"],c.exports}),$__System.registerDynamic("31",["28","2e","33","32","2a","6"],!0,function(a,b,c){return function(d){"use strict";function e(a){return a&&a.__esModule?a:{"default":a}}b.__esModule=!0;var f=a("28"),g=e(f),h=a("2e"),i=(e(h),a("33")),j=e(i),k=a("32"),l=e(k),m=a("2a"),n=g["default"].PropTypes,o=n.string,p=n.object,q=g["default"].createClass({displayName:"IndexRedirect",statics:{createRouteFromReactElement:function(a,b){b&&(b.indexRoute=l["default"].createRouteFromReactElement(a))}},propTypes:{to:o.isRequired,query:p,state:p,onEnter:m.falsy,children:m.falsy},render:function(){j["default"](!1)}});b["default"]=q,c.exports=b["default"]}(a("6")),c.exports}),$__System.registerDynamic("34",["28","2e","33","2c","2a","6"],!0,function(a,b,c){return function(d){"use strict";function e(a){return a&&a.__esModule?a:{"default":a}}b.__esModule=!0;var f=a("28"),g=e(f),h=a("2e"),i=(e(h),a("33")),j=e(i),k=a("2c"),l=a("2a"),m=g["default"].PropTypes.func,n=g["default"].createClass({displayName:"IndexRoute",statics:{createRouteFromReactElement:function(a,b){b&&(b.indexRoute=k.createRouteFromReactElement(a))}},propTypes:{path:l.falsy,component:l.component,components:l.components,getComponent:m,getComponents:m},render:function(){j["default"](!1)}});b["default"]=n,c.exports=b["default"]}(a("6")),c.exports}),$__System.registerDynamic("32",["28","33","2c","35","2a","6"],!0,function(a,b,c){return function(d){"use strict";function e(a){return a&&a.__esModule?a:{"default":a}}b.__esModule=!0;var f=a("28"),g=e(f),h=a("33"),i=e(h),j=a("2c"),k=a("35"),l=a("2a"),m=g["default"].PropTypes,n=m.string,o=m.object,p=g["default"].createClass({displayName:"Redirect",statics:{createRouteFromReactElement:function(a){var b=j.createRouteFromReactElement(a);return b.from&&(b.path=b.from),b.onEnter=function(a,c){var d=a.location,e=a.params,f=void 0;if("/"===b.to.charAt(0))f=k.formatPattern(b.to,e);else if(b.to){var g=a.routes.indexOf(b),h=p.getRoutePattern(a.routes,g-1),i=h.replace(/\/*$/,"/")+b.to;f=k.formatPattern(i,e)}else f=d.pathname;c({pathname:f,query:b.query||d.query,state:b.state||d.state})},b},getRoutePattern:function(a,b){for(var c="",d=b;d>=0;d--){var e=a[d],f=e.path||"";if(c=f.replace(/\/*$/,"/")+c,0===f.indexOf("/"))break}return"/"+c}},propTypes:{path:n,from:n,to:n.isRequired,query:o,state:o,onEnter:l.falsy,children:l.falsy},render:function(){i["default"](!1)}});b["default"]=p,c.exports=b["default"]}(a("6")),c.exports}),$__System.registerDynamic("36",["28","33","2c","2a","6"],!0,function(a,b,c){return function(d){"use strict";function e(a){return a&&a.__esModule?a:{"default":a}}b.__esModule=!0;var f=a("28"),g=e(f),h=a("33"),i=e(h),j=a("2c"),k=a("2a"),l=g["default"].PropTypes,m=l.string,n=l.func,o=g["default"].createClass({displayName:"Route",statics:{createRouteFromReactElement:j.createRouteFromReactElement},propTypes:{path:m,component:k.component,components:k.components,getComponent:n,getComponents:n},render:function(){i["default"](!1)}});b["default"]=o,c.exports=b["default"]}(a("6")),c.exports}),$__System.registerDynamic("37",["2e","2a","6"],!0,function(a,b,c){return function(d){"use strict";function e(a){return a&&a.__esModule?a:{"default":a}}b.__esModule=!0;var f=a("2e"),g=(e(f),a("2a")),h={contextTypes:{history:g.history},componentWillMount:function(){this.history=this.context.history}};b["default"]=h,c.exports=b["default"]}(a("6")),c.exports}),$__System.registerDynamic("38",["2e","28","33","6"],!0,function(a,b,c){return function(d){"use strict";function e(a){return a&&a.__esModule?a:{"default":a}}b.__esModule=!0;var f=a("2e"),g=(e(f),a("28")),h=e(g),i=a("33"),j=e(i),k=h["default"].PropTypes.object,l={contextTypes:{history:k.isRequired,route:k},propTypes:{route:k},componentDidMount:function(){this.routerWillLeave?void 0:j["default"](!1);var a=this.props.route||this.context.route;a?void 0:j["default"](!1),this._unlistenBeforeLeavingRoute=this.context.history.listenBeforeLeavingRoute(a,this.routerWillLeave)},componentWillUnmount:function(){this._unlistenBeforeLeavingRoute&&this._unlistenBeforeLeavingRoute()}};b["default"]=l,c.exports=b["default"]}(a("6")),c.exports}),$__System.registerDynamic("39",["2e","28","6"],!0,function(a,b,c){return function(d){"use strict";function e(a){return a&&a.__esModule?a:{"default":a}}b.__esModule=!0;var f=a("2e"),g=(e(f),a("28")),h=e(g),i=h["default"].PropTypes.object,j={propTypes:{route:i.isRequired},childContextTypes:{route:i.isRequired},getChildContext:function(){return{route:this.props.route}},componentWillMount:function(){}};b["default"]=j,c.exports=b["default"]}(a("6")),c.exports}),$__System.registerDynamic("3a",["1d","29","2e","6"],!0,function(a,b,c){return function(d){"use strict";function e(a){return a&&a.__esModule?a:{"default":a}}function f(a,b){var c={};for(var d in a)b.indexOf(d)>=0||Object.prototype.hasOwnProperty.call(a,d)&&(c[d]=a[d]);return c}function g(a){return function(){var b=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],c=b.routes,d=f(b,["routes"]),e=j["default"](a)(d),g=l["default"](e,c);return h({},e,g)}}b.__esModule=!0;var h=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},i=a("1d"),j=e(i),k=a("29"),l=e(k),m=a("2e");e(m);b["default"]=g,c.exports=b["default"]}(a("6")),c.exports}),$__System.registerDynamic("3b",["35"],!0,function(a,b,c){"use strict";function d(a,b){var c={};if(!a.path)return c;var d=e.getParamNames(a.path);for(var f in b)b.hasOwnProperty(f)&&-1!==d.indexOf(f)&&(c[f]=b[f]);return c}b.__esModule=!0;var e=a("35");return b["default"]=d,c.exports=b["default"],c.exports}),$__System.registerDynamic("2b",["33","28","3c","3b","2c","2e","6"],!0,function(a,b,c){return function(d){"use strict";function e(a){return a&&a.__esModule?a:{"default":a}}b.__esModule=!0;var f=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},g=a("33"),h=e(g),i=a("28"),j=e(i),k=a("3c"),l=(e(k),a("3b")),m=e(l),n=a("2c"),o=a("2e"),p=(e(o),j["default"].PropTypes),q=p.array,r=p.func,s=p.object,t=j["default"].createClass({displayName:"RouterContext",propTypes:{history:s,router:s.isRequired,location:s.isRequired,routes:q.isRequired,params:s.isRequired,components:q.isRequired,createElement:r.isRequired},getDefaultProps:function(){return{createElement:j["default"].createElement}},childContextTypes:{history:s,location:s.isRequired,router:s.isRequired},getChildContext:function(){var a=this.props,b=a.router,c=a.history,d=a.location;return b||(b=f({},c,{setRouteLeaveHook:c.listenBeforeLeavingRoute}),delete b.listenBeforeLeavingRoute),{history:c,location:d,router:b}},createElement:function(a,b){return null==a?null:this.props.createElement(a,b)},render:function(){var a=this,b=this.props,c=b.history,d=b.location,e=b.routes,g=b.params,i=b.components,k=null;return i&&(k=i.reduceRight(function(b,h,i){if(null==h)return b;var j=e[i],k=m["default"](j,g),l={history:c,location:d,params:g,route:j,routeParams:k,routes:e};if(n.isReactChildren(b))l.children=b;else if(b)for(var o in b)b.hasOwnProperty(o)&&(l[o]=b[o]);if("object"==typeof h){var p={};for(var q in h)h.hasOwnProperty(q)&&(p[q]=a.createElement(h[q],f({key:q},l)));return p}return a.createElement(h,l)},k)),null===k||k===!1||j["default"].isValidElement(k)?void 0:h["default"](!1),k}});b["default"]=t,c.exports=b["default"]}(a("6")),c.exports}),$__System.registerDynamic("3d",["28","2b","2e","6"],!0,function(a,b,c){return function(d){"use strict";function e(a){return a&&a.__esModule?a:{"default":a}}b.__esModule=!0;var f=a("28"),g=e(f),h=a("2b"),i=e(h),j=a("2e"),k=(e(j),g["default"].createClass({displayName:"RoutingContext",componentWillMount:function(){},render:function(){return g["default"].createElement(i["default"],this.props)}}));b["default"]=k,c.exports=b["default"]}(a("6")),c.exports}),$__System.registerDynamic("2a",["28"],!0,function(a,b,c){"use strict";function d(a,b,c){return a[b]?new Error("<"+c+'> should not have a "'+b+'" prop'):void 0}b.__esModule=!0,b.falsy=d;var e=a("28"),f=e.PropTypes.func,g=e.PropTypes.object,h=e.PropTypes.arrayOf,i=e.PropTypes.oneOfType,j=e.PropTypes.element,k=e.PropTypes.shape,l=e.PropTypes.string,m=k({listen:f.isRequired,pushState:f.isRequired,replaceState:f.isRequired,go:f.isRequired});b.history=m;var n=k({pathname:l.isRequired,search:l.isRequired,state:g,action:l.isRequired,key:l});b.location=n;var o=i([f,l]);b.component=o;var p=i([o,g]);b.components=p;var q=i([g,j]);b.route=q;var r=i([q,h(q)]);return b.routes=r,b["default"]={falsy:d,history:m,location:n,component:o,components:p,route:q},c.exports}),$__System.registerDynamic("3e",["35"],!0,function(a,b,c){"use strict";function d(a,b,c){if(!a.path)return!1;var d=f.getParamNames(a.path);return d.some(function(a){return b.params[a]!==c.params[a]})}function e(a,b){var c=a&&a.routes,e=b.routes,f=void 0,g=void 0;return c?(f=c.filter(function(c){return-1===e.indexOf(c)||d(c,a,b)}),f.reverse(),g=e.filter(function(a){return-1===c.indexOf(a)||-1!==f.indexOf(a)})):(f=[],g=e),{leaveRoutes:f,enterRoutes:g}}b.__esModule=!0;var f=a("35");return b["default"]=e,c.exports=b["default"],c.exports}),$__System.registerDynamic("3f",["40","2e","6"],!0,function(a,b,c){return function(c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){return function(c,d,e){a.apply(b,arguments),a.length<3&&e()}}function f(a){return a.reduce(function(a,b){return b.onEnter&&a.push(e(b.onEnter,b)),a},[])}function g(a,b,c){function d(a,b,c){return b?void(g={pathname:b,query:c,state:a}):void(g=a)}var e=f(a);if(!e.length)return void c();var g=void 0;i.loopAsync(e.length,function(a,c,f){e[a](b,d,function(a){a||g?f(a,g):c()})},c)}function h(a){for(var b=0,c=a.length;c>b;++b)a[b].onLeave&&a[b].onLeave.call(a[b])}b.__esModule=!0,b.runEnterHooks=g,b.runLeaveHooks=h;var i=a("40"),j=a("2e");d(j)}(a("6")),c.exports}),$__System.registerDynamic("41",["35"],!0,function(a,b,c){"use strict";function d(a,b){if(a==b)return!0;if(null==a||null==b)return!1;if(Array.isArray(a))return Array.isArray(b)&&a.length===b.length&&a.every(function(a,c){return d(a,b[c])});if("object"==typeof a){for(var c in a)if(a.hasOwnProperty(c))if(void 0===a[c]){if(void 0!==b[c])return!1}else{if(!b.hasOwnProperty(c))return!1;if(!d(a[c],b[c]))return!1}return!0}return String(a)===String(b)}function e(a,b,c){return a.every(function(a,d){return String(b[d])===String(c[a])})}function f(a,b,c){for(var d=a,f=[],g=[],h=0,i=b.length;i>h;++h){var k=b[h],l=k.path||"";if("/"===l.charAt(0)&&(d=a,f=[],g=[]),null!==d){var m=j.matchPattern(l,d);d=m.remainingPathname,f=[].concat(f,m.paramNames),g=[].concat(g,m.paramValues)}if(""===d&&k.path&&e(f,g,c))return h}return null}function g(a,b,c,d){var e=f(a,b,c);return null===e?!1:d?b.slice(e+1).every(function(a){return!a.path}):!0}function h(a,b){return null==b?null==a:null==a?!0:d(a,b)}function i(a,b,c,d,e){var f=a.pathname,i=a.query;return null==c?!1:g(f,d,e,b)?h(i,c.query):!1}b.__esModule=!0,b["default"]=i;var j=a("35");return c.exports=b["default"],c.exports}),$__System.registerDynamic("42",["40"],!0,function(a,b,c){"use strict";function d(a,b,c){b.component||b.components?c(null,b.component||b.components):b.getComponent?b.getComponent(a,c):b.getComponents?b.getComponents(a,c):c()}function e(a,b){f.mapAsync(a.routes,function(b,c,e){d(a.location,b,e)},b)}b.__esModule=!0;var f=a("40");return b["default"]=e,c.exports=b["default"],c.exports}),$__System.registerDynamic("40",[],!0,function(a,b,c){"use strict";function d(a,b,c){function d(){return h=!0,i?void(k=[].concat(f.call(arguments))):void c.apply(this,arguments)}function e(){if(!h&&(j=!0,!i)){for(i=!0;!h&&a>g&&j;)j=!1,b.call(this,g++,e,d);return i=!1,h?void c.apply(this,k):void(g>=a&&j&&(h=!0,c()))}}var g=0,h=!1,i=!1,j=!1,k=void 0;e()}function e(a,b,c){function d(a,b,d){g||(b?(g=!0,c(b)):(f[a]=d,g=++h===e,g&&c(null,f)))}var e=a.length,f=[];if(0===e)return c(null,f);var g=!1,h=0;a.forEach(function(a,c){b(a,c,function(a,b){d(c,a,b)})})}b.__esModule=!0;var f=Array.prototype.slice;return b.loopAsync=d,b.mapAsync=e,c.exports}),$__System.registerDynamic("43",["2e","40","35","2c","6"],!0,function(a,b,c){return function(d){"use strict";function e(a){return a&&a.__esModule?a:{"default":a}}function f(a,b,c){if(a.childRoutes)return[null,a.childRoutes];if(!a.getChildRoutes)return[];var d=!0,e=void 0;return a.getChildRoutes(b,function(a,b){return b=!a&&o.createRoutes(b),d?void(e=[a,b]):void c(a,b)}),d=!1,e}function g(a,b,c){a.indexRoute?c(null,a.indexRoute):a.getIndexRoute?a.getIndexRoute(b,function(a,b){c(a,!a&&o.createRoutes(b)[0])}):a.childRoutes?!function(){var d=a.childRoutes.filter(function(a){return!a.hasOwnProperty("path")});m.loopAsync(d.length,function(a,c,e){g(d[a],b,function(b,f){if(b||f){var g=[d[a]].concat(Array.isArray(f)?f:[f]);e(b,g)}else c()})},function(a,b){c(null,b)})}():c()}function h(a,b,c){return b.reduce(function(a,b,d){var e=c&&c[d];return Array.isArray(a[b])?a[b].push(e):b in a?a[b]=[a[b],e]:a[b]=e,a},a)}function i(a,b){return h({},a,b)}function j(a,b,c,d,e,h){var j=a.path||"";if("/"===j.charAt(0)&&(c=b.pathname,d=[],e=[]),null!==c){var l=n.matchPattern(j,c);if(c=l.remainingPathname,d=[].concat(d,l.paramNames),e=[].concat(e,l.paramValues),""===c&&a.path){var m=function(){var c={routes:[a],params:i(d,e)};return g(a,b,function(a,b){if(a)h(a);else{if(Array.isArray(b)){var d;(d=c.routes).push.apply(d,b)}else b&&c.routes.push(b);h(null,c)}}),{v:void 0}}();if("object"==typeof m)return m.v}}if(null!=c||a.childRoutes){var o=function(f,g){f?h(f):g?k(g,b,function(b,c){b?h(b):c?(c.routes.unshift(a),h(null,c)):h()},c,d,e):h()},p=f(a,b,o);p&&o.apply(void 0,p)}else h()}function k(a,b,c){var d=arguments.length<=3||void 0===arguments[3]?b.pathname:arguments[3],e=arguments.length<=4||void 0===arguments[4]?[]:arguments[4],f=arguments.length<=5||void 0===arguments[5]?[]:arguments[5];return function(){m.loopAsync(a.length,function(c,g,h){j(a[c],b,d,e,f,function(a,b){a||b?h(a,b):g()})},c)}()}b.__esModule=!0;var l=a("2e"),m=(e(l),a("40")),n=a("35"),o=a("2c");b["default"]=k,c.exports=b["default"]}(a("6")),c.exports}),$__System.registerDynamic("29",["2e","24","3e","3f","41","42","43","6"],!0,function(a,b,c){return function(d){"use strict";function e(a){return a&&a.__esModule?a:{"default":a}}function f(a){for(var b in a)if(a.hasOwnProperty(b))return!0;return!1}function g(a,b){function c(b){var c=arguments.length<=1||void 0===arguments[1]?!1:arguments[1],d=arguments.length<=2||void 0===arguments[2]?null:arguments[2],e=void 0;return c&&c!==!0||null!==d?(b={pathname:b,query:c},e=d||!1):(b=a.createLocation(b),e=c),o["default"](b,e,v.location,v.routes,v.params)}function d(b){return a.createLocation(b,j.REPLACE)}function e(a,c){w&&w.location===a?g(w,c):s["default"](b,a,function(b,d){b?c(b):d?g(h({},d,{location:a}),c):c()})}function g(a,b){var c=l["default"](v,a),e=c.leaveRoutes,f=c.enterRoutes;m.runLeaveHooks(e),e.forEach(r),m.runEnterHooks(f,a,function(c,e){c?b(c):e?b(null,d(e)):q["default"](a,function(c,d){c?b(c):b(null,null,v=h({},a,{components:d}))})})}function i(a){var b=arguments.length<=1||void 0===arguments[1]?!0:arguments[1];return a.__id__||b&&(a.__id__=x++)}function k(a){return a.reduce(function(a,b){return a.push.apply(a,y[i(b)]),a},[])}function n(a,c){s["default"](b,a,function(b,d){if(null==d)return void c();w=h({},d,{location:a});for(var e=k(l["default"](v,w).leaveRoutes),f=void 0,g=0,i=e.length;null==f&&i>g;++g)f=e[g](a);c(f)})}function p(){if(v.routes){for(var a=k(v.routes),b=void 0,c=0,d=a.length;"string"!=typeof b&&d>c;++c)b=a[c]();return b}}function r(a){var b=i(a,!1);b&&(delete y[b],f(y)||(z&&(z(),z=null),A&&(A(),A=null)))}function t(b,c){var d=i(b),e=y[d];if(e)-1===e.indexOf(c)&&e.push(c);else{var g=!f(y);y[d]=[c],g&&(z=a.listenBefore(n),a.listenBeforeUnload&&(A=a.listenBeforeUnload(p)))}return function(){var a=y[d];if(a){var e=a.filter(function(a){return a!==c});0===e.length?r(b):y[d]=e}}}function u(b){return a.listen(function(c){v.location===c?b(null,v):e(c,function(c,d,e){c?b(c):d?a.transitionTo(d):e&&b(null,e)})})}var v={},w=void 0,x=1,y={},z=void 0,A=void 0;return{isActive:c,match:e,listenBeforeLeavingRoute:t,listen:u}}b.__esModule=!0;var h=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a};b["default"]=g;var i=a("2e"),j=(e(i),a("24")),k=a("3e"),l=e(k),m=a("3f"),n=a("41"),o=e(n),p=a("42"),q=e(p),r=a("43"),s=e(r);c.exports=b["default"]}(a("6")),c.exports}),$__System.registerDynamic("2c",["28","2e","6"],!0,function(a,b,c){return function(c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){return null==a||n["default"].isValidElement(a)}function f(a){return e(a)||Array.isArray(a)&&a.every(e)}function g(a,b,c){a=a||"UnknownComponent";for(var d in b)if(b.hasOwnProperty(d)){var e=b[d](c,d,a);e instanceof Error}}function h(a,b){return l({},a,b)}function i(a){var b=a.type,c=h(b.defaultProps,a.props);if(b.propTypes&&g(b.displayName||b.name,b.propTypes,c),c.children){var d=j(c.children,c);d.length&&(c.childRoutes=d),delete c.children}return c}function j(a,b){var c=[];return n["default"].Children.forEach(a,function(a){if(n["default"].isValidElement(a))if(a.type.createRouteFromReactElement){var d=a.type.createRouteFromReactElement(a,b);d&&c.push(d)}else c.push(i(a))}),c}function k(a){return f(a)?a=j(a):a&&!Array.isArray(a)&&(a=[a]),a}b.__esModule=!0;var l=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a};b.isReactChildren=f,b.createRouteFromReactElement=i,b.createRoutesFromReactChildren=j,b.createRoutes=k;var m=a("28"),n=d(m),o=a("2e");d(o)}(a("6")),c.exports}),$__System.registerDynamic("2e",["1a","6"],!0,function(a,b,c){return function(d){"use strict";function e(a){return a&&a.__esModule?a:{"default":a}}function f(a,b){b="[react-router] "+b;for(var c=arguments.length,d=Array(c>2?c-2:0),e=2;c>e;e++)d[e-2]=arguments[e]}b.__esModule=!0,b["default"]=f;var g=a("1a");e(g);c.exports=b["default"]}(a("6")),c.exports}),$__System.registerDynamic("3c",["2e","6"],!0,function(a,b,c){return function(d){"use strict";function e(a){return a&&a.__esModule?a:{"default":a}}function f(a,b){if(!h)return a;var c={},d=function(b){"function"==typeof a[b]?c[b]=function(){return a[b].apply(a,arguments)}:Object.defineProperty(c,b,{configurable:!1,enumerable:!1,get:function(){return a[b]}})};for(var e in a)d(e);return c}b.__esModule=!0,b["default"]=f;var g=a("2e"),h=(e(g),!1);c.exports=b["default"]}(a("6")),c.exports}),$__System.registerDynamic("2d",["3c","6"],!0,function(a,b,c){return function(c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){return g({},a,{setRouteLeaveHook:b.listenBeforeLeavingRoute,isActive:b.isActive})}function f(a,b){return a=g({},a,b)}b.__esModule=!0;var g=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a};b.createRouterObject=e,b.createRoutingHistory=f;var h=a("3c");d(h)}(a("6")),c.exports}),$__System.registerDynamic("44",["33","45","29","2c","2d","6"],!0,function(a,b,c){return function(d){"use strict";function e(a){return a&&a.__esModule?a:{"default":a}}function f(a,b){var c={};for(var d in a)b.indexOf(d)>=0||Object.prototype.hasOwnProperty.call(a,d)&&(c[d]=a[d]);return c}function g(a,b){var c=a.history,d=a.routes,e=a.location,g=f(a,["history","routes","location"]);c||e?void 0:j["default"](!1),c=c?c:l["default"](g);var i=n["default"](c,o.createRoutes(d)),k=void 0;e?e=c.createLocation(e):k=c.listen(function(a){e=a});var m=p.createRouterObject(c,i);c=p.createRoutingHistory(c,i),i.match(e,function(a,d,e){b(a,d,e&&h({},e,{history:c,router:m,matchContext:{history:c,transitionManager:i,router:m}})),k&&k()})}b.__esModule=!0;var h=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},i=a("33"),j=e(i),k=a("45"),l=e(k),m=a("29"),n=e(m),o=a("2c"),p=a("2d");b["default"]=g,c.exports=b["default"]}(a("6")),c.exports}),$__System.registerDynamic("35",["33","6"],!0,function(a,b,c){return function(c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){return a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function f(a){return e(a).replace(/\/+/g,"/+")}function g(a){for(var b="",c=[],d=[],e=void 0,g=0,h=/:([a-zA-Z_$][a-zA-Z0-9_$]*)|\*\*|\*|\(|\)/g;e=h.exec(a);)e.index!==g&&(d.push(a.slice(g,e.index)),b+=f(a.slice(g,e.index))),e[1]?(b+="([^/?#]+)",c.push(e[1])):"**"===e[0]?(b+="([\\s\\S]*)",c.push("splat")):"*"===e[0]?(b+="([\\s\\S]*?)",c.push("splat")):"("===e[0]?b+="(?:":")"===e[0]&&(b+=")?"),d.push(e[0]),g=h.lastIndex;return g!==a.length&&(d.push(a.slice(g,a.length)),b+=f(a.slice(g,a.length))),{pattern:a,regexpSource:b,paramNames:c,tokens:d}}function h(a){return a in o||(o[a]=g(a)),o[a]}function i(a,b){"/"!==a.charAt(0)&&(a="/"+a),"/"!==b.charAt(0)&&(b="/"+b);var c=h(a),d=c.regexpSource,e=c.paramNames,f=c.tokens;d+="/*";var g="*"!==f[f.length-1];g&&(d+="([\\s\\S]*?)");var i=b.match(new RegExp("^"+d+"$","i")),j=void 0,k=void 0;if(null!=i){if(g){j=i.pop();var l=i[0].substr(0,i[0].length-j.length);if(j&&"/"!==l.charAt(l.length-1))return{remainingPathname:null,paramNames:e,paramValues:null}}else j="";k=i.slice(1).map(function(a){return null!=a?decodeURIComponent(a):a})}else j=k=null;return{remainingPathname:j,paramNames:e,paramValues:k}}function j(a){return h(a).paramNames}function k(a,b){var c=i(a,b),d=c.paramNames,e=c.paramValues;return null!=e?d.reduce(function(a,b,c){return a[b]=e[c],a},{}):null}function l(a,b){b=b||{};for(var c=h(a),d=c.tokens,e=0,f="",g=0,i=void 0,j=void 0,k=void 0,l=0,m=d.length;m>l;++l)i=d[l],"*"===i||"**"===i?(k=Array.isArray(b.splat)?b.splat[g++]:b.splat,null!=k||e>0?void 0:n["default"](!1),null!=k&&(f+=encodeURI(k))):"("===i?e+=1:")"===i?e-=1:":"===i.charAt(0)?(j=i.substring(1),k=b[j],null!=k||e>0?void 0:n["default"](!1),null!=k&&(f+=encodeURIComponent(k))):f+=i;return f.replace(/\/+/g,"/")}b.__esModule=!0,b.compilePattern=h,b.matchPattern=i,b.getParamNames=j,b.getParams=k,b.formatPattern=l;var m=a("33"),n=d(m),o={}}(a("6")),c.exports}),$__System.registerDynamic("20",["33","24","46","17","18","47","48","6"],!0,function(a,b,c){return function(d){"use strict";function e(a){return a&&a.__esModule?a:{"default":a}}function f(){function a(a){a=a||window.history.state||{};var b=m.getWindowPath(),c=a,d=c.key,e=void 0;d?e=n.readState(d):(e=null,d=t.createKey(),r&&window.history.replaceState(g({},a,{key:d}),null,b));var f=k.parsePath(b);return t.createLocation(g({},f,{state:e}),void 0,d)}function b(b){function c(b){void 0!==b.state&&d(a(b.state))}var d=b.transitionTo;return m.addEventListener(window,"popstate",c),function(){m.removeEventListener(window,"popstate",c)}}function c(a){var b=a.basename,c=a.pathname,d=a.search,e=a.hash,f=a.state,g=a.action,h=a.key;if(g!==j.POP){n.saveState(h,f);var i=(b||"")+c+d+e,k={key:h};if(g===j.PUSH){if(s)return window.location.href=i,!1;window.history.pushState(k,null,i)}else{if(s)return window.location.replace(i),!1;window.history.replaceState(k,null,i)}}}function d(a){1===++u&&(v=b(t));var c=t.listenBefore(a);return function(){c(),0===--u&&v()}}function e(a){1===++u&&(v=b(t));var c=t.listen(a);return function(){c(),0===--u&&v()}}function f(a){1===++u&&(v=b(t)),t.registerTransitionHook(a)}function h(a){t.unregisterTransitionHook(a),0===--u&&v()}var o=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];l.canUseDOM?void 0:i["default"](!1);var q=o.forceRefresh,r=m.supportsHistory(),s=!r||q,t=p["default"](g({},o,{getCurrentLocation:a,finishTransition:c,saveState:n.saveState})),u=0,v=void 0;return g({},t,{listenBefore:d,listen:e,registerTransitionHook:f,unregisterTransitionHook:h})}b.__esModule=!0;var g=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},h=a("33"),i=e(h),j=a("24"),k=a("46"),l=a("17"),m=a("18"),n=a("47"),o=a("48"),p=e(o);b["default"]=f,c.exports=b["default"]}(a("6")),c.exports}),$__System.registerDynamic("49",["20","4a"],!0,function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}b.__esModule=!0;var e=a("20"),f=d(e),g=a("4a"),h=d(g);return b["default"]=h["default"](f["default"]),c.exports=b["default"],c.exports}),$__System.registerDynamic("47",["1a","6"],!0,function(a,b,c){return function(c){
"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){return i+a}function f(a,b){try{null==b?window.sessionStorage.removeItem(e(a)):window.sessionStorage.setItem(e(a),JSON.stringify(b))}catch(c){if(c.name===k)return;if(j.indexOf(c.name)>=0&&0===window.sessionStorage.length)return;throw c}}function g(a){var b=void 0;try{b=window.sessionStorage.getItem(e(a))}catch(c){if(c.name===k)return null}if(b)try{return JSON.parse(b)}catch(c){}return null}b.__esModule=!0,b.saveState=f,b.readState=g;var h=a("1a"),i=(d(h),"@@History/"),j=["QuotaExceededError","QUOTA_EXCEEDED_ERR"],k="SecurityError"}(a("6")),c.exports}),$__System.registerDynamic("18",[],!0,function(a,b,c){"use strict";function d(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent("on"+b,c)}function e(a,b,c){a.removeEventListener?a.removeEventListener(b,c,!1):a.detachEvent("on"+b,c)}function f(){return window.location.href.split("#")[1]||""}function g(a){window.location.replace(window.location.pathname+window.location.search+"#"+a)}function h(){return window.location.pathname+window.location.search+window.location.hash}function i(a){a&&window.history.go(a)}function j(a,b){b(window.confirm(a))}function k(){var a=navigator.userAgent;return-1===a.indexOf("Android 2.")&&-1===a.indexOf("Android 4.0")||-1===a.indexOf("Mobile Safari")||-1!==a.indexOf("Chrome")||-1!==a.indexOf("Windows Phone")?window.history&&"pushState"in window.history:!1}function l(){var a=navigator.userAgent;return-1===a.indexOf("Firefox")}return b.__esModule=!0,b.addEventListener=d,b.removeEventListener=e,b.getHashPath=f,b.replaceHashPath=g,b.getWindowPath=h,b.go=i,b.getUserConfirmation=j,b.supportsHistory=k,b.supportsGoWithoutReloadUsingHash=l,c.exports}),$__System.registerDynamic("48",["33","17","18","4b","6"],!0,function(a,b,c){return function(d){"use strict";function e(a){return a&&a.__esModule?a:{"default":a}}function f(a){function b(a){return j.canUseDOM?void 0:i["default"](!1),c.listen(a)}var c=m["default"](g({getUserConfirmation:k.getUserConfirmation},a,{go:k.go}));return g({},c,{listen:b})}b.__esModule=!0;var g=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},h=a("33"),i=e(h),j=a("17"),k=a("18"),l=a("4b"),m=e(l);b["default"]=f,c.exports=b["default"]}(a("6")),c.exports}),$__System.registerDynamic("21",["1a","33","24","46","17","18","47","48","6"],!0,function(a,b,c){return function(d){"use strict";function e(a){return a&&a.__esModule?a:{"default":a}}function f(a){return"string"==typeof a&&"/"===a.charAt(0)}function g(){var a=s.getHashPath();return f(a)?!0:(s.replaceHashPath("/"+a),!1)}function h(a,b,c){return a+(-1===a.indexOf("?")?"?":"&")+(b+"="+c)}function i(a,b){return a.replace(new RegExp("[?&]?"+b+"=[a-zA-Z0-9]+"),"")}function j(a,b){var c=a.match(new RegExp("\\?.*?\\b"+b+"=(.+?)\\b"));return c&&c[1]}function k(){function a(){var a=s.getHashPath(),b=void 0,c=void 0;B?(b=j(a,B),a=i(a,B),b?c=t.readState(b):(c=null,b=C.createKey(),s.replaceHashPath(h(a,B,b)))):b=c=null;var d=q.parsePath(a);return C.createLocation(l({},d,{state:c}),void 0,b)}function b(b){function c(){g()&&d(a())}var d=b.transitionTo;return g(),s.addEventListener(window,"hashchange",c),function(){s.removeEventListener(window,"hashchange",c)}}function c(a){var b=a.basename,c=a.pathname,d=a.search,e=a.state,f=a.action,g=a.key;if(f!==p.POP){var i=(b||"")+c+d;B?(i=h(i,B,g),t.saveState(g,e)):a.key=a.state=null;var j=s.getHashPath();f===p.PUSH?j!==i&&(window.location.hash=i):j!==i&&s.replaceHashPath(i)}}function d(a){1===++D&&(E=b(C));var c=C.listenBefore(a);return function(){c(),0===--D&&E()}}function e(a){1===++D&&(E=b(C));var c=C.listen(a);return function(){c(),0===--D&&E()}}function f(a){C.push(a)}function k(a){C.replace(a)}function m(a){C.go(a)}function n(a){return"#"+C.createHref(a)}function u(a){1===++D&&(E=b(C)),C.registerTransitionHook(a)}function x(a){C.unregisterTransitionHook(a),0===--D&&E()}function y(a,b){C.pushState(a,b)}function z(a,b){C.replaceState(a,b)}var A=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];r.canUseDOM?void 0:o["default"](!1);var B=A.queryKey;(void 0===B||B)&&(B="string"==typeof B?B:w);var C=v["default"](l({},A,{getCurrentLocation:a,finishTransition:c,saveState:t.saveState})),D=0,E=void 0;s.supportsGoWithoutReloadUsingHash();return l({},C,{listenBefore:d,listen:e,push:f,replace:k,go:m,createHref:n,registerTransitionHook:u,unregisterTransitionHook:x,pushState:y,replaceState:z})}b.__esModule=!0;var l=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},m=a("1a"),n=(e(m),a("33")),o=e(n),p=a("24"),q=a("46"),r=a("17"),s=a("18"),t=a("47"),u=a("48"),v=e(u),w="_k";b["default"]=k,c.exports=b["default"]}(a("6")),c.exports}),$__System.registerDynamic("4c",["1d","23"],!0,function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){return function(b){var c=g["default"](i["default"](a))(b);return c.__v2_compatible__=!0,c}}b.__esModule=!0,b["default"]=e;var f=a("1d"),g=d(f),h=a("23"),i=d(h);return c.exports=b["default"],c.exports}),$__System.registerDynamic("4a",["4c"],!0,function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}b.__esModule=!0;var e=a("4c"),f=d(e),g=!("undefined"==typeof window||!window.document||!window.document.createElement);return b["default"]=function(a){var b=void 0;return g&&(b=f["default"](a)()),b},c.exports=b["default"],c.exports}),$__System.registerDynamic("4d",["21","4a"],!0,function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}b.__esModule=!0;var e=a("21"),f=d(e),g=a("4a"),h=d(g);return b["default"]=h["default"](f["default"]),c.exports=b["default"],c.exports}),$__System.registerDynamic("4e",[],!0,function(a,b,c){"use strict";return c.exports=function(a){return encodeURIComponent(a).replace(/[!'()*]/g,function(a){return"%"+a.charCodeAt(0).toString(16).toUpperCase()})},c.exports}),$__System.registerDynamic("4f",["4e"],!0,function(a,b,c){return c.exports=a("4e"),c.exports}),$__System.registerDynamic("50",["4f"],!0,function(a,b,c){"use strict";var d=a("4f");return b.extract=function(a){return a.split("?")[1]||""},b.parse=function(a){return"string"!=typeof a?{}:(a=a.trim().replace(/^(\?|#|&)/,""),a?a.split("&").reduce(function(a,b){var c=b.replace(/\+/g," ").split("="),d=c.shift(),e=c.length>0?c.join("="):void 0;return d=decodeURIComponent(d),e=void 0===e?null:decodeURIComponent(e),a.hasOwnProperty(d)?Array.isArray(a[d])?a[d].push(e):a[d]=[a[d],e]:a[d]=e,a},{}):{})},b.stringify=function(a){return a?Object.keys(a).sort().map(function(b){var c=a[b];return void 0===c?"":null===c?b:Array.isArray(c)?c.sort().map(function(a){return d(b)+"="+d(a)}).join("&"):d(b)+"="+d(c)}).filter(function(a){return a.length>0}).join("&"):""},c.exports}),$__System.registerDynamic("51",["50"],!0,function(a,b,c){return c.exports=a("50"),c.exports}),$__System.registerDynamic("1d",["1a","51","52","46","19","6"],!0,function(a,b,c){return function(d){"use strict";function e(a){return a&&a.__esModule?a:{"default":a}}function f(a){return j.stringify(a).replace(/%20/g,"+")}function g(a){return function(){function b(a){if(null==a.query){var b=a.search;a.query=w(b.substring(1)),a[p]={search:b,searchBase:""}}return a}function c(a,b){var c,d=a[p],e=b?v(b):"";if(!d&&!e)return a;"string"==typeof a&&(a=m.parsePath(a));var f=void 0;f=d&&a.search===d.search?d.searchBase:a.search||"";var g=f;return e&&(g+=(g?"&":"?")+e),h({},a,(c={search:g},c[p]={search:g,searchBase:f},c))}function d(a){return u.listenBefore(function(c,d){l["default"](a,b(c),d)})}function e(a){return u.listen(function(c){a(b(c))})}function g(a){u.push(c(a,a.query))}function i(a){u.replace(c(a,a.query))}function j(a,b){return u.createPath(c(a,b||a.query))}function k(a,b){return u.createHref(c(a,b||a.query))}function n(a){for(var d=arguments.length,e=Array(d>1?d-1:0),f=1;d>f;f++)e[f-1]=arguments[f];var g=u.createLocation.apply(u,[c(a,a.query)].concat(e));return a.query&&(g.query=a.query),b(g)}function r(a,b,c){"string"==typeof b&&(b=m.parsePath(b)),g(h({state:a},b,{query:c}))}function s(a,b,c){"string"==typeof b&&(b=m.parsePath(b)),i(h({state:a},b,{query:c}))}var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],u=a(t),v=t.stringifyQuery,w=t.parseQueryString;return"function"!=typeof v&&(v=f),"function"!=typeof w&&(w=q),h({},u,{listenBefore:d,listen:e,push:g,replace:i,createPath:j,createHref:k,createLocation:n,pushState:o["default"](r,"pushState is deprecated; use push instead"),replaceState:o["default"](s,"replaceState is deprecated; use replace instead")})}}b.__esModule=!0;var h=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},i=a("1a"),j=(e(i),a("51")),k=a("52"),l=e(k),m=a("46"),n=a("19"),o=e(n),p="$searchBase",q=j.parse;b["default"]=g,c.exports=b["default"]}(a("6")),c.exports}),$__System.registerDynamic("17",[],!0,function(a,b,c){"use strict";b.__esModule=!0;var d=!("undefined"==typeof window||!window.document||!window.document.createElement);return b.canUseDOM=d,c.exports}),$__System.registerDynamic("23",["17","46","52","19"],!0,function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){return function(){function b(a){return t&&null==a.basename&&(0===a.pathname.indexOf(t)?(a.pathname=a.pathname.substring(t.length),a.basename=t,""===a.pathname&&(a.pathname="/")):a.basename=""),a}function c(a){if(!t)return a;"string"==typeof a&&(a=h.parsePath(a));var b=a.pathname,c="/"===t.slice(-1)?t:t+"/",d="/"===b.charAt(0)?b.slice(1):b,e=c+d;return f({},a,{pathname:e})}function d(a){return s.listenBefore(function(c,d){j["default"](a,b(c),d)})}function e(a){return s.listen(function(c){a(b(c))})}function i(a){s.push(c(a))}function k(a){s.replace(c(a))}function m(a){return s.createPath(c(a))}function n(a){return s.createHref(c(a))}function o(a){for(var d=arguments.length,e=Array(d>1?d-1:0),f=1;d>f;f++)e[f-1]=arguments[f];return b(s.createLocation.apply(s,[c(a)].concat(e)))}function p(a,b){"string"==typeof b&&(b=h.parsePath(b)),i(f({state:a},b))}function q(a,b){"string"==typeof b&&(b=h.parsePath(b)),k(f({state:a},b))}var r=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],s=a(r),t=r.basename;if(null==t&&g.canUseDOM){var u=document.getElementsByTagName("base")[0];u&&(t=h.extractPath(u.href))}return f({},s,{listenBefore:d,listen:e,push:i,replace:k,createPath:m,createHref:n,createLocation:o,pushState:l["default"](p,"pushState is deprecated; use push instead"),replaceState:l["default"](q,"replaceState is deprecated; use replace instead")})}}b.__esModule=!0;var f=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},g=a("17"),h=a("46"),i=a("52"),j=d(i),k=a("19"),l=d(k);return b["default"]=e,c.exports=b["default"],c.exports}),$__System.registerDynamic("53",["6"],!0,function(a,b,c){return function(a){"use strict";var b=function(a,b,c,d,e,f,g,h){if(!a){var i;if(void 0===b)i=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var j=[c,d,e,f,g,h],k=0;i=new Error(b.replace(/%s/g,function(){return j[k++]})),i.name="Invariant Violation"}throw i.framesToPop=1,i}};c.exports=b}(a("6")),c.exports}),$__System.registerDynamic("33",["53"],!0,function(a,b,c){return c.exports=a("53"),c.exports}),$__System.registerDynamic("54",[],!0,function(a,b,c){function d(a){var b=[];for(var c in a)b.push(c);return b}return b=c.exports="function"==typeof Object.keys?Object.keys:d,b.shim=d,c.exports}),$__System.registerDynamic("55",[],!0,function(a,b,c){function d(a){return"[object Arguments]"==Object.prototype.toString.call(a)}function e(a){return a&&"object"==typeof a&&"number"==typeof a.length&&Object.prototype.hasOwnProperty.call(a,"callee")&&!Object.prototype.propertyIsEnumerable.call(a,"callee")||!1}var f="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();return b=c.exports=f?d:e,b.supported=d,b.unsupported=e,c.exports}),$__System.registerDynamic("56",["54","55"],!0,function(a,b,c){function d(a){return null===a||void 0===a}function e(a){return a&&"object"==typeof a&&"number"==typeof a.length?"function"!=typeof a.copy||"function"!=typeof a.slice?!1:!(a.length>0&&"number"!=typeof a[0]):!1}function f(a,b,c){var f,k;if(d(a)||d(b))return!1;if(a.prototype!==b.prototype)return!1;if(i(a))return i(b)?(a=g.call(a),b=g.call(b),j(a,b,c)):!1;if(e(a)){if(!e(b))return!1;if(a.length!==b.length)return!1;for(f=0;f<a.length;f++)if(a[f]!==b[f])return!1;return!0}try{var l=h(a),m=h(b)}catch(n){return!1}if(l.length!=m.length)return!1;for(l.sort(),m.sort(),f=l.length-1;f>=0;f--)if(l[f]!=m[f])return!1;for(f=l.length-1;f>=0;f--)if(k=l[f],!j(a[k],b[k],c))return!1;return typeof a==typeof b}var g=Array.prototype.slice,h=a("54"),i=a("55"),j=c.exports=function(a,b,c){return c||(c={}),a===b?!0:a instanceof Date&&b instanceof Date?a.getTime()===b.getTime():!a||!b||"object"!=typeof a&&"object"!=typeof b?c.strict?a===b:a==b:f(a,b,c)};return c.exports}),$__System.registerDynamic("57",["56"],!0,function(a,b,c){return c.exports=a("56"),c.exports}),$__System.registerDynamic("58",[],!0,function(a,b,c){"use strict";function d(a,b,c){function d(){return h=!0,i?void(k=[].concat(e.call(arguments))):void c.apply(this,arguments)}function f(){if(!h&&(j=!0,!i)){for(i=!0;!h&&a>g&&j;)j=!1,b.call(this,g++,f,d);return i=!1,h?void c.apply(this,k):void(g>=a&&j&&(h=!0,c()))}}var g=0,h=!1,i=!1,j=!1,k=void 0;f()}b.__esModule=!0;var e=Array.prototype.slice;return b.loopAsync=d,c.exports}),$__System.registerDynamic("24",[],!0,function(a,b,c){"use strict";b.__esModule=!0;var d="PUSH";b.PUSH=d;var e="REPLACE";b.REPLACE=e;var f="POP";return b.POP=f,b["default"]={PUSH:d,REPLACE:e,POP:f},c.exports}),$__System.registerDynamic("46",["1a","6"],!0,function(a,b,c){return function(c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){var b=a.match(/^https?:\/\/[^\/]*/);return null==b?a:a.substring(b[0].length)}function f(a){var b=e(a),c="",d="",f=b.indexOf("#");-1!==f&&(d=b.substring(f),b=b.substring(0,f));var g=b.indexOf("?");return-1!==g&&(c=b.substring(g),b=b.substring(0,g)),""===b&&(b="/"),{pathname:b,search:c,hash:d}}b.__esModule=!0,b.extractPath=e,b.parsePath=f;var g=a("1a");d(g)}(a("6")),c.exports}),$__System.registerDynamic("1f",["1a","24","46","6"],!0,function(a,b,c){return function(d){"use strict";function e(a){return a&&a.__esModule?a:{"default":a}}function f(){var a=arguments.length<=0||void 0===arguments[0]?"/":arguments[0],b=arguments.length<=1||void 0===arguments[1]?i.POP:arguments[1],c=arguments.length<=2||void 0===arguments[2]?null:arguments[2],d=arguments.length<=3||void 0===arguments[3]?null:arguments[3];"string"==typeof a&&(a=j.parsePath(a)),"object"==typeof b&&(a=g({},a,{state:b}),b=c||i.POP,c=d);var e=a.pathname||"/",f=a.search||"",h=a.hash||"",k=a.state||null;return{pathname:e,search:f,hash:h,state:k,action:b,key:c}}b.__esModule=!0;var g=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},h=a("1a"),i=(e(h),a("24")),j=a("46");b["default"]=f,c.exports=b["default"]}(a("6")),c.exports}),$__System.registerDynamic("52",["1a","6"],!0,function(a,b,c){return function(d){"use strict";function e(a){return a&&a.__esModule?a:{"default":a}}function f(a,b,c){var d=a(b,c);a.length<2&&c(d)}b.__esModule=!0;var g=a("1a");e(g);b["default"]=f,c.exports=b["default"]}(a("6")),c.exports}),$__System.registerDynamic("59",["6"],!0,function(a,b,c){return function(a){"use strict";var b=function(){};c.exports=b}(a("6")),c.exports}),$__System.registerDynamic("1a",["59"],!0,function(a,b,c){return c.exports=a("59"),c.exports}),$__System.registerDynamic("19",["1a","6"],!0,function(a,b,c){return function(d){"use strict";function e(a){return a&&a.__esModule?a:{"default":a}}function f(a,b){return function(){return a.apply(this,arguments)}}b.__esModule=!0;var g=a("1a");e(g);b["default"]=f,c.exports=b["default"]}(a("6")),c.exports}),$__System.registerDynamic("4b",["1a","57","46","58","24","1f","52","19","6"],!0,function(a,b,c){return function(d){"use strict";function e(a){return a&&a.__esModule?a:{"default":a}}function f(a){return Math.random().toString(36).substr(2,a)}function g(a,b){return a.pathname===b.pathname&&a.search===b.search&&a.key===b.key&&l["default"](a.state,b.state)}function h(){function a(a){return M.push(a),function(){M=M.filter(function(b){return b!==a})}}function b(){return Q&&Q.action===o.POP?N.indexOf(Q.key):P?N.indexOf(P.key):-1}function c(a){var c=b();P=a,P.action===o.PUSH?N=[].concat(N.slice(0,c+1),[P.key]):P.action===o.REPLACE&&(N[c]=P.key),O.forEach(function(a){a(P)})}function d(a){if(O.push(a),P)a(P);else{var b=G();N=[b.key],c(b)}return function(){O=O.filter(function(b){return b!==a})}}function e(a,b){n.loopAsync(M.length,function(b,c,d){s["default"](M[b],a,function(a){null!=a?d(a):c()})},function(a){K&&"string"==typeof a?K(a,function(a){b(a!==!1)}):b(a!==!1)})}function h(a){P&&g(P,a)||(Q=a,e(a,function(b){if(Q===a)if(b){if(a.action===o.PUSH){var d=w(P),e=w(a);e===d&&l["default"](P.state,a.state)&&(a.action=o.REPLACE)}H(a)!==!1&&c(a)}else if(P&&a.action===o.POP){var f=N.indexOf(P.key),g=N.indexOf(a.key);-1!==f&&-1!==g&&J(f-g)}}))}function j(a){h(y(a,o.PUSH,t()))}function k(a){h(y(a,o.REPLACE,t()))}function p(){J(-1)}function r(){J(1)}function t(){return f(L)}function w(a){if(null==a||"string"==typeof a)return a;var b=a.pathname,c=a.search,d=a.hash,e=b;return c&&(e+=c),d&&(e+=d),e}function x(a){return w(a)}function y(a,b){var c=arguments.length<=2||void 0===arguments[2]?t():arguments[2];return"object"==typeof b&&("string"==typeof a&&(a=m.parsePath(a)),a=i({},a,{state:b}),b=c,c=arguments[3]||t()),q["default"](a,b,c)}function z(a){P?(A(P,a),c(P)):A(G(),a)}function A(a,b){a.state=i({},a.state,b),I(a.key,a.state)}function B(a){-1===M.indexOf(a)&&M.push(a)}function C(a){M=M.filter(function(b){return b!==a})}function D(a,b){"string"==typeof b&&(b=m.parsePath(b)),j(i({state:a},b))}function E(a,b){"string"==typeof b&&(b=m.parsePath(b)),k(i({state:a},b))}var F=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],G=F.getCurrentLocation,H=F.finishTransition,I=F.saveState,J=F.go,K=F.getUserConfirmation,L=F.keyLength;"number"!=typeof L&&(L=v);var M=[],N=[],O=[],P=void 0,Q=void 0;return{listenBefore:a,listen:d,transitionTo:h,push:j,replace:k,go:J,goBack:p,goForward:r,createKey:t,createPath:w,createHref:x,createLocation:y,setState:u["default"](z,"setState is deprecated; use location.key to save state instead"),registerTransitionHook:u["default"](B,"registerTransitionHook is deprecated; use listenBefore instead"),unregisterTransitionHook:u["default"](C,"unregisterTransitionHook is deprecated; use the callback returned from listenBefore instead"),pushState:u["default"](D,"pushState is deprecated; use push instead"),replaceState:u["default"](E,"replaceState is deprecated; use replace instead")}}b.__esModule=!0;var i=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},j=a("1a"),k=(e(j),a("57")),l=e(k),m=a("46"),n=a("58"),o=a("24"),p=a("1f"),q=e(p),r=a("52"),s=e(r),t=a("19"),u=e(t),v=6;b["default"]=h,c.exports=b["default"]}(a("6")),c.exports}),$__System.registerDynamic("22",["1a","33","46","24","4b","6"],!0,function(a,b,c){return function(d){"use strict";function e(a){return a&&a.__esModule?a:{"default":a}}function f(a){return a.filter(function(a){return a.state}).reduce(function(a,b){return a[b.key]=b.state,a},{})}function g(){function a(a,b){r[a]=b}function b(a){return r[a]}function c(){var a=p[q],c=a.basename,d=a.pathname,e=a.search,f=(c||"")+d+(e||""),g=void 0,i=void 0;a.key?(g=a.key,i=b(g)):(g=j.createKey(),i=null,a.key=g);var k=l.parsePath(f);return j.createLocation(h({},k,{state:i}),void 0,g)}function d(a){var b=q+a;return b>=0&&b<p.length}function e(a){if(a){if(!d(a))return;q+=a;var b=c();j.transitionTo(h({},b,{action:m.POP}))}}function g(b){switch(b.action){case m.PUSH:q+=1,q<p.length&&p.splice(q),p.push(b),a(b.key,b.state);break;case m.REPLACE:p[q]=b,a(b.key,b.state)}}var i=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];Array.isArray(i)?i={entries:i}:"string"==typeof i&&(i={entries:[i]});var j=o["default"](h({},i,{getCurrentLocation:c,finishTransition:g,saveState:a,go:e})),n=i,p=n.entries,q=n.current;"string"==typeof p?p=[p]:Array.isArray(p)||(p=["/"]),p=p.map(function(a){var b=j.createKey();return"string"==typeof a?{pathname:a,key:b}:"object"==typeof a&&a?h({},a,{key:b}):void k["default"](!1)}),null==q?q=p.length-1:q>=0&&q<p.length?void 0:k["default"](!1);var r=f(p);return j}b.__esModule=!0;var h=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},i=a("1a"),j=(e(i),a("33")),k=e(j),l=a("46"),m=a("24"),n=a("4b"),o=e(n);b["default"]=g,c.exports=b["default"]}(a("6")),c.exports}),$__System.registerDynamic("45",["1d","23","22"],!0,function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){var b=k["default"](a),c=function(){return b},d=g["default"](i["default"](c))(a);return d.__v2_compatible__=!0,d}b.__esModule=!0,b["default"]=e;var f=a("1d"),g=d(f),h=a("23"),i=d(h),j=a("22"),k=d(j);return c.exports=b["default"],c.exports}),$__System.registerDynamic("5a",["27","2f","30","31","34","32","36","37","38","39","3a","2c","2b","3d","2a","44","4c","35","49","4d","45"],!0,function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}b.__esModule=!0;var e=a("27"),f=d(e);b.Router=f["default"];var g=a("2f"),h=d(g);b.Link=h["default"];var i=a("30"),j=d(i);b.IndexLink=j["default"];var k=a("31"),l=d(k);b.IndexRedirect=l["default"];var m=a("34"),n=d(m);b.IndexRoute=n["default"];var o=a("32"),p=d(o);b.Redirect=p["default"];var q=a("36"),r=d(q);b.Route=r["default"];var s=a("37"),t=d(s);b.History=t["default"];var u=a("38"),v=d(u);b.Lifecycle=v["default"];var w=a("39"),x=d(w);b.RouteContext=x["default"];var y=a("3a"),z=d(y);b.useRoutes=z["default"];var A=a("2c");b.createRoutes=A.createRoutes;var B=a("2b"),C=d(B);b.RouterContext=C["default"];var D=a("3d"),E=d(D);b.RoutingContext=E["default"];var F=a("2a"),G=d(F);b.PropTypes=G["default"];var H=a("44"),I=d(H);b.match=I["default"];var J=a("4c"),K=d(J);b.useRouterHistory=K["default"];var L=a("35");b.formatPattern=L.formatPattern;var M=a("49"),N=d(M);b.browserHistory=N["default"];var O=a("4d"),P=d(O);b.hashHistory=P["default"];var Q=a("45"),R=d(Q);return b.createMemoryHistory=R["default"],c.exports}),$__System.registerDynamic("5b",["5a"],!0,function(a,b,c){return c.exports=a("5a"),c.exports}),$__System.register("5c",["26","28","5b"],function(a){"use strict";var b,c,d,e,f,g,h;return{setters:[function(a){},function(a){b=a["default"]},function(a){c=a.Router,d=a.Route,e=a.Link,f=a.IndexLink,g=a.IndexRoute}],execute:function(){h=function(a){function c(){babelHelpers.classCallCheck(this,c),babelHelpers.get(Object.getPrototypeOf(c.prototype),"constructor",this).apply(this,arguments)}return babelHelpers.inherits(c,a),babelHelpers.createClass(c,[{key:"render",value:function(){var a=this.props.routes.length,c=this.props.routes[0],d=c.childRoutes,g=this.props.routes[1],h=g.childRoutes;return b.createElement("div",{className:null!=h?"sub-route":""},b.createElement("nav",{className:"c-link-navigation"},b.createElement("ul",null,b.createElement("li",{className:"c-hyperlink"},b.createElement(f,{to:c.path,activeClassName:"active"},c.indexRoute.title),b.createElement("span",{className:"ghost"},c.indexRoute.title)),d.map(function(c,d){return b.createElement("li",{className:"c-hyperlink",key:d},b.createElement(e,{activeClassName:"active",to:c.path||""},c.title),b.createElement("span",{className:"ghost"},c.title),a>d+1)}))))}}]),c}(b.Component),a("default",h)}}}),$__System.register("5d",["28","60","5e","5f"],function(a){"use strict";var b,c,d,e,f;return{setters:[function(a){b=a["default"]},function(a){c=a["default"]},function(a){d=a["default"]},function(a){e=a["default"]}],execute:function(){f=function(a){function f(){babelHelpers.classCallCheck(this,f),babelHelpers.get(Object.getPrototypeOf(f.prototype),"constructor",this).apply(this,arguments)}return babelHelpers.inherits(f,a),babelHelpers.createClass(f,[{key:"render",value:function(){if(this.props.data.routes){var a=c.find(this.props.data.routes,function(a){return a.title===this.props.route.title},this);return b.createElement("div",{className:"main-container"},b.createElement("div",null,a.content.hero?b.createElement(d,a.content.hero):null,a.content.mosaicContainer?b.createElement("div",{className:"c-mosaic fullscreen-mosaic"},a.content.mosaicContainer.map(function(a,c){return b.createElement(e,{key:c,mosaics:a})})):null))}return b.createElement("div",{className:"main-container"},b.createElement("div",null,"Loading"))}}]),f}(b.Component),a("default",f)}}}),$__System.register("61",["28"],function(a){"use strict";var b,c;return{setters:[function(a){b=a["default"]}],execute:function(){c=function(a){function c(){babelHelpers.classCallCheck(this,c),babelHelpers.get(Object.getPrototypeOf(c.prototype),"constructor",this).apply(this,arguments)}return babelHelpers.inherits(c,a),babelHelpers.createClass(c,[{key:"render",value:function(){return b.createElement("picture",null,b.createElement("source",{srcSet:this.props.heroSrc+"-vp5."+this.props.heroFileType,media:"(min-width:1084px)"}),b.createElement("source",{srcSet:this.props.heroSrc+"-vp4."+this.props.heroFileType,media:"(min-width:768px)"}),b.createElement("source",{srcSet:this.props.heroSrc+"-vp3."+this.props.heroFileType,media:"(min-width:540px)"}),b.createElement("source",{srcSet:this.props.heroSrc+"-vp2."+this.props.heroFileType,media:"(min-width:0)"}),b.createElement("img",{srcSet:this.props.heroSrc+"-vp4."+this.props.heroFileType,src:this.props.heroSrc+"-vp4."+this.props.heroFileType,alt:"Martian poster"}))}}]),c}(b.Component),a("default",c)}}}),$__System.register("62",[],function(){return{setters:[],execute:function(){}}}),$__System.register("5e",["28","61","62","63"],function(a){"use strict";var b,c,d,e;return{setters:[function(a){b=a["default"]},function(a){c=a["default"]},function(a){},function(a){d=a["default"]}],execute:function(){e=function(a){function e(){babelHelpers.classCallCheck(this,e),babelHelpers.get(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,arguments)}return babelHelpers.inherits(e,a),babelHelpers.createClass(e,[{key:"render",value:function(){var a=d("true"===this.props.fullscreen?"f-fullscreen":"","c-hero theme-dark",this.props.fY?this.props.fY:"f-y-center",this.props.fX?this.props.fX:"f-x-center",this.props.heroSize?this.props.heroSize:null);return b.createElement("article",{style:this.props.heroStyle,className:a},b.createElement("div",null,b.createElement("div",{className:"context-game"},b.createElement("dl",null,b.createElement("dt",{className:"x-screen-reader"},"Media Title"),this.props.heroTitle?b.createElement("dd",{className:"c-heading"},b.createElement("cite",null,this.props.heroTitle)):null,b.createElement("dt",{className:"x-screen-reader"},"Media Tagline"),this.props.heroSubTitle?b.createElement("div",{className:"c-subheading"},this.props.heroSubTitle):null),this.props.ctaButton?b.createElement("div",{className:"hero-link-container p-t-xs"},b.createElement("a",{href:this.props.ctaLink,className:"c-call-to-action c-glyph"},b.createElement("span",null,this.props.ctaText))):null)),this.props.heroSrc?b.createElement(c,{heroSrc:this.props.heroSrc,heroFileType:this.props.heroFileType?this.props.heroFileType:"jpg"}):null)}}]),e}(b.Component),a("default",e)}}}),$__System.register("64",[],function(){return{setters:[],execute:function(){}}}),$__System.register("65",["28","63","64"],function(a){"use strict";var b,c,d;return{setters:[function(a){b=a["default"]},function(a){c=a["default"]},function(a){}],execute:function(){d=function(a){function d(a){babelHelpers.classCallCheck(this,d),babelHelpers.get(Object.getPrototypeOf(d.prototype),"constructor",this).call(this,a)}return babelHelpers.inherits(d,a),babelHelpers.createClass(d,[{key:"_handleClick",value:function(a){a.preventDefault(),this.props.mosaic.ctaURL?window.open(this.props.mosaic.ctaURL):window.open("http://www.microsoftstore.com/")}},{key:"render",value:function(){var a=c(this.props.mosaic.context?this.props.mosaic.context:"context-music-album","c-placement f-width-small f-height-large"),d=this.props.mosaic,e=d.mosaicCta,f=d.ctaURL,g=d.logo,h=d.mosaicTitle,i=d.mosaicSize,j=d.mosaicStyle,k=d.mosaicImage,l=d.mosaicHeading;return b.createElement("div",{className:"theme-dark","data-f-mosaic":i,style:j,onClick:this._handleClick.bind(this),onTouchEnd:this._handleClick},b.createElement("article",{className:a},k?b.createElement("picture",null,b.createElement("img",{srcSet:k,src:k,alt:h})):null,b.createElement("div",{className:"c-image-overlay","aria-hidden":"true"}),l?b.createElement("div",null,b.createElement("div",{className:"c-image-container"},g?b.createElement("img",{src:g,className:"c-image"}):null),b.createElement("h1",{className:"c-heading"},h),b.createElement("div",{className:"c-group"},b.createElement("a",{href:f,className:"c-call-to-action c-glyph c-glyph-go"},b.createElement("span",null,e)))):null,l?null:b.createElement("div",null,b.createElement("dl",null,b.createElement("dt",{className:"x-screen-reader"},h," Title"),b.createElement("dd",null,b.createElement("cite",null,h)),e?b.createElement("div",{className:"c-group"},b.createElement("a",{href:f,className:"c-call-to-action c-glyph c-glyph-go"},b.createElement("span",null,e))):null))))}}]),d}(b.Component),a("default",d)}}}),$__System.register("5f",["28","65"],function(a){"use strict";var b,c,d;return{setters:[function(a){b=a["default"]},function(a){c=a["default"]}],execute:function(){d=function(a){function d(){babelHelpers.classCallCheck(this,d),babelHelpers.get(Object.getPrototypeOf(d.prototype),"constructor",this).apply(this,arguments)}return babelHelpers.inherits(d,a),babelHelpers.createClass(d,[{key:"render",value:function(){var a=this.props.mosaics;return b.createElement("div",{"data-f-mosaic":a.containerSize},a.mosaics.map(function(a,d){return b.createElement(c,{key:d,mosaic:a})}))}}]),d}(b.Component),a("default",d)}}}),$__System.register("66",["28","63"],function(a){"use strict";var b,c,d;return{setters:[function(a){b=a["default"]},function(a){c=a["default"]}],execute:function(){d=function(a){function d(){babelHelpers.classCallCheck(this,d),babelHelpers.get(Object.getPrototypeOf(d.prototype),"constructor",this).apply(this,arguments)}return babelHelpers.inherits(d,a),babelHelpers.createClass(d,[{key:"_getActiveSlide",value:function(){return this.props.myKey===this.props.activeSlide?"f-active":""}},{key:"_getSlideDirection",value:function(){return"next"===this.props.slideDirection?"f-animate-next":"f-animate-previous"}},{key:"render",value:function(){var a=c(this._getActiveSlide(),this._getSlideDirection());return b.createElement("li",{id:"hero-slide-one","data-f-theme":"dark",className:a},b.createElement("article",{className:"c-hero f-x-left f-y-center theme-dark"},b.createElement("div",null,b.createElement("div",{className:"context-accessory"},b.createElement("span",{className:"c-heading"},b.createElement("cite",null,this.props.slideTitle)),b.createElement("p",{className:"c-subheading"},this.props.slideSubTitle),b.createElement("div",{className:"hero-link-container"},b.createElement("a",{href:this.props.ctaUrl?this.props.ctaUrl:"http://www.microsoftstore.com/",target:"_blank",className:"c-call-to-action c-glyph"
},b.createElement("span",null,this.props.slideButton))))),b.createElement("picture",null,b.createElement("source",{srcSet:this.props.vp5,media:"(min-width:1084px)"}),b.createElement("source",{srcSet:this.props.vp4,media:"(min-width:768px)"}),b.createElement("source",{srcSet:this.props.vp3,media:"(min-width:540px)"}),b.createElement("source",{srcSet:this.props.vp2,media:"(min-width:0)"}),b.createElement("img",{srcSet:this.props.vp4,src:this.props.vp4,alt:this.props.slideTitle}))))}}]),d}(b.Component),a("default",d)}}}),$__System.registerDynamic("67",["68"],!0,function(a,b,c){"use strict";var d=a("68");return c.exports=d.renderSubtreeIntoContainer,c.exports}),$__System.registerDynamic("3",["69","6a","6b","6c","68","6d","6e","6f","70","71","67","72","12","6"],!0,function(a,b,c){return function(b){"use strict";var d=a("69"),e=a("6a"),f=a("6b"),g=a("6c"),h=a("68"),i=a("6d"),j=a("6e"),k=a("6f"),l=a("70"),m=a("71"),n=a("67");a("72");f.inject();var o=i.measure("React","render",h.render),p={findDOMNode:m,render:o,unmountComponentAtNode:h.unmountComponentAtNode,version:l,unstable_batchedUpdates:k.batchedUpdates,unstable_renderSubtreeIntoContainer:n};"undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.inject&&__REACT_DEVTOOLS_GLOBAL_HOOK__.inject({CurrentOwner:d,InstanceHandles:g,Mount:h,Reconciler:j,TextComponent:e});c.exports=p}(a("6")),c.exports}),$__System.registerDynamic("73",["74","d","75"],!0,function(a,b,c){"use strict";function d(a){this._root=a,this._startText=this.getText(),this._fallbackText=null}var e=a("74"),f=a("d"),g=a("75");return f(d.prototype,{destructor:function(){this._root=null,this._startText=null,this._fallbackText=null},getText:function(){return"value"in this._root?this._root.value:this._root[g()]},getData:function(){if(this._fallbackText)return this._fallbackText;var a,b,c=this._startText,d=c.length,e=this.getText(),f=e.length;for(a=0;d>a&&c[a]===e[a];a++);var g=d-a;for(b=1;g>=b&&c[d-b]===e[f-b];b++);var h=b>1?1-b:void 0;return this._fallbackText=e.slice(a,h),this._fallbackText}}),e.addPoolingTo(d),c.exports=d,c.exports}),$__System.registerDynamic("76",["77"],!0,function(a,b,c){"use strict";function d(a,b,c,d){e.call(this,a,b,c,d)}var e=a("77"),f={data:null};return e.augmentClass(d,f),c.exports=d,c.exports}),$__System.registerDynamic("78",["77"],!0,function(a,b,c){"use strict";function d(a,b,c,d){e.call(this,a,b,c,d)}var e=a("77"),f={data:null};return e.augmentClass(d,f),c.exports=d,c.exports}),$__System.registerDynamic("79",["7a","7b","12","73","76","78","7c"],!0,function(a,b,c){"use strict";function d(){var a=window.opera;return"object"==typeof a&&"function"==typeof a.version&&parseInt(a.version(),10)<=12}function e(a){return(a.ctrlKey||a.altKey||a.metaKey)&&!(a.ctrlKey&&a.altKey)}function f(a){switch(a){case C.topCompositionStart:return D.compositionStart;case C.topCompositionEnd:return D.compositionEnd;case C.topCompositionUpdate:return D.compositionUpdate}}function g(a,b){return a===C.topKeyDown&&b.keyCode===v}function h(a,b){switch(a){case C.topKeyUp:return-1!==u.indexOf(b.keyCode);case C.topKeyDown:return b.keyCode!==v;case C.topKeyPress:case C.topMouseDown:case C.topBlur:return!0;default:return!1}}function i(a){var b=a.detail;return"object"==typeof b&&"data"in b?b.data:null}function j(a,b,c,d,e){var j,k;if(w?j=f(a):F?h(a,d)&&(j=D.compositionEnd):g(a,d)&&(j=D.compositionStart),!j)return null;z&&(F||j!==D.compositionStart?j===D.compositionEnd&&F&&(k=F.getData()):F=q.getPooled(b));var l=r.getPooled(j,c,d,e);if(k)l.data=k;else{var m=i(d);null!==m&&(l.data=m)}return o.accumulateTwoPhaseDispatches(l),l}function k(a,b){switch(a){case C.topCompositionEnd:return i(b);case C.topKeyPress:var c=b.which;return c!==A?null:(E=!0,B);case C.topTextInput:var d=b.data;return d===B&&E?null:d;default:return null}}function l(a,b){if(F){if(a===C.topCompositionEnd||h(a,b)){var c=F.getData();return q.release(F),F=null,c}return null}switch(a){case C.topPaste:return null;case C.topKeyPress:return b.which&&!e(b)?String.fromCharCode(b.which):null;case C.topCompositionEnd:return z?null:b.data;default:return null}}function m(a,b,c,d,e){var f;if(f=y?k(a,d):l(a,d),!f)return null;var g=s.getPooled(D.beforeInput,c,d,e);return g.data=f,o.accumulateTwoPhaseDispatches(g),g}var n=a("7a"),o=a("7b"),p=a("12"),q=a("73"),r=a("76"),s=a("78"),t=a("7c"),u=[9,13,27,32],v=229,w=p.canUseDOM&&"CompositionEvent"in window,x=null;p.canUseDOM&&"documentMode"in document&&(x=document.documentMode);var y=p.canUseDOM&&"TextEvent"in window&&!x&&!d(),z=p.canUseDOM&&(!w||x&&x>8&&11>=x),A=32,B=String.fromCharCode(A),C=n.topLevelTypes,D={beforeInput:{phasedRegistrationNames:{bubbled:t({onBeforeInput:null}),captured:t({onBeforeInputCapture:null})},dependencies:[C.topCompositionEnd,C.topKeyPress,C.topTextInput,C.topPaste]},compositionEnd:{phasedRegistrationNames:{bubbled:t({onCompositionEnd:null}),captured:t({onCompositionEndCapture:null})},dependencies:[C.topBlur,C.topCompositionEnd,C.topKeyDown,C.topKeyPress,C.topKeyUp,C.topMouseDown]},compositionStart:{phasedRegistrationNames:{bubbled:t({onCompositionStart:null}),captured:t({onCompositionStartCapture:null})},dependencies:[C.topBlur,C.topCompositionStart,C.topKeyDown,C.topKeyPress,C.topKeyUp,C.topMouseDown]},compositionUpdate:{phasedRegistrationNames:{bubbled:t({onCompositionUpdate:null}),captured:t({onCompositionUpdateCapture:null})},dependencies:[C.topBlur,C.topCompositionUpdate,C.topKeyDown,C.topKeyPress,C.topKeyUp,C.topMouseDown]}},E=!1,F=null,G={eventTypes:D,extractEvents:function(a,b,c,d,e){return[j(a,b,c,d,e),m(a,b,c,d,e)]}};return c.exports=G,c.exports}),$__System.registerDynamic("7d",["7a","7e","7b","12","6f","77","7f","80","81","7c","6"],!0,function(a,b,c){return function(b){"use strict";function d(a){var b=a.nodeName&&a.nodeName.toLowerCase();return"select"===b||"input"===b&&"file"===a.type}function e(a){var b=x.getPooled(D.change,F,a,y(a));u.accumulateTwoPhaseDispatches(b),w.batchedUpdates(f,b)}function f(a){t.enqueueEvents(a),t.processEventQueue(!1)}function g(a,b){E=a,F=b,E.attachEvent("onchange",e)}function h(){E&&(E.detachEvent("onchange",e),E=null,F=null)}function i(a,b,c){return a===C.topChange?c:void 0}function j(a,b,c){a===C.topFocus?(h(),g(b,c)):a===C.topBlur&&h()}function k(a,b){E=a,F=b,G=a.value,H=Object.getOwnPropertyDescriptor(a.constructor.prototype,"value"),Object.defineProperty(E,"value",K),E.attachEvent("onpropertychange",m)}function l(){E&&(delete E.value,E.detachEvent("onpropertychange",m),E=null,F=null,G=null,H=null)}function m(a){if("value"===a.propertyName){var b=a.srcElement.value;b!==G&&(G=b,e(a))}}function n(a,b,c){return a===C.topInput?c:void 0}function o(a,b,c){a===C.topFocus?(l(),k(b,c)):a===C.topBlur&&l()}function p(a,b,c){return a!==C.topSelectionChange&&a!==C.topKeyUp&&a!==C.topKeyDown||!E||E.value===G?void 0:(G=E.value,F)}function q(a){return a.nodeName&&"input"===a.nodeName.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)}function r(a,b,c){return a===C.topClick?c:void 0}var s=a("7a"),t=a("7e"),u=a("7b"),v=a("12"),w=a("6f"),x=a("77"),y=a("7f"),z=a("80"),A=a("81"),B=a("7c"),C=s.topLevelTypes,D={change:{phasedRegistrationNames:{bubbled:B({onChange:null}),captured:B({onChangeCapture:null})},dependencies:[C.topBlur,C.topChange,C.topClick,C.topFocus,C.topInput,C.topKeyDown,C.topKeyUp,C.topSelectionChange]}},E=null,F=null,G=null,H=null,I=!1;v.canUseDOM&&(I=z("change")&&(!("documentMode"in document)||document.documentMode>8));var J=!1;v.canUseDOM&&(J=z("input")&&(!("documentMode"in document)||document.documentMode>9));var K={get:function(){return H.get.call(this)},set:function(a){G=""+a,H.set.call(this,a)}},L={eventTypes:D,extractEvents:function(a,b,c,e,f){var g,h;if(d(b)?I?g=i:h=j:A(b)?J?g=n:(g=p,h=o):q(b)&&(g=r),g){var k=g(a,b,c);if(k){var l=x.getPooled(D.change,k,e,f);return l.type="change",u.accumulateTwoPhaseDispatches(l),l}}h&&h(a,b,c)}};c.exports=L}(a("6")),c.exports}),$__System.registerDynamic("82",[],!0,function(a,b,c){"use strict";var d=0,e={createReactRootIndex:function(){return d++}};return c.exports=e,c.exports}),$__System.registerDynamic("83",["7c"],!0,function(a,b,c){"use strict";var d=a("7c"),e=[d({ResponderEventPlugin:null}),d({SimpleEventPlugin:null}),d({TapEventPlugin:null}),d({EnterLeaveEventPlugin:null}),d({ChangeEventPlugin:null}),d({SelectEventPlugin:null}),d({BeforeInputEventPlugin:null})];return c.exports=e,c.exports}),$__System.registerDynamic("84",["7a","7b","85","68","7c"],!0,function(a,b,c){"use strict";var d=a("7a"),e=a("7b"),f=a("85"),g=a("68"),h=a("7c"),i=d.topLevelTypes,j=g.getFirstReactDOM,k={mouseEnter:{registrationName:h({onMouseEnter:null}),dependencies:[i.topMouseOut,i.topMouseOver]},mouseLeave:{registrationName:h({onMouseLeave:null}),dependencies:[i.topMouseOut,i.topMouseOver]}},l=[null,null],m={eventTypes:k,extractEvents:function(a,b,c,d,h){if(a===i.topMouseOver&&(d.relatedTarget||d.fromElement))return null;if(a!==i.topMouseOut&&a!==i.topMouseOver)return null;var m;if(b.window===b)m=b;else{var n=b.ownerDocument;m=n?n.defaultView||n.parentWindow:window}var o,p,q="",r="";if(a===i.topMouseOut?(o=b,q=c,p=j(d.relatedTarget||d.toElement),p?r=g.getID(p):p=m,p=p||m):(o=m,p=b,r=c),o===p)return null;var s=f.getPooled(k.mouseLeave,q,d,h);s.type="mouseleave",s.target=o,s.relatedTarget=p;var t=f.getPooled(k.mouseEnter,r,d,h);return t.type="mouseenter",t.target=p,t.relatedTarget=o,e.accumulateEnterLeaveDispatches(s,t,q,r),l[0]=s,l[1]=t,l}};return c.exports=m,c.exports}),$__System.registerDynamic("86",["87","12"],!0,function(a,b,c){"use strict";var d,e=a("87"),f=a("12"),g=e.injection.MUST_USE_ATTRIBUTE,h=e.injection.MUST_USE_PROPERTY,i=e.injection.HAS_BOOLEAN_VALUE,j=e.injection.HAS_SIDE_EFFECTS,k=e.injection.HAS_NUMERIC_VALUE,l=e.injection.HAS_POSITIVE_NUMERIC_VALUE,m=e.injection.HAS_OVERLOADED_BOOLEAN_VALUE;if(f.canUseDOM){var n=document.implementation;d=n&&n.hasFeature&&n.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")}var o={isCustomAttribute:RegExp.prototype.test.bind(/^(data|aria)-[a-z_][a-z\d_.\-]*$/),Properties:{accept:null,acceptCharset:null,accessKey:null,action:null,allowFullScreen:g|i,allowTransparency:g,alt:null,async:i,autoComplete:null,autoPlay:i,capture:g|i,cellPadding:null,cellSpacing:null,charSet:g,challenge:g,checked:h|i,classID:g,className:d?g:h,cols:g|l,colSpan:null,content:null,contentEditable:null,contextMenu:g,controls:h|i,coords:null,crossOrigin:null,data:null,dateTime:g,"default":i,defer:i,dir:null,disabled:g|i,download:m,draggable:null,encType:null,form:g,formAction:g,formEncType:g,formMethod:g,formNoValidate:i,formTarget:g,frameBorder:g,headers:null,height:g,hidden:g|i,high:null,href:null,hrefLang:null,htmlFor:null,httpEquiv:null,icon:null,id:h,inputMode:g,integrity:null,is:g,keyParams:g,keyType:g,kind:null,label:null,lang:null,list:g,loop:h|i,low:null,manifest:g,marginHeight:null,marginWidth:null,max:null,maxLength:g,media:g,mediaGroup:null,method:null,min:null,minLength:g,multiple:h|i,muted:h|i,name:null,nonce:g,noValidate:i,open:i,optimum:null,pattern:null,placeholder:null,poster:null,preload:null,radioGroup:null,readOnly:h|i,rel:null,required:i,reversed:i,role:g,rows:g|l,rowSpan:null,sandbox:null,scope:null,scoped:i,scrolling:null,seamless:g|i,selected:h|i,shape:null,size:g|l,sizes:g,span:l,spellCheck:null,src:null,srcDoc:h,srcLang:null,srcSet:g,start:k,step:null,style:null,summary:null,tabIndex:null,target:null,title:null,type:null,useMap:null,value:h|j,width:g,wmode:g,wrap:null,about:g,datatype:g,inlist:g,prefix:g,property:g,resource:g,"typeof":g,vocab:g,autoCapitalize:g,autoCorrect:g,autoSave:null,color:null,itemProp:g,itemScope:g|i,itemType:g,itemID:g,itemRef:g,results:null,security:g,unselectable:g},DOMAttributeNames:{acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},DOMPropertyNames:{autoComplete:"autocomplete",autoFocus:"autofocus",autoPlay:"autoplay",autoSave:"autosave",encType:"encoding",hrefLang:"hreflang",radioGroup:"radiogroup",spellCheck:"spellcheck",srcDoc:"srcdoc",srcSet:"srcset"}};return c.exports=o,c.exports}),$__System.registerDynamic("88",["89","71","72","6"],!0,function(a,b,c){return function(b){"use strict";var d=(a("89"),a("71")),e=(a("72"),"_getDOMNodeDidWarn"),f={getDOMNode:function(){return this.constructor[e]=!0,d(this)}};c.exports=f}(a("6")),c.exports}),$__System.registerDynamic("71",["69","89","68","10","72","6"],!0,function(a,b,c){return function(b){"use strict";function d(a){return null==a?null:1===a.nodeType?a:e.has(a)?f.getNodeFromInstance(a):(null!=a.render&&"function"==typeof a.render?g(!1):void 0,void g(!1))}var e=(a("69"),a("89")),f=a("68"),g=a("10");a("72");c.exports=d}(a("6")),c.exports}),$__System.registerDynamic("8a",["68","71","8b"],!0,function(a,b,c){"use strict";var d=a("68"),e=a("71"),f=a("8b"),g={componentDidMount:function(){this.props.autoFocus&&f(e(this))}},h={Mixin:g,focusDOMComponent:function(){f(d.getNode(this._rootNodeID))}};return c.exports=h,c.exports}),$__System.registerDynamic("8c",[],!0,function(a,b,c){"use strict";function d(a){return a.replace(e,function(a,b){return b.toUpperCase()})}var e=/-(.)/g;return c.exports=d,c.exports}),$__System.registerDynamic("8d",["8c"],!0,function(a,b,c){"use strict";function d(a){return e(a.replace(f,"ms-"))}var e=a("8c"),f=/^-ms-/;return c.exports=d,c.exports}),$__System.registerDynamic("8e",[],!0,function(a,b,c){"use strict";function d(a,b){return a+b.charAt(0).toUpperCase()+b.substring(1)}var e={animationIterationCount:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,stopOpacity:!0,strokeDashoffset:!0,strokeOpacity:!0,strokeWidth:!0},f=["Webkit","ms","Moz","O"];Object.keys(e).forEach(function(a){f.forEach(function(b){e[d(b,a)]=e[a]})});var g={background:{backgroundAttachment:!0,backgroundColor:!0,backgroundImage:!0,backgroundPositionX:!0,backgroundPositionY:!0,backgroundRepeat:!0},backgroundPosition:{backgroundPositionX:!0,backgroundPositionY:!0},border:{borderWidth:!0,borderStyle:!0,borderColor:!0},borderBottom:{borderBottomWidth:!0,borderBottomStyle:!0,borderBottomColor:!0},borderLeft:{borderLeftWidth:!0,borderLeftStyle:!0,borderLeftColor:!0},borderRight:{borderRightWidth:!0,borderRightStyle:!0,borderRightColor:!0},borderTop:{borderTopWidth:!0,borderTopStyle:!0,borderTopColor:!0},font:{fontStyle:!0,fontVariant:!0,fontWeight:!0,fontSize:!0,lineHeight:!0,fontFamily:!0},outline:{outlineWidth:!0,outlineStyle:!0,outlineColor:!0}},h={isUnitlessNumber:e,shorthandPropertyExpansions:g};return c.exports=h,c.exports}),$__System.registerDynamic("8f",["8e"],!0,function(a,b,c){"use strict";function d(a,b){var c=null==b||"boolean"==typeof b||""===b;if(c)return"";var d=isNaN(b);return d||0===b||f.hasOwnProperty(a)&&f[a]?""+b:("string"==typeof b&&(b=b.trim()),b+"px")}var e=a("8e"),f=e.isUnitlessNumber;return c.exports=d,c.exports}),$__System.registerDynamic("90",[],!0,function(a,b,c){"use strict";function d(a){return a.replace(e,"-$1").toLowerCase()}var e=/([A-Z])/g;return c.exports=d,c.exports}),$__System.registerDynamic("91",["90"],!0,function(a,b,c){"use strict";function d(a){return e(a).replace(f,"-ms-")}var e=a("90"),f=/^ms-/;return c.exports=d,c.exports}),$__System.registerDynamic("92",[],!0,function(a,b,c){"use strict";function d(a){var b={};return function(c){return b.hasOwnProperty(c)||(b[c]=a.call(this,c)),b[c]}}return c.exports=d,c.exports}),$__System.registerDynamic("93",["8e","12","6d","8d","8f","91","92","72","6"],!0,function(a,b,c){return function(b){"use strict";var d=a("8e"),e=a("12"),f=a("6d"),g=(a("8d"),a("8f")),h=a("91"),i=a("92"),j=(a("72"),i(function(a){return h(a)})),k=!1,l="cssFloat";if(e.canUseDOM){var m=document.createElement("div").style;try{m.font=""}catch(n){k=!0}void 0===document.documentElement.style.cssFloat&&(l="styleFloat")}var o={createMarkupForStyles:function(a){var b="";for(var c in a)if(a.hasOwnProperty(c)){var d=a[c];null!=d&&(b+=j(c)+":",b+=g(c,d)+";")}return b||null},setValueForStyles:function(a,b){var c=a.style;for(var e in b)if(b.hasOwnProperty(e)){var f=g(e,b[e]);if("float"===e&&(e=l),f)c[e]=f;else{var h=k&&d.shorthandPropertyExpansions[e];if(h)for(var i in h)c[i]="";else c[e]=""}}}};f.measureMethods(o,"CSSPropertyOperations",{setValueForStyles:"setValueForStyles"}),c.exports=o}(a("6")),c.exports}),$__System.registerDynamic("94",[],!0,function(a,b,c){"use strict";var d={onClick:!0,onDoubleClick:!0,onMouseDown:!0,onMouseMove:!0,onMouseUp:!0,onClickCapture:!0,onDoubleClickCapture:!0,onMouseDownCapture:!0,onMouseMoveCapture:!0,onMouseUpCapture:!0},e={getNativeProps:function(a,b,c){if(!b.disabled)return b;var e={};for(var f in b)b.hasOwnProperty(f)&&!d[f]&&(e[f]=b[f]);return e}};return c.exports=e,c.exports}),$__System.registerDynamic("95",["96","97","68","6f","d","10","6"],!0,function(a,b,c){return function(b){"use strict";function d(){this._rootNodeID&&m.updateWrapper(this)}function e(a){var b=this._currentElement.props,c=g.executeOnChange(b,a);i.asap(d,this);var e=b.name;if("radio"===b.type&&null!=e){for(var f=h.getNode(this._rootNodeID),j=f;j.parentNode;)j=j.parentNode;for(var m=j.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),n=0;n<m.length;n++){var o=m[n];if(o!==f&&o.form===f.form){var p=h.getID(o);p?void 0:k(!1);var q=l[p];q?void 0:k(!1),i.asap(d,q)}}}return c}var f=a("96"),g=a("97"),h=a("68"),i=a("6f"),j=a("d"),k=a("10"),l={},m={getNativeProps:function(a,b,c){var d=g.getValue(b),e=g.getChecked(b),f=j({},b,{defaultChecked:void 0,defaultValue:void 0,value:null!=d?d:a._wrapperState.initialValue,checked:null!=e?e:a._wrapperState.initialChecked,onChange:a._wrapperState.onChange});return f},mountWrapper:function(a,b){var c=b.defaultValue;a._wrapperState={initialChecked:b.defaultChecked||!1,initialValue:null!=c?c:null,onChange:e.bind(a)}},mountReadyWrapper:function(a){l[a._rootNodeID]=a},unmountWrapper:function(a){delete l[a._rootNodeID]},updateWrapper:function(a){var b=a._currentElement.props,c=b.checked;null!=c&&f.updatePropertyByID(a._rootNodeID,"checked",c||!1);var d=g.getValue(b);null!=d&&f.updatePropertyByID(a._rootNodeID,"value",""+d)}};c.exports=m}(a("6")),c.exports}),$__System.registerDynamic("98",["99","9a","d","72","6"],!0,function(a,b,c){return function(b){"use strict";var d=a("99"),e=a("9a"),f=a("d"),g=(a("72"),e.valueContextKey),h={mountWrapper:function(a,b,c){var d=c[g],e=null;if(null!=d)if(e=!1,Array.isArray(d)){for(var f=0;f<d.length;f++)if(""+d[f]==""+b.value){e=!0;break}}else e=""+d==""+b.value;a._wrapperState={selected:e}},getNativeProps:function(a,b,c){var e=f({selected:void 0,children:void 0},b);null!=a._wrapperState.selected&&(e.selected=a._wrapperState.selected);var g="";return d.forEach(b.children,function(a){null!=a&&("string"!=typeof a&&"number"!=typeof a||(g+=a))}),g&&(e.children=g),e}};c.exports=h}(a("6")),c.exports}),$__System.registerDynamic("9a",["97","68","6f","d","72","6"],!0,function(a,b,c){return function(b){"use strict";function d(){if(this._rootNodeID&&this._wrapperState.pendingUpdate){this._wrapperState.pendingUpdate=!1;var a=this._currentElement.props,b=g.getValue(a);null!=b&&e(this,Boolean(a.multiple),b)}}function e(a,b,c){var d,e,f=h.getNode(a._rootNodeID).options;if(b){for(d={},e=0;e<c.length;e++)d[""+c[e]]=!0;for(e=0;e<f.length;e++){var g=d.hasOwnProperty(f[e].value);f[e].selected!==g&&(f[e].selected=g)}}else{for(d=""+c,e=0;e<f.length;e++)if(f[e].value===d)return void(f[e].selected=!0);f.length&&(f[0].selected=!0)}}function f(a){var b=this._currentElement.props,c=g.executeOnChange(b,a);return this._wrapperState.pendingUpdate=!0,i.asap(d,this),c}var g=a("97"),h=a("68"),i=a("6f"),j=a("d"),k=(a("72"),"__ReactDOMSelect_value$"+Math.random().toString(36).slice(2)),l={valueContextKey:k,getNativeProps:function(a,b,c){return j({},b,{onChange:a._wrapperState.onChange,value:void 0})},mountWrapper:function(a,b){var c=g.getValue(b);a._wrapperState={pendingUpdate:!1,initialValue:null!=c?c:b.defaultValue,onChange:f.bind(a),wasMultiple:Boolean(b.multiple)}},processChildContext:function(a,b,c){var d=j({},c);return d[k]=a._wrapperState.initialValue,d},postUpdateWrapper:function(a){var b=a._currentElement.props;a._wrapperState.initialValue=void 0;var c=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=Boolean(b.multiple);var d=g.getValue(b);null!=d?(a._wrapperState.pendingUpdate=!1,e(a,Boolean(b.multiple),d)):c!==Boolean(b.multiple)&&(null!=b.defaultValue?e(a,Boolean(b.multiple),b.defaultValue):e(a,Boolean(b.multiple),b.multiple?[]:""))}};c.exports=l}(a("6")),c.exports}),$__System.registerDynamic("97",["9b","9c","10","72","6"],!0,function(a,b,c){return function(b){"use strict";function d(a){null!=a.checkedLink&&null!=a.valueLink?j(!1):void 0}function e(a){d(a),null!=a.value||null!=a.onChange?j(!1):void 0}function f(a){d(a),null!=a.checked||null!=a.onChange?j(!1):void 0}function g(a){if(a){var b=a.getName();if(b)return" Check the render method of `"+b+"`."}return""}var h=a("9b"),i=a("9c"),j=a("10"),k=(a("72"),{button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0}),l={value:function(a,b,c){return!a[b]||k[a.type]||a.onChange||a.readOnly||a.disabled?null:new Error("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`.")},checked:function(a,b,c){return!a[b]||a.onChange||a.readOnly||a.disabled?null:new Error("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")},onChange:h.func},m={},n={checkPropTypes:function(a,b,c){for(var d in l){if(l.hasOwnProperty(d))var e=l[d](b,d,a,i.prop);if(e instanceof Error&&!(e.message in m)){m[e.message]=!0;g(c)}}},getValue:function(a){return a.valueLink?(e(a),a.valueLink.value):a.value},getChecked:function(a){return a.checkedLink?(f(a),a.checkedLink.value):a.checked},executeOnChange:function(a,b){return a.valueLink?(e(a),a.valueLink.requestChange(b.target.value)):a.checkedLink?(f(a),a.checkedLink.requestChange(b.target.checked)):a.onChange?a.onChange.call(void 0,b):void 0}};c.exports=n}(a("6")),c.exports}),$__System.registerDynamic("9d",["97","96","6f","d","10","72","6"],!0,function(a,b,c){return function(b){"use strict";function d(){this._rootNodeID&&k.updateWrapper(this)}function e(a){var b=this._currentElement.props,c=f.executeOnChange(b,a);return h.asap(d,this),c}var f=a("97"),g=a("96"),h=a("6f"),i=a("d"),j=a("10"),k=(a("72"),{getNativeProps:function(a,b,c){null!=b.dangerouslySetInnerHTML?j(!1):void 0;var d=i({},b,{defaultValue:void 0,value:void 0,children:a._wrapperState.initialValue,onChange:a._wrapperState.onChange});return d},mountWrapper:function(a,b){var c=b.defaultValue,d=b.children;null!=d&&(null!=c?j(!1):void 0,Array.isArray(d)&&(d.length<=1?void 0:j(!1),d=d[0]),c=""+d),null==c&&(c="");var g=f.getValue(b);a._wrapperState={initialValue:""+(null!=g?g:c),onChange:e.bind(a)}},updateWrapper:function(a){var b=a._currentElement.props,c=f.getValue(b);null!=c&&g.updatePropertyByID(a._rootNodeID,"value",""+c)}});c.exports=k}(a("6")),c.exports}),$__System.registerDynamic("9e",["6e","9f","a0","a1","72","6"],!0,function(a,b,c){return function(b){"use strict";function d(a,b,c){var d=void 0===a[c];null!=b&&d&&(a[c]=f(b,null))}var e=a("6e"),f=a("9f"),g=a("a0"),h=a("a1"),i=(a("72"),{instantiateChildren:function(a,b,c){if(null==a)return null;var e={};return h(a,d,e),e},updateChildren:function(a,b,c,d){if(!b&&!a)return null;var h;for(h in b)if(b.hasOwnProperty(h)){var i=a&&a[h],j=i&&i._currentElement,k=b[h];if(null!=i&&g(j,k))e.receiveComponent(i,k,c,d),b[h]=i;else{i&&e.unmountComponent(i,h);var l=f(k,null);b[h]=l}}for(h in a)!a.hasOwnProperty(h)||b&&b.hasOwnProperty(h)||e.unmountComponent(a[h]);return b},unmountChildren:function(a){for(var b in a)if(a.hasOwnProperty(b)){var c=a[b];e.unmountComponent(c)}}});c.exports=i}(a("6")),c.exports}),$__System.registerDynamic("a",["a1","72","6"],!0,function(a,b,c){return function(b){"use strict";function d(a,b,c){var d=a,e=void 0===d[c];e&&null!=b&&(d[c]=b)}function e(a){if(null==a)return a;var b={};return f(a,d,b),b}var f=a("a1");a("72");c.exports=e}(a("6")),c.exports}),$__System.registerDynamic("a2",["a3","a4","69","6e","9e","a","6"],!0,function(a,b,c){return function(b){"use strict";function d(a,b,c){q.push({parentID:a,parentNode:null,type:l.INSERT_MARKUP,markupIndex:r.push(b)-1,content:null,fromIndex:null,toIndex:c})}function e(a,b,c){q.push({parentID:a,parentNode:null,type:l.MOVE_EXISTING,markupIndex:null,content:null,fromIndex:b,toIndex:c})}function f(a,b){q.push({parentID:a,parentNode:null,type:l.REMOVE_NODE,markupIndex:null,content:null,fromIndex:b,toIndex:null})}function g(a,b){q.push({parentID:a,parentNode:null,type:l.SET_MARKUP,markupIndex:null,content:b,fromIndex:null,toIndex:null})}function h(a,b){q.push({parentID:a,parentNode:null,type:l.TEXT_CONTENT,markupIndex:null,content:b,fromIndex:null,toIndex:null})}function i(){q.length&&(k.processChildrenUpdates(q,r),j())}function j(){q.length=0,r.length=0}var k=a("a3"),l=a("a4"),m=(a("69"),a("6e")),n=a("9e"),o=a("a"),p=0,q=[],r=[],s={Mixin:{_reconcilerInstantiateChildren:function(a,b,c){return n.instantiateChildren(a,b,c)},_reconcilerUpdateChildren:function(a,b,c,d){var e;return e=o(b),n.updateChildren(a,e,c,d)},mountChildren:function(a,b,c){var d=this._reconcilerInstantiateChildren(a,b,c);this._renderedChildren=d;var e=[],f=0;for(var g in d)if(d.hasOwnProperty(g)){var h=d[g],i=this._rootNodeID+g,j=m.mountComponent(h,i,b,c);h._mountIndex=f++,e.push(j)}return e},updateTextContent:function(a){p++;var b=!0;try{var c=this._renderedChildren;n.unmountChildren(c);for(var d in c)c.hasOwnProperty(d)&&this._unmountChild(c[d]);this.setTextContent(a),b=!1}finally{p--,p||(b?j():i())}},updateMarkup:function(a){p++;var b=!0;try{var c=this._renderedChildren;n.unmountChildren(c);for(var d in c)c.hasOwnProperty(d)&&this._unmountChildByName(c[d],d);this.setMarkup(a),b=!1}finally{p--,p||(b?j():i())}},updateChildren:function(a,b,c){p++;var d=!0;try{this._updateChildren(a,b,c),d=!1}finally{p--,p||(d?j():i())}},_updateChildren:function(a,b,c){var d=this._renderedChildren,e=this._reconcilerUpdateChildren(d,a,b,c);if(this._renderedChildren=e,e||d){var f,g=0,h=0;for(f in e)if(e.hasOwnProperty(f)){var i=d&&d[f],j=e[f];i===j?(this.moveChild(i,h,g),g=Math.max(i._mountIndex,g),i._mountIndex=h):(i&&(g=Math.max(i._mountIndex,g),this._unmountChild(i)),this._mountChildByNameAtIndex(j,f,h,b,c)),h++}for(f in d)!d.hasOwnProperty(f)||e&&e.hasOwnProperty(f)||this._unmountChild(d[f])}},unmountChildren:function(){var a=this._renderedChildren;n.unmountChildren(a),this._renderedChildren=null},moveChild:function(a,b,c){a._mountIndex<c&&e(this._rootNodeID,a._mountIndex,b)},createChild:function(a,b){d(this._rootNodeID,b,a._mountIndex)},removeChild:function(a){f(this._rootNodeID,a._mountIndex)},setTextContent:function(a){h(this._rootNodeID,a)},setMarkup:function(a){g(this._rootNodeID,a)},_mountChildByNameAtIndex:function(a,b,c,d,e){var f=this._rootNodeID+b,g=m.mountComponent(a,f,d,e);a._mountIndex=c,this.createChild(a,g)},_unmountChild:function(a){this.removeChild(a),a._mountIndex=null}}};c.exports=s}(a("6")),c.exports}),$__System.registerDynamic("a5",["8a","93","87","a6","7a","a7","a8","94","95","98","9a","9d","68","a2","6d","a9","d","aa","ab","10","80","7c","ac","ad","af","ae","72","6"],!0,function(a,b,c){return function(b){"use strict";function d(){return this}function e(){var a=this._reactInternalComponent;return!!a}function f(){}function g(a,b){var c=this._reactInternalComponent;c&&(G.enqueueSetPropsInternal(c,a),b&&G.enqueueCallbackInternal(c,b))}function h(a,b){var c=this._reactInternalComponent;c&&(G.enqueueReplacePropsInternal(c,a),b&&G.enqueueCallbackInternal(c,b))}function i(a,b){b&&(null!=b.dangerouslySetInnerHTML&&(null!=b.children?K(!1):void 0,"object"==typeof b.dangerouslySetInnerHTML&&U in b.dangerouslySetInnerHTML?void 0:K(!1)),null!=b.style&&"object"!=typeof b.style?K(!1):void 0)}function j(a,b,c,d){var e=D.findReactContainerForID(a);if(e){var f=e.nodeType===V?e.ownerDocument:e;P(b,f)}d.getReactMountReady().enqueue(k,{id:a,registrationName:b,listener:c})}function k(){var a=this;w.putListener(a.id,a.registrationName,a.listener)}function l(){var a=this;a._rootNodeID?void 0:K(!1);var b=D.getNode(a._rootNodeID);switch(b?void 0:K(!1),a._tag){case"iframe":a._wrapperState.listeners=[w.trapBubbledEvent(v.topLevelTypes.topLoad,"load",b)];break;case"video":case"audio":a._wrapperState.listeners=[];for(var c in W)W.hasOwnProperty(c)&&a._wrapperState.listeners.push(w.trapBubbledEvent(v.topLevelTypes[c],W[c],b));break;case"img":a._wrapperState.listeners=[w.trapBubbledEvent(v.topLevelTypes.topError,"error",b),w.trapBubbledEvent(v.topLevelTypes.topLoad,"load",b)];break;case"form":a._wrapperState.listeners=[w.trapBubbledEvent(v.topLevelTypes.topReset,"reset",b),w.trapBubbledEvent(v.topLevelTypes.topSubmit,"submit",b)]}}function m(){z.mountReadyWrapper(this)}function n(){B.postUpdateWrapper(this)}function o(a){_.call($,a)||(Z.test(a)?void 0:K(!1),$[a]=!0)}function p(a,b){return a.indexOf("-")>=0||null!=b.is}function q(a){o(a),this._tag=a.toLowerCase(),this._renderedChildren=null,this._previousStyle=null,this._previousStyleCopy=null,this._rootNodeID=null,this._wrapperState=null,this._topLevelWrapper=null,this._nodeWithLegacyProperties=null}var r=a("8a"),s=a("93"),t=a("87"),u=a("a6"),v=a("7a"),w=a("a7"),x=a("a8"),y=a("94"),z=a("95"),A=a("98"),B=a("9a"),C=a("9d"),D=a("68"),E=a("a2"),F=a("6d"),G=a("a9"),H=a("d"),I=a("aa"),J=a("ab"),K=a("10"),L=(a("80"),a("7c")),M=a("ac"),N=a("ad"),O=(a("af"),a("ae"),a("72"),w.deleteListener),P=w.listenTo,Q=w.registrationNameModules,R={string:!0,number:!0},S=L({children:null}),T=L({style:null}),U=L({__html:null}),V=1,W={topAbort:"abort",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topSeeked:"seeked",topSeeking:"seeking",topStalled:"stalled",topSuspend:"suspend",topTimeUpdate:"timeupdate",topVolumeChange:"volumechange",topWaiting:"waiting"},X={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},Y={listing:!0,pre:!0,textarea:!0},Z=(H({menuitem:!0},X),/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/),$={},_={}.hasOwnProperty;q.displayName="ReactDOMComponent",q.Mixin={construct:function(a){this._currentElement=a},mountComponent:function(a,b,c){this._rootNodeID=a;var d=this._currentElement.props;switch(this._tag){case"iframe":case"img":case"form":case"video":case"audio":this._wrapperState={listeners:null},b.getReactMountReady().enqueue(l,this);break;case"button":d=y.getNativeProps(this,d,c);break;case"input":z.mountWrapper(this,d,c),d=z.getNativeProps(this,d,c);break;case"option":A.mountWrapper(this,d,c),d=A.getNativeProps(this,d,c);break;case"select":B.mountWrapper(this,d,c),d=B.getNativeProps(this,d,c),c=B.processChildContext(this,d,c);break;case"textarea":C.mountWrapper(this,d,c),d=C.getNativeProps(this,d,c)}i(this,d);var e;if(b.useCreateElement){var f=c[D.ownerDocumentContextKey],g=f.createElement(this._currentElement.type);u.setAttributeForID(g,this._rootNodeID),D.getID(g),this._updateDOMProperties({},d,b,g),this._createInitialChildren(b,d,c,g),e=g}else{var h=this._createOpenTagMarkupAndPutListeners(b,d),j=this._createContentMarkup(b,d,c);e=!j&&X[this._tag]?h+"/>":h+">"+j+"</"+this._currentElement.type+">"}switch(this._tag){case"input":b.getReactMountReady().enqueue(m,this);case"button":case"select":
case"textarea":d.autoFocus&&b.getReactMountReady().enqueue(r.focusDOMComponent,this)}return e},_createOpenTagMarkupAndPutListeners:function(a,b){var c="<"+this._currentElement.type;for(var d in b)if(b.hasOwnProperty(d)){var e=b[d];if(null!=e)if(Q.hasOwnProperty(d))e&&j(this._rootNodeID,d,e,a);else{d===T&&(e&&(e=this._previousStyleCopy=H({},b.style)),e=s.createMarkupForStyles(e));var f=null;null!=this._tag&&p(this._tag,b)?d!==S&&(f=u.createMarkupForCustomAttribute(d,e)):f=u.createMarkupForProperty(d,e),f&&(c+=" "+f)}}if(a.renderToStaticMarkup)return c;var g=u.createMarkupForID(this._rootNodeID);return c+" "+g},_createContentMarkup:function(a,b,c){var d="",e=b.dangerouslySetInnerHTML;if(null!=e)null!=e.__html&&(d=e.__html);else{var f=R[typeof b.children]?b.children:null,g=null!=f?null:b.children;if(null!=f)d=J(f);else if(null!=g){var h=this.mountChildren(g,a,c);d=h.join("")}}return Y[this._tag]&&"\n"===d.charAt(0)?"\n"+d:d},_createInitialChildren:function(a,b,c,d){var e=b.dangerouslySetInnerHTML;if(null!=e)null!=e.__html&&M(d,e.__html);else{var f=R[typeof b.children]?b.children:null,g=null!=f?null:b.children;if(null!=f)N(d,f);else if(null!=g)for(var h=this.mountChildren(g,a,c),i=0;i<h.length;i++)d.appendChild(h[i])}},receiveComponent:function(a,b,c){var d=this._currentElement;this._currentElement=a,this.updateComponent(b,d,a,c)},updateComponent:function(a,b,c,d){var e=b.props,f=this._currentElement.props;switch(this._tag){case"button":e=y.getNativeProps(this,e),f=y.getNativeProps(this,f);break;case"input":z.updateWrapper(this),e=z.getNativeProps(this,e),f=z.getNativeProps(this,f);break;case"option":e=A.getNativeProps(this,e),f=A.getNativeProps(this,f);break;case"select":e=B.getNativeProps(this,e),f=B.getNativeProps(this,f);break;case"textarea":C.updateWrapper(this),e=C.getNativeProps(this,e),f=C.getNativeProps(this,f)}i(this,f),this._updateDOMProperties(e,f,a,null),this._updateDOMChildren(e,f,a,d),!I&&this._nodeWithLegacyProperties&&(this._nodeWithLegacyProperties.props=f),"select"===this._tag&&a.getReactMountReady().enqueue(n,this)},_updateDOMProperties:function(a,b,c,d){var e,f,g;for(e in a)if(!b.hasOwnProperty(e)&&a.hasOwnProperty(e))if(e===T){var h=this._previousStyleCopy;for(f in h)h.hasOwnProperty(f)&&(g=g||{},g[f]="");this._previousStyleCopy=null}else Q.hasOwnProperty(e)?a[e]&&O(this._rootNodeID,e):(t.properties[e]||t.isCustomAttribute(e))&&(d||(d=D.getNode(this._rootNodeID)),u.deleteValueForProperty(d,e));for(e in b){var i=b[e],k=e===T?this._previousStyleCopy:a[e];if(b.hasOwnProperty(e)&&i!==k)if(e===T)if(i?i=this._previousStyleCopy=H({},i):this._previousStyleCopy=null,k){for(f in k)!k.hasOwnProperty(f)||i&&i.hasOwnProperty(f)||(g=g||{},g[f]="");for(f in i)i.hasOwnProperty(f)&&k[f]!==i[f]&&(g=g||{},g[f]=i[f])}else g=i;else Q.hasOwnProperty(e)?i?j(this._rootNodeID,e,i,c):k&&O(this._rootNodeID,e):p(this._tag,b)?(d||(d=D.getNode(this._rootNodeID)),e===S&&(i=null),u.setValueForAttribute(d,e,i)):(t.properties[e]||t.isCustomAttribute(e))&&(d||(d=D.getNode(this._rootNodeID)),null!=i?u.setValueForProperty(d,e,i):u.deleteValueForProperty(d,e))}g&&(d||(d=D.getNode(this._rootNodeID)),s.setValueForStyles(d,g))},_updateDOMChildren:function(a,b,c,d){var e=R[typeof a.children]?a.children:null,f=R[typeof b.children]?b.children:null,g=a.dangerouslySetInnerHTML&&a.dangerouslySetInnerHTML.__html,h=b.dangerouslySetInnerHTML&&b.dangerouslySetInnerHTML.__html,i=null!=e?null:a.children,j=null!=f?null:b.children,k=null!=e||null!=g,l=null!=f||null!=h;null!=i&&null==j?this.updateChildren(null,c,d):k&&!l&&this.updateTextContent(""),null!=f?e!==f&&this.updateTextContent(""+f):null!=h?g!==h&&this.updateMarkup(""+h):null!=j&&this.updateChildren(j,c,d)},unmountComponent:function(){switch(this._tag){case"iframe":case"img":case"form":case"video":case"audio":var a=this._wrapperState.listeners;if(a)for(var b=0;b<a.length;b++)a[b].remove();break;case"input":z.unmountWrapper(this);break;case"html":case"head":case"body":K(!1)}if(this.unmountChildren(),w.deleteAllListeners(this._rootNodeID),x.unmountIDFromEnvironment(this._rootNodeID),this._rootNodeID=null,this._wrapperState=null,this._nodeWithLegacyProperties){var c=this._nodeWithLegacyProperties;c._reactInternalComponent=null,this._nodeWithLegacyProperties=null}},getPublicInstance:function(){if(!this._nodeWithLegacyProperties){var a=D.getNode(this._rootNodeID);a._reactInternalComponent=this,a.getDOMNode=d,a.isMounted=e,a.setState=f,a.replaceState=f,a.forceUpdate=f,a.setProps=g,a.replaceProps=h,a.props=this._currentElement.props,this._nodeWithLegacyProperties=a}return this._nodeWithLegacyProperties}},F.measureMethods(q,"ReactDOMComponent",{mountComponent:"mountComponent",updateComponent:"updateComponent"}),H(q.prototype,q.Mixin,E.Mixin),c.exports=q}(a("6")),c.exports}),$__System.registerDynamic("b0",["10","6"],!0,function(a,b,c){return function(b){"use strict";function d(a){var b=a.length;if(Array.isArray(a)||"object"!=typeof a&&"function"!=typeof a?e(!1):void 0,"number"!=typeof b?e(!1):void 0,0===b||b-1 in a?void 0:e(!1),a.hasOwnProperty)try{return Array.prototype.slice.call(a)}catch(c){}for(var d=Array(b),f=0;b>f;f++)d[f]=a[f];return d}var e=a("10");c.exports=d}(a("6")),c.exports}),$__System.registerDynamic("b1",["b0"],!0,function(a,b,c){"use strict";function d(a){return!!a&&("object"==typeof a||"function"==typeof a)&&"length"in a&&!("setInterval"in a)&&"number"!=typeof a.nodeType&&(Array.isArray(a)||"callee"in a||"item"in a)}function e(a){return d(a)?Array.isArray(a)?a.slice():f(a):[a]}var f=a("b0");return c.exports=e,c.exports}),$__System.registerDynamic("b2",["12","b1","b3","10","6"],!0,function(a,b,c){return function(b){"use strict";function d(a){var b=a.match(k);return b&&b[1].toLowerCase()}function e(a,b){var c=j;j?void 0:i(!1);var e=d(a),f=e&&h(e);if(f){c.innerHTML=f[1]+a+f[2];for(var k=f[0];k--;)c=c.lastChild}else c.innerHTML=a;var l=c.getElementsByTagName("script");l.length&&(b?void 0:i(!1),g(l).forEach(b));for(var m=g(c.childNodes);c.lastChild;)c.removeChild(c.lastChild);return m}var f=a("12"),g=a("b1"),h=a("b3"),i=a("10"),j=f.canUseDOM?document.createElement("div"):null,k=/^\s*<(\w+)/;c.exports=e}(a("6")),c.exports}),$__System.registerDynamic("b3",["12","10","6"],!0,function(a,b,c){return function(b){"use strict";function d(a){return g?void 0:f(!1),m.hasOwnProperty(a)||(a="*"),h.hasOwnProperty(a)||("*"===a?g.innerHTML="<link />":g.innerHTML="<"+a+"></"+a+">",h[a]=!g.firstChild),h[a]?m[a]:null}var e=a("12"),f=a("10"),g=e.canUseDOM?document.createElement("div"):null,h={},i=[1,'<select multiple="true">',"</select>"],j=[1,"<table>","</table>"],k=[3,"<table><tbody><tr>","</tr></tbody></table>"],l=[1,'<svg xmlns="http://www.w3.org/2000/svg">',"</svg>"],m={"*":[1,"?<div>","</div>"],area:[1,"<map>","</map>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],legend:[1,"<fieldset>","</fieldset>"],param:[1,"<object>","</object>"],tr:[2,"<table><tbody>","</tbody></table>"],optgroup:i,option:i,caption:j,colgroup:j,tbody:j,tfoot:j,thead:j,td:k,th:k},n=["circle","clipPath","defs","ellipse","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","text","tspan"];n.forEach(function(a){m[a]=l,h[a]=!0}),c.exports=d}(a("6")),c.exports}),$__System.registerDynamic("b4",["12","b2","e","b3","10","6"],!0,function(a,b,c){return function(b){"use strict";function d(a){return a.substring(1,a.indexOf(" "))}var e=a("12"),f=a("b2"),g=a("e"),h=a("b3"),i=a("10"),j=/^(<[^ \/>]+)/,k="data-danger-index",l={dangerouslyRenderMarkup:function(a){e.canUseDOM?void 0:i(!1);for(var b,c={},l=0;l<a.length;l++)a[l]?void 0:i(!1),b=d(a[l]),b=h(b)?b:"*",c[b]=c[b]||[],c[b][l]=a[l];var m=[],n=0;for(b in c)if(c.hasOwnProperty(b)){var o,p=c[b];for(o in p)if(p.hasOwnProperty(o)){var q=p[o];p[o]=q.replace(j,"$1 "+k+'="'+o+'" ')}for(var r=f(p.join(""),g),s=0;s<r.length;++s){var t=r[s];t.hasAttribute&&t.hasAttribute(k)&&(o=+t.getAttribute(k),t.removeAttribute(k),m.hasOwnProperty(o)?i(!1):void 0,m[o]=t,n+=1)}}return n!==m.length?i(!1):void 0,m.length!==a.length?i(!1):void 0,m},dangerouslyReplaceNodeWithMarkup:function(a,b){e.canUseDOM?void 0:i(!1),b?void 0:i(!1),"html"===a.tagName.toLowerCase()?i(!1):void 0;var c;c="string"==typeof b?f(b,g)[0]:b,a.parentNode.replaceChild(c,a)}};c.exports=l}(a("6")),c.exports}),$__System.registerDynamic("a4",["b5"],!0,function(a,b,c){"use strict";var d=a("b5"),e=d({INSERT_MARKUP:null,MOVE_EXISTING:null,REMOVE_NODE:null,SET_MARKUP:null,TEXT_CONTENT:null});return c.exports=e,c.exports}),$__System.registerDynamic("b6",["b4","a4","6d","ac","ad","10","6"],!0,function(a,b,c){return function(b){"use strict";function d(a,b,c){var d=c>=a.childNodes.length?null:a.childNodes.item(c);a.insertBefore(b,d)}var e=a("b4"),f=a("a4"),g=a("6d"),h=a("ac"),i=a("ad"),j=a("10"),k={dangerouslyReplaceNodeWithMarkup:e.dangerouslyReplaceNodeWithMarkup,updateTextContent:i,processUpdates:function(a,b){for(var c,g=null,k=null,l=0;l<a.length;l++)if(c=a[l],c.type===f.MOVE_EXISTING||c.type===f.REMOVE_NODE){var m=c.fromIndex,n=c.parentNode.childNodes[m],o=c.parentID;n?void 0:j(!1),g=g||{},g[o]=g[o]||[],g[o][m]=n,k=k||[],k.push(n)}var p;if(p=b.length&&"string"==typeof b[0]?e.dangerouslyRenderMarkup(b):b,k)for(var q=0;q<k.length;q++)k[q].parentNode.removeChild(k[q]);for(var r=0;r<a.length;r++)switch(c=a[r],c.type){case f.INSERT_MARKUP:d(c.parentNode,p[c.markupIndex],c.toIndex);break;case f.MOVE_EXISTING:d(c.parentNode,g[c.parentID][c.fromIndex],c.toIndex);break;case f.SET_MARKUP:h(c.parentNode,c.content);break;case f.TEXT_CONTENT:i(c.parentNode,c.content);break;case f.REMOVE_NODE:}}};g.measureMethods(k,"DOMChildrenOperations",{updateTextContent:"updateTextContent"}),c.exports=k}(a("6")),c.exports}),$__System.registerDynamic("b7",["ab"],!0,function(a,b,c){"use strict";function d(a){return'"'+e(a)+'"'}var e=a("ab");return c.exports=d,c.exports}),$__System.registerDynamic("a6",["87","6d","b7","72","6"],!0,function(a,b,c){return function(b){"use strict";function d(a){return k.hasOwnProperty(a)?!0:j.hasOwnProperty(a)?!1:i.test(a)?(k[a]=!0,!0):(j[a]=!0,!1)}function e(a,b){return null==b||a.hasBooleanValue&&!b||a.hasNumericValue&&isNaN(b)||a.hasPositiveNumericValue&&1>b||a.hasOverloadedBooleanValue&&b===!1}var f=a("87"),g=a("6d"),h=a("b7"),i=(a("72"),/^[a-zA-Z_][\w\.\-]*$/),j={},k={},l={createMarkupForID:function(a){return f.ID_ATTRIBUTE_NAME+"="+h(a)},setAttributeForID:function(a,b){a.setAttribute(f.ID_ATTRIBUTE_NAME,b)},createMarkupForProperty:function(a,b){var c=f.properties.hasOwnProperty(a)?f.properties[a]:null;if(c){if(e(c,b))return"";var d=c.attributeName;return c.hasBooleanValue||c.hasOverloadedBooleanValue&&b===!0?d+'=""':d+"="+h(b)}return f.isCustomAttribute(a)?null==b?"":a+"="+h(b):null},createMarkupForCustomAttribute:function(a,b){return d(a)&&null!=b?a+"="+h(b):""},setValueForProperty:function(a,b,c){var d=f.properties.hasOwnProperty(b)?f.properties[b]:null;if(d){var g=d.mutationMethod;if(g)g(a,c);else if(e(d,c))this.deleteValueForProperty(a,b);else if(d.mustUseAttribute){var h=d.attributeName,i=d.attributeNamespace;i?a.setAttributeNS(i,h,""+c):d.hasBooleanValue||d.hasOverloadedBooleanValue&&c===!0?a.setAttribute(h,""):a.setAttribute(h,""+c)}else{var j=d.propertyName;d.hasSideEffects&&""+a[j]==""+c||(a[j]=c)}}else f.isCustomAttribute(b)&&l.setValueForAttribute(a,b,c)},setValueForAttribute:function(a,b,c){d(b)&&(null==c?a.removeAttribute(b):a.setAttribute(b,""+c))},deleteValueForProperty:function(a,b){var c=f.properties.hasOwnProperty(b)?f.properties[b]:null;if(c){var d=c.mutationMethod;if(d)d(a,void 0);else if(c.mustUseAttribute)a.removeAttribute(c.attributeName);else{var e=c.propertyName,g=f.getDefaultValueForProperty(a.nodeName,e);c.hasSideEffects&&""+a[e]===g||(a[e]=g)}}else f.isCustomAttribute(b)&&a.removeAttribute(b)}};g.measureMethods(l,"DOMPropertyOperations",{setValueForProperty:"setValueForProperty",setValueForAttribute:"setValueForAttribute",deleteValueForProperty:"deleteValueForProperty"}),c.exports=l}(a("6")),c.exports}),$__System.registerDynamic("96",["b6","a6","68","6d","10","6"],!0,function(a,b,c){return function(b){"use strict";var d=a("b6"),e=a("a6"),f=a("68"),g=a("6d"),h=a("10"),i={dangerouslySetInnerHTML:"`dangerouslySetInnerHTML` must be set using `updateInnerHTMLByID()`.",style:"`style` must be set using `updateStylesByID()`."},j={updatePropertyByID:function(a,b,c){var d=f.getNode(a);i.hasOwnProperty(b)?h(!1):void 0,null!=c?e.setValueForProperty(d,b,c):e.deleteValueForProperty(d,b)},dangerouslyReplaceNodeWithMarkupByID:function(a,b){var c=f.getNode(a);d.dangerouslyReplaceNodeWithMarkup(c,b)},dangerouslyProcessChildrenUpdates:function(a,b){for(var c=0;c<a.length;c++)a[c].parentNode=f.getNode(a[c].parentID);d.processUpdates(a,b)}};g.measureMethods(j,"ReactDOMIDOperations",{dangerouslyReplaceNodeWithMarkupByID:"dangerouslyReplaceNodeWithMarkupByID",dangerouslyProcessChildrenUpdates:"dangerouslyProcessChildrenUpdates"}),c.exports=j}(a("6")),c.exports}),$__System.registerDynamic("a8",["96","68","6"],!0,function(a,b,c){return function(b){"use strict";var d=a("96"),e=a("68"),f={processChildrenUpdates:d.dangerouslyProcessChildrenUpdates,replaceNodeWithMarkupByID:d.dangerouslyReplaceNodeWithMarkupByID,unmountIDFromEnvironment:function(a){e.purgeID(a)}};c.exports=f}(a("6")),c.exports}),$__System.registerDynamic("ab",[],!0,function(a,b,c){"use strict";function d(a){return f[a]}function e(a){return(""+a).replace(g,d)}var f={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},g=/[&><"']/g;return c.exports=e,c.exports}),$__System.registerDynamic("ad",["12","ab","ac"],!0,function(a,b,c){"use strict";var d=a("12"),e=a("ab"),f=a("ac"),g=function(a,b){a.textContent=b};return d.canUseDOM&&("textContent"in document.documentElement||(g=function(a,b){f(a,e(b))})),c.exports=g,c.exports}),$__System.registerDynamic("6a",["b6","a6","a8","68","d","ab","ad","ae","6"],!0,function(a,b,c){return function(b){"use strict";var d=a("b6"),e=a("a6"),f=a("a8"),g=a("68"),h=a("d"),i=a("ab"),j=a("ad"),k=(a("ae"),function(a){});h(k.prototype,{construct:function(a){this._currentElement=a,this._stringText=""+a,this._rootNodeID=null,this._mountIndex=0},mountComponent:function(a,b,c){if(this._rootNodeID=a,b.useCreateElement){var d=c[g.ownerDocumentContextKey],f=d.createElement("span");return e.setAttributeForID(f,a),g.getID(f),j(f,this._stringText),f}var h=i(this._stringText);return b.renderToStaticMarkup?h:"<span "+e.createMarkupForID(a)+">"+h+"</span>"},receiveComponent:function(a,b){if(a!==this._currentElement){this._currentElement=a;var c=""+a;if(c!==this._stringText){this._stringText=c;var e=g.getNode(this._rootNodeID);d.updateTextContent(e,c)}}},unmountComponent:function(){f.unmountIDFromEnvironment(this._rootNodeID)}}),c.exports=k}(a("6")),c.exports}),$__System.registerDynamic("b8",[],!0,function(a,b,c){"use strict";function d(a){return a===window?{x:window.pageXOffset||document.documentElement.scrollLeft,y:window.pageYOffset||document.documentElement.scrollTop}:{x:a.scrollLeft,y:a.scrollTop}}return c.exports=d,c.exports}),$__System.registerDynamic("b9",["ba","12","74","6c","68","6f","d","7f","b8","6"],!0,function(a,b,c){return function(b){"use strict";function d(a){var b=m.getID(a),c=l.getReactRootIDFromNodeID(b),d=m.findReactContainerForID(c),e=m.getFirstReactDOM(d);return e}function e(a,b){this.topLevelType=a,this.nativeEvent=b,this.ancestors=[]}function f(a){g(a)}function g(a){for(var b=m.getFirstReactDOM(p(a.nativeEvent))||window,c=b;c;)a.ancestors.push(c),c=d(c);for(var e=0;e<a.ancestors.length;e++){b=a.ancestors[e];var f=m.getID(b)||"";r._handleTopLevel(a.topLevelType,b,f,a.nativeEvent,p(a.nativeEvent))}}function h(a){var b=q(window);a(b)}var i=a("ba"),j=a("12"),k=a("74"),l=a("6c"),m=a("68"),n=a("6f"),o=a("d"),p=a("7f"),q=a("b8");o(e.prototype,{destructor:function(){this.topLevelType=null,this.nativeEvent=null,this.ancestors.length=0}}),k.addPoolingTo(e,k.twoArgumentPooler);var r={_enabled:!0,_handleTopLevel:null,WINDOW_HANDLE:j.canUseDOM?window:null,setHandleTopLevel:function(a){r._handleTopLevel=a},setEnabled:function(a){r._enabled=!!a},isEnabled:function(){return r._enabled},trapBubbledEvent:function(a,b,c){var d=c;return d?i.listen(d,b,r.dispatchEvent.bind(null,a)):null},trapCapturedEvent:function(a,b,c){var d=c;return d?i.capture(d,b,r.dispatchEvent.bind(null,a)):null},monitorScrollValue:function(a){var b=h.bind(null,a);i.listen(window,"scroll",b)},dispatchEvent:function(a,b){if(r._enabled){var c=e.getPooled(a,b);try{n.batchedUpdates(f,c)}finally{e.release(c)}}}};c.exports=r}(a("6")),c.exports}),$__System.registerDynamic("bb",["87","7e","a3","bc","bd","a7","be","6d","bf","6f"],!0,function(a,b,c){"use strict";var d=a("87"),e=a("7e"),f=a("a3"),g=a("bc"),h=a("bd"),i=a("a7"),j=a("be"),k=a("6d"),l=a("bf"),m=a("6f"),n={Component:f.injection,Class:g.injection,DOMProperty:d.injection,EmptyComponent:h.injection,EventPluginHub:e.injection,EventEmitter:i.injection,NativeComponent:j.injection,Perf:k.injection,RootIndex:l.injection,Updates:m.injection};return c.exports=n,c.exports}),$__System.registerDynamic("c0",["c1","74","a7","c2","c3","c4","d"],!0,function(a,b,c){"use strict";function d(a){this.reinitializeTransaction(),this.renderToStaticMarkup=!1,this.reactMountReady=e.getPooled(null),this.useCreateElement=!a&&h.useCreateElement}var e=a("c1"),f=a("74"),g=a("a7"),h=a("c2"),i=a("c3"),j=a("c4"),k=a("d"),l={initialize:i.getSelectionInformation,close:i.restoreSelection},m={initialize:function(){var a=g.isEnabled();return g.setEnabled(!1),a},close:function(a){g.setEnabled(a)}},n={initialize:function(){this.reactMountReady.reset()},close:function(){this.reactMountReady.notifyAll()}},o=[l,m,n],p={getTransactionWrappers:function(){return o},getReactMountReady:function(){return this.reactMountReady},destructor:function(){e.release(this.reactMountReady),this.reactMountReady=null}};return k(d.prototype,j.Mixin,p),f.addPoolingTo(d),c.exports=d,c.exports}),$__System.registerDynamic("c5",[],!0,function(a,b,c){"use strict";function d(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function e(a){for(;a;){if(a.nextSibling)return a.nextSibling;a=a.parentNode}}function f(a,b){for(var c=d(a),f=0,g=0;c;){if(3===c.nodeType){if(g=f+c.textContent.length,b>=f&&g>=b)return{node:c,offset:b-f};f=g}c=d(e(c))}}return c.exports=f,c.exports}),$__System.registerDynamic("75",["12"],!0,function(a,b,c){"use strict";function d(){return!f&&e.canUseDOM&&(f="textContent"in document.documentElement?"textContent":"innerText"),f}var e=a("12"),f=null;return c.exports=d,c.exports}),$__System.registerDynamic("c6",["12","c5","75"],!0,function(a,b,c){"use strict";function d(a,b,c,d){return a===c&&b===d}function e(a){var b=document.selection,c=b.createRange(),d=c.text.length,e=c.duplicate();e.moveToElementText(a),e.setEndPoint("EndToStart",c);var f=e.text.length,g=f+d;return{start:f,end:g}}function f(a){var b=window.getSelection&&window.getSelection();if(!b||0===b.rangeCount)return null;var c=b.anchorNode,e=b.anchorOffset,f=b.focusNode,g=b.focusOffset,h=b.getRangeAt(0);try{h.startContainer.nodeType,h.endContainer.nodeType}catch(i){return null}var j=d(b.anchorNode,b.anchorOffset,b.focusNode,b.focusOffset),k=j?0:h.toString().length,l=h.cloneRange();l.selectNodeContents(a),l.setEnd(h.startContainer,h.startOffset);var m=d(l.startContainer,l.startOffset,l.endContainer,l.endOffset),n=m?0:l.toString().length,o=n+k,p=document.createRange();p.setStart(c,e),p.setEnd(f,g);var q=p.collapsed;return{start:q?o:n,end:q?n:o}}function g(a,b){var c,d,e=document.selection.createRange().duplicate();"undefined"==typeof b.end?(c=b.start,d=c):b.start>b.end?(c=b.end,d=b.start):(c=b.start,d=b.end),e.moveToElementText(a),e.moveStart("character",c),e.setEndPoint("EndToStart",e),e.moveEnd("character",d-c),e.select()}function h(a,b){if(window.getSelection){var c=window.getSelection(),d=a[k()].length,e=Math.min(b.start,d),f="undefined"==typeof b.end?e:Math.min(b.end,d);if(!c.extend&&e>f){var g=f;f=e,e=g}var h=j(a,e),i=j(a,f);if(h&&i){var l=document.createRange();l.setStart(h.node,h.offset),c.removeAllRanges(),e>f?(c.addRange(l),c.extend(i.node,i.offset)):(l.setEnd(i.node,i.offset),c.addRange(l))}}}var i=a("12"),j=a("c5"),k=a("75"),l=i.canUseDOM&&"selection"in document&&!("getSelection"in window),m={getOffsets:l?e:f,setOffsets:l?g:h};return c.exports=m,c.exports}),$__System.registerDynamic("8b",[],!0,function(a,b,c){"use strict";function d(a){try{a.focus()}catch(b){}}return c.exports=d,c.exports}),$__System.registerDynamic("c3",["c6","c7","8b","c8"],!0,function(a,b,c){"use strict";function d(a){return f(document.documentElement,a)}var e=a("c6"),f=a("c7"),g=a("8b"),h=a("c8"),i={hasSelectionCapabilities:function(a){var b=a&&a.nodeName&&a.nodeName.toLowerCase();return b&&("input"===b&&"text"===a.type||"textarea"===b||"true"===a.contentEditable)},getSelectionInformation:function(){var a=h();return{focusedElem:a,selectionRange:i.hasSelectionCapabilities(a)?i.getSelection(a):null}},restoreSelection:function(a){var b=h(),c=a.focusedElem,e=a.selectionRange;b!==c&&d(c)&&(i.hasSelectionCapabilities(c)&&i.setSelection(c,e),g(c))},getSelection:function(a){var b;if("selectionStart"in a)b={start:a.selectionStart,end:a.selectionEnd};else if(document.selection&&a.nodeName&&"input"===a.nodeName.toLowerCase()){var c=document.selection.createRange();c.parentElement()===a&&(b={start:-c.moveStart("character",-a.value.length),end:-c.moveEnd("character",-a.value.length)})}else b=e.getOffsets(a);return b||{start:0,end:0}},setSelection:function(a,b){var c=b.start,d=b.end;if("undefined"==typeof d&&(d=c),"selectionStart"in a)a.selectionStart=c,a.selectionEnd=Math.min(d,a.value.length);else if(document.selection&&a.nodeName&&"input"===a.nodeName.toLowerCase()){var f=a.createTextRange();f.collapse(!0),f.moveStart("character",c),f.moveEnd("character",d-c),f.select()}else e.setOffsets(a,b)}};return c.exports=i,c.exports}),$__System.registerDynamic("c8",[],!0,function(a,b,c){"use strict";function d(){if("undefined"==typeof document)return null;try{return document.activeElement||document.body}catch(a){return document.body}}return c.exports=d,c.exports}),$__System.registerDynamic("81",[],!0,function(a,b,c){"use strict";function d(a){var b=a&&a.nodeName&&a.nodeName.toLowerCase();return b&&("input"===b&&e[a.type]||"textarea"===b)}var e={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};return c.exports=d,c.exports}),$__System.registerDynamic("af",[],!0,function(a,b,c){"use strict";function d(a,b){if(a===b)return!0;if("object"!=typeof a||null===a||"object"!=typeof b||null===b)return!1;var c=Object.keys(a),d=Object.keys(b);if(c.length!==d.length)return!1;for(var f=e.bind(b),g=0;g<c.length;g++)if(!f(c[g])||a[c[g]]!==b[c[g]])return!1;return!0}var e=Object.prototype.hasOwnProperty;return c.exports=d,c.exports}),$__System.registerDynamic("c9",["7a","7b","12","c3","77","c8","81","7c","af"],!0,function(a,b,c){"use strict";function d(a){if("selectionStart"in a&&i.hasSelectionCapabilities(a))return{start:a.selectionStart,end:a.selectionEnd};if(window.getSelection){var b=window.getSelection();return{anchorNode:b.anchorNode,anchorOffset:b.anchorOffset,focusNode:b.focusNode,focusOffset:b.focusOffset}}if(document.selection){var c=document.selection.createRange();return{parentElement:c.parentElement(),text:c.text,top:c.boundingTop,left:c.boundingLeft}}}function e(a,b){if(u||null==r||r!==k())return null;var c=d(r);if(!t||!n(t,c)){t=c;var e=j.getPooled(q.select,s,a,b);return e.type="select",e.target=r,g.accumulateTwoPhaseDispatches(e),e}return null}var f=a("7a"),g=a("7b"),h=a("12"),i=a("c3"),j=a("77"),k=a("c8"),l=a("81"),m=a("7c"),n=a("af"),o=f.topLevelTypes,p=h.canUseDOM&&"documentMode"in document&&document.documentMode<=11,q={select:{phasedRegistrationNames:{bubbled:m({onSelect:null}),captured:m({onSelectCapture:null})},dependencies:[o.topBlur,o.topContextMenu,o.topFocus,o.topKeyDown,o.topMouseDown,o.topMouseUp,o.topSelectionChange]}},r=null,s=null,t=null,u=!1,v=!1,w=m({onSelect:null}),x={eventTypes:q,extractEvents:function(a,b,c,d,f){if(!v)return null;switch(a){case o.topFocus:(l(b)||"true"===b.contentEditable)&&(r=b,s=c,t=null);break;case o.topBlur:r=null,s=null,t=null;break;case o.topMouseDown:u=!0;break;case o.topContextMenu:case o.topMouseUp:return u=!1,e(d,f);case o.topSelectionChange:if(p)break;case o.topKeyDown:case o.topKeyUp:return e(d,f)}return null},didPutListener:function(a,b,c){b===w&&(v=!0)}};return c.exports=x,c.exports}),$__System.registerDynamic("ca",[],!0,function(a,b,c){"use strict";var d=Math.pow(2,53),e={createReactRootIndex:function(){return Math.ceil(Math.random()*d)}};return c.exports=e,c.exports}),$__System.registerDynamic("ba",["e","6"],!0,function(a,b,c){return function(b){"use strict";var d=a("e"),e={listen:function(a,b,c){return a.addEventListener?(a.addEventListener(b,c,!1),{remove:function(){a.removeEventListener(b,c,!1)}}):a.attachEvent?(a.attachEvent("on"+b,c),{remove:function(){a.detachEvent("on"+b,c)}}):void 0},capture:function(a,b,c){return a.addEventListener?(a.addEventListener(b,c,!0),{remove:function(){a.removeEventListener(b,c,!0)}}):{remove:d}},registerDefault:function(){}};c.exports=e}(a("6")),c.exports}),$__System.registerDynamic("7b",["7a","7e","72","cb","cc","6"],!0,function(a,b,c){return function(b){"use strict";function d(a,b,c){var d=b.dispatchConfig.phasedRegistrationNames[c];return s(a,d)}function e(a,b,c){var e=b?r.bubbled:r.captured,f=d(a,c,e);f&&(c._dispatchListeners=p(c._dispatchListeners,f),c._dispatchIDs=p(c._dispatchIDs,a))}function f(a){a&&a.dispatchConfig.phasedRegistrationNames&&o.injection.getInstanceHandle().traverseTwoPhase(a.dispatchMarker,e,a)}function g(a){a&&a.dispatchConfig.phasedRegistrationNames&&o.injection.getInstanceHandle().traverseTwoPhaseSkipTarget(a.dispatchMarker,e,a)}function h(a,b,c){if(c&&c.dispatchConfig.registrationName){var d=c.dispatchConfig.registrationName,e=s(a,d);e&&(c._dispatchListeners=p(c._dispatchListeners,e),c._dispatchIDs=p(c._dispatchIDs,a))}}function i(a){a&&a.dispatchConfig.registrationName&&h(a.dispatchMarker,null,a)}function j(a){q(a,f)}function k(a){q(a,g)}function l(a,b,c,d){o.injection.getInstanceHandle().traverseEnterLeave(c,d,h,a,b)}function m(a){q(a,i)}var n=a("7a"),o=a("7e"),p=(a("72"),a("cb")),q=a("cc"),r=n.PropagationPhases,s=o.getListener,t={accumulateTwoPhaseDispatches:j,accumulateTwoPhaseDispatchesSkipTarget:k,accumulateDirectDispatches:m,accumulateEnterLeaveDispatches:l};c.exports=t}(a("6")),c.exports}),$__System.registerDynamic("cd",["77"],!0,function(a,b,c){"use strict";function d(a,b,c,d){e.call(this,a,b,c,d)}var e=a("77"),f={clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}};return e.augmentClass(d,f),c.exports=d,c.exports}),$__System.registerDynamic("ce",["cf"],!0,function(a,b,c){"use strict";function d(a,b,c,d){e.call(this,a,b,c,d)}var e=a("cf"),f={relatedTarget:null};return e.augmentClass(d,f),c.exports=d,c.exports}),$__System.registerDynamic("d0",["d1"],!0,function(a,b,c){"use strict";function d(a){if(a.key){var b=f[a.key]||a.key;if("Unidentified"!==b)return b}if("keypress"===a.type){var c=e(a);return 13===c?"Enter":String.fromCharCode(c)}return"keydown"===a.type||"keyup"===a.type?g[a.keyCode]||"Unidentified":""}var e=a("d1"),f={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},g={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};return c.exports=d,c.exports}),$__System.registerDynamic("d2",["cf","d1","d0","d3"],!0,function(a,b,c){"use strict";function d(a,b,c,d){e.call(this,a,b,c,d)}var e=a("cf"),f=a("d1"),g=a("d0"),h=a("d3"),i={key:g,location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:h,charCode:function(a){return"keypress"===a.type?f(a):0},keyCode:function(a){return"keydown"===a.type||"keyup"===a.type?a.keyCode:0},which:function(a){return"keypress"===a.type?f(a):"keydown"===a.type||"keyup"===a.type?a.keyCode:0}};return e.augmentClass(d,i),c.exports=d,c.exports}),$__System.registerDynamic("d4",["85"],!0,function(a,b,c){"use strict";function d(a,b,c,d){e.call(this,a,b,c,d)}var e=a("85"),f={dataTransfer:null};return e.augmentClass(d,f),c.exports=d,c.exports}),$__System.registerDynamic("d5",["cf","d3"],!0,function(a,b,c){"use strict";function d(a,b,c,d){e.call(this,a,b,c,d)}var e=a("cf"),f=a("d3"),g={touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:f};return e.augmentClass(d,g),c.exports=d,c.exports}),$__System.registerDynamic("77",["74","d","e","72","6"],!0,function(a,b,c){return function(b){"use strict";function d(a,b,c,d){this.dispatchConfig=a,this.dispatchMarker=b,this.nativeEvent=c;var e=this.constructor.Interface;for(var f in e)if(e.hasOwnProperty(f)){var h=e[f];h?this[f]=h(c):"target"===f?this.target=d:this[f]=c[f]}var i=null!=c.defaultPrevented?c.defaultPrevented:c.returnValue===!1;i?this.isDefaultPrevented=g.thatReturnsTrue:this.isDefaultPrevented=g.thatReturnsFalse,this.isPropagationStopped=g.thatReturnsFalse}var e=a("74"),f=a("d"),g=a("e"),h=(a("72"),{type:null,target:null,currentTarget:g.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null});f(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():a.returnValue=!1,this.isDefaultPrevented=g.thatReturnsTrue)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():a.cancelBubble=!0,this.isPropagationStopped=g.thatReturnsTrue)},persist:function(){this.isPersistent=g.thatReturnsTrue},isPersistent:g.thatReturnsFalse,destructor:function(){var a=this.constructor.Interface;for(var b in a)this[b]=null;this.dispatchConfig=null,this.dispatchMarker=null,this.nativeEvent=null}}),d.Interface=h,d.augmentClass=function(a,b){var c=this,d=Object.create(c.prototype);f(d,a.prototype),a.prototype=d,a.prototype.constructor=a,a.Interface=f({},c.Interface,b),a.augmentClass=c.augmentClass,e.addPoolingTo(a,e.fourArgumentPooler)},e.addPoolingTo(d,e.fourArgumentPooler),c.exports=d}(a("6")),c.exports}),$__System.registerDynamic("7f",[],!0,function(a,b,c){"use strict";function d(a){var b=a.target||a.srcElement||window;return 3===b.nodeType?b.parentNode:b}return c.exports=d,c.exports}),$__System.registerDynamic("cf",["77","7f"],!0,function(a,b,c){"use strict";function d(a,b,c,d){e.call(this,a,b,c,d)}var e=a("77"),f=a("7f"),g={view:function(a){if(a.view)return a.view;var b=f(a);if(null!=b&&b.window===b)return b;var c=b.ownerDocument;return c?c.defaultView||c.parentWindow:window},detail:function(a){return a.detail||0}};return e.augmentClass(d,g),c.exports=d,c.exports}),$__System.registerDynamic("d3",[],!0,function(a,b,c){"use strict";function d(a){var b=this,c=b.nativeEvent;if(c.getModifierState)return c.getModifierState(a);var d=f[a];return d?!!c[d]:!1}function e(a){return d}var f={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};return c.exports=e,c.exports}),$__System.registerDynamic("85",["cf","d6","d3"],!0,function(a,b,c){"use strict";function d(a,b,c,d){e.call(this,a,b,c,d)}var e=a("cf"),f=a("d6"),g=a("d3"),h={screenX:null,screenY:null,clientX:null,clientY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:g,button:function(a){var b=a.button;return"which"in a?b:2===b?2:4===b?1:0},buttons:null,relatedTarget:function(a){
return a.relatedTarget||(a.fromElement===a.srcElement?a.toElement:a.fromElement)},pageX:function(a){return"pageX"in a?a.pageX:a.clientX+f.currentScrollLeft},pageY:function(a){return"pageY"in a?a.pageY:a.clientY+f.currentScrollTop}};return e.augmentClass(d,h),c.exports=d,c.exports}),$__System.registerDynamic("d7",["85"],!0,function(a,b,c){"use strict";function d(a,b,c,d){e.call(this,a,b,c,d)}var e=a("85"),f={deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:null,deltaMode:null};return e.augmentClass(d,f),c.exports=d,c.exports}),$__System.registerDynamic("d1",[],!0,function(a,b,c){"use strict";function d(a){var b,c=a.keyCode;return"charCode"in a?(b=a.charCode,0===b&&13===c&&(b=13)):b=c,b>=32||13===b?b:0}return c.exports=d,c.exports}),$__System.registerDynamic("d8",["7a","ba","7b","68","cd","77","ce","d2","85","d4","d5","cf","d7","e","d1","10","7c","6"],!0,function(a,b,c){return function(b){"use strict";var d=a("7a"),e=a("ba"),f=a("7b"),g=a("68"),h=a("cd"),i=a("77"),j=a("ce"),k=a("d2"),l=a("85"),m=a("d4"),n=a("d5"),o=a("cf"),p=a("d7"),q=a("e"),r=a("d1"),s=a("10"),t=a("7c"),u=d.topLevelTypes,v={abort:{phasedRegistrationNames:{bubbled:t({onAbort:!0}),captured:t({onAbortCapture:!0})}},blur:{phasedRegistrationNames:{bubbled:t({onBlur:!0}),captured:t({onBlurCapture:!0})}},canPlay:{phasedRegistrationNames:{bubbled:t({onCanPlay:!0}),captured:t({onCanPlayCapture:!0})}},canPlayThrough:{phasedRegistrationNames:{bubbled:t({onCanPlayThrough:!0}),captured:t({onCanPlayThroughCapture:!0})}},click:{phasedRegistrationNames:{bubbled:t({onClick:!0}),captured:t({onClickCapture:!0})}},contextMenu:{phasedRegistrationNames:{bubbled:t({onContextMenu:!0}),captured:t({onContextMenuCapture:!0})}},copy:{phasedRegistrationNames:{bubbled:t({onCopy:!0}),captured:t({onCopyCapture:!0})}},cut:{phasedRegistrationNames:{bubbled:t({onCut:!0}),captured:t({onCutCapture:!0})}},doubleClick:{phasedRegistrationNames:{bubbled:t({onDoubleClick:!0}),captured:t({onDoubleClickCapture:!0})}},drag:{phasedRegistrationNames:{bubbled:t({onDrag:!0}),captured:t({onDragCapture:!0})}},dragEnd:{phasedRegistrationNames:{bubbled:t({onDragEnd:!0}),captured:t({onDragEndCapture:!0})}},dragEnter:{phasedRegistrationNames:{bubbled:t({onDragEnter:!0}),captured:t({onDragEnterCapture:!0})}},dragExit:{phasedRegistrationNames:{bubbled:t({onDragExit:!0}),captured:t({onDragExitCapture:!0})}},dragLeave:{phasedRegistrationNames:{bubbled:t({onDragLeave:!0}),captured:t({onDragLeaveCapture:!0})}},dragOver:{phasedRegistrationNames:{bubbled:t({onDragOver:!0}),captured:t({onDragOverCapture:!0})}},dragStart:{phasedRegistrationNames:{bubbled:t({onDragStart:!0}),captured:t({onDragStartCapture:!0})}},drop:{phasedRegistrationNames:{bubbled:t({onDrop:!0}),captured:t({onDropCapture:!0})}},durationChange:{phasedRegistrationNames:{bubbled:t({onDurationChange:!0}),captured:t({onDurationChangeCapture:!0})}},emptied:{phasedRegistrationNames:{bubbled:t({onEmptied:!0}),captured:t({onEmptiedCapture:!0})}},encrypted:{phasedRegistrationNames:{bubbled:t({onEncrypted:!0}),captured:t({onEncryptedCapture:!0})}},ended:{phasedRegistrationNames:{bubbled:t({onEnded:!0}),captured:t({onEndedCapture:!0})}},error:{phasedRegistrationNames:{bubbled:t({onError:!0}),captured:t({onErrorCapture:!0})}},focus:{phasedRegistrationNames:{bubbled:t({onFocus:!0}),captured:t({onFocusCapture:!0})}},input:{phasedRegistrationNames:{bubbled:t({onInput:!0}),captured:t({onInputCapture:!0})}},keyDown:{phasedRegistrationNames:{bubbled:t({onKeyDown:!0}),captured:t({onKeyDownCapture:!0})}},keyPress:{phasedRegistrationNames:{bubbled:t({onKeyPress:!0}),captured:t({onKeyPressCapture:!0})}},keyUp:{phasedRegistrationNames:{bubbled:t({onKeyUp:!0}),captured:t({onKeyUpCapture:!0})}},load:{phasedRegistrationNames:{bubbled:t({onLoad:!0}),captured:t({onLoadCapture:!0})}},loadedData:{phasedRegistrationNames:{bubbled:t({onLoadedData:!0}),captured:t({onLoadedDataCapture:!0})}},loadedMetadata:{phasedRegistrationNames:{bubbled:t({onLoadedMetadata:!0}),captured:t({onLoadedMetadataCapture:!0})}},loadStart:{phasedRegistrationNames:{bubbled:t({onLoadStart:!0}),captured:t({onLoadStartCapture:!0})}},mouseDown:{phasedRegistrationNames:{bubbled:t({onMouseDown:!0}),captured:t({onMouseDownCapture:!0})}},mouseMove:{phasedRegistrationNames:{bubbled:t({onMouseMove:!0}),captured:t({onMouseMoveCapture:!0})}},mouseOut:{phasedRegistrationNames:{bubbled:t({onMouseOut:!0}),captured:t({onMouseOutCapture:!0})}},mouseOver:{phasedRegistrationNames:{bubbled:t({onMouseOver:!0}),captured:t({onMouseOverCapture:!0})}},mouseUp:{phasedRegistrationNames:{bubbled:t({onMouseUp:!0}),captured:t({onMouseUpCapture:!0})}},paste:{phasedRegistrationNames:{bubbled:t({onPaste:!0}),captured:t({onPasteCapture:!0})}},pause:{phasedRegistrationNames:{bubbled:t({onPause:!0}),captured:t({onPauseCapture:!0})}},play:{phasedRegistrationNames:{bubbled:t({onPlay:!0}),captured:t({onPlayCapture:!0})}},playing:{phasedRegistrationNames:{bubbled:t({onPlaying:!0}),captured:t({onPlayingCapture:!0})}},progress:{phasedRegistrationNames:{bubbled:t({onProgress:!0}),captured:t({onProgressCapture:!0})}},rateChange:{phasedRegistrationNames:{bubbled:t({onRateChange:!0}),captured:t({onRateChangeCapture:!0})}},reset:{phasedRegistrationNames:{bubbled:t({onReset:!0}),captured:t({onResetCapture:!0})}},scroll:{phasedRegistrationNames:{bubbled:t({onScroll:!0}),captured:t({onScrollCapture:!0})}},seeked:{phasedRegistrationNames:{bubbled:t({onSeeked:!0}),captured:t({onSeekedCapture:!0})}},seeking:{phasedRegistrationNames:{bubbled:t({onSeeking:!0}),captured:t({onSeekingCapture:!0})}},stalled:{phasedRegistrationNames:{bubbled:t({onStalled:!0}),captured:t({onStalledCapture:!0})}},submit:{phasedRegistrationNames:{bubbled:t({onSubmit:!0}),captured:t({onSubmitCapture:!0})}},suspend:{phasedRegistrationNames:{bubbled:t({onSuspend:!0}),captured:t({onSuspendCapture:!0})}},timeUpdate:{phasedRegistrationNames:{bubbled:t({onTimeUpdate:!0}),captured:t({onTimeUpdateCapture:!0})}},touchCancel:{phasedRegistrationNames:{bubbled:t({onTouchCancel:!0}),captured:t({onTouchCancelCapture:!0})}},touchEnd:{phasedRegistrationNames:{bubbled:t({onTouchEnd:!0}),captured:t({onTouchEndCapture:!0})}},touchMove:{phasedRegistrationNames:{bubbled:t({onTouchMove:!0}),captured:t({onTouchMoveCapture:!0})}},touchStart:{phasedRegistrationNames:{bubbled:t({onTouchStart:!0}),captured:t({onTouchStartCapture:!0})}},volumeChange:{phasedRegistrationNames:{bubbled:t({onVolumeChange:!0}),captured:t({onVolumeChangeCapture:!0})}},waiting:{phasedRegistrationNames:{bubbled:t({onWaiting:!0}),captured:t({onWaitingCapture:!0})}},wheel:{phasedRegistrationNames:{bubbled:t({onWheel:!0}),captured:t({onWheelCapture:!0})}}},w={topAbort:v.abort,topBlur:v.blur,topCanPlay:v.canPlay,topCanPlayThrough:v.canPlayThrough,topClick:v.click,topContextMenu:v.contextMenu,topCopy:v.copy,topCut:v.cut,topDoubleClick:v.doubleClick,topDrag:v.drag,topDragEnd:v.dragEnd,topDragEnter:v.dragEnter,topDragExit:v.dragExit,topDragLeave:v.dragLeave,topDragOver:v.dragOver,topDragStart:v.dragStart,topDrop:v.drop,topDurationChange:v.durationChange,topEmptied:v.emptied,topEncrypted:v.encrypted,topEnded:v.ended,topError:v.error,topFocus:v.focus,topInput:v.input,topKeyDown:v.keyDown,topKeyPress:v.keyPress,topKeyUp:v.keyUp,topLoad:v.load,topLoadedData:v.loadedData,topLoadedMetadata:v.loadedMetadata,topLoadStart:v.loadStart,topMouseDown:v.mouseDown,topMouseMove:v.mouseMove,topMouseOut:v.mouseOut,topMouseOver:v.mouseOver,topMouseUp:v.mouseUp,topPaste:v.paste,topPause:v.pause,topPlay:v.play,topPlaying:v.playing,topProgress:v.progress,topRateChange:v.rateChange,topReset:v.reset,topScroll:v.scroll,topSeeked:v.seeked,topSeeking:v.seeking,topStalled:v.stalled,topSubmit:v.submit,topSuspend:v.suspend,topTimeUpdate:v.timeUpdate,topTouchCancel:v.touchCancel,topTouchEnd:v.touchEnd,topTouchMove:v.touchMove,topTouchStart:v.touchStart,topVolumeChange:v.volumeChange,topWaiting:v.waiting,topWheel:v.wheel};for(var x in w)w[x].dependencies=[x];var y=t({onClick:null}),z={},A={eventTypes:v,extractEvents:function(a,b,c,d,e){var g=w[a];if(!g)return null;var q;switch(a){case u.topAbort:case u.topCanPlay:case u.topCanPlayThrough:case u.topDurationChange:case u.topEmptied:case u.topEncrypted:case u.topEnded:case u.topError:case u.topInput:case u.topLoad:case u.topLoadedData:case u.topLoadedMetadata:case u.topLoadStart:case u.topPause:case u.topPlay:case u.topPlaying:case u.topProgress:case u.topRateChange:case u.topReset:case u.topSeeked:case u.topSeeking:case u.topStalled:case u.topSubmit:case u.topSuspend:case u.topTimeUpdate:case u.topVolumeChange:case u.topWaiting:q=i;break;case u.topKeyPress:if(0===r(d))return null;case u.topKeyDown:case u.topKeyUp:q=k;break;case u.topBlur:case u.topFocus:q=j;break;case u.topClick:if(2===d.button)return null;case u.topContextMenu:case u.topDoubleClick:case u.topMouseDown:case u.topMouseMove:case u.topMouseOut:case u.topMouseOver:case u.topMouseUp:q=l;break;case u.topDrag:case u.topDragEnd:case u.topDragEnter:case u.topDragExit:case u.topDragLeave:case u.topDragOver:case u.topDragStart:case u.topDrop:q=m;break;case u.topTouchCancel:case u.topTouchEnd:case u.topTouchMove:case u.topTouchStart:q=n;break;case u.topScroll:q=o;break;case u.topWheel:q=p;break;case u.topCopy:case u.topCut:case u.topPaste:q=h}q?void 0:s(!1);var t=q.getPooled(g,c,d,e);return f.accumulateTwoPhaseDispatches(t),t},didPutListener:function(a,b,c){if(b===y){var d=g.getNode(a);z[a]||(z[a]=e.listen(d,"click",q))}},willDeleteListener:function(a,b){b===y&&(z[a].remove(),delete z[a])}};c.exports=A}(a("6")),c.exports}),$__System.registerDynamic("d9",["87"],!0,function(a,b,c){"use strict";var d=a("87"),e=d.injection.MUST_USE_ATTRIBUTE,f={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"},g={Properties:{clipPath:e,cx:e,cy:e,d:e,dx:e,dy:e,fill:e,fillOpacity:e,fontFamily:e,fontSize:e,fx:e,fy:e,gradientTransform:e,gradientUnits:e,markerEnd:e,markerMid:e,markerStart:e,offset:e,opacity:e,patternContentUnits:e,patternUnits:e,points:e,preserveAspectRatio:e,r:e,rx:e,ry:e,spreadMethod:e,stopColor:e,stopOpacity:e,stroke:e,strokeDasharray:e,strokeLinecap:e,strokeOpacity:e,strokeWidth:e,textAnchor:e,transform:e,version:e,viewBox:e,x1:e,x2:e,x:e,xlinkActuate:e,xlinkArcrole:e,xlinkHref:e,xlinkRole:e,xlinkShow:e,xlinkTitle:e,xlinkType:e,xmlBase:e,xmlLang:e,xmlSpace:e,y1:e,y2:e,y:e},DOMAttributeNamespaces:{xlinkActuate:f.xlink,xlinkArcrole:f.xlink,xlinkHref:f.xlink,xlinkRole:f.xlink,xlinkShow:f.xlink,xlinkTitle:f.xlink,xlinkType:f.xlink,xmlBase:f.xml,xmlLang:f.xml,xmlSpace:f.xml},DOMAttributeNames:{clipPath:"clip-path",fillOpacity:"fill-opacity",fontFamily:"font-family",fontSize:"font-size",gradientTransform:"gradientTransform",gradientUnits:"gradientUnits",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",patternContentUnits:"patternContentUnits",patternUnits:"patternUnits",preserveAspectRatio:"preserveAspectRatio",spreadMethod:"spreadMethod",stopColor:"stop-color",stopOpacity:"stop-opacity",strokeDasharray:"stroke-dasharray",strokeLinecap:"stroke-linecap",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",textAnchor:"text-anchor",viewBox:"viewBox",xlinkActuate:"xlink:actuate",xlinkArcrole:"xlink:arcrole",xlinkHref:"xlink:href",xlinkRole:"xlink:role",xlinkShow:"xlink:show",xlinkTitle:"xlink:title",xlinkType:"xlink:type",xmlBase:"xml:base",xmlLang:"xml:lang",xmlSpace:"xml:space"}};return c.exports=g,c.exports}),$__System.registerDynamic("da",["d"],!0,function(a,b,c){"use strict";function d(a){for(var b=0,c=0;c<a.length;c++){var d=a[c];b+=d.totalTime}return b}function e(a){var b=[];return a.forEach(function(a){Object.keys(a.writes).forEach(function(c){a.writes[c].forEach(function(a){b.push({id:c,type:k[a.type]||a.type,args:a.args})})})}),b}function f(a){for(var b,c={},d=0;d<a.length;d++){var e=a[d],f=i({},e.exclusive,e.inclusive);for(var g in f)b=e.displayNames[g].current,c[b]=c[b]||{componentName:b,inclusive:0,exclusive:0,render:0,count:0},e.render[g]&&(c[b].render+=e.render[g]),e.exclusive[g]&&(c[b].exclusive+=e.exclusive[g]),e.inclusive[g]&&(c[b].inclusive+=e.inclusive[g]),e.counts[g]&&(c[b].count+=e.counts[g])}var h=[];for(b in c)c[b].exclusive>=j&&h.push(c[b]);return h.sort(function(a,b){return b.exclusive-a.exclusive}),h}function g(a,b){for(var c,d={},e=0;e<a.length;e++){var f,g=a[e],k=i({},g.exclusive,g.inclusive);b&&(f=h(g));for(var l in k)if(!b||f[l]){var m=g.displayNames[l];c=m.owner+" > "+m.current,d[c]=d[c]||{componentName:c,time:0,count:0},g.inclusive[l]&&(d[c].time+=g.inclusive[l]),g.counts[l]&&(d[c].count+=g.counts[l])}}var n=[];for(c in d)d[c].time>=j&&n.push(d[c]);return n.sort(function(a,b){return b.time-a.time}),n}function h(a){var b={},c=Object.keys(a.writes),d=i({},a.exclusive,a.inclusive);for(var e in d){for(var f=!1,g=0;g<c.length;g++)if(0===c[g].indexOf(e)){f=!0;break}a.created[e]&&(f=!0),!f&&a.counts[e]>0&&(b[e]=!0)}return b}var i=a("d"),j=1.2,k={_mountImageIntoNode:"set innerHTML",INSERT_MARKUP:"set innerHTML",MOVE_EXISTING:"move",REMOVE_NODE:"remove",SET_MARKUP:"set innerHTML",TEXT_CONTENT:"set textContent",setValueForProperty:"update attribute",setValueForAttribute:"update attribute",deleteValueForProperty:"remove attribute",setValueForStyles:"update styles",replaceNodeWithMarkup:"replace",updateTextContent:"set textContent"},l={getExclusiveSummary:f,getInclusiveSummary:g,getDOMSummary:e,getTotalTime:d};return c.exports=l,c.exports}),$__System.registerDynamic("87",["10","6"],!0,function(a,b,c){return function(b){"use strict";function d(a,b){return(a&b)===b}var e=a("10"),f={MUST_USE_ATTRIBUTE:1,MUST_USE_PROPERTY:2,HAS_SIDE_EFFECTS:4,HAS_BOOLEAN_VALUE:8,HAS_NUMERIC_VALUE:16,HAS_POSITIVE_NUMERIC_VALUE:48,HAS_OVERLOADED_BOOLEAN_VALUE:64,injectDOMPropertyConfig:function(a){var b=f,c=a.Properties||{},g=a.DOMAttributeNamespaces||{},i=a.DOMAttributeNames||{},j=a.DOMPropertyNames||{},k=a.DOMMutationMethods||{};a.isCustomAttribute&&h._isCustomAttributeFunctions.push(a.isCustomAttribute);for(var l in c){h.properties.hasOwnProperty(l)?e(!1):void 0;var m=l.toLowerCase(),n=c[l],o={attributeName:m,attributeNamespace:null,propertyName:l,mutationMethod:null,mustUseAttribute:d(n,b.MUST_USE_ATTRIBUTE),mustUseProperty:d(n,b.MUST_USE_PROPERTY),hasSideEffects:d(n,b.HAS_SIDE_EFFECTS),hasBooleanValue:d(n,b.HAS_BOOLEAN_VALUE),hasNumericValue:d(n,b.HAS_NUMERIC_VALUE),hasPositiveNumericValue:d(n,b.HAS_POSITIVE_NUMERIC_VALUE),hasOverloadedBooleanValue:d(n,b.HAS_OVERLOADED_BOOLEAN_VALUE)};if(o.mustUseAttribute&&o.mustUseProperty?e(!1):void 0,!o.mustUseProperty&&o.hasSideEffects?e(!1):void 0,o.hasBooleanValue+o.hasNumericValue+o.hasOverloadedBooleanValue<=1?void 0:e(!1),i.hasOwnProperty(l)){var p=i[l];o.attributeName=p}g.hasOwnProperty(l)&&(o.attributeNamespace=g[l]),j.hasOwnProperty(l)&&(o.propertyName=j[l]),k.hasOwnProperty(l)&&(o.mutationMethod=k[l]),h.properties[l]=o}}},g={},h={ID_ATTRIBUTE_NAME:"data-reactid",properties:{},getPossibleStandardName:null,_isCustomAttributeFunctions:[],isCustomAttribute:function(a){for(var b=0;b<h._isCustomAttributeFunctions.length;b++){var c=h._isCustomAttributeFunctions[b];if(c(a))return!0}return!1},getDefaultValueForProperty:function(a,b){var c,d=g[a];return d||(g[a]=d={}),b in d||(c=document.createElement(a),d[b]=c[b]),d[b]},injection:f};c.exports=h}(a("6")),c.exports}),$__System.registerDynamic("db",["10","6"],!0,function(a,b,c){return function(b){"use strict";function d(){if(h)for(var a in i){var b=i[a],c=h.indexOf(a);if(c>-1?void 0:g(!1),!j.plugins[c]){b.extractEvents?void 0:g(!1),j.plugins[c]=b;var d=b.eventTypes;for(var f in d)e(d[f],b,f)?void 0:g(!1)}}}function e(a,b,c){j.eventNameDispatchConfigs.hasOwnProperty(c)?g(!1):void 0,j.eventNameDispatchConfigs[c]=a;var d=a.phasedRegistrationNames;if(d){for(var e in d)if(d.hasOwnProperty(e)){var h=d[e];f(h,b,c)}return!0}return a.registrationName?(f(a.registrationName,b,c),!0):!1}function f(a,b,c){j.registrationNameModules[a]?g(!1):void 0,j.registrationNameModules[a]=b,j.registrationNameDependencies[a]=b.eventTypes[c].dependencies}var g=a("10"),h=null,i={},j={plugins:[],eventNameDispatchConfigs:{},registrationNameModules:{},registrationNameDependencies:{},injectEventPluginOrder:function(a){h?g(!1):void 0,h=Array.prototype.slice.call(a),d()},injectEventPluginsByName:function(a){var b=!1;for(var c in a)if(a.hasOwnProperty(c)){var e=a[c];i.hasOwnProperty(c)&&i[c]===e||(i[c]?g(!1):void 0,i[c]=e,b=!0)}b&&d()},getPluginModuleForEvent:function(a){var b=a.dispatchConfig;if(b.registrationName)return j.registrationNameModules[b.registrationName]||null;for(var c in b.phasedRegistrationNames)if(b.phasedRegistrationNames.hasOwnProperty(c)){var d=j.registrationNameModules[b.phasedRegistrationNames[c]];if(d)return d}return null},_resetEventPlugins:function(){h=null;for(var a in i)i.hasOwnProperty(a)&&delete i[a];j.plugins.length=0;var b=j.eventNameDispatchConfigs;for(var c in b)b.hasOwnProperty(c)&&delete b[c];var d=j.registrationNameModules;for(var e in d)d.hasOwnProperty(e)&&delete d[e]}};c.exports=j}(a("6")),c.exports}),$__System.registerDynamic("7a",["b5"],!0,function(a,b,c){"use strict";var d=a("b5"),e=d({bubbled:null,captured:null}),f=d({topAbort:null,topBlur:null,topCanPlay:null,topCanPlayThrough:null,topChange:null,topClick:null,topCompositionEnd:null,topCompositionStart:null,topCompositionUpdate:null,topContextMenu:null,topCopy:null,topCut:null,topDoubleClick:null,topDrag:null,topDragEnd:null,topDragEnter:null,topDragExit:null,topDragLeave:null,topDragOver:null,topDragStart:null,topDrop:null,topDurationChange:null,topEmptied:null,topEncrypted:null,topEnded:null,topError:null,topFocus:null,topInput:null,topKeyDown:null,topKeyPress:null,topKeyUp:null,topLoad:null,topLoadedData:null,topLoadedMetadata:null,topLoadStart:null,topMouseDown:null,topMouseMove:null,topMouseOut:null,topMouseOver:null,topMouseUp:null,topPaste:null,topPause:null,topPlay:null,topPlaying:null,topProgress:null,topRateChange:null,topReset:null,topScroll:null,topSeeked:null,topSeeking:null,topSelectionChange:null,topStalled:null,topSubmit:null,topSuspend:null,topTextInput:null,topTimeUpdate:null,topTouchCancel:null,topTouchEnd:null,topTouchMove:null,topTouchStart:null,topVolumeChange:null,topWaiting:null,topWheel:null}),g={topLevelTypes:f,PropagationPhases:e};return c.exports=g,c.exports}),$__System.registerDynamic("dc",["7a","dd","10","72","6"],!0,function(a,b,c){return function(b){"use strict";function d(a){return a===q.topMouseUp||a===q.topTouchEnd||a===q.topTouchCancel}function e(a){return a===q.topMouseMove||a===q.topTouchMove}function f(a){return a===q.topMouseDown||a===q.topTouchStart}function g(a,b,c,d){var e=a.type||"unknown-event";a.currentTarget=p.Mount.getNode(d),b?n.invokeGuardedCallbackWithCatch(e,c,a,d):n.invokeGuardedCallback(e,c,a,d),a.currentTarget=null}function h(a,b){var c=a._dispatchListeners,d=a._dispatchIDs;if(Array.isArray(c))for(var e=0;e<c.length&&!a.isPropagationStopped();e++)g(a,b,c[e],d[e]);else c&&g(a,b,c,d);a._dispatchListeners=null,a._dispatchIDs=null}function i(a){var b=a._dispatchListeners,c=a._dispatchIDs;if(Array.isArray(b)){for(var d=0;d<b.length&&!a.isPropagationStopped();d++)if(b[d](a,c[d]))return c[d]}else if(b&&b(a,c))return c;return null}function j(a){var b=i(a);return a._dispatchIDs=null,a._dispatchListeners=null,b}function k(a){var b=a._dispatchListeners,c=a._dispatchIDs;Array.isArray(b)?o(!1):void 0;var d=b?b(a,c):null;return a._dispatchListeners=null,a._dispatchIDs=null,d}function l(a){return!!a._dispatchListeners}var m=a("7a"),n=a("dd"),o=a("10"),p=(a("72"),{Mount:null,injectMount:function(a){p.Mount=a}}),q=m.topLevelTypes,r={isEndish:d,isMoveish:e,isStartish:f,executeDirectDispatch:k,executeDispatchesInOrder:h,executeDispatchesInOrderStopAtTrue:j,hasDispatches:l,getNode:function(a){return p.Mount.getNode(a)},getID:function(a){return p.Mount.getID(a)},injection:p};c.exports=r}(a("6")),c.exports}),$__System.registerDynamic("dd",["6"],!0,function(a,b,c){return function(a){"use strict";function b(a,b,c,e){try{return b(c,e)}catch(f){return void(null===d&&(d=f))}}var d=null,e={invokeGuardedCallback:b,invokeGuardedCallbackWithCatch:b,rethrowCaughtError:function(){if(d){var a=d;throw d=null,a}}};c.exports=e}(a("6")),c.exports}),$__System.registerDynamic("cb",["10","6"],!0,function(a,b,c){return function(b){"use strict";function d(a,b){if(null==b?e(!1):void 0,null==a)return b;var c=Array.isArray(a),d=Array.isArray(b);return c&&d?(a.push.apply(a,b),a):c?(a.push(b),a):d?[a].concat(b):[a,b]}var e=a("10");c.exports=d}(a("6")),c.exports}),$__System.registerDynamic("cc",[],!0,function(a,b,c){"use strict";var d=function(a,b,c){Array.isArray(a)?a.forEach(b,c):a&&b.call(c,a)};return c.exports=d,c.exports}),$__System.registerDynamic("7e",["db","dc","dd","cb","cc","10","72","6"],!0,function(a,b,c){return function(b){"use strict";var d=a("db"),e=a("dc"),f=a("dd"),g=a("cb"),h=a("cc"),i=a("10"),j=(a("72"),{}),k=null,l=function(a,b){a&&(e.executeDispatchesInOrder(a,b),a.isPersistent()||a.constructor.release(a))},m=function(a){return l(a,!0)},n=function(a){return l(a,!1)},o=null,p={injection:{injectMount:e.injection.injectMount,injectInstanceHandle:function(a){o=a},getInstanceHandle:function(){return o},injectEventPluginOrder:d.injectEventPluginOrder,injectEventPluginsByName:d.injectEventPluginsByName},eventNameDispatchConfigs:d.eventNameDispatchConfigs,registrationNameModules:d.registrationNameModules,putListener:function(a,b,c){"function"!=typeof c?i(!1):void 0;var e=j[b]||(j[b]={});e[a]=c;var f=d.registrationNameModules[b];f&&f.didPutListener&&f.didPutListener(a,b,c)},getListener:function(a,b){var c=j[b];return c&&c[a]},deleteListener:function(a,b){var c=d.registrationNameModules[b];c&&c.willDeleteListener&&c.willDeleteListener(a,b);var e=j[b];e&&delete e[a]},deleteAllListeners:function(a){for(var b in j)if(j[b][a]){var c=d.registrationNameModules[b];c&&c.willDeleteListener&&c.willDeleteListener(a,b),delete j[b][a]}},extractEvents:function(a,b,c,e,f){for(var h,i=d.plugins,j=0;j<i.length;j++){var k=i[j];if(k){var l=k.extractEvents(a,b,c,e,f);l&&(h=g(h,l))}}return h},enqueueEvents:function(a){a&&(k=g(k,a))},processEventQueue:function(a){var b=k;k=null,a?h(b,m):h(b,n),k?i(!1):void 0,f.rethrowCaughtError()},__purge:function(){j={}},__getListenerBank:function(){return j}};c.exports=p}(a("6")),c.exports}),$__System.registerDynamic("de",["7e"],!0,function(a,b,c){"use strict";function d(a){e.enqueueEvents(a),e.processEventQueue(!1)}var e=a("7e"),f={handleTopLevel:function(a,b,c,f,g){var h=e.extractEvents(a,b,c,f,g);d(h)}};return c.exports=f,c.exports}),$__System.registerDynamic("d6",[],!0,function(a,b,c){"use strict";var d={currentScrollLeft:0,currentScrollTop:0,refreshScrollValues:function(a){d.currentScrollLeft=a.x,d.currentScrollTop=a.y}};return c.exports=d,c.exports}),$__System.registerDynamic("80",["12"],!0,function(a,b,c){"use strict";function d(a,b){if(!f.canUseDOM||b&&!("addEventListener"in document))return!1;var c="on"+a,d=c in document;if(!d){var g=document.createElement("div");g.setAttribute(c,"return;"),d="function"==typeof g[c]}return!d&&e&&"wheel"===a&&(d=document.implementation.hasFeature("Events.wheel","3.0")),d}var e,f=a("12");return f.canUseDOM&&(e=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0),c.exports=d,c.exports}),$__System.registerDynamic("a7",["7a","7e","db","de","6d","d6","d","80","6"],!0,function(a,b,c){return function(b){"use strict";function d(a){return Object.prototype.hasOwnProperty.call(a,q)||(a[q]=o++,m[a[q]]={}),m[a[q]]}var e=a("7a"),f=a("7e"),g=a("db"),h=a("de"),i=a("6d"),j=a("d6"),k=a("d"),l=a("80"),m={},n=!1,o=0,p={topAbort:"abort",topBlur:"blur",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topChange:"change",topClick:"click",topCompositionEnd:"compositionend",topCompositionStart:"compositionstart",topCompositionUpdate:"compositionupdate",topContextMenu:"contextmenu",topCopy:"copy",topCut:"cut",topDoubleClick:"dblclick",topDrag:"drag",topDragEnd:"dragend",topDragEnter:"dragenter",topDragExit:"dragexit",topDragLeave:"dragleave",topDragOver:"dragover",topDragStart:"dragstart",topDrop:"drop",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topFocus:"focus",topInput:"input",topKeyDown:"keydown",topKeyPress:"keypress",topKeyUp:"keyup",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topMouseDown:"mousedown",topMouseMove:"mousemove",topMouseOut:"mouseout",topMouseOver:"mouseover",topMouseUp:"mouseup",topPaste:"paste",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topScroll:"scroll",topSeeked:"seeked",topSeeking:"seeking",topSelectionChange:"selectionchange",topStalled:"stalled",topSuspend:"suspend",topTextInput:"textInput",topTimeUpdate:"timeupdate",topTouchCancel:"touchcancel",topTouchEnd:"touchend",topTouchMove:"touchmove",topTouchStart:"touchstart",topVolumeChange:"volumechange",topWaiting:"waiting",topWheel:"wheel"},q="_reactListenersID"+String(Math.random()).slice(2),r=k({},h,{ReactEventListener:null,injection:{injectReactEventListener:function(a){a.setHandleTopLevel(r.handleTopLevel),r.ReactEventListener=a}},setEnabled:function(a){r.ReactEventListener&&r.ReactEventListener.setEnabled(a)},isEnabled:function(){return!(!r.ReactEventListener||!r.ReactEventListener.isEnabled())},listenTo:function(a,b){for(var c=b,f=d(c),h=g.registrationNameDependencies[a],i=e.topLevelTypes,j=0;j<h.length;j++){var k=h[j];f.hasOwnProperty(k)&&f[k]||(k===i.topWheel?l("wheel")?r.ReactEventListener.trapBubbledEvent(i.topWheel,"wheel",c):l("mousewheel")?r.ReactEventListener.trapBubbledEvent(i.topWheel,"mousewheel",c):r.ReactEventListener.trapBubbledEvent(i.topWheel,"DOMMouseScroll",c):k===i.topScroll?l("scroll",!0)?r.ReactEventListener.trapCapturedEvent(i.topScroll,"scroll",c):r.ReactEventListener.trapBubbledEvent(i.topScroll,"scroll",r.ReactEventListener.WINDOW_HANDLE):k===i.topFocus||k===i.topBlur?(l("focus",!0)?(r.ReactEventListener.trapCapturedEvent(i.topFocus,"focus",c),r.ReactEventListener.trapCapturedEvent(i.topBlur,"blur",c)):l("focusin")&&(r.ReactEventListener.trapBubbledEvent(i.topFocus,"focusin",c),r.ReactEventListener.trapBubbledEvent(i.topBlur,"focusout",c)),f[i.topBlur]=!0,f[i.topFocus]=!0):p.hasOwnProperty(k)&&r.ReactEventListener.trapBubbledEvent(k,p[k],c),f[k]=!0)}},trapBubbledEvent:function(a,b,c){return r.ReactEventListener.trapBubbledEvent(a,b,c)},trapCapturedEvent:function(a,b,c){return r.ReactEventListener.trapCapturedEvent(a,b,c)},ensureScrollValueMonitoring:function(){if(!n){var a=j.refreshScrollValues;r.ReactEventListener.monitorScrollValue(a),n=!0}},eventNameDispatchConfigs:f.eventNameDispatchConfigs,registrationNameModules:f.registrationNameModules,putListener:f.putListener,getListener:f.getListener,deleteListener:f.deleteListener,deleteAllListeners:f.deleteAllListeners});i.measureMethods(r,"ReactBrowserEventEmitter",{putListener:"putListener",deleteListener:"deleteListener"}),c.exports=r}(a("6")),c.exports}),$__System.registerDynamic("c2",[],!0,function(a,b,c){"use strict";var d={useCreateElement:!1};return c.exports=d,c.exports}),$__System.registerDynamic("df",[],!0,function(a,b,c){"use strict";function d(a){return!(!a||!("function"==typeof Node?a instanceof Node:"object"==typeof a&&"number"==typeof a.nodeType&&"string"==typeof a.nodeName))}return c.exports=d,c.exports}),$__System.registerDynamic("e0",["df"],!0,function(a,b,c){"use strict";function d(a){return e(a)&&3==a.nodeType}var e=a("df");return c.exports=d,c.exports}),$__System.registerDynamic("c7",["e0"],!0,function(a,b,c){"use strict";function d(a,b){var c=!0;a:for(;c;){var d=a,f=b;if(c=!1,d&&f){if(d===f)return!0;if(e(d))return!1;if(e(f)){a=d,b=f.parentNode,c=!0;continue a}return d.contains?d.contains(f):d.compareDocumentPosition?!!(16&d.compareDocumentPosition(f)):!1}return!1}}var e=a("e0");return c.exports=d,c.exports}),$__System.registerDynamic("ac",["12","6"],!0,function(a,b,c){return function(b){"use strict";var d=a("12"),e=/^[ \r\n\t\f]/,f=/<(!--|link|noscript|meta|script|style)[ \r\n\t\f\/>]/,g=function(a,b){a.innerHTML=b};if("undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction&&(g=function(a,b){MSApp.execUnsafeLocalFunction(function(){a.innerHTML=b})}),d.canUseDOM){var h=document.createElement("div");h.innerHTML=" ",""===h.innerHTML&&(g=function(a,b){if(a.parentNode&&a.parentNode.replaceChild(a,a),e.test(b)||"<"===b[0]&&f.test(b)){a.innerHTML=String.fromCharCode(65279)+b;var c=a.firstChild;1===c.data.length?a.removeChild(c):c.deleteData(0,1)}else a.innerHTML=b})}c.exports=g}(a("6")),c.exports}),$__System.registerDynamic("ae",["d","e","72","6"],!0,function(a,b,c){return function(b){"use strict";var d=(a("d"),a("e")),e=(a("72"),d);c.exports=e}(a("6")),c.exports}),$__System.registerDynamic("68",["87","a7","69","c2","e1","e2","6c","89","e3","6d","6e","a9","6f","d","e4","c7","9f","10","ac","a0","ae","72","6"],!0,function(a,b,c){return function(b){"use strict";function d(a,b){for(var c=Math.min(a.length,b.length),d=0;c>d;d++)if(a.charAt(d)!==b.charAt(d))return d;return a.length===b.length?-1:c}function e(a){return a?a.nodeType===Q?a.documentElement:a.firstChild:null}function f(a){var b=e(a);return b&&Y.getID(b)}function g(a){var b=h(a);if(b)if(O.hasOwnProperty(b)){var c=O[b];c!==a&&(l(c,b)?K(!1):void 0,O[b]=a)}else O[b]=a;return b}function h(a){return a&&a.getAttribute&&a.getAttribute(N)||""}function i(a,b){var c=h(a);c!==b&&delete O[c],a.setAttribute(N,b),O[b]=a}function j(a){return O.hasOwnProperty(a)&&l(O[a],a)||(O[a]=Y.findReactNodeByID(a)),O[a]}function k(a){var b=A.get(a)._rootNodeID;return y.isNullComponentID(b)?null:(O.hasOwnProperty(b)&&l(O[b],b)||(O[b]=Y.findReactNodeByID(b)),O[b])}function l(a,b){if(a){h(a)!==b?K(!1):void 0;var c=Y.findReactContainerForID(b);if(c&&I(c,a))return!0}return!1}function m(a){delete O[a]}function n(a){var b=O[a];return b&&l(b,a)?void(W=b):!1}function o(a){W=null,z.traverseAncestors(a,n);var b=W;return W=null,b}function p(a,b,c,d,e,f){w.useCreateElement&&(f=G({},f),c.nodeType===Q?f[S]=c:f[S]=c.ownerDocument);var g=D.mountComponent(a,b,d,f);a._renderedComponent._topLevelWrapper=a,Y._mountImageIntoNode(g,c,e,d)}function q(a,b,c,d,e){var f=F.ReactReconcileTransaction.getPooled(d);f.perform(p,null,a,b,c,f,d,e),F.ReactReconcileTransaction.release(f)}function r(a,b){for(D.unmountComponent(a),b.nodeType===Q&&(b=b.documentElement);b.lastChild;)b.removeChild(b.lastChild)}function s(a){var b=f(a);return b?b!==z.getReactRootIDFromNodeID(b):!1}function t(a){for(;a&&a.parentNode!==a;a=a.parentNode)if(1===a.nodeType){var b=h(a);if(b){var c,d=z.getReactRootIDFromNodeID(b),e=a;do if(c=h(e),e=e.parentNode,null==e)return null;while(c!==d);if(e===U[d])return a}}return null}var u=a("87"),v=a("a7"),w=(a("69"),a("c2")),x=a("e1"),y=a("e2"),z=a("6c"),A=a("89"),B=a("e3"),C=a("6d"),D=a("6e"),E=a("a9"),F=a("6f"),G=a("d"),H=a("e4"),I=a("c7"),J=a("9f"),K=a("10"),L=a("ac"),M=a("a0"),N=(a("ae"),a("72"),u.ID_ATTRIBUTE_NAME),O={},P=1,Q=9,R=11,S="__ReactMount_ownerDocument$"+Math.random().toString(36).slice(2),T={},U={},V=[],W=null,X=function(){};X.prototype.isReactComponent={},X.prototype.render=function(){return this.props};var Y={TopLevelWrapper:X,_instancesByReactRootID:T,scrollMonitor:function(a,b){b()},_updateRootComponent:function(a,b,c,d){return Y.scrollMonitor(c,function(){E.enqueueElementInternal(a,b),d&&E.enqueueCallbackInternal(a,d)}),a},_registerComponent:function(a,b){!b||b.nodeType!==P&&b.nodeType!==Q&&b.nodeType!==R?K(!1):void 0,v.ensureScrollValueMonitoring();var c=Y.registerContainer(b);return T[c]=a,c},_renderNewRootComponent:function(a,b,c,d){var e=J(a,null),f=Y._registerComponent(e,b);return F.batchedUpdates(q,e,f,b,c,d),e},renderSubtreeIntoContainer:function(a,b,c,d){return null==a||null==a._reactInternalInstance?K(!1):void 0,
Y._renderSubtreeIntoContainer(a,b,c,d)},_renderSubtreeIntoContainer:function(a,b,c,d){x.isValidElement(b)?void 0:K(!1);var g=new x(X,null,null,null,null,null,b),i=T[f(c)];if(i){var j=i._currentElement,k=j.props;if(M(k,b)){var l=i._renderedComponent.getPublicInstance(),m=d&&function(){d.call(l)};return Y._updateRootComponent(i,g,c,m),l}Y.unmountComponentAtNode(c)}var n=e(c),o=n&&!!h(n),p=s(c),q=o&&!i&&!p,r=Y._renderNewRootComponent(g,c,q,null!=a?a._reactInternalInstance._processChildContext(a._reactInternalInstance._context):H)._renderedComponent.getPublicInstance();return d&&d.call(r),r},render:function(a,b,c){return Y._renderSubtreeIntoContainer(null,a,b,c)},registerContainer:function(a){var b=f(a);return b&&(b=z.getReactRootIDFromNodeID(b)),b||(b=z.createReactRootID()),U[b]=a,b},unmountComponentAtNode:function(a){!a||a.nodeType!==P&&a.nodeType!==Q&&a.nodeType!==R?K(!1):void 0;var b=f(a),c=T[b];if(!c){var d=(s(a),h(a));d&&d===z.getReactRootIDFromNodeID(d);return!1}return F.batchedUpdates(r,c,a),delete T[b],delete U[b],!0},findReactContainerForID:function(a){var b=z.getReactRootIDFromNodeID(a),c=U[b];return c},findReactNodeByID:function(a){var b=Y.findReactContainerForID(a);return Y.findComponentRoot(b,a)},getFirstReactDOM:function(a){return t(a)},findComponentRoot:function(a,b){var c=V,d=0,e=o(b)||a;for(c[0]=e.firstChild,c.length=1;d<c.length;){for(var f,g=c[d++];g;){var h=Y.getID(g);h?b===h?f=g:z.isAncestorIDOf(h,b)&&(c.length=d=0,c.push(g.firstChild)):c.push(g.firstChild),g=g.nextSibling}if(f)return c.length=0,f}c.length=0,K(!1)},_mountImageIntoNode:function(a,b,c,f){if(!b||b.nodeType!==P&&b.nodeType!==Q&&b.nodeType!==R?K(!1):void 0,c){var g=e(b);if(B.canReuseMarkup(a,g))return;var h=g.getAttribute(B.CHECKSUM_ATTR_NAME);g.removeAttribute(B.CHECKSUM_ATTR_NAME);var i=g.outerHTML;g.setAttribute(B.CHECKSUM_ATTR_NAME,h);var j=a,k=d(j,i);" (client) "+j.substring(k-20,k+20)+"\n (server) "+i.substring(k-20,k+20);b.nodeType===Q?K(!1):void 0}if(b.nodeType===Q?K(!1):void 0,f.useCreateElement){for(;b.lastChild;)b.removeChild(b.lastChild);b.appendChild(a)}else L(b,a)},ownerDocumentContextKey:S,getReactRootID:f,getID:g,setID:i,getNode:j,getNodeFromInstance:k,isValid:l,purgeID:m};C.measureMethods(Y,"ReactMount",{_renderNewRootComponent:"_renderNewRootComponent",_mountImageIntoNode:"_mountImageIntoNode"}),c.exports=Y}(a("6")),c.exports}),$__System.registerDynamic("12",[],!0,function(a,b,c){"use strict";var d=!("undefined"==typeof window||!window.document||!window.document.createElement),e={canUseDOM:d,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:d&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:d&&!!window.screen,isInWorker:!d};return c.exports=e,c.exports}),$__System.registerDynamic("e5",["12"],!0,function(a,b,c){"use strict";var d,e=a("12");return e.canUseDOM&&(d=window.performance||window.msPerformance||window.webkitPerformance),c.exports=d||{},c.exports}),$__System.registerDynamic("e6",["e5"],!0,function(a,b,c){"use strict";var d,e=a("e5");return d=e.now?function(){return e.now()}:function(){return Date.now()},c.exports=d,c.exports}),$__System.registerDynamic("e7",["87","da","68","6d","e6"],!0,function(a,b,c){"use strict";function d(a){return Math.floor(100*a)/100}function e(a,b,c){a[b]=(a[b]||0)+c}var f=a("87"),g=a("da"),h=a("68"),i=a("6d"),j=a("e6"),k={_allMeasurements:[],_mountStack:[0],_injected:!1,start:function(){k._injected||i.injection.injectMeasure(k.measure),k._allMeasurements.length=0,i.enableMeasure=!0},stop:function(){i.enableMeasure=!1},getLastMeasurements:function(){return k._allMeasurements},printExclusive:function(a){a=a||k._allMeasurements;var b=g.getExclusiveSummary(a);console.table(b.map(function(a){return{"Component class name":a.componentName,"Total inclusive time (ms)":d(a.inclusive),"Exclusive mount time (ms)":d(a.exclusive),"Exclusive render time (ms)":d(a.render),"Mount time per instance (ms)":d(a.exclusive/a.count),"Render time per instance (ms)":d(a.render/a.count),Instances:a.count}}))},printInclusive:function(a){a=a||k._allMeasurements;var b=g.getInclusiveSummary(a);console.table(b.map(function(a){return{"Owner > component":a.componentName,"Inclusive time (ms)":d(a.time),Instances:a.count}})),console.log("Total time:",g.getTotalTime(a).toFixed(2)+" ms")},getMeasurementsSummaryMap:function(a){var b=g.getInclusiveSummary(a,!0);return b.map(function(a){return{"Owner > component":a.componentName,"Wasted time (ms)":a.time,Instances:a.count}})},printWasted:function(a){a=a||k._allMeasurements,console.table(k.getMeasurementsSummaryMap(a)),console.log("Total time:",g.getTotalTime(a).toFixed(2)+" ms")},printDOM:function(a){a=a||k._allMeasurements;var b=g.getDOMSummary(a);console.table(b.map(function(a){var b={};return b[f.ID_ATTRIBUTE_NAME]=a.id,b.type=a.type,b.args=JSON.stringify(a.args),b})),console.log("Total time:",g.getTotalTime(a).toFixed(2)+" ms")},_recordWrite:function(a,b,c,d){var e=k._allMeasurements[k._allMeasurements.length-1].writes;e[a]=e[a]||[],e[a].push({type:b,time:c,args:d})},measure:function(a,b,c){return function(){for(var d=arguments.length,f=Array(d),g=0;d>g;g++)f[g]=arguments[g];var i,l,m;if("_renderNewRootComponent"===b||"flushBatchedUpdates"===b)return k._allMeasurements.push({exclusive:{},inclusive:{},render:{},counts:{},writes:{},displayNames:{},totalTime:0,created:{}}),m=j(),l=c.apply(this,f),k._allMeasurements[k._allMeasurements.length-1].totalTime=j()-m,l;if("_mountImageIntoNode"===b||"ReactBrowserEventEmitter"===a||"ReactDOMIDOperations"===a||"CSSPropertyOperations"===a||"DOMChildrenOperations"===a||"DOMPropertyOperations"===a){if(m=j(),l=c.apply(this,f),i=j()-m,"_mountImageIntoNode"===b){var n=h.getID(f[1]);k._recordWrite(n,b,i,f[0])}else if("dangerouslyProcessChildrenUpdates"===b)f[0].forEach(function(a){var b={};null!==a.fromIndex&&(b.fromIndex=a.fromIndex),null!==a.toIndex&&(b.toIndex=a.toIndex),null!==a.textContent&&(b.textContent=a.textContent),null!==a.markupIndex&&(b.markup=f[1][a.markupIndex]),k._recordWrite(a.parentID,a.type,i,b)});else{var o=f[0];"object"==typeof o&&(o=h.getID(f[0])),k._recordWrite(o,b,i,Array.prototype.slice.call(f,1))}return l}if("ReactCompositeComponent"!==a||"mountComponent"!==b&&"updateComponent"!==b&&"_renderValidatedComponent"!==b)return c.apply(this,f);if(this._currentElement.type===h.TopLevelWrapper)return c.apply(this,f);var p="mountComponent"===b?f[0]:this._rootNodeID,q="_renderValidatedComponent"===b,r="mountComponent"===b,s=k._mountStack,t=k._allMeasurements[k._allMeasurements.length-1];if(q?e(t.counts,p,1):r&&(t.created[p]=!0,s.push(0)),m=j(),l=c.apply(this,f),i=j()-m,q)e(t.render,p,i);else if(r){var u=s.pop();s[s.length-1]+=i,e(t.exclusive,p,i-u),e(t.inclusive,p,i)}else e(t.inclusive,p,i);return t.displayNames[p]={current:this.getName(),owner:this._currentElement._owner?this._currentElement._owner.getName():"<root>"},l}}};return c.exports=k,c.exports}),$__System.registerDynamic("6b",["79","7d","82","83","84","12","86","88","a8","e8","a5","6a","b9","bb","6c","68","c0","c9","ca","d8","d9","e7","6"],!0,function(a,b,c){return function(b){"use strict";function d(){if(!z){z=!0,r.EventEmitter.injectReactEventListener(q),r.EventPluginHub.injectEventPluginOrder(h),r.EventPluginHub.injectInstanceHandle(s),r.EventPluginHub.injectMount(t),r.EventPluginHub.injectEventPluginsByName({SimpleEventPlugin:x,EnterLeaveEventPlugin:i,ChangeEventPlugin:f,SelectEventPlugin:v,BeforeInputEventPlugin:e}),r.NativeComponent.injectGenericComponentClass(o),r.NativeComponent.injectTextComponentClass(p),r.Class.injectMixin(l),r.DOMProperty.injectDOMPropertyConfig(k),r.DOMProperty.injectDOMPropertyConfig(y),r.EmptyComponent.injectEmptyComponent("noscript"),r.Updates.injectReconcileTransaction(u),r.Updates.injectBatchingStrategy(n),r.RootIndex.injectCreateReactRootIndex(j.canUseDOM?g.createReactRootIndex:w.createReactRootIndex),r.Component.injectEnvironment(m)}}var e=a("79"),f=a("7d"),g=a("82"),h=a("83"),i=a("84"),j=a("12"),k=a("86"),l=a("88"),m=a("a8"),n=a("e8"),o=a("a5"),p=a("6a"),q=a("b9"),r=a("bb"),s=a("6c"),t=a("68"),u=a("c0"),v=a("c9"),w=a("ca"),x=a("d8"),y=a("d9"),z=!1;c.exports={inject:d}}(a("6")),c.exports}),$__System.registerDynamic("e8",["6f","c4","d","e"],!0,function(a,b,c){"use strict";function d(){this.reinitializeTransaction()}var e=a("6f"),f=a("c4"),g=a("d"),h=a("e"),i={initialize:h,close:function(){m.isBatchingUpdates=!1}},j={initialize:h,close:e.flushBatchedUpdates.bind(e)},k=[j,i];g(d.prototype,f.Mixin,{getTransactionWrappers:function(){return k}});var l=new d,m={isBatchingUpdates:!1,batchedUpdates:function(a,b,c,d,e,f){var g=m.isBatchingUpdates;m.isBatchingUpdates=!0,g?a(b,c,d,e,f):l.perform(a,null,b,c,d,e,f)}};return c.exports=m,c.exports}),$__System.registerDynamic("e9",[],!0,function(a,b,c){"use strict";function d(a){for(var b=1,c=0,d=0,f=a.length,g=-4&f;g>d;){for(;d<Math.min(d+4096,g);d+=4)c+=(b+=a.charCodeAt(d))+(b+=a.charCodeAt(d+1))+(b+=a.charCodeAt(d+2))+(b+=a.charCodeAt(d+3));b%=e,c%=e}for(;f>d;d++)c+=b+=a.charCodeAt(d);return b%=e,c%=e,b|c<<16}var e=65521;return c.exports=d,c.exports}),$__System.registerDynamic("e3",["e9"],!0,function(a,b,c){"use strict";var d=a("e9"),e=/\/?>/,f={CHECKSUM_ATTR_NAME:"data-react-checksum",addChecksumToMarkup:function(a){var b=d(a);return a.replace(e," "+f.CHECKSUM_ATTR_NAME+'="'+b+'"$&')},canReuseMarkup:function(a,b){var c=b.getAttribute(f.CHECKSUM_ATTR_NAME);c=c&&parseInt(c,10);var e=d(a);return e===c}};return c.exports=f,c.exports}),$__System.registerDynamic("ea",[],!0,function(a,b,c){"use strict";var d={isBatchingUpdates:!1,batchedUpdates:function(a){}};return c.exports=d,c.exports}),$__System.registerDynamic("eb",["74","c1","c4","d","e"],!0,function(a,b,c){"use strict";function d(a){this.reinitializeTransaction(),this.renderToStaticMarkup=a,this.reactMountReady=f.getPooled(null),this.useCreateElement=!1}var e=a("74"),f=a("c1"),g=a("c4"),h=a("d"),i=a("e"),j={initialize:function(){this.reactMountReady.reset()},close:i},k=[j],l={getTransactionWrappers:function(){return k},getReactMountReady:function(){return this.reactMountReady},destructor:function(){f.release(this.reactMountReady),this.reactMountReady=null}};return h(d.prototype,g.Mixin,l),e.addPoolingTo(d),c.exports=d,c.exports}),$__System.registerDynamic("a3",["10","6"],!0,function(a,b,c){return function(b){"use strict";var d=a("10"),e=!1,f={unmountIDFromEnvironment:null,replaceNodeWithMarkupByID:null,processChildrenUpdates:null,injection:{injectEnvironment:function(a){e?d(!1):void 0,f.unmountIDFromEnvironment=a.unmountIDFromEnvironment,f.replaceNodeWithMarkupByID=a.replaceNodeWithMarkupByID,f.processChildrenUpdates=a.processChildrenUpdates,e=!0}}};c.exports=f}(a("6")),c.exports}),$__System.registerDynamic("89",[],!0,function(a,b,c){"use strict";var d={remove:function(a){a._reactInternalInstance=void 0},get:function(a){return a._reactInternalInstance},has:function(a){return void 0!==a._reactInternalInstance},set:function(a,b){a._reactInternalInstance=b}};return c.exports=d,c.exports}),$__System.registerDynamic("c1",["74","d","10","6"],!0,function(a,b,c){return function(b){"use strict";function d(){this._callbacks=null,this._contexts=null}var e=a("74"),f=a("d"),g=a("10");f(d.prototype,{enqueue:function(a,b){this._callbacks=this._callbacks||[],this._contexts=this._contexts||[],this._callbacks.push(a),this._contexts.push(b)},notifyAll:function(){var a=this._callbacks,b=this._contexts;if(a){a.length!==b.length?g(!1):void 0,this._callbacks=null,this._contexts=null;for(var c=0;c<a.length;c++)a[c].call(b[c]);a.length=0,b.length=0}},reset:function(){this._callbacks=null,this._contexts=null},destructor:function(){this.reset()}}),e.addPoolingTo(d),c.exports=d}(a("6")),c.exports}),$__System.registerDynamic("6d",["6"],!0,function(a,b,c){return function(a){"use strict";function b(a,b,c){return c}var d={enableMeasure:!1,storedMeasure:b,measureMethods:function(a,b,c){},measure:function(a,b,c){return c},injection:{injectMeasure:function(a){d.storedMeasure=a}}};c.exports=d}(a("6")),c.exports}),$__System.registerDynamic("c4",["10","6"],!0,function(a,b,c){return function(b){"use strict";var d=a("10"),e={reinitializeTransaction:function(){this.transactionWrappers=this.getTransactionWrappers(),this.wrapperInitData?this.wrapperInitData.length=0:this.wrapperInitData=[],this._isInTransaction=!1},_isInTransaction:!1,getTransactionWrappers:null,isInTransaction:function(){return!!this._isInTransaction},perform:function(a,b,c,e,f,g,h,i){this.isInTransaction()?d(!1):void 0;var j,k;try{this._isInTransaction=!0,j=!0,this.initializeAll(0),k=a.call(b,c,e,f,g,h,i),j=!1}finally{try{if(j)try{this.closeAll(0)}catch(l){}else this.closeAll(0)}finally{this._isInTransaction=!1}}return k},initializeAll:function(a){for(var b=this.transactionWrappers,c=a;c<b.length;c++){var d=b[c];try{this.wrapperInitData[c]=f.OBSERVED_ERROR,this.wrapperInitData[c]=d.initialize?d.initialize.call(this):null}finally{if(this.wrapperInitData[c]===f.OBSERVED_ERROR)try{this.initializeAll(c+1)}catch(e){}}}},closeAll:function(a){this.isInTransaction()?void 0:d(!1);for(var b=this.transactionWrappers,c=a;c<b.length;c++){var e,g=b[c],h=this.wrapperInitData[c];try{e=!0,h!==f.OBSERVED_ERROR&&g.close&&g.close.call(this,h),e=!1}finally{if(e)try{this.closeAll(c+1)}catch(i){}}}this.wrapperInitData.length=0}},f={Mixin:e,OBSERVED_ERROR:{}};c.exports=f}(a("6")),c.exports}),$__System.registerDynamic("6f",["c1","74","6d","6e","c4","d","10","6"],!0,function(a,b,c){return function(b){"use strict";function d(){A.ReactReconcileTransaction&&u?void 0:q(!1)}function e(){this.reinitializeTransaction(),this.dirtyComponentsLength=null,this.callbackQueue=k.getPooled(),this.reconcileTransaction=A.ReactReconcileTransaction.getPooled(!1)}function f(a,b,c,e,f,g){d(),u.batchedUpdates(a,b,c,e,f,g)}function g(a,b){return a._mountOrder-b._mountOrder}function h(a){var b=a.dirtyComponentsLength;b!==r.length?q(!1):void 0,r.sort(g);for(var c=0;b>c;c++){var d=r[c],e=d._pendingCallbacks;if(d._pendingCallbacks=null,n.performUpdateIfNecessary(d,a.reconcileTransaction),e)for(var f=0;f<e.length;f++)a.callbackQueue.enqueue(e[f],d.getPublicInstance())}}function i(a){return d(),u.isBatchingUpdates?void r.push(a):void u.batchedUpdates(i,a)}function j(a,b){u.isBatchingUpdates?void 0:q(!1),s.enqueue(a,b),t=!0}var k=a("c1"),l=a("74"),m=a("6d"),n=a("6e"),o=a("c4"),p=a("d"),q=a("10"),r=[],s=k.getPooled(),t=!1,u=null,v={initialize:function(){this.dirtyComponentsLength=r.length},close:function(){this.dirtyComponentsLength!==r.length?(r.splice(0,this.dirtyComponentsLength),y()):r.length=0}},w={initialize:function(){this.callbackQueue.reset()},close:function(){this.callbackQueue.notifyAll()}},x=[v,w];p(e.prototype,o.Mixin,{getTransactionWrappers:function(){return x},destructor:function(){this.dirtyComponentsLength=null,k.release(this.callbackQueue),this.callbackQueue=null,A.ReactReconcileTransaction.release(this.reconcileTransaction),this.reconcileTransaction=null},perform:function(a,b,c){return o.Mixin.perform.call(this,this.reconcileTransaction.perform,this.reconcileTransaction,a,b,c)}}),l.addPoolingTo(e);var y=function(){for(;r.length||t;){if(r.length){var a=e.getPooled();a.perform(h,null,a),e.release(a)}if(t){t=!1;var b=s;s=k.getPooled(),b.notifyAll(),k.release(b)}}};y=m.measure("ReactUpdates","flushBatchedUpdates",y);var z={injectReconcileTransaction:function(a){a?void 0:q(!1),A.ReactReconcileTransaction=a},injectBatchingStrategy:function(a){a?void 0:q(!1),"function"!=typeof a.batchedUpdates?q(!1):void 0,"boolean"!=typeof a.isBatchingUpdates?q(!1):void 0,u=a}},A={ReactReconcileTransaction:null,batchedUpdates:f,enqueueUpdate:i,flushBatchedUpdates:y,injection:z,asap:j};c.exports=A}(a("6")),c.exports}),$__System.registerDynamic("a9",["69","e1","89","6f","d","10","72","6"],!0,function(a,b,c){return function(b){"use strict";function d(a){h.enqueueUpdate(a)}function e(a,b){var c=g.get(a);return c?c:null}var f=(a("69"),a("e1")),g=a("89"),h=a("6f"),i=a("d"),j=a("10"),k=(a("72"),{isMounted:function(a){var b=g.get(a);return b?!!b._renderedComponent:!1},enqueueCallback:function(a,b){"function"!=typeof b?j(!1):void 0;var c=e(a);return c?(c._pendingCallbacks?c._pendingCallbacks.push(b):c._pendingCallbacks=[b],void d(c)):null},enqueueCallbackInternal:function(a,b){"function"!=typeof b?j(!1):void 0,a._pendingCallbacks?a._pendingCallbacks.push(b):a._pendingCallbacks=[b],d(a)},enqueueForceUpdate:function(a){var b=e(a,"forceUpdate");b&&(b._pendingForceUpdate=!0,d(b))},enqueueReplaceState:function(a,b){var c=e(a,"replaceState");c&&(c._pendingStateQueue=[b],c._pendingReplaceState=!0,d(c))},enqueueSetState:function(a,b){var c=e(a,"setState");if(c){var f=c._pendingStateQueue||(c._pendingStateQueue=[]);f.push(b),d(c)}},enqueueSetProps:function(a,b){var c=e(a,"setProps");c&&k.enqueueSetPropsInternal(c,b)},enqueueSetPropsInternal:function(a,b){var c=a._topLevelWrapper;c?void 0:j(!1);var e=c._pendingElement||c._currentElement,g=e.props,h=i({},g.props,b);c._pendingElement=f.cloneAndReplaceProps(e,f.cloneAndReplaceProps(g,h)),d(c)},enqueueReplaceProps:function(a,b){var c=e(a,"replaceProps");c&&k.enqueueReplacePropsInternal(c,b)},enqueueReplacePropsInternal:function(a,b){var c=a._topLevelWrapper;c?void 0:j(!1);var e=c._pendingElement||c._currentElement,g=e.props;c._pendingElement=f.cloneAndReplaceProps(e,f.cloneAndReplaceProps(g,b)),d(c)},enqueueElementInternal:function(a,b){a._pendingElement=b,d(a)}});c.exports=k}(a("6")),c.exports}),$__System.registerDynamic("a0",[],!0,function(a,b,c){"use strict";function d(a,b){var c=null===a||a===!1,d=null===b||b===!1;if(c||d)return c===d;var e=typeof a,f=typeof b;return"string"===e||"number"===e?"string"===f||"number"===f:"object"===f&&a.type===b.type&&a.key===b.key}return c.exports=d,c.exports}),$__System.registerDynamic("ec",["a3","69","e1","89","6d","9c","ed","6e","a9","d","e4","10","a0","72","6"],!0,function(a,b,c){return function(b){"use strict";function d(a){var b=a._currentElement._owner||null;if(b){var c=b.getName();if(c)return" Check the render method of `"+c+"`."}return""}function e(a){}var f=a("a3"),g=a("69"),h=a("e1"),i=a("89"),j=a("6d"),k=a("9c"),l=(a("ed"),a("6e")),m=a("a9"),n=a("d"),o=a("e4"),p=a("10"),q=a("a0");a("72");e.prototype.render=function(){var a=i.get(this)._currentElement.type;return a(this.props,this.context,this.updater)};var r=1,s={construct:function(a){this._currentElement=a,this._rootNodeID=null,this._instance=null,this._pendingElement=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._renderedComponent=null,this._context=null,this._mountOrder=0,this._topLevelWrapper=null,this._pendingCallbacks=null},mountComponent:function(a,b,c){this._context=c,this._mountOrder=r++,this._rootNodeID=a;var d,f,g=this._processProps(this._currentElement.props),j=this._processContext(c),k=this._currentElement.type,n="prototype"in k;n&&(d=new k(g,j,m)),n&&null!==d&&d!==!1&&!h.isValidElement(d)||(f=d,d=new e(k)),d.props=g,d.context=j,d.refs=o,d.updater=m,this._instance=d,i.set(d,this);var q=d.state;void 0===q&&(d.state=q=null),"object"!=typeof q||Array.isArray(q)?p(!1):void 0,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,d.componentWillMount&&(d.componentWillMount(),this._pendingStateQueue&&(d.state=this._processPendingState(d.props,d.context))),void 0===f&&(f=this._renderValidatedComponent()),this._renderedComponent=this._instantiateReactComponent(f);var s=l.mountComponent(this._renderedComponent,a,b,this._processChildContext(c));return d.componentDidMount&&b.getReactMountReady().enqueue(d.componentDidMount,d),s},unmountComponent:function(){var a=this._instance;a.componentWillUnmount&&a.componentWillUnmount(),l.unmountComponent(this._renderedComponent),this._renderedComponent=null,this._instance=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._pendingCallbacks=null,this._pendingElement=null,this._context=null,this._rootNodeID=null,this._topLevelWrapper=null,i.remove(a)},_maskContext:function(a){var b=null,c=this._currentElement.type,d=c.contextTypes;if(!d)return o;b={};for(var e in d)b[e]=a[e];return b},_processContext:function(a){var b=this._maskContext(a);return b},_processChildContext:function(a){var b=this._currentElement.type,c=this._instance,d=c.getChildContext&&c.getChildContext();if(d){"object"!=typeof b.childContextTypes?p(!1):void 0;for(var e in d)e in b.childContextTypes?void 0:p(!1);return n({},a,d)}return a},_processProps:function(a){return a},_checkPropTypes:function(a,b,c){var e=this.getName();for(var f in a)if(a.hasOwnProperty(f)){var g;try{"function"!=typeof a[f]?p(!1):void 0,g=a[f](b,f,e,c)}catch(h){g=h}if(g instanceof Error){d(this);c===k.prop}}},receiveComponent:function(a,b,c){var d=this._currentElement,e=this._context;this._pendingElement=null,this.updateComponent(b,d,a,e,c)},performUpdateIfNecessary:function(a){null!=this._pendingElement&&l.receiveComponent(this,this._pendingElement||this._currentElement,a,this._context),(null!==this._pendingStateQueue||this._pendingForceUpdate)&&this.updateComponent(a,this._currentElement,this._currentElement,this._context,this._context)},updateComponent:function(a,b,c,d,e){var f,g=this._instance,h=this._context===e?g.context:this._processContext(e);b===c?f=c.props:(f=this._processProps(c.props),g.componentWillReceiveProps&&g.componentWillReceiveProps(f,h));var i=this._processPendingState(f,h),j=this._pendingForceUpdate||!g.shouldComponentUpdate||g.shouldComponentUpdate(f,i,h);j?(this._pendingForceUpdate=!1,this._performComponentUpdate(c,f,i,h,a,e)):(this._currentElement=c,this._context=e,g.props=f,g.state=i,g.context=h)},_processPendingState:function(a,b){var c=this._instance,d=this._pendingStateQueue,e=this._pendingReplaceState;if(this._pendingReplaceState=!1,this._pendingStateQueue=null,!d)return c.state;if(e&&1===d.length)return d[0];for(var f=n({},e?d[0]:c.state),g=e?1:0;g<d.length;g++){var h=d[g];n(f,"function"==typeof h?h.call(c,f,a,b):h)}return f},_performComponentUpdate:function(a,b,c,d,e,f){var g,h,i,j=this._instance,k=Boolean(j.componentDidUpdate);k&&(g=j.props,h=j.state,i=j.context),j.componentWillUpdate&&j.componentWillUpdate(b,c,d),this._currentElement=a,this._context=f,j.props=b,j.state=c,j.context=d,this._updateRenderedComponent(e,f),k&&e.getReactMountReady().enqueue(j.componentDidUpdate.bind(j,g,h,i),j)},_updateRenderedComponent:function(a,b){var c=this._renderedComponent,d=c._currentElement,e=this._renderValidatedComponent();if(q(d,e))l.receiveComponent(c,e,a,this._processChildContext(b));else{var f=this._rootNodeID,g=c._rootNodeID;l.unmountComponent(c),this._renderedComponent=this._instantiateReactComponent(e);var h=l.mountComponent(this._renderedComponent,f,a,this._processChildContext(b));this._replaceNodeWithMarkupByID(g,h)}},_replaceNodeWithMarkupByID:function(a,b){f.replaceNodeWithMarkupByID(a,b)},_renderValidatedComponentWithoutOwnerOrContext:function(){var a=this._instance,b=a.render();return b},_renderValidatedComponent:function(){var a;g.current=this;try{a=this._renderValidatedComponentWithoutOwnerOrContext()}finally{g.current=null}return null===a||a===!1||h.isValidElement(a)?void 0:p(!1),a},attachRef:function(a,b){var c=this.getPublicInstance();null==c?p(!1):void 0;var d=b.getPublicInstance(),e=c.refs===o?c.refs={}:c.refs;e[a]=d},detachRef:function(a){var b=this.getPublicInstance().refs;delete b[a]},getName:function(){var a=this._currentElement.type,b=this._instance&&this._instance.constructor;return a.displayName||b&&b.displayName||a.name||b&&b.name||null},getPublicInstance:function(){var a=this._instance;return a instanceof e?null:a},_instantiateReactComponent:null};j.measureMethods(s,"ReactCompositeComponent",{mountComponent:"mountComponent",updateComponent:"updateComponent",_renderValidatedComponent:"_renderValidatedComponent"});var t={Mixin:s};c.exports=t}(a("6")),c.exports}),$__System.registerDynamic("e2",[],!0,function(a,b,c){"use strict";function d(a){return!!g[a]}function e(a){g[a]=!0}function f(a){delete g[a]}var g={},h={isNullComponentID:d,registerNullComponentID:e,deregisterNullComponentID:f};return c.exports=h,c.exports}),$__System.registerDynamic("ee",["10","6"],!0,function(a,b,c){return function(b){"use strict";var d=a("10"),e={isValidOwner:function(a){return!(!a||"function"!=typeof a.attachRef||"function"!=typeof a.detachRef)},addComponentAsRefTo:function(a,b,c){e.isValidOwner(c)?void 0:d(!1),c.attachRef(b,a)},removeComponentAsRefFrom:function(a,b,c){e.isValidOwner(c)?void 0:d(!1),c.getPublicInstance().refs[b]===a.getPublicInstance()&&c.detachRef(b)}};c.exports=e}(a("6")),c.exports}),$__System.registerDynamic("ef",["ee","6"],!0,function(a,b,c){return function(b){"use strict";function d(a,b,c){"function"==typeof a?a(b.getPublicInstance()):f.addComponentAsRefTo(b,a,c)}function e(a,b,c){"function"==typeof a?a(null):f.removeComponentAsRefFrom(b,a,c)}var f=a("ee"),g={};g.attachRefs=function(a,b){if(null!==b&&b!==!1){var c=b.ref;null!=c&&d(c,a,b._owner)}},g.shouldUpdateRefs=function(a,b){var c=null===a||a===!1,d=null===b||b===!1;return c||d||b._owner!==a._owner||b.ref!==a.ref},g.detachRefs=function(a,b){if(null!==b&&b!==!1){var c=b.ref;null!=c&&e(c,a,b._owner)}},c.exports=g}(a("6")),c.exports}),$__System.registerDynamic("6e",["ef"],!0,function(a,b,c){"use strict";function d(){e.attachRefs(this,this._currentElement)}var e=a("ef"),f={mountComponent:function(a,b,c,e){var f=a.mountComponent(b,c,e);return a._currentElement&&null!=a._currentElement.ref&&c.getReactMountReady().enqueue(d,a),f},unmountComponent:function(a){e.detachRefs(a,a._currentElement),a.unmountComponent()},receiveComponent:function(a,b,c,f){var g=a._currentElement;if(b!==g||f!==a._context){var h=e.shouldUpdateRefs(g,b);h&&e.detachRefs(a,g),a.receiveComponent(b,c,f),h&&a._currentElement&&null!=a._currentElement.ref&&c.getReactMountReady().enqueue(d,a)}},performUpdateIfNecessary:function(a,b){a.performUpdateIfNecessary(b)}};return c.exports=f,c.exports}),$__System.registerDynamic("bd",["e1","e2","6e","d"],!0,function(a,b,c){"use strict";var d,e=a("e1"),f=a("e2"),g=a("6e"),h=a("d"),i={injectEmptyComponent:function(a){d=e.createElement(a)}},j=function(a){this._currentElement=null,this._rootNodeID=null,this._renderedComponent=a(d)};return h(j.prototype,{construct:function(a){},mountComponent:function(a,b,c){return f.registerNullComponentID(a),this._rootNodeID=a,g.mountComponent(this._renderedComponent,a,b,c)},receiveComponent:function(){},unmountComponent:function(a,b,c){g.unmountComponent(this._renderedComponent),f.deregisterNullComponentID(this._rootNodeID),this._rootNodeID=null,this._renderedComponent=null}}),j.injection=i,c.exports=j,c.exports}),$__System.registerDynamic("be",["d","10","6"],!0,function(a,b,c){return function(b){"use strict";function d(a){if("function"==typeof a.type)return a.type;var b=a.type,c=l[b];return null==c&&(l[b]=c=j(b)),c}function e(a){return k?void 0:i(!1),new k(a.type,a.props)}function f(a){return new m(a)}function g(a){return a instanceof m}var h=a("d"),i=a("10"),j=null,k=null,l={},m=null,n={injectGenericComponentClass:function(a){k=a},injectTextComponentClass:function(a){m=a},injectComponentClasses:function(a){h(l,a)}},o={getComponentClassForElement:d,createInternalComponent:e,createInstanceForText:f,isTextComponent:g,injection:n};c.exports=o}(a("6")),c.exports}),$__System.registerDynamic("9f",["ec","bd","be","d","10","72","6"],!0,function(a,b,c){return function(b){"use strict";function d(a){return"function"==typeof a&&"undefined"!=typeof a.prototype&&"function"==typeof a.prototype.mountComponent&&"function"==typeof a.prototype.receiveComponent}function e(a){var b;if(null===a||a===!1)b=new g(e);else if("object"==typeof a){var c=a;!c||"function"!=typeof c.type&&"string"!=typeof c.type?j(!1):void 0,b="string"==typeof c.type?h.createInternalComponent(c):d(c.type)?new c.type(c):new k}else"string"==typeof a||"number"==typeof a?b=h.createInstanceForText(a):j(!1);return b.construct(a),b._mountIndex=0,b._mountImage=null,b}var f=a("ec"),g=a("bd"),h=a("be"),i=a("d"),j=a("10"),k=(a("72"),function(){});i(k.prototype,f.Mixin,{_instantiateReactComponent:e}),c.exports=e}(a("6")),c.exports}),$__System.registerDynamic("f0",["e8","e1","6c","e3","ea","eb","6f","e4","9f","10","6"],!0,function(a,b,c){return function(b){"use strict";function d(a){g.isValidElement(a)?void 0:o(!1);var b;try{l.injection.injectBatchingStrategy(j);var c=h.createReactRootID();return b=k.getPooled(!1),b.perform(function(){var d=n(a,null),e=d.mountComponent(c,b,m);return i.addChecksumToMarkup(e)},null)}finally{k.release(b),l.injection.injectBatchingStrategy(f)}}function e(a){g.isValidElement(a)?void 0:o(!1);var b;try{l.injection.injectBatchingStrategy(j);var c=h.createReactRootID();return b=k.getPooled(!0),b.perform(function(){var d=n(a,null);return d.mountComponent(c,b,m)},null)}finally{k.release(b),l.injection.injectBatchingStrategy(f)}}var f=a("e8"),g=a("e1"),h=a("6c"),i=a("e3"),j=a("ea"),k=a("eb"),l=a("6f"),m=a("e4"),n=a("9f"),o=a("10");c.exports={renderToString:d,renderToStaticMarkup:e}}(a("6")),c.exports}),$__System.registerDynamic("f1",["6b","f0","70"],!0,function(a,b,c){"use strict";var d=a("6b"),e=a("f0"),f=a("70");d.inject();var g={renderToString:e.renderToString,renderToStaticMarkup:e.renderToStaticMarkup,version:f};return c.exports=g,c.exports}),$__System.registerDynamic("74",["10","6"],!0,function(a,b,c){return function(b){"use strict";var d=a("10"),e=function(a){var b=this;if(b.instancePool.length){var c=b.instancePool.pop();return b.call(c,a),c}return new b(a)},f=function(a,b){var c=this;if(c.instancePool.length){var d=c.instancePool.pop();return c.call(d,a,b),d}return new c(a,b)},g=function(a,b,c){var d=this;if(d.instancePool.length){var e=d.instancePool.pop();return d.call(e,a,b,c),e}return new d(a,b,c)},h=function(a,b,c,d){var e=this;if(e.instancePool.length){var f=e.instancePool.pop();return e.call(f,a,b,c,d),f}return new e(a,b,c,d)},i=function(a,b,c,d,e){var f=this;if(f.instancePool.length){var g=f.instancePool.pop();return f.call(g,a,b,c,d,e),g}return new f(a,b,c,d,e)},j=function(a){var b=this;a instanceof b?void 0:d(!1),a.destructor(),b.instancePool.length<b.poolSize&&b.instancePool.push(a)},k=10,l=e,m=function(a,b){var c=a;return c.instancePool=[],c.getPooled=b||l,c.poolSize||(c.poolSize=k),c.release=j,c},n={addPoolingTo:m,oneArgumentPooler:e,twoArgumentPooler:f,threeArgumentPooler:g,fourArgumentPooler:h,fiveArgumentPooler:i};c.exports=n}(a("6")),c.exports}),$__System.registerDynamic("bf",[],!0,function(a,b,c){"use strict";var d={injectCreateReactRootIndex:function(a){e.createReactRootIndex=a}},e={createReactRootIndex:null,injection:d};return c.exports=e,c.exports}),$__System.registerDynamic("6c",["bf","10","6"],!0,function(a,b,c){return function(b){"use strict";function d(a){return n+a.toString(36)}function e(a,b){return a.charAt(b)===n||b===a.length}function f(a){return""===a||a.charAt(0)===n&&a.charAt(a.length-1)!==n}function g(a,b){return 0===b.indexOf(a)&&e(b,a.length)}function h(a){return a?a.substr(0,a.lastIndexOf(n)):""}function i(a,b){if(f(a)&&f(b)?void 0:m(!1),g(a,b)?void 0:m(!1),a===b)return a;var c,d=a.length+o;for(c=d;c<b.length&&!e(b,c);c++);return b.substr(0,c)}function j(a,b){var c=Math.min(a.length,b.length);if(0===c)return"";for(var d=0,g=0;c>=g;g++)if(e(a,g)&&e(b,g))d=g;else if(a.charAt(g)!==b.charAt(g))break;var h=a.substr(0,d);return f(h)?void 0:m(!1),h}function k(a,b,c,d,e,f){a=a||"",b=b||"",a===b?m(!1):void 0;var j=g(b,a);j||g(a,b)?void 0:m(!1);for(var k=0,l=j?h:i,n=a;;n=l(n,b)){var o;if(e&&n===a||f&&n===b||(o=c(n,j,d)),o===!1||n===b)break;k++<p?void 0:m(!1)}}var l=a("bf"),m=a("10"),n=".",o=n.length,p=1e4,q={createReactRootID:function(){return d(l.createReactRootIndex())},createReactID:function(a,b){return a+b},getReactRootIDFromNodeID:function(a){if(a&&a.charAt(0)===n&&a.length>1){var b=a.indexOf(n,1);return b>-1?a.substr(0,b):a}return null},traverseEnterLeave:function(a,b,c,d,e){var f=j(a,b);f!==a&&k(a,f,c,d,!1,!0),f!==b&&k(f,b,c,e,!0,!1)},traverseTwoPhase:function(a,b,c){
a&&(k("",a,b,c,!0,!1),k(a,"",b,c,!1,!0))},traverseTwoPhaseSkipTarget:function(a,b,c){a&&(k("",a,b,c,!0,!0),k(a,"",b,c,!0,!0))},traverseAncestors:function(a,b,c){k("",a,b,c,!0,!1)},getFirstCommonAncestorID:j,_getNextDescendantID:i,isAncestorIDOf:g,SEPARATOR:n};c.exports=q}(a("6")),c.exports}),$__System.registerDynamic("a1",["69","e1","6c","f2","10","72","6"],!0,function(a,b,c){return function(b){"use strict";function d(a){return p[a]}function e(a,b){return a&&null!=a.key?g(a.key):b.toString(36)}function f(a){return(""+a).replace(q,d)}function g(a){return"$"+f(a)}function h(a,b,c,d){var f=typeof a;if("undefined"!==f&&"boolean"!==f||(a=null),null===a||"string"===f||"number"===f||j.isValidElement(a))return c(d,a,""===b?n+e(a,0):b),1;var i,k,p=0,q=""===b?n:b+o;if(Array.isArray(a))for(var r=0;r<a.length;r++)i=a[r],k=q+e(i,r),p+=h(i,k,c,d);else{var s=l(a);if(s){var t,u=s.call(a);if(s!==a.entries)for(var v=0;!(t=u.next()).done;)i=t.value,k=q+e(i,v++),p+=h(i,k,c,d);else for(;!(t=u.next()).done;){var w=t.value;w&&(i=w[1],k=q+g(w[0])+o+e(i,0),p+=h(i,k,c,d))}}else if("object"===f){String(a);m(!1)}}return p}function i(a,b,c){return null==a?0:h(a,"",b,c)}var j=(a("69"),a("e1")),k=a("6c"),l=a("f2"),m=a("10"),n=(a("72"),k.SEPARATOR),o=":",p={"=":"=0",".":"=1",":":"=2"},q=/[=.:]/g;c.exports=i}(a("6")),c.exports}),$__System.registerDynamic("99",["74","e1","e","a1"],!0,function(a,b,c){"use strict";function d(a){return(""+a).replace(u,"//")}function e(a,b){this.func=a,this.context=b,this.count=0}function f(a,b,c){var d=a.func,e=a.context;d.call(e,b,a.count++)}function g(a,b,c){if(null==a)return a;var d=e.getPooled(b,c);r(a,f,d),e.release(d)}function h(a,b,c,d){this.result=a,this.keyPrefix=b,this.func=c,this.context=d,this.count=0}function i(a,b,c){var e=a.result,f=a.keyPrefix,g=a.func,h=a.context,i=g.call(h,b,a.count++);Array.isArray(i)?j(i,e,c,q.thatReturnsArgument):null!=i&&(p.isValidElement(i)&&(i=p.cloneAndReplaceKey(i,f+(i!==b?d(i.key||"")+"/":"")+c)),e.push(i))}function j(a,b,c,e,f){var g="";null!=c&&(g=d(c)+"/");var j=h.getPooled(b,g,e,f);r(a,i,j),h.release(j)}function k(a,b,c){if(null==a)return a;var d=[];return j(a,d,null,b,c),d}function l(a,b,c){return null}function m(a,b){return r(a,l,null)}function n(a){var b=[];return j(a,b,null,q.thatReturnsArgument),b}var o=a("74"),p=a("e1"),q=a("e"),r=a("a1"),s=o.twoArgumentPooler,t=o.fourArgumentPooler,u=/\/(?!\/)/g;e.prototype.destructor=function(){this.func=null,this.context=null,this.count=0},o.addPoolingTo(e,s),h.prototype.destructor=function(){this.result=null,this.keyPrefix=null,this.func=null,this.context=null,this.count=0},o.addPoolingTo(h,t);var v={forEach:g,map:k,mapIntoWithKeyPrefixInternal:j,count:m,toArray:n};return c.exports=v,c.exports}),$__System.registerDynamic("f3",["f4","aa","e4","10","72","6"],!0,function(a,b,c){return function(b){"use strict";function d(a,b,c){this.props=a,this.context=b,this.refs=f,this.updater=c||e}var e=a("f4"),f=(a("aa"),a("e4")),g=a("10");a("72");d.prototype.isReactComponent={},d.prototype.setState=function(a,b){"object"!=typeof a&&"function"!=typeof a&&null!=a?g(!1):void 0,this.updater.enqueueSetState(this,a),b&&this.updater.enqueueCallback(this,b)},d.prototype.forceUpdate=function(a){this.updater.enqueueForceUpdate(this),a&&this.updater.enqueueCallback(this,a)};c.exports=d}(a("6")),c.exports}),$__System.registerDynamic("f4",["72","6"],!0,function(a,b,c){return function(b){"use strict";function d(a,b){}var e=(a("72"),{isMounted:function(a){return!1},enqueueCallback:function(a,b){},enqueueForceUpdate:function(a){d(a,"forceUpdate")},enqueueReplaceState:function(a,b){d(a,"replaceState")},enqueueSetState:function(a,b){d(a,"setState")},enqueueSetProps:function(a,b){d(a,"setProps")},enqueueReplaceProps:function(a,b){d(a,"replaceProps")}});c.exports=e}(a("6")),c.exports}),$__System.registerDynamic("e4",["6"],!0,function(a,b,c){return function(a){"use strict";var b={};c.exports=b}(a("6")),c.exports}),$__System.registerDynamic("7c",[],!0,function(a,b,c){"use strict";var d=function(a){var b;for(b in a)if(a.hasOwnProperty(b))return b;return null};return c.exports=d,c.exports}),$__System.registerDynamic("bc",["f3","e1","9c","ed","f4","d","e4","10","b5","7c","72","6"],!0,function(a,b,c){return function(b){"use strict";function d(a,b){var c=w.hasOwnProperty(b)?w[b]:null;y.hasOwnProperty(b)&&(c!==u.OVERRIDE_BASE?q(!1):void 0),a.hasOwnProperty(b)&&(c!==u.DEFINE_MANY&&c!==u.DEFINE_MANY_MERGED?q(!1):void 0)}function e(a,b){if(b){"function"==typeof b?q(!1):void 0,m.isValidElement(b)?q(!1):void 0;var c=a.prototype;b.hasOwnProperty(t)&&x.mixins(a,b.mixins);for(var e in b)if(b.hasOwnProperty(e)&&e!==t){var f=b[e];if(d(c,e),x.hasOwnProperty(e))x[e](a,f);else{var g=w.hasOwnProperty(e),j=c.hasOwnProperty(e),k="function"==typeof f,l=k&&!g&&!j&&b.autobind!==!1;if(l)c.__reactAutoBindMap||(c.__reactAutoBindMap={}),c.__reactAutoBindMap[e]=f,c[e]=f;else if(j){var n=w[e];!g||n!==u.DEFINE_MANY_MERGED&&n!==u.DEFINE_MANY?q(!1):void 0,n===u.DEFINE_MANY_MERGED?c[e]=h(c[e],f):n===u.DEFINE_MANY&&(c[e]=i(c[e],f))}else c[e]=f}}}}function f(a,b){if(b)for(var c in b){var d=b[c];if(b.hasOwnProperty(c)){var e=c in x;e?q(!1):void 0;var f=c in a;f?q(!1):void 0,a[c]=d}}}function g(a,b){a&&b&&"object"==typeof a&&"object"==typeof b?void 0:q(!1);for(var c in b)b.hasOwnProperty(c)&&(void 0!==a[c]?q(!1):void 0,a[c]=b[c]);return a}function h(a,b){return function(){var c=a.apply(this,arguments),d=b.apply(this,arguments);if(null==c)return d;if(null==d)return c;var e={};return g(e,c),g(e,d),e}}function i(a,b){return function(){a.apply(this,arguments),b.apply(this,arguments)}}function j(a,b){var c=b.bind(a);return c}function k(a){for(var b in a.__reactAutoBindMap)if(a.__reactAutoBindMap.hasOwnProperty(b)){var c=a.__reactAutoBindMap[b];a[b]=j(a,c)}}var l=a("f3"),m=a("e1"),n=(a("9c"),a("ed"),a("f4")),o=a("d"),p=a("e4"),q=a("10"),r=a("b5"),s=a("7c"),t=(a("72"),s({mixins:null})),u=r({DEFINE_ONCE:null,DEFINE_MANY:null,OVERRIDE_BASE:null,DEFINE_MANY_MERGED:null}),v=[],w={mixins:u.DEFINE_MANY,statics:u.DEFINE_MANY,propTypes:u.DEFINE_MANY,contextTypes:u.DEFINE_MANY,childContextTypes:u.DEFINE_MANY,getDefaultProps:u.DEFINE_MANY_MERGED,getInitialState:u.DEFINE_MANY_MERGED,getChildContext:u.DEFINE_MANY_MERGED,render:u.DEFINE_ONCE,componentWillMount:u.DEFINE_MANY,componentDidMount:u.DEFINE_MANY,componentWillReceiveProps:u.DEFINE_MANY,shouldComponentUpdate:u.DEFINE_ONCE,componentWillUpdate:u.DEFINE_MANY,componentDidUpdate:u.DEFINE_MANY,componentWillUnmount:u.DEFINE_MANY,updateComponent:u.OVERRIDE_BASE},x={displayName:function(a,b){a.displayName=b},mixins:function(a,b){if(b)for(var c=0;c<b.length;c++)e(a,b[c])},childContextTypes:function(a,b){a.childContextTypes=o({},a.childContextTypes,b)},contextTypes:function(a,b){a.contextTypes=o({},a.contextTypes,b)},getDefaultProps:function(a,b){a.getDefaultProps?a.getDefaultProps=h(a.getDefaultProps,b):a.getDefaultProps=b},propTypes:function(a,b){a.propTypes=o({},a.propTypes,b)},statics:function(a,b){f(a,b)},autobind:function(){}},y={replaceState:function(a,b){this.updater.enqueueReplaceState(this,a),b&&this.updater.enqueueCallback(this,b)},isMounted:function(){return this.updater.isMounted(this)},setProps:function(a,b){this.updater.enqueueSetProps(this,a),b&&this.updater.enqueueCallback(this,b)},replaceProps:function(a,b){this.updater.enqueueReplaceProps(this,a),b&&this.updater.enqueueCallback(this,b)}},z=function(){};o(z.prototype,l.prototype,y);var A={createClass:function(a){var b=function(a,b,c){this.__reactAutoBindMap&&k(this),this.props=a,this.context=b,this.refs=p,this.updater=c||n,this.state=null;var d=this.getInitialState?this.getInitialState():null;"object"!=typeof d||Array.isArray(d)?q(!1):void 0,this.state=d};b.prototype=new z,b.prototype.constructor=b,v.forEach(e.bind(null,b)),e(b,a),b.getDefaultProps&&(b.defaultProps=b.getDefaultProps()),b.prototype.render?void 0:q(!1);for(var c in w)b.prototype[c]||(b.prototype[c]=null);return b},injection:{injectMixin:function(a){v.push(a)}}};c.exports=A}(a("6")),c.exports}),$__System.registerDynamic("f5",[],!0,function(a,b,c){"use strict";function d(a,b,c){if(!a)return null;var d={};for(var f in a)e.call(a,f)&&(d[f]=b.call(c,a[f],f,a));return d}var e=Object.prototype.hasOwnProperty;return c.exports=d,c.exports}),$__System.registerDynamic("f6",["e1","f7","f5","6"],!0,function(a,b,c){return function(b){"use strict";function d(a){return e.createFactory(a)}var e=a("e1"),f=(a("f7"),a("f5")),g=f({a:"a",abbr:"abbr",address:"address",area:"area",article:"article",aside:"aside",audio:"audio",b:"b",base:"base",bdi:"bdi",bdo:"bdo",big:"big",blockquote:"blockquote",body:"body",br:"br",button:"button",canvas:"canvas",caption:"caption",cite:"cite",code:"code",col:"col",colgroup:"colgroup",data:"data",datalist:"datalist",dd:"dd",del:"del",details:"details",dfn:"dfn",dialog:"dialog",div:"div",dl:"dl",dt:"dt",em:"em",embed:"embed",fieldset:"fieldset",figcaption:"figcaption",figure:"figure",footer:"footer",form:"form",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",head:"head",header:"header",hgroup:"hgroup",hr:"hr",html:"html",i:"i",iframe:"iframe",img:"img",input:"input",ins:"ins",kbd:"kbd",keygen:"keygen",label:"label",legend:"legend",li:"li",link:"link",main:"main",map:"map",mark:"mark",menu:"menu",menuitem:"menuitem",meta:"meta",meter:"meter",nav:"nav",noscript:"noscript",object:"object",ol:"ol",optgroup:"optgroup",option:"option",output:"output",p:"p",param:"param",picture:"picture",pre:"pre",progress:"progress",q:"q",rp:"rp",rt:"rt",ruby:"ruby",s:"s",samp:"samp",script:"script",section:"section",select:"select",small:"small",source:"source",span:"span",strong:"strong",style:"style",sub:"sub",summary:"summary",sup:"sup",table:"table",tbody:"tbody",td:"td",textarea:"textarea",tfoot:"tfoot",th:"th",thead:"thead",time:"time",title:"title",tr:"tr",track:"track",u:"u",ul:"ul","var":"var",video:"video",wbr:"wbr",circle:"circle",clipPath:"clipPath",defs:"defs",ellipse:"ellipse",g:"g",image:"image",line:"line",linearGradient:"linearGradient",mask:"mask",path:"path",pattern:"pattern",polygon:"polygon",polyline:"polyline",radialGradient:"radialGradient",rect:"rect",stop:"stop",svg:"svg",text:"text",tspan:"tspan"},d);c.exports=g}(a("6")),c.exports}),$__System.registerDynamic("b5",["10","6"],!0,function(a,b,c){return function(b){"use strict";var d=a("10"),e=function(a){var b,c={};a instanceof Object&&!Array.isArray(a)?void 0:d(!1);for(b in a)a.hasOwnProperty(b)&&(c[b]=b);return c};c.exports=e}(a("6")),c.exports}),$__System.registerDynamic("9c",["b5"],!0,function(a,b,c){"use strict";var d=a("b5"),e=d({prop:null,context:null,childContext:null});return c.exports=e,c.exports}),$__System.registerDynamic("f7",["e1","9c","ed","69","aa","f2","10","72","6"],!0,function(a,b,c){return function(b){"use strict";function d(){if(l.current){var a=l.current.getName();if(a)return" Check the render method of `"+a+"`."}return""}function e(a,b){if(a._store&&!a._store.validated&&null==a.key){a._store.validated=!0;f("uniqueKey",a,b)}}function f(a,b,c){var e=d();if(!e){var f="string"==typeof c?c:c.displayName||c.name;f&&(e=" Check the top-level render call using <"+f+">.")}var g=o[a]||(o[a]={});if(g[e])return null;g[e]=!0;var h={parentOrOwner:e,url:" See https://fb.me/react-warning-keys for more information.",childOwner:null};return b&&b._owner&&b._owner!==l.current&&(h.childOwner=" It was passed a child from "+b._owner.getName()+"."),h}function g(a,b){if("object"==typeof a)if(Array.isArray(a))for(var c=0;c<a.length;c++){var d=a[c];j.isValidElement(d)&&e(d,b)}else if(j.isValidElement(a))a._store&&(a._store.validated=!0);else if(a){var f=m(a);if(f&&f!==a.entries)for(var g,h=f.call(a);!(g=h.next()).done;)j.isValidElement(g.value)&&e(g.value,b)}}function h(a,b,c,e){for(var f in b)if(b.hasOwnProperty(f)){var g;try{"function"!=typeof b[f]?n(!1):void 0,g=b[f](c,f,a,e)}catch(h){g=h}if(g instanceof Error&&!(g.message in p)){p[g.message]=!0;d()}}}function i(a){var b=a.type;if("function"==typeof b){var c=b.displayName||b.name;b.propTypes&&h(c,b.propTypes,a.props,k.prop),"function"==typeof b.getDefaultProps}}var j=a("e1"),k=a("9c"),l=(a("ed"),a("69")),m=(a("aa"),a("f2")),n=a("10"),o=(a("72"),{}),p={},q={createElement:function(a,b,c){var d="string"==typeof a||"function"==typeof a,e=j.createElement.apply(this,arguments);if(null==e)return e;if(d)for(var f=2;f<arguments.length;f++)g(arguments[f],a);return i(e),e},createFactory:function(a){var b=q.createElement.bind(null,a);return b.type=a,b},cloneElement:function(a,b,c){for(var d=j.cloneElement.apply(this,arguments),e=2;e<arguments.length;e++)g(arguments[e],d.type);return i(d),d}};c.exports=q}(a("6")),c.exports}),$__System.registerDynamic("ed",["6"],!0,function(a,b,c){return function(a){"use strict";var b={};c.exports=b}(a("6")),c.exports}),$__System.registerDynamic("f2",[],!0,function(a,b,c){"use strict";function d(a){var b=a&&(e&&a[e]||a[f]);return"function"==typeof b?b:void 0}var e="function"==typeof Symbol&&Symbol.iterator,f="@@iterator";return c.exports=d,c.exports}),$__System.registerDynamic("9b",["e1","ed","e","f2"],!0,function(a,b,c){"use strict";function d(a){function b(b,c,d,e,f,g){if(e=e||w,g=g||d,null==c[d]){var h=t[f];return b?new Error("Required "+h+" `"+g+"` was not specified in "+("`"+e+"`.")):null}return a(c,d,e,f,g)}var c=b.bind(null,!1);return c.isRequired=b.bind(null,!0),c}function e(a){function b(b,c,d,e,f){var g=b[c],h=p(g);if(h!==a){var i=t[e],j=q(g);return new Error("Invalid "+i+" `"+f+"` of type "+("`"+j+"` supplied to `"+d+"`, expected ")+("`"+a+"`."))}return null}return d(b)}function f(){return d(u.thatReturns(null))}function g(a){function b(b,c,d,e,f){var g=b[c];if(!Array.isArray(g)){var h=t[e],i=p(g);return new Error("Invalid "+h+" `"+f+"` of type "+("`"+i+"` supplied to `"+d+"`, expected an array."))}for(var j=0;j<g.length;j++){var k=a(g,j,d,e,f+"["+j+"]");if(k instanceof Error)return k}return null}return d(b)}function h(){function a(a,b,c,d,e){if(!s.isValidElement(a[b])){var f=t[d];return new Error("Invalid "+f+" `"+e+"` supplied to "+("`"+c+"`, expected a single ReactElement."))}return null}return d(a)}function i(a){function b(b,c,d,e,f){if(!(b[c]instanceof a)){var g=t[e],h=a.name||w,i=r(b[c]);return new Error("Invalid "+g+" `"+f+"` of type "+("`"+i+"` supplied to `"+d+"`, expected ")+("instance of `"+h+"`."))}return null}return d(b)}function j(a){function b(b,c,d,e,f){for(var g=b[c],h=0;h<a.length;h++)if(g===a[h])return null;var i=t[e],j=JSON.stringify(a);return new Error("Invalid "+i+" `"+f+"` of value `"+g+"` "+("supplied to `"+d+"`, expected one of "+j+"."))}return d(Array.isArray(a)?b:function(){return new Error("Invalid argument supplied to oneOf, expected an instance of array.")})}function k(a){function b(b,c,d,e,f){var g=b[c],h=p(g);if("object"!==h){var i=t[e];return new Error("Invalid "+i+" `"+f+"` of type "+("`"+h+"` supplied to `"+d+"`, expected an object."))}for(var j in g)if(g.hasOwnProperty(j)){var k=a(g,j,d,e,f+"."+j);if(k instanceof Error)return k}return null}return d(b)}function l(a){function b(b,c,d,e,f){for(var g=0;g<a.length;g++){var h=a[g];if(null==h(b,c,d,e,f))return null}var i=t[e];return new Error("Invalid "+i+" `"+f+"` supplied to "+("`"+d+"`."))}return d(Array.isArray(a)?b:function(){return new Error("Invalid argument supplied to oneOfType, expected an instance of array.")})}function m(){function a(a,b,c,d,e){if(!o(a[b])){var f=t[d];return new Error("Invalid "+f+" `"+e+"` supplied to "+("`"+c+"`, expected a ReactNode."))}return null}return d(a)}function n(a){function b(b,c,d,e,f){var g=b[c],h=p(g);if("object"!==h){var i=t[e];return new Error("Invalid "+i+" `"+f+"` of type `"+h+"` "+("supplied to `"+d+"`, expected `object`."))}for(var j in a){var k=a[j];if(k){var l=k(g,j,d,e,f+"."+j);if(l)return l}}return null}return d(b)}function o(a){switch(typeof a){case"number":case"string":case"undefined":return!0;case"boolean":return!a;case"object":if(Array.isArray(a))return a.every(o);if(null===a||s.isValidElement(a))return!0;var b=v(a);if(!b)return!1;var c,d=b.call(a);if(b!==a.entries){for(;!(c=d.next()).done;)if(!o(c.value))return!1}else for(;!(c=d.next()).done;){var e=c.value;if(e&&!o(e[1]))return!1}return!0;default:return!1}}function p(a){var b=typeof a;return Array.isArray(a)?"array":a instanceof RegExp?"object":b}function q(a){var b=p(a);if("object"===b){if(a instanceof Date)return"date";if(a instanceof RegExp)return"regexp"}return b}function r(a){return a.constructor&&a.constructor.name?a.constructor.name:"<<anonymous>>"}var s=a("e1"),t=a("ed"),u=a("e"),v=a("f2"),w="<<anonymous>>",x={array:e("array"),bool:e("boolean"),func:e("function"),number:e("number"),object:e("object"),string:e("string"),any:f(),arrayOf:g,element:h(),instanceOf:i,node:m(),objectOf:k,oneOf:j,oneOfType:l,shape:n};return c.exports=x,c.exports}),$__System.registerDynamic("70",[],!0,function(a,b,c){"use strict";return c.exports="0.14.7",c.exports}),$__System.registerDynamic("69",[],!0,function(a,b,c){"use strict";var d={current:null};return c.exports=d,c.exports}),$__System.registerDynamic("aa",["6"],!0,function(a,b,c){return function(a){"use strict";var b=!1;c.exports=b}(a("6")),c.exports}),$__System.registerDynamic("e1",["69","d","aa","6"],!0,function(a,b,c){return function(b){"use strict";var d=a("69"),e=a("d"),f=(a("aa"),"function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103),g={key:!0,ref:!0,__self:!0,__source:!0},h=function(a,b,c,d,e,g,h){var i={$$typeof:f,type:a,key:b,ref:c,props:h,_owner:g};return i};h.createElement=function(a,b,c){var e,f={},i=null,j=null,k=null,l=null;if(null!=b){j=void 0===b.ref?null:b.ref,i=void 0===b.key?null:""+b.key,k=void 0===b.__self?null:b.__self,l=void 0===b.__source?null:b.__source;for(e in b)b.hasOwnProperty(e)&&!g.hasOwnProperty(e)&&(f[e]=b[e])}var m=arguments.length-2;if(1===m)f.children=c;else if(m>1){for(var n=Array(m),o=0;m>o;o++)n[o]=arguments[o+2];f.children=n}if(a&&a.defaultProps){var p=a.defaultProps;for(e in p)"undefined"==typeof f[e]&&(f[e]=p[e])}return h(a,i,j,k,l,d.current,f)},h.createFactory=function(a){var b=h.createElement.bind(null,a);return b.type=a,b},h.cloneAndReplaceKey=function(a,b){var c=h(a.type,b,a.ref,a._self,a._source,a._owner,a.props);return c},h.cloneAndReplaceProps=function(a,b){var c=h(a.type,a.key,a.ref,a._self,a._source,a._owner,b);return c},h.cloneElement=function(a,b,c){var f,i=e({},a.props),j=a.key,k=a.ref,l=a._self,m=a._source,n=a._owner;if(null!=b){void 0!==b.ref&&(k=b.ref,n=d.current),void 0!==b.key&&(j=""+b.key);for(f in b)b.hasOwnProperty(f)&&!g.hasOwnProperty(f)&&(i[f]=b[f])}var o=arguments.length-2;if(1===o)i.children=c;else if(o>1){for(var p=Array(o),q=0;o>q;q++)p[q]=arguments[q+2];i.children=p}return h(a.type,j,k,l,m,n,i)},h.isValidElement=function(a){return"object"==typeof a&&null!==a&&a.$$typeof===f},c.exports=h}(a("6")),c.exports}),$__System.registerDynamic("10",["6"],!0,function(a,b,c){return function(a){"use strict";function b(a,b,c,d,e,f,g,h){if(!a){var i;if(void 0===b)i=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var j=[c,d,e,f,g,h],k=0;i=new Error(b.replace(/%s/g,function(){return j[k++]})),i.name="Invariant Violation"}throw i.framesToPop=1,i}}c.exports=b}(a("6")),c.exports}),$__System.registerDynamic("14",["e1","10","6"],!0,function(a,b,c){return function(b){"use strict";function d(a){return e.isValidElement(a)?void 0:f(!1),a}var e=a("e1"),f=a("10");c.exports=d}(a("6")),c.exports}),$__System.registerDynamic("f8",["99","f3","bc","f6","e1","f7","9b","70","d","14","6"],!0,function(a,b,c){return function(b){"use strict";var d=a("99"),e=a("f3"),f=a("bc"),g=a("f6"),h=a("e1"),i=(a("f7"),a("9b")),j=a("70"),k=a("d"),l=a("14"),m=h.createElement,n=h.createFactory,o=h.cloneElement,p={Children:{map:d.map,forEach:d.forEach,count:d.count,toArray:d.toArray,only:l},Component:e,createElement:m,cloneElement:o,isValidElement:h.isValidElement,PropTypes:i,createClass:f.createClass,createFactory:n,createMixin:function(a){return a},DOM:g,version:j,__spread:k};c.exports=p}(a("6")),c.exports}),$__System.registerDynamic("d",[],!0,function(a,b,c){"use strict";function d(a,b){if(null==a)throw new TypeError("Object.assign target cannot be null or undefined");for(var c=Object(a),d=Object.prototype.hasOwnProperty,e=1;e<arguments.length;e++){var f=arguments[e];if(null!=f){var g=Object(f);for(var h in g)d.call(g,h)&&(c[h]=g[h])}}return c}return c.exports=d,c.exports}),$__System.registerDynamic("e",[],!0,function(a,b,c){"use strict";function d(a){return function(){return a}}function e(){}return e.thatReturns=d,e.thatReturnsFalse=d(!1),e.thatReturnsTrue=d(!0),e.thatReturnsNull=d(null),e.thatReturnsThis=function(){return this},e.thatReturnsArgument=function(a){return a},c.exports=e,c.exports}),$__System.registerDynamic("72",["e","6"],!0,function(a,b,c){return function(b){"use strict";var d=a("e"),e=d;c.exports=e}(a("6")),c.exports}),$__System.registerDynamic("f9",["d","72","6"],!0,function(a,b,c){return function(b){"use strict";function d(a,b,c,d,e){return e}a("d"),a("72");c.exports=d}(a("6")),c.exports}),$__System.registerDynamic("c",["3","f1","f8","d","f9"],!0,function(a,b,c){"use strict";var d=a("3"),e=a("f1"),f=a("f8"),g=a("d"),h=a("f9"),i={};return g(i,f),g(i,{findDOMNode:h("findDOMNode","ReactDOM","react-dom",d,d.findDOMNode),render:h("render","ReactDOM","react-dom",d,d.render),unmountComponentAtNode:h("unmountComponentAtNode","ReactDOM","react-dom",d,d.unmountComponentAtNode),renderToString:h("renderToString","ReactDOMServer","react-dom/server",e,e.renderToString),renderToStaticMarkup:h("renderToStaticMarkup","ReactDOMServer","react-dom/server",e,e.renderToStaticMarkup)}),i.__SECRET_DOM_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=d,i.__SECRET_DOM_SERVER_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=e,c.exports=i,c.exports}),$__System.registerDynamic("fa",["c"],!0,function(a,b,c){"use strict";return c.exports=a("c"),c.exports}),$__System.registerDynamic("28",["fa"],!0,function(a,b,c){return c.exports=a("fa"),c.exports}),$__System.register("fb",["28"],function(a){"use strict";var b,c;return{setters:[function(a){b=a["default"]}],execute:function(){c=function(a){function c(){babelHelpers.classCallCheck(this,c),babelHelpers.get(Object.getPrototypeOf(c.prototype),"constructor",this).apply(this,arguments)}return babelHelpers.inherits(c,a),babelHelpers.createClass(c,[{key:"render",value:function(){var a=this;return b.createElement("button",{role:"radio","aria-checked":this.props.myKey===this.props.activeSlide?"true":"false","aria-label":this.props.slideTitle,"aria-controls":"hero-slide-one",title:this.props.slideTitle,onClick:function(){return a.props._updateSlide(a.props.myKey)},onTouchEnd:function(){return a.props._updateSlide(a.props.myKey)}})}}]),c}(b.Component),a("default",c)}}}),$__System.register("fc",[],function(){return{setters:[],execute:function(){}}}),$__System.registerDynamic("fd",[],!0,function(a,b,c){var d;return function(){"use strict";function a(){for(var c="",d=0;d<arguments.length;d++){var e=arguments[d];if(e){var f=typeof e;if("string"===f||"number"===f)c+=" "+e;else if(Array.isArray(e))c+=" "+a.apply(null,e);else if("object"===f)for(var g in e)b.call(e,g)&&e[g]&&(c+=" "+g)}}return c.substr(1)}var b={}.hasOwnProperty;"undefined"!=typeof c&&c.exports?c.exports=a:"function"==typeof d&&"object"==typeof d.amd&&d.amd?d("classnames",[],function(){return a}):window.classNames=a}(),c.exports}),$__System.registerDynamic("63",["fd"],!0,function(a,b,c){return c.exports=a("fd"),c.exports}),$__System.register("fe",["28","63","66","fb","fc"],function(a){"use strict";var b,c,d,e,f;return{setters:[function(a){b=a["default"]},function(a){c=a["default"]},function(a){d=a["default"]},function(a){e=a["default"]},function(a){}],execute:function(){f=function(a){function f(a){babelHelpers.classCallCheck(this,f),babelHelpers.get(Object.getPrototypeOf(f.prototype),"constructor",this).call(this,a),this.state={activeSlide:0,slideDirection:"next"}}return babelHelpers.inherits(f,a),babelHelpers.createClass(f,[{key:"_updateSlide",value:function(a){this.setState({activeSlide:a})}},{key:"_nextSlide",value:function(a,b){this.setState({slideDirection:b}),this.state.activeSlide<this.props.slides.length-1&&"next"===b?this.setState({activeSlide:a+1}):this.state.activeSlide===this.props.slides.length-1&&"next"===b&&this.setState({activeSlide:0}),this.state.activeSlide>0&&"previous"===b?this.setState({activeSlide:a-1}):0===this.state.activeSlide&&"previous"===b&&this.setState({activeSlide:this.props.slides.length-1})}},{key:"_isFullScreen",value:function(){return"true"===this.props.fullscreen?"f-fullscreen":""}},{key:"render",value:function(){var a=this,f={TouchAction:"pan-y",WebkitUserSelect:"none",WebkitUserDrag:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},g=c(this._isFullScreen(),"c-carousel f-multi-slide theme-dark f-scrollable-previous f-scrollable-next");return b.createElement("div",{className:g,role:"region","aria-label":"New Products",style:f},b.createElement("button",{onClick:function(){return a._nextSlide(a.state.activeSlide,"previous")},onTouchEnd:function(){return a._nextSlide(a.state.activeSlide,"previous")},className:"c-flipper f-left","aria-label":"View previous",title:"View previous"}),b.createElement("button",{onClick:function(){return a._nextSlide(a.state.activeSlide,"next")},onTouchEnd:function(){return a._nextSlide(a.state.activeSlide,"next")},className:"c-flipper f-right","aria-label":"View next",title:"View next"}),b.createElement("div",null,b.createElement("ul",null,this.props.slides.map(function(a,c){return b.createElement(d,{key:a.id,slideTitle:a.title,slideSubTitle:a.subTitle,vp4:a.vp4,vp3:a.vp3,vp2:a.vp2,slideButton:a.buttonText,activeSlide:this.state.activeSlide,myKey:c,slideDirection:this.state.slideDirection})},this))),b.createElement("div",{className:"c-sequence-indicator",role:"radiogroup"},this.props.slides.map(function(a,c){return b.createElement(e,{key:a.id,slideTitle:a.title,activeSlide:this.state.activeSlide,myKey:c,updateSlide:this._updateSlide})},this)))}}]),f}(b.Component),a("default",f)}}}),$__System.registerDynamic("ff",[],!0,function(a,b,c){function d(a){return j===setTimeout?setTimeout(a,0):j.call(null,a,0)}function e(a){k===clearTimeout?clearTimeout(a):k.call(null,a)}function f(){o&&m&&(o=!1,m.length?n=m.concat(n):p=-1,n.length&&g())}function g(){if(!o){var a=d(f);o=!0;for(var b=n.length;b;){for(m=n,n=[];++p<b;)m&&m[p].run();p=-1,b=n.length}m=null,o=!1,e(a)}}function h(a,b){this.fun=a,this.array=b}function i(){}var j,k,l=c.exports={};!function(){try{j=setTimeout}catch(a){j=function(){throw new Error("setTimeout is not defined")}}try{k=clearTimeout}catch(a){k=function(){throw new Error("clearTimeout is not defined")}}}();var m,n=[],o=!1,p=-1;return l.nextTick=function(a){var b=new Array(arguments.length-1);if(arguments.length>1)for(var c=1;c<arguments.length;c++)b[c-1]=arguments[c];n.push(new h(a,b)),1!==n.length||o||d(g)},h.prototype.run=function(){this.fun.apply(null,this.array)},l.title="browser",l.browser=!0,l.env={},l.argv=[],l.version="",l.versions={},l.on=i,l.addListener=i,l.once=i,l.off=i,l.removeListener=i,l.removeAllListeners=i,l.emit=i,l.binding=function(a){throw new Error("process.binding is not supported")},l.cwd=function(){return"/"},l.chdir=function(a){throw new Error("process.chdir is not supported")},l.umask=function(){return 0},c.exports}),$__System.registerDynamic("100",["ff"],!0,function(a,b,c){return c.exports=a("ff"),c.exports}),$__System.registerDynamic("101",["100"],!0,function(a,b,c){return c.exports=$__System._nodeRequire?process:a("100"),c.exports}),$__System.registerDynamic("6",["101"],!0,function(a,b,c){return c.exports=a("101"),c.exports}),$__System.registerDynamic("102",["6"],!0,function(a,b,c){var d,e=this;return function(a){(function(){function a(a,b){if(a!==b){var c=null===a,d=a===A,e=a===a,f=null===b,g=b===A,h=b===b;if(a>b&&!f||!e||c&&!g&&h||d&&h)return 1;if(b>a&&!c||!h||f&&!d&&e||g&&e)return-1}return 0}function f(a,b,c){for(var d=a.length,e=c?d:-1;c?e--:++e<d;)if(b(a[e],e,a))return e;return-1}function g(a,b,c){if(b!==b)return r(a,c);for(var d=c-1,e=a.length;++d<e;)if(a[d]===b)return d;return-1}function h(a){return"function"==typeof a||!1}function i(a){return null==a?"":a+""}function j(a,b){for(var c=-1,d=a.length;++c<d&&b.indexOf(a.charAt(c))>-1;);return c}function k(a,b){for(var c=a.length;c--&&b.indexOf(a.charAt(c))>-1;);return c}function l(b,c){return a(b.criteria,c.criteria)||b.index-c.index}function m(b,c,d){for(var e=-1,f=b.criteria,g=c.criteria,h=f.length,i=d.length;++e<h;){var j=a(f[e],g[e]);if(j){if(e>=i)return j;var k=d[e];return j*("asc"===k||k===!0?1:-1)}}return b.index-c.index}function n(a){return Ta[a]}function o(a){return Ua[a]}function p(a,b,c){return b?a=Xa[a]:c&&(a=Ya[a]),"\\"+a}function q(a){return"\\"+Ya[a]}function r(a,b,c){for(var d=a.length,e=b+(c?0:-1);c?e--:++e<d;){var f=a[e];if(f!==f)return e}return-1}function s(a){return!!a&&"object"==typeof a}function t(a){return 160>=a&&a>=9&&13>=a||32==a||160==a||5760==a||6158==a||a>=8192&&(8202>=a||8232==a||8233==a||8239==a||8287==a||12288==a||65279==a)}function u(a,b){for(var c=-1,d=a.length,e=-1,f=[];++c<d;)a[c]===b&&(a[c]=T,f[++e]=c);return f}function v(a,b){for(var c,d=-1,e=a.length,f=-1,g=[];++d<e;){var h=a[d],i=b?b(h,d,a):h;d&&c===i||(c=i,g[++f]=h)}return g}function w(a){for(var b=-1,c=a.length;++b<c&&t(a.charCodeAt(b)););return b}function x(a){for(var b=a.length;b--&&t(a.charCodeAt(b)););return b}function y(a){return Va[a]}function z(b){function c(a){if(s(a)&&!Ch(a)&&!(a instanceof t)){if(a instanceof e)return a;if(ag.call(a,"__chain__")&&ag.call(a,"__wrapped__"))return md(a)}return new e(a)}function d(){}function e(a,b,c){this.__wrapped__=a,this.__actions__=c||[],this.__chain__=!!b}function t(a){this.__wrapped__=a,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Bg,this.__views__=[]}function $(){var a=new t(this.__wrapped__);return a.__actions__=ab(this.__actions__),a.__dir__=this.__dir__,a.__filtered__=this.__filtered__,a.__iteratees__=ab(this.__iteratees__),a.__takeCount__=this.__takeCount__,a.__views__=ab(this.__views__),a}function ca(){if(this.__filtered__){var a=new t(this);a.__dir__=-1,a.__filtered__=!0}else a=this.clone(),a.__dir__*=-1;return a}function ea(){var a=this.__wrapped__.value(),b=this.__dir__,c=Ch(a),d=0>b,e=c?a.length:0,f=Tc(0,e,this.__views__),g=f.start,h=f.end,i=h-g,j=d?h:g-1,k=this.__iteratees__,l=k.length,m=0,n=wg(i,this.__takeCount__);if(!c||P>e||e==i&&n==i)return cc(d&&c?a.reverse():a,this.__actions__);var o=[];a:for(;i--&&n>m;){j+=b;for(var p=-1,q=a[j];++p<l;){var r=k[p],s=r.iteratee,t=r.type,u=s(q);if(t==R)q=u;else if(!u){if(t==Q)continue a;break a}}o[m++]=q}return o}function Ta(){this.__data__={}}function Ua(a){return this.has(a)&&delete this.__data__[a]}function Va(a){return"__proto__"==a?A:this.__data__[a]}function Wa(a){return"__proto__"!=a&&ag.call(this.__data__,a)}function Xa(a,b){return"__proto__"!=a&&(this.__data__[a]=b),this}function Ya(a){var b=a?a.length:0;for(this.data={hash:qg(null),set:new kg};b--;)this.push(a[b])}function Za(a,b){var c=a.data,d="string"==typeof b||He(b)?c.set.has(b):c.hash[b];return d?0:-1}function $a(a){var b=this.data;"string"==typeof a||He(a)?b.set.add(a):b.hash[a]=!0}function _a(a,b){for(var c=-1,d=a.length,e=-1,f=b.length,g=Of(d+f);++c<d;)g[c]=a[c];for(;++e<f;)g[c++]=b[e];return g}function ab(a,b){var c=-1,d=a.length;for(b||(b=Of(d));++c<d;)b[c]=a[c];return b}function bb(a,b){for(var c=-1,d=a.length;++c<d&&b(a[c],c,a)!==!1;);return a}function cb(a,b){for(var c=a.length;c--&&b(a[c],c,a)!==!1;);return a}function fb(a,b){for(var c=-1,d=a.length;++c<d;)if(!b(a[c],c,a))return!1;return!0}function gb(a,b,c,d){for(var e=-1,f=a.length,g=d,h=g;++e<f;){var i=a[e],j=+b(i);c(j,g)&&(g=j,h=i)}return h}function hb(a,b){for(var c=-1,d=a.length,e=-1,f=[];++c<d;){var g=a[c];b(g,c,a)&&(f[++e]=g)}return f}function ib(a,b){for(var c=-1,d=a.length,e=Of(d);++c<d;)e[c]=b(a[c],c,a);return e}function jb(a,b){
for(var c=-1,d=b.length,e=a.length;++c<d;)a[e+c]=b[c];return a}function kb(a,b,c,d){var e=-1,f=a.length;for(d&&f&&(c=a[++e]);++e<f;)c=b(c,a[e],e,a);return c}function lb(a,b,c,d){var e=a.length;for(d&&e&&(c=a[--e]);e--;)c=b(c,a[e],e,a);return c}function mb(a,b){for(var c=-1,d=a.length;++c<d;)if(b(a[c],c,a))return!0;return!1}function nb(a,b){for(var c=a.length,d=0;c--;)d+=+b(a[c])||0;return d}function ob(a,b){return a===A?b:a}function pb(a,b,c,d){return a!==A&&ag.call(d,c)?a:b}function qb(a,b,c){for(var d=-1,e=Nh(b),f=e.length;++d<f;){var g=e[d],h=a[g],i=c(h,b[g],g,a,b);(i===i?i===h:h!==h)&&(h!==A||g in a)||(a[g]=i)}return a}function rb(a,b){return null==b?a:tb(b,Nh(b),a)}function sb(a,b){for(var c=-1,d=null==a,e=!d&&Yc(a),f=e?a.length:0,g=b.length,h=Of(g);++c<g;){var i=b[c];e?h[c]=Zc(i,f)?a[i]:A:h[c]=d?A:a[i]}return h}function tb(a,b,c){c||(c={});for(var d=-1,e=b.length;++d<e;){var f=b[d];c[f]=a[f]}return c}function ub(a,b,c){var d=typeof a;return"function"==d?b===A?a:fc(a,b,c):null==a?Bf:"object"==d?Nb(a):b===A?Hf(a):Ob(a,b)}function vb(a,b,c,d,e,f,g){var h;if(c&&(h=e?c(a,d,e):c(a)),h!==A)return h;if(!He(a))return a;var i=Ch(a);if(i){if(h=Uc(a),!b)return ab(a,h)}else{var j=cg.call(a),k=j==Z;if(j!=aa&&j!=U&&(!k||e))return Sa[j]?Wc(a,j,b):e?a:{};if(h=Vc(k?{}:a),!b)return rb(h,a)}f||(f=[]),g||(g=[]);for(var l=f.length;l--;)if(f[l]==a)return g[l];return f.push(a),g.push(h),(i?bb:Fb)(a,function(d,e){h[e]=vb(d,b,c,e,a,f,g)}),h}function wb(a,b,c){if("function"!=typeof a)throw new Xf(S);return lg(function(){a.apply(A,c)},b)}function xb(a,b){var c=a?a.length:0,d=[];if(!c)return d;var e=-1,f=Qc(),h=f==g,i=h&&b.length>=P?oc(b):null,j=b.length;i&&(f=Za,h=!1,b=i);a:for(;++e<c;){var k=a[e];if(h&&k===k){for(var l=j;l--;)if(b[l]===k)continue a;d.push(k)}else f(b,k,0)<0&&d.push(k)}return d}function yb(a,b){var c=!0;return Jg(a,function(a,d,e){return c=!!b(a,d,e)}),c}function zb(a,b,c,d){var e=d,f=e;return Jg(a,function(a,g,h){var i=+b(a,g,h);(c(i,e)||i===d&&i===f)&&(e=i,f=a)}),f}function Ab(a,b,c,d){var e=a.length;for(c=null==c?0:+c||0,0>c&&(c=-c>e?0:e+c),d=d===A||d>e?e:+d||0,0>d&&(d+=e),e=c>d?0:d>>>0,c>>>=0;e>c;)a[c++]=b;return a}function Bb(a,b){var c=[];return Jg(a,function(a,d,e){b(a,d,e)&&c.push(a)}),c}function Cb(a,b,c,d){var e;return c(a,function(a,c,f){return b(a,c,f)?(e=d?c:a,!1):void 0}),e}function Db(a,b,c,d){d||(d=[]);for(var e=-1,f=a.length;++e<f;){var g=a[e];s(g)&&Yc(g)&&(c||Ch(g)||ye(g))?b?Db(g,b,c,d):jb(d,g):c||(d[d.length]=g)}return d}function Eb(a,b){return Lg(a,b,_e)}function Fb(a,b){return Lg(a,b,Nh)}function Gb(a,b){return Mg(a,b,Nh)}function Hb(a,b){for(var c=-1,d=b.length,e=-1,f=[];++c<d;){var g=b[c];Ge(a[g])&&(f[++e]=g)}return f}function Ib(a,b,c){if(null!=a){c!==A&&c in kd(a)&&(b=[c]);for(var d=0,e=b.length;null!=a&&e>d;)a=a[b[d++]];return d&&d==e?a:A}}function Jb(a,b,c,d,e,f){return a===b?!0:null==a||null==b||!He(a)&&!s(b)?a!==a&&b!==b:Kb(a,b,Jb,c,d,e,f)}function Kb(a,b,c,d,e,f,g){var h=Ch(a),i=Ch(b),j=V,k=V;h||(j=cg.call(a),j==U?j=aa:j!=aa&&(h=Qe(a))),i||(k=cg.call(b),k==U?k=aa:k!=aa&&(i=Qe(b)));var l=j==aa,m=k==aa,n=j==k;if(n&&!h&&!l)return Mc(a,b,j);if(!e){var o=l&&ag.call(a,"__wrapped__"),p=m&&ag.call(b,"__wrapped__");if(o||p)return c(o?a.value():a,p?b.value():b,d,e,f,g)}if(!n)return!1;f||(f=[]),g||(g=[]);for(var q=f.length;q--;)if(f[q]==a)return g[q]==b;f.push(a),g.push(b);var r=(h?Lc:Nc)(a,b,c,d,e,f,g);return f.pop(),g.pop(),r}function Lb(a,b,c){var d=b.length,e=d,f=!c;if(null==a)return!e;for(a=kd(a);d--;){var g=b[d];if(f&&g[2]?g[1]!==a[g[0]]:!(g[0]in a))return!1}for(;++d<e;){g=b[d];var h=g[0],i=a[h],j=g[1];if(f&&g[2]){if(i===A&&!(h in a))return!1}else{var k=c?c(i,j,h):A;if(!(k===A?Jb(j,i,c,!0):k))return!1}}return!0}function Mb(a,b){var c=-1,d=Yc(a)?Of(a.length):[];return Jg(a,function(a,e,f){d[++c]=b(a,e,f)}),d}function Nb(a){var b=Rc(a);if(1==b.length&&b[0][2]){var c=b[0][0],d=b[0][1];return function(a){return null==a?!1:a[c]===d&&(d!==A||c in kd(a))}}return function(a){return Lb(a,b)}}function Ob(a,b){var c=Ch(a),d=_c(a)&&cd(b),e=a+"";return a=ld(a),function(f){if(null==f)return!1;var g=e;if(f=kd(f),(c||!d)&&!(g in f)){if(f=1==a.length?f:Ib(f,Wb(a,0,-1)),null==f)return!1;g=zd(a),f=kd(f)}return f[g]===b?b!==A||g in f:Jb(b,f[g],A,!0)}}function Pb(a,b,c,d,e){if(!He(a))return a;var f=Yc(b)&&(Ch(b)||Qe(b)),g=f?A:Nh(b);return bb(g||b,function(h,i){if(g&&(i=h,h=b[i]),s(h))d||(d=[]),e||(e=[]),Qb(a,b,i,Pb,c,d,e);else{var j=a[i],k=c?c(j,h,i,a,b):A,l=k===A;l&&(k=h),k===A&&(!f||i in a)||!l&&(k===k?k===j:j!==j)||(a[i]=k)}}),a}function Qb(a,b,c,d,e,f,g){for(var h=f.length,i=b[c];h--;)if(f[h]==i)return void(a[c]=g[h]);var j=a[c],k=e?e(j,i,c,a,b):A,l=k===A;l&&(k=i,Yc(i)&&(Ch(i)||Qe(i))?k=Ch(j)?j:Yc(j)?ab(j):[]:Ne(i)||ye(i)?k=ye(j)?Ve(j):Ne(j)?j:{}:l=!1),f.push(i),g.push(k),l?a[c]=d(k,i,e,f,g):(k===k?k!==j:j===j)&&(a[c]=k)}function Rb(a){return function(b){return null==b?A:b[a]}}function Sb(a){var b=a+"";return a=ld(a),function(c){return Ib(c,a,b)}}function Tb(a,b){for(var c=a?b.length:0;c--;){var d=b[c];if(d!=e&&Zc(d)){var e=d;mg.call(a,d,1)}}return a}function Ub(a,b){return a+rg(zg()*(b-a+1))}function Vb(a,b,c,d,e){return e(a,function(a,e,f){c=d?(d=!1,a):b(c,a,e,f)}),c}function Wb(a,b,c){var d=-1,e=a.length;b=null==b?0:+b||0,0>b&&(b=-b>e?0:e+b),c=c===A||c>e?e:+c||0,0>c&&(c+=e),e=b>c?0:c-b>>>0,b>>>=0;for(var f=Of(e);++d<e;)f[d]=a[d+b];return f}function Xb(a,b){var c;return Jg(a,function(a,d,e){return c=b(a,d,e),!c}),!!c}function Yb(a,b){var c=a.length;for(a.sort(b);c--;)a[c]=a[c].value;return a}function Zb(a,b,c){var d=Oc(),e=-1;b=ib(b,function(a){return d(a)});var f=Mb(a,function(a){var c=ib(b,function(b){return b(a)});return{criteria:c,index:++e,value:a}});return Yb(f,function(a,b){return m(a,b,c)})}function $b(a,b){var c=0;return Jg(a,function(a,d,e){c+=+b(a,d,e)||0}),c}function _b(a,b){var c=-1,d=Qc(),e=a.length,f=d==g,h=f&&e>=P,i=h?oc():null,j=[];i?(d=Za,f=!1):(h=!1,i=b?[]:j);a:for(;++c<e;){var k=a[c],l=b?b(k,c,a):k;if(f&&k===k){for(var m=i.length;m--;)if(i[m]===l)continue a;b&&i.push(l),j.push(k)}else d(i,l,0)<0&&((b||h)&&i.push(l),j.push(k))}return j}function ac(a,b){for(var c=-1,d=b.length,e=Of(d);++c<d;)e[c]=a[b[c]];return e}function bc(a,b,c,d){for(var e=a.length,f=d?e:-1;(d?f--:++f<e)&&b(a[f],f,a););return c?Wb(a,d?0:f,d?f+1:e):Wb(a,d?f+1:0,d?e:f)}function cc(a,b){var c=a;c instanceof t&&(c=c.value());for(var d=-1,e=b.length;++d<e;){var f=b[d];c=f.func.apply(f.thisArg,jb([c],f.args))}return c}function dc(a,b,c){var d=0,e=a?a.length:d;if("number"==typeof b&&b===b&&Eg>=e){for(;e>d;){var f=d+e>>>1,g=a[f];(c?b>=g:b>g)&&null!==g?d=f+1:e=f}return e}return ec(a,b,Bf,c)}function ec(a,b,c,d){b=c(b);for(var e=0,f=a?a.length:0,g=b!==b,h=null===b,i=b===A;f>e;){var j=rg((e+f)/2),k=c(a[j]),l=k!==A,m=k===k;if(g)var n=m||d;else n=h?m&&l&&(d||null!=k):i?m&&(d||l):null==k?!1:d?b>=k:b>k;n?e=j+1:f=j}return wg(f,Dg)}function fc(a,b,c){if("function"!=typeof a)return Bf;if(b===A)return a;switch(c){case 1:return function(c){return a.call(b,c)};case 3:return function(c,d,e){return a.call(b,c,d,e)};case 4:return function(c,d,e,f){return a.call(b,c,d,e,f)};case 5:return function(c,d,e,f,g){return a.call(b,c,d,e,f,g)}}return function(){return a.apply(b,arguments)}}function gc(a){var b=new fg(a.byteLength),c=new ng(b);return c.set(new ng(a)),b}function hc(a,b,c){for(var d=c.length,e=-1,f=vg(a.length-d,0),g=-1,h=b.length,i=Of(h+f);++g<h;)i[g]=b[g];for(;++e<d;)i[c[e]]=a[e];for(;f--;)i[g++]=a[e++];return i}function ic(a,b,c){for(var d=-1,e=c.length,f=-1,g=vg(a.length-e,0),h=-1,i=b.length,j=Of(g+i);++f<g;)j[f]=a[f];for(var k=f;++h<i;)j[k+h]=b[h];for(;++d<e;)j[k+c[d]]=a[f++];return j}function jc(a,b){return function(c,d,e){var f=b?b():{};if(d=Oc(d,e,3),Ch(c))for(var g=-1,h=c.length;++g<h;){var i=c[g];a(f,i,d(i,g,c),c)}else Jg(c,function(b,c,e){a(f,b,d(b,c,e),e)});return f}}function kc(a){return qe(function(b,c){var d=-1,e=null==b?0:c.length,f=e>2?c[e-2]:A,g=e>2?c[2]:A,h=e>1?c[e-1]:A;for("function"==typeof f?(f=fc(f,h,5),e-=2):(f="function"==typeof h?h:A,e-=f?1:0),g&&$c(c[0],c[1],g)&&(f=3>e?A:f,e=1);++d<e;){var i=c[d];i&&a(b,i,f)}return b})}function lc(a,b){return function(c,d){var e=c?Pg(c):0;if(!bd(e))return a(c,d);for(var f=b?e:-1,g=kd(c);(b?f--:++f<e)&&d(g[f],f,g)!==!1;);return c}}function mc(a){return function(b,c,d){for(var e=kd(b),f=d(b),g=f.length,h=a?g:-1;a?h--:++h<g;){var i=f[h];if(c(e[i],i,e)===!1)break}return b}}function nc(a,b){function c(){var e=this&&this!==db&&this instanceof c?d:a;return e.apply(b,arguments)}var d=qc(a);return c}function oc(a){return qg&&kg?new Ya(a):null}function pc(a){return function(b){for(var c=-1,d=yf(kf(b)),e=d.length,f="";++c<e;)f=a(f,d[c],c);return f}}function qc(a){return function(){var b=arguments;switch(b.length){case 0:return new a;case 1:return new a(b[0]);case 2:return new a(b[0],b[1]);case 3:return new a(b[0],b[1],b[2]);case 4:return new a(b[0],b[1],b[2],b[3]);case 5:return new a(b[0],b[1],b[2],b[3],b[4]);case 6:return new a(b[0],b[1],b[2],b[3],b[4],b[5]);case 7:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6])}var c=Ig(a.prototype),d=a.apply(c,b);return He(d)?d:c}}function rc(a){function b(c,d,e){e&&$c(c,d,e)&&(d=A);var f=Kc(c,a,A,A,A,A,A,d);return f.placeholder=b.placeholder,f}return b}function sc(a,b){return qe(function(c){var d=c[0];return null==d?d:(c.push(b),a.apply(A,c))})}function tc(a,b){return function(c,d,e){if(e&&$c(c,d,e)&&(d=A),d=Oc(d,e,3),1==d.length){c=Ch(c)?c:jd(c);var f=gb(c,d,a,b);if(!c.length||f!==b)return f}return zb(c,d,a,b)}}function uc(a,b){return function(c,d,e){if(d=Oc(d,e,3),Ch(c)){var g=f(c,d,b);return g>-1?c[g]:A}return Cb(c,d,a)}}function vc(a){return function(b,c,d){return b&&b.length?(c=Oc(c,d,3),f(b,c,a)):-1}}function wc(a){return function(b,c,d){return c=Oc(c,d,3),Cb(b,c,a,!0)}}function xc(a){return function(){for(var b,c=arguments.length,d=a?c:-1,f=0,g=Of(c);a?d--:++d<c;){var h=g[f++]=arguments[d];if("function"!=typeof h)throw new Xf(S);!b&&e.prototype.thru&&"wrapper"==Pc(h)&&(b=new e([],!0))}for(d=b?-1:c;++d<c;){h=g[d];var i=Pc(h),j="wrapper"==i?Og(h):A;b=j&&ad(j[0])&&j[1]==(J|F|H|K)&&!j[4].length&&1==j[9]?b[Pc(j[0])].apply(b,j[3]):1==h.length&&ad(h)?b[i]():b.thru(h)}return function(){var a=arguments,d=a[0];if(b&&1==a.length&&Ch(d)&&d.length>=P)return b.plant(d).value();for(var e=0,f=c?g[e].apply(this,a):d;++e<c;)f=g[e].call(this,f);return f}}}function yc(a,b){return function(c,d,e){return"function"==typeof d&&e===A&&Ch(c)?a(c,d):b(c,fc(d,e,3))}}function zc(a){return function(b,c,d){return"function"==typeof c&&d===A||(c=fc(c,d,3)),a(b,c,_e)}}function Ac(a){return function(b,c,d){return"function"==typeof c&&d===A||(c=fc(c,d,3)),a(b,c)}}function Bc(a){return function(b,c,d){var e={};return c=Oc(c,d,3),Fb(b,function(b,d,f){var g=c(b,d,f);d=a?g:d,b=a?b:g,e[d]=b}),e}}function Cc(a){return function(b,c,d){return b=i(b),(a?b:"")+Gc(b,c,d)+(a?"":b)}}function Dc(a){var b=qe(function(c,d){var e=u(d,b.placeholder);return Kc(c,a,A,d,e)});return b}function Ec(a,b){return function(c,d,e,f){var g=arguments.length<3;return"function"==typeof d&&f===A&&Ch(c)?a(c,d,e,g):Vb(c,Oc(d,f,4),e,g,b)}}function Fc(a,b,c,d,e,f,g,h,i,j){function k(){for(var s=arguments.length,t=s,v=Of(s);t--;)v[t]=arguments[t];if(d&&(v=hc(v,d,e)),f&&(v=ic(v,f,g)),o||q){var w=k.placeholder,x=u(v,w);if(s-=x.length,j>s){var y=h?ab(h):A,z=vg(j-s,0),B=o?x:A,E=o?A:x,F=o?v:A,G=o?A:v;b|=o?H:I,b&=~(o?I:H),p||(b&=~(C|D));var J=[a,b,c,F,B,G,E,y,i,z],K=Fc.apply(A,J);return ad(a)&&Qg(K,J),K.placeholder=w,K}}var L=m?c:this,M=n?L[a]:a;return h&&(v=hd(v,h)),l&&i<v.length&&(v.length=i),this&&this!==db&&this instanceof k&&(M=r||qc(a)),M.apply(L,v)}var l=b&J,m=b&C,n=b&D,o=b&F,p=b&E,q=b&G,r=n?A:qc(a);return k}function Gc(a,b,c){var d=a.length;if(b=+b,d>=b||!tg(b))return"";var e=b-d;return c=null==c?" ":c+"",qf(c,pg(e/c.length)).slice(0,e)}function Hc(a,b,c,d){function e(){for(var b=-1,h=arguments.length,i=-1,j=d.length,k=Of(j+h);++i<j;)k[i]=d[i];for(;h--;)k[i++]=arguments[++b];var l=this&&this!==db&&this instanceof e?g:a;return l.apply(f?c:this,k)}var f=b&C,g=qc(a);return e}function Ic(a){var b=Sf[a];return function(a,c){return c=c===A?0:+c||0,c?(c=ig(10,c),b(a*c)/c):b(a)}}function Jc(a){return function(b,c,d,e){var f=Oc(d);return null==d&&f===ub?dc(b,c,a):ec(b,c,f(d,e,1),a)}}function Kc(a,b,c,d,e,f,g,h){var i=b&D;if(!i&&"function"!=typeof a)throw new Xf(S);var j=d?d.length:0;if(j||(b&=~(H|I),d=e=A),j-=e?e.length:0,b&I){var k=d,l=e;d=e=A}var m=i?A:Og(a),n=[a,b,c,d,e,k,l,f,g,h];if(m&&(dd(n,m),b=n[1],h=n[9]),n[9]=null==h?i?0:a.length:vg(h-j,0)||0,b==C)var o=nc(n[0],n[2]);else o=b!=H&&b!=(C|H)||n[4].length?Fc.apply(A,n):Hc.apply(A,n);var p=m?Ng:Qg;return p(o,n)}function Lc(a,b,c,d,e,f,g){var h=-1,i=a.length,j=b.length;if(i!=j&&!(e&&j>i))return!1;for(;++h<i;){var k=a[h],l=b[h],m=d?d(e?l:k,e?k:l,h):A;if(m!==A){if(m)continue;return!1}if(e){if(!mb(b,function(a){return k===a||c(k,a,d,e,f,g)}))return!1}else if(k!==l&&!c(k,l,d,e,f,g))return!1}return!0}function Mc(a,b,c){switch(c){case W:case X:return+a==+b;case Y:return a.name==b.name&&a.message==b.message;case _:return a!=+a?b!=+b:a==+b;case ba:case da:return a==b+""}return!1}function Nc(a,b,c,d,e,f,g){var h=Nh(a),i=h.length,j=Nh(b),k=j.length;if(i!=k&&!e)return!1;for(var l=i;l--;){var m=h[l];if(!(e?m in b:ag.call(b,m)))return!1}for(var n=e;++l<i;){m=h[l];var o=a[m],p=b[m],q=d?d(e?p:o,e?o:p,m):A;if(!(q===A?c(o,p,d,e,f,g):q))return!1;n||(n="constructor"==m)}if(!n){var r=a.constructor,s=b.constructor;if(r!=s&&"constructor"in a&&"constructor"in b&&!("function"==typeof r&&r instanceof r&&"function"==typeof s&&s instanceof s))return!1}return!0}function Oc(a,b,d){var e=c.callback||zf;return e=e===zf?ub:e,d?e(a,b,d):e}function Pc(a){for(var b=a.name,c=Hg[b],d=c?c.length:0;d--;){var e=c[d],f=e.func;if(null==f||f==a)return e.name}return b}function Qc(a,b,d){var e=c.indexOf||xd;return e=e===xd?g:e,a?e(a,b,d):e}function Rc(a){for(var b=af(a),c=b.length;c--;)b[c][2]=cd(b[c][1]);return b}function Sc(a,b){var c=null==a?A:a[b];return Ke(c)?c:A}function Tc(a,b,c){for(var d=-1,e=c.length;++d<e;){var f=c[d],g=f.size;switch(f.type){case"drop":a+=g;break;case"dropRight":b-=g;break;case"take":b=wg(b,a+g);break;case"takeRight":a=vg(a,b-g)}}return{start:a,end:b}}function Uc(a){var b=a.length,c=new a.constructor(b);return b&&"string"==typeof a[0]&&ag.call(a,"index")&&(c.index=a.index,c.input=a.input),c}function Vc(a){var b=a.constructor;return"function"==typeof b&&b instanceof b||(b=Uf),new b}function Wc(a,b,c){var d=a.constructor;switch(b){case fa:return gc(a);case W:case X:return new d(+a);case ga:case ha:case ia:case ja:case ka:case la:case ma:case na:case oa:var e=a.buffer;return new d(c?gc(e):e,a.byteOffset,a.length);case _:case da:return new d(a);case ba:var f=new d(a.source,Ha.exec(a));f.lastIndex=a.lastIndex}return f}function Xc(a,b,c){null==a||_c(b,a)||(b=ld(b),a=1==b.length?a:Ib(a,Wb(b,0,-1)),b=zd(b));var d=null==a?a:a[b];return null==d?A:d.apply(a,c)}function Yc(a){return null!=a&&bd(Pg(a))}function Zc(a,b){return a="number"==typeof a||Ka.test(a)?+a:-1,b=null==b?Fg:b,a>-1&&a%1==0&&b>a}function $c(a,b,c){if(!He(c))return!1;var d=typeof b;if("number"==d?Yc(c)&&Zc(b,c.length):"string"==d&&b in c){var e=c[b];return a===a?a===e:e!==e}return!1}function _c(a,b){var c=typeof a;if("string"==c&&Aa.test(a)||"number"==c)return!0;if(Ch(a))return!1;var d=!za.test(a);return d||null!=b&&a in kd(b)}function ad(a){var b=Pc(a);if(!(b in t.prototype))return!1;var d=c[b];if(a===d)return!0;var e=Og(d);return!!e&&a===e[0]}function bd(a){return"number"==typeof a&&a>-1&&a%1==0&&Fg>=a}function cd(a){return a===a&&!He(a)}function dd(a,b){var c=a[1],d=b[1],e=c|d,f=J>e,g=d==J&&c==F||d==J&&c==K&&a[7].length<=b[8]||d==(J|K)&&c==F;if(!f&&!g)return a;d&C&&(a[2]=b[2],e|=c&C?0:E);var h=b[3];if(h){var i=a[3];a[3]=i?hc(i,h,b[4]):ab(h),a[4]=i?u(a[3],T):ab(b[4])}return h=b[5],h&&(i=a[5],a[5]=i?ic(i,h,b[6]):ab(h),a[6]=i?u(a[5],T):ab(b[6])),h=b[7],h&&(a[7]=ab(h)),d&J&&(a[8]=null==a[8]?b[8]:wg(a[8],b[8])),null==a[9]&&(a[9]=b[9]),a[0]=b[0],a[1]=e,a}function ed(a,b){return a===A?b:Dh(a,b,ed)}function fd(a,b){a=kd(a);for(var c=-1,d=b.length,e={};++c<d;){var f=b[c];f in a&&(e[f]=a[f])}return e}function gd(a,b){var c={};return Eb(a,function(a,d,e){b(a,d,e)&&(c[d]=a)}),c}function hd(a,b){for(var c=a.length,d=wg(b.length,c),e=ab(a);d--;){var f=b[d];a[d]=Zc(f,c)?e[f]:A}return a}function id(a){for(var b=_e(a),c=b.length,d=c&&a.length,e=!!d&&bd(d)&&(Ch(a)||ye(a)),f=-1,g=[];++f<c;){var h=b[f];(e&&Zc(h,d)||ag.call(a,h))&&g.push(h)}return g}function jd(a){return null==a?[]:Yc(a)?He(a)?a:Uf(a):ef(a)}function kd(a){return He(a)?a:Uf(a)}function ld(a){if(Ch(a))return a;var b=[];return i(a).replace(Ba,function(a,c,d,e){b.push(d?e.replace(Fa,"$1"):c||a)}),b}function md(a){return a instanceof t?a.clone():new e(a.__wrapped__,a.__chain__,ab(a.__actions__))}function nd(a,b,c){b=(c?$c(a,b,c):null==b)?1:vg(rg(b)||1,1);for(var d=0,e=a?a.length:0,f=-1,g=Of(pg(e/b));e>d;)g[++f]=Wb(a,d,d+=b);return g}function od(a){for(var b=-1,c=a?a.length:0,d=-1,e=[];++b<c;){var f=a[b];f&&(e[++d]=f)}return e}function pd(a,b,c){var d=a?a.length:0;return d?((c?$c(a,b,c):null==b)&&(b=1),Wb(a,0>b?0:b)):[]}function qd(a,b,c){var d=a?a.length:0;return d?((c?$c(a,b,c):null==b)&&(b=1),b=d-(+b||0),Wb(a,0,0>b?0:b)):[]}function rd(a,b,c){return a&&a.length?bc(a,Oc(b,c,3),!0,!0):[]}function sd(a,b,c){return a&&a.length?bc(a,Oc(b,c,3),!0):[]}function td(a,b,c,d){var e=a?a.length:0;return e?(c&&"number"!=typeof c&&$c(a,b,c)&&(c=0,d=e),Ab(a,b,c,d)):[]}function ud(a){return a?a[0]:A}function vd(a,b,c){var d=a?a.length:0;return c&&$c(a,b,c)&&(b=!1),d?Db(a,b):[]}function wd(a){var b=a?a.length:0;return b?Db(a,!0):[]}function xd(a,b,c){var d=a?a.length:0;if(!d)return-1;if("number"==typeof c)c=0>c?vg(d+c,0):c;else if(c){var e=dc(a,b);return d>e&&(b===b?b===a[e]:a[e]!==a[e])?e:-1}return g(a,b,c||0)}function yd(a){return qd(a,1)}function zd(a){var b=a?a.length:0;return b?a[b-1]:A}function Ad(a,b,c){var d=a?a.length:0;if(!d)return-1;var e=d;if("number"==typeof c)e=(0>c?vg(d+c,0):wg(c||0,d-1))+1;else if(c){e=dc(a,b,!0)-1;var f=a[e];return(b===b?b===f:f!==f)?e:-1}if(b!==b)return r(a,e,!0);for(;e--;)if(a[e]===b)return e;return-1}function Bd(){var a=arguments,b=a[0];if(!b||!b.length)return b;for(var c=0,d=Qc(),e=a.length;++c<e;)for(var f=0,g=a[c];(f=d(b,g,f))>-1;)mg.call(b,f,1);return b}function Cd(a,b,c){var d=[];if(!a||!a.length)return d;var e=-1,f=[],g=a.length;for(b=Oc(b,c,3);++e<g;){var h=a[e];b(h,e,a)&&(d.push(h),f.push(e))}return Tb(a,f),d}function Dd(a){return pd(a,1)}function Ed(a,b,c){var d=a?a.length:0;return d?(c&&"number"!=typeof c&&$c(a,b,c)&&(b=0,c=d),Wb(a,b,c)):[]}function Fd(a,b,c){var d=a?a.length:0;return d?((c?$c(a,b,c):null==b)&&(b=1),Wb(a,0,0>b?0:b)):[]}function Gd(a,b,c){var d=a?a.length:0;return d?((c?$c(a,b,c):null==b)&&(b=1),b=d-(+b||0),Wb(a,0>b?0:b)):[]}function Hd(a,b,c){return a&&a.length?bc(a,Oc(b,c,3),!1,!0):[]}function Id(a,b,c){return a&&a.length?bc(a,Oc(b,c,3)):[]}function Jd(a,b,c,d){var e=a?a.length:0;if(!e)return[];null!=b&&"boolean"!=typeof b&&(d=c,c=$c(a,b,d)?A:b,b=!1);var f=Oc();return null==c&&f===ub||(c=f(c,d,3)),b&&Qc()==g?v(a,c):_b(a,c)}function Kd(a){if(!a||!a.length)return[];var b=-1,c=0;a=hb(a,function(a){return Yc(a)?(c=vg(a.length,c),!0):void 0});for(var d=Of(c);++b<c;)d[b]=ib(a,Rb(b));return d}function Ld(a,b,c){var d=a?a.length:0;if(!d)return[];var e=Kd(a);return null==b?e:(b=fc(b,c,4),ib(e,function(a){return kb(a,b,A,!0)}))}function Md(){for(var a=-1,b=arguments.length;++a<b;){var c=arguments[a];if(Yc(c))var d=d?jb(xb(d,c),xb(c,d)):c}return d?_b(d):[]}function Nd(a,b){var c=-1,d=a?a.length:0,e={};for(!d||b||Ch(a[0])||(b=[]);++c<d;){var f=a[c];b?e[f]=b[c]:f&&(e[f[0]]=f[1])}return e}function Od(a){var b=c(a);return b.__chain__=!0,b}function Pd(a,b,c){return b.call(c,a),a}function Qd(a,b,c){return b.call(c,a)}function Rd(){return Od(this)}function Sd(){return new e(this.value(),this.__chain__)}function Td(a){for(var b,c=this;c instanceof d;){var e=md(c);b?f.__wrapped__=e:b=e;var f=e;c=c.__wrapped__}return f.__wrapped__=a,b}function Ud(){var a=this.__wrapped__,b=function(a){return c&&c.__dir__<0?a:a.reverse()};if(a instanceof t){var c=a;return this.__actions__.length&&(c=new t(this)),c=c.reverse(),c.__actions__.push({func:Qd,args:[b],thisArg:A}),new e(c,this.__chain__)}return this.thru(b)}function Vd(){return this.value()+""}function Wd(){return cc(this.__wrapped__,this.__actions__)}function Xd(a,b,c){var d=Ch(a)?fb:yb;return c&&$c(a,b,c)&&(b=A),"function"==typeof b&&c===A||(b=Oc(b,c,3)),d(a,b)}function Yd(a,b,c){var d=Ch(a)?hb:Bb;return b=Oc(b,c,3),d(a,b)}function Zd(a,b){return dh(a,Nb(b))}function $d(a,b,c,d){var e=a?Pg(a):0;return bd(e)||(a=ef(a),e=a.length),c="number"!=typeof c||d&&$c(b,c,d)?0:0>c?vg(e+c,0):c||0,"string"==typeof a||!Ch(a)&&Pe(a)?e>=c&&a.indexOf(b,c)>-1:!!e&&Qc(a,b,c)>-1}function _d(a,b,c){var d=Ch(a)?ib:Mb;return b=Oc(b,c,3),d(a,b)}function ae(a,b){return _d(a,Hf(b))}function be(a,b,c){var d=Ch(a)?hb:Bb;return b=Oc(b,c,3),d(a,function(a,c,d){return!b(a,c,d)})}function ce(a,b,c){if(c?$c(a,b,c):null==b){a=jd(a);var d=a.length;return d>0?a[Ub(0,d-1)]:A}var e=-1,f=Ue(a),d=f.length,g=d-1;for(b=wg(0>b?0:+b||0,d);++e<b;){var h=Ub(e,g),i=f[h];f[h]=f[e],f[e]=i}return f.length=b,f}function de(a){return ce(a,Bg)}function ee(a){var b=a?Pg(a):0;return bd(b)?b:Nh(a).length}function fe(a,b,c){var d=Ch(a)?mb:Xb;return c&&$c(a,b,c)&&(b=A),"function"==typeof b&&c===A||(b=Oc(b,c,3)),d(a,b)}function ge(a,b,c){if(null==a)return[];c&&$c(a,b,c)&&(b=A);var d=-1;b=Oc(b,c,3);var e=Mb(a,function(a,c,e){return{criteria:b(a,c,e),index:++d,value:a}});return Yb(e,l)}function he(a,b,c,d){return null==a?[]:(d&&$c(b,c,d)&&(c=A),Ch(b)||(b=null==b?[]:[b]),Ch(c)||(c=null==c?[]:[c]),Zb(a,b,c))}function ie(a,b){return Yd(a,Nb(b))}function je(a,b){if("function"!=typeof b){if("function"!=typeof a)throw new Xf(S);var c=a;a=b,b=c}return a=tg(a=+a)?a:0,function(){return--a<1?b.apply(this,arguments):void 0}}function ke(a,b,c){return c&&$c(a,b,c)&&(b=A),b=a&&null==b?a.length:vg(+b||0,0),Kc(a,J,A,A,A,A,b)}function le(a,b){var c;if("function"!=typeof b){if("function"!=typeof a)throw new Xf(S);var d=a;a=b,b=d}return function(){return--a>0&&(c=b.apply(this,arguments)),1>=a&&(b=A),c}}function me(a,b,c){function d(){n&&gg(n),j&&gg(j),p=0,j=n=o=A}function e(b,c){c&&gg(c),j=n=o=A,b&&(p=oh(),k=a.apply(m,i),n||j||(i=m=A))}function f(){var a=b-(oh()-l);0>=a||a>b?e(o,j):n=lg(f,a)}function g(){e(r,n)}function h(){if(i=arguments,l=oh(),m=this,o=r&&(n||!s),q===!1)var c=s&&!n;else{j||s||(p=l);var d=q-(l-p),e=0>=d||d>q;e?(j&&(j=gg(j)),p=l,k=a.apply(m,i)):j||(j=lg(g,d))}return e&&n?n=gg(n):n||b===q||(n=lg(f,b)),c&&(e=!0,k=a.apply(m,i)),!e||n||j||(i=m=A),k}var i,j,k,l,m,n,o,p=0,q=!1,r=!0;if("function"!=typeof a)throw new Xf(S);if(b=0>b?0:+b||0,c===!0){var s=!0;r=!1}else He(c)&&(s=!!c.leading,q="maxWait"in c&&vg(+c.maxWait||0,b),r="trailing"in c?!!c.trailing:r);return h.cancel=d,h}function ne(a,b){if("function"!=typeof a||b&&"function"!=typeof b)throw new Xf(S);var c=function(){var d=arguments,e=b?b.apply(this,d):d[0],f=c.cache;if(f.has(e))return f.get(e);var g=a.apply(this,d);return c.cache=f.set(e,g),g};return c.cache=new ne.Cache,c}function oe(a){if("function"!=typeof a)throw new Xf(S);return function(){return!a.apply(this,arguments)}}function pe(a){return le(2,a)}function qe(a,b){if("function"!=typeof a)throw new Xf(S);return b=vg(b===A?a.length-1:+b||0,0),function(){for(var c=arguments,d=-1,e=vg(c.length-b,0),f=Of(e);++d<e;)f[d]=c[b+d];switch(b){case 0:return a.call(this,f);case 1:return a.call(this,c[0],f);case 2:return a.call(this,c[0],c[1],f)}var g=Of(b+1);for(d=-1;++d<b;)g[d]=c[d];return g[b]=f,a.apply(this,g)}}function re(a){if("function"!=typeof a)throw new Xf(S);return function(b){return a.apply(this,b)}}function se(a,b,c){var d=!0,e=!0;if("function"!=typeof a)throw new Xf(S);return c===!1?d=!1:He(c)&&(d="leading"in c?!!c.leading:d,e="trailing"in c?!!c.trailing:e),me(a,b,{leading:d,maxWait:+b,trailing:e})}function te(a,b){return b=null==b?Bf:b,Kc(b,H,A,[a],[])}function ue(a,b,c,d){return b&&"boolean"!=typeof b&&$c(a,b,c)?b=!1:"function"==typeof b&&(d=c,c=b,b=!1),"function"==typeof c?vb(a,b,fc(c,d,1)):vb(a,b)}function ve(a,b,c){return"function"==typeof b?vb(a,!0,fc(b,c,1)):vb(a,!0)}function we(a,b){return a>b}function xe(a,b){return a>=b}function ye(a){return s(a)&&Yc(a)&&ag.call(a,"callee")&&!jg.call(a,"callee")}function ze(a){return a===!0||a===!1||s(a)&&cg.call(a)==W}function Ae(a){return s(a)&&cg.call(a)==X}function Be(a){return!!a&&1===a.nodeType&&s(a)&&!Ne(a)}function Ce(a){return null==a?!0:Yc(a)&&(Ch(a)||Pe(a)||ye(a)||s(a)&&Ge(a.splice))?!a.length:!Nh(a).length}function De(a,b,c,d){c="function"==typeof c?fc(c,d,3):A;var e=c?c(a,b):A;return e===A?Jb(a,b,c):!!e}function Ee(a){return s(a)&&"string"==typeof a.message&&cg.call(a)==Y}function Fe(a){return"number"==typeof a&&tg(a)}function Ge(a){return He(a)&&cg.call(a)==Z}function He(a){var b=typeof a;return!!a&&("object"==b||"function"==b)}function Ie(a,b,c,d){return c="function"==typeof c?fc(c,d,3):A,Lb(a,Rc(b),c)}function Je(a){return Me(a)&&a!=+a}function Ke(a){return null==a?!1:Ge(a)?eg.test(_f.call(a)):s(a)&&Ja.test(a)}function Le(a){return null===a}function Me(a){return"number"==typeof a||s(a)&&cg.call(a)==_}function Ne(a){var b;if(!s(a)||cg.call(a)!=aa||ye(a)||!ag.call(a,"constructor")&&(b=a.constructor,"function"==typeof b&&!(b instanceof b)))return!1;var c;return Eb(a,function(a,b){c=b}),c===A||ag.call(a,c)}function Oe(a){return He(a)&&cg.call(a)==ba}function Pe(a){return"string"==typeof a||s(a)&&cg.call(a)==da}function Qe(a){return s(a)&&bd(a.length)&&!!Ra[cg.call(a)]}function Re(a){return a===A}function Se(a,b){return b>a}function Te(a,b){return b>=a}function Ue(a){var b=a?Pg(a):0;return bd(b)?b?ab(a):[]:ef(a)}function Ve(a){return tb(a,_e(a))}function We(a,b,c){var d=Ig(a);return c&&$c(a,b,c)&&(b=A),b?rb(d,b):d}function Xe(a){return Hb(a,_e(a))}function Ye(a,b,c){var d=null==a?A:Ib(a,ld(b),b+"");return d===A?c:d}function Ze(a,b){if(null==a)return!1;var c=ag.call(a,b);if(!c&&!_c(b)){if(b=ld(b),a=1==b.length?a:Ib(a,Wb(b,0,-1)),null==a)return!1;b=zd(b),c=ag.call(a,b)}return c||bd(a.length)&&Zc(b,a.length)&&(Ch(a)||ye(a))}function $e(a,b,c){c&&$c(a,b,c)&&(b=A);for(var d=-1,e=Nh(a),f=e.length,g={};++d<f;){var h=e[d],i=a[h];b?ag.call(g,i)?g[i].push(h):g[i]=[h]:g[i]=h}return g}function _e(a){if(null==a)return[];He(a)||(a=Uf(a));var b=a.length;b=b&&bd(b)&&(Ch(a)||ye(a))&&b||0;for(var c=a.constructor,d=-1,e="function"==typeof c&&c.prototype===a,f=Of(b),g=b>0;++d<b;)f[d]=d+"";for(var h in a)g&&Zc(h,b)||"constructor"==h&&(e||!ag.call(a,h))||f.push(h);return f}function af(a){a=kd(a);for(var b=-1,c=Nh(a),d=c.length,e=Of(d);++b<d;){var f=c[b];e[b]=[f,a[f]]}return e}function bf(a,b,c){var d=null==a?A:a[b];return d===A&&(null==a||_c(b,a)||(b=ld(b),a=1==b.length?a:Ib(a,Wb(b,0,-1)),d=null==a?A:a[zd(b)]),d=d===A?c:d),Ge(d)?d.call(a):d}function cf(a,b,c){if(null==a)return a;var d=b+"";b=null!=a[d]||_c(b,a)?[d]:ld(b);for(var e=-1,f=b.length,g=f-1,h=a;null!=h&&++e<f;){var i=b[e];He(h)&&(e==g?h[i]=c:null==h[i]&&(h[i]=Zc(b[e+1])?[]:{})),h=h[i]}return a}function df(a,b,c,d){var e=Ch(a)||Qe(a);if(b=Oc(b,d,4),null==c)if(e||He(a)){var f=a.constructor;c=e?Ch(a)?new f:[]:Ig(Ge(f)?f.prototype:A)}else c={};return(e?bb:Fb)(a,function(a,d,e){return b(c,a,d,e)}),c}function ef(a){return ac(a,Nh(a))}function ff(a){return ac(a,_e(a))}function gf(a,b,c){return b=+b||0,c===A?(c=b,b=0):c=+c||0,a>=wg(b,c)&&a<vg(b,c)}function hf(a,b,c){c&&$c(a,b,c)&&(b=c=A);var d=null==a,e=null==b;if(null==c&&(e&&"boolean"==typeof a?(c=a,a=1):"boolean"==typeof b&&(c=b,e=!0)),d&&e&&(b=1,e=!1),a=+a||0,e?(b=a,a=0):b=+b||0,c||a%1||b%1){var f=zg();return wg(a+f*(b-a+hg("1e-"+((f+"").length-1))),b)}return Ub(a,b)}function jf(a){return a=i(a),a&&a.charAt(0).toUpperCase()+a.slice(1)}function kf(a){return a=i(a),a&&a.replace(La,n).replace(Ea,"")}function lf(a,b,c){a=i(a),b+="";var d=a.length;return c=c===A?d:wg(0>c?0:+c||0,d),c-=b.length,c>=0&&a.indexOf(b,c)==c}function mf(a){return a=i(a),a&&va.test(a)?a.replace(ta,o):a}function nf(a){return a=i(a),a&&Da.test(a)?a.replace(Ca,p):a||"(?:)"}function of(a,b,c){a=i(a),b=+b;var d=a.length;if(d>=b||!tg(b))return a;var e=(b-d)/2,f=rg(e),g=pg(e);return c=Gc("",g,c),c.slice(0,f)+a+c}function pf(a,b,c){return(c?$c(a,b,c):null==b)?b=0:b&&(b=+b),a=tf(a),yg(a,b||(Ia.test(a)?16:10))}function qf(a,b){var c="";if(a=i(a),b=+b,1>b||!a||!tg(b))return c;do b%2&&(c+=a),b=rg(b/2),a+=a;while(b);return c}function rf(a,b,c){return a=i(a),c=null==c?0:wg(0>c?0:+c||0,a.length),a.lastIndexOf(b,c)==c}function sf(a,b,d){var e=c.templateSettings;d&&$c(a,b,d)&&(b=d=A),a=i(a),b=qb(rb({},d||b),e,pb);var f,g,h=qb(rb({},b.imports),e.imports,pb),j=Nh(h),k=ac(h,j),l=0,m=b.interpolate||Ma,n="__p += '",o=Vf((b.escape||Ma).source+"|"+m.source+"|"+(m===ya?Ga:Ma).source+"|"+(b.evaluate||Ma).source+"|$","g"),p="//# sourceURL="+("sourceURL"in b?b.sourceURL:"lodash.templateSources["+ ++Qa+"]")+"\n";a.replace(o,function(b,c,d,e,h,i){return d||(d=e),n+=a.slice(l,i).replace(Na,q),c&&(f=!0,n+="' +\n__e("+c+") +\n'"),h&&(g=!0,n+="';\n"+h+";\n__p += '"),d&&(n+="' +\n((__t = ("+d+")) == null ? '' : __t) +\n'"),l=i+b.length,b}),n+="';\n";var r=b.variable;r||(n="with (obj) {\n"+n+"\n}\n"),n=(g?n.replace(pa,""):n).replace(qa,"$1").replace(ra,"$1;"),n="function("+(r||"obj")+") {\n"+(r?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(f?", __e = _.escape":"")+(g?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+n+"return __p\n}";var s=Yh(function(){return Rf(j,p+"return "+n).apply(A,k)});if(s.source=n,Ee(s))throw s;return s}function tf(a,b,c){var d=a;return(a=i(a))?(c?$c(d,b,c):null==b)?a.slice(w(a),x(a)+1):(b+="",a.slice(j(a,b),k(a,b)+1)):a}function uf(a,b,c){var d=a;return a=i(a),a?(c?$c(d,b,c):null==b)?a.slice(w(a)):a.slice(j(a,b+"")):a}function vf(a,b,c){var d=a;return a=i(a),a?(c?$c(d,b,c):null==b)?a.slice(0,x(a)+1):a.slice(0,k(a,b+"")+1):a}function wf(a,b,c){c&&$c(a,b,c)&&(b=A);var d=L,e=M;if(null!=b)if(He(b)){var f="separator"in b?b.separator:f;d="length"in b?+b.length||0:d,e="omission"in b?i(b.omission):e}else d=+b||0;if(a=i(a),d>=a.length)return a;var g=d-e.length;if(1>g)return e;var h=a.slice(0,g);if(null==f)return h+e;if(Oe(f)){if(a.slice(g).search(f)){var j,k,l=a.slice(0,g);for(f.global||(f=Vf(f.source,(Ha.exec(f)||"")+"g")),f.lastIndex=0;j=f.exec(l);)k=j.index;h=h.slice(0,null==k?g:k)}}else if(a.indexOf(f,g)!=g){var m=h.lastIndexOf(f);m>-1&&(h=h.slice(0,m))}return h+e}function xf(a){return a=i(a),a&&ua.test(a)?a.replace(sa,y):a}function yf(a,b,c){return c&&$c(a,b,c)&&(b=A),a=i(a),a.match(b||Oa)||[]}function zf(a,b,c){return c&&$c(a,b,c)&&(b=A),s(a)?Cf(a):ub(a,b)}function Af(a){return function(){return a}}function Bf(a){return a}function Cf(a){return Nb(vb(a,!0))}function Df(a,b){return Ob(a,vb(b,!0))}function Ef(a,b,c){if(null==c){var d=He(b),e=d?Nh(b):A,f=e&&e.length?Hb(b,e):A;(f?f.length:d)||(f=!1,c=b,b=a,a=this)}f||(f=Hb(b,Nh(b)));var g=!0,h=-1,i=Ge(a),j=f.length;c===!1?g=!1:He(c)&&"chain"in c&&(g=c.chain);for(;++h<j;){var k=f[h],l=b[k];a[k]=l,i&&(a.prototype[k]=function(b){return function(){var c=this.__chain__;if(g||c){var d=a(this.__wrapped__),e=d.__actions__=ab(this.__actions__);return e.push({func:b,args:arguments,thisArg:a}),d.__chain__=c,d}return b.apply(a,jb([this.value()],arguments))}}(l))}return a}function Ff(){return db._=dg,this}function Gf(){}function Hf(a){return _c(a)?Rb(a):Sb(a)}function If(a){return function(b){return Ib(a,ld(b),b+"")}}function Jf(a,b,c){c&&$c(a,b,c)&&(b=c=A),a=+a||0,c=null==c?1:+c||0,null==b?(b=a,a=0):b=+b||0;for(var d=-1,e=vg(pg((b-a)/(c||1)),0),f=Of(e);++d<e;)f[d]=a,a+=c;return f}function Kf(a,b,c){if(a=rg(a),1>a||!tg(a))return[];var d=-1,e=Of(wg(a,Cg));for(b=fc(b,c,1);++d<a;)Cg>d?e[d]=b(d):b(d);return e}function Lf(a){var b=++bg;return i(a)+b}function Mf(a,b){return(+a||0)+(+b||0)}function Nf(a,b,c){return c&&$c(a,b,c)&&(b=A),b=Oc(b,c,3),1==b.length?nb(Ch(a)?a:jd(a),b):$b(a,b)}b=b?eb.defaults(db.Object(),b,eb.pick(db,Pa)):db;var Of=b.Array,Pf=b.Date,Qf=b.Error,Rf=b.Function,Sf=b.Math,Tf=b.Number,Uf=b.Object,Vf=b.RegExp,Wf=b.String,Xf=b.TypeError,Yf=Of.prototype,Zf=Uf.prototype,$f=Wf.prototype,_f=Rf.prototype.toString,ag=Zf.hasOwnProperty,bg=0,cg=Zf.toString,dg=db._,eg=Vf("^"+_f.call(ag).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),fg=b.ArrayBuffer,gg=b.clearTimeout,hg=b.parseFloat,ig=Sf.pow,jg=Zf.propertyIsEnumerable,kg=Sc(b,"Set"),lg=b.setTimeout,mg=Yf.splice,ng=b.Uint8Array,og=Sc(b,"WeakMap"),pg=Sf.ceil,qg=Sc(Uf,"create"),rg=Sf.floor,sg=Sc(Of,"isArray"),tg=b.isFinite,ug=Sc(Uf,"keys"),vg=Sf.max,wg=Sf.min,xg=Sc(Pf,"now"),yg=b.parseInt,zg=Sf.random,Ag=Tf.NEGATIVE_INFINITY,Bg=Tf.POSITIVE_INFINITY,Cg=4294967295,Dg=Cg-1,Eg=Cg>>>1,Fg=9007199254740991,Gg=og&&new og,Hg={};
c.support={};c.templateSettings={escape:wa,evaluate:xa,interpolate:ya,variable:"",imports:{_:c}};var Ig=function(){function a(){}return function(b){if(He(b)){a.prototype=b;var c=new a;a.prototype=A}return c||{}}}(),Jg=lc(Fb),Kg=lc(Gb,!0),Lg=mc(),Mg=mc(!0),Ng=Gg?function(a,b){return Gg.set(a,b),a}:Bf,Og=Gg?function(a){return Gg.get(a)}:Gf,Pg=Rb("length"),Qg=function(){var a=0,b=0;return function(c,d){var e=oh(),f=O-(e-b);if(b=e,f>0){if(++a>=N)return c}else a=0;return Ng(c,d)}}(),Rg=qe(function(a,b){return s(a)&&Yc(a)?xb(a,Db(b,!1,!0)):[]}),Sg=vc(),Tg=vc(!0),Ug=qe(function(a){for(var b=a.length,c=b,d=Of(l),e=Qc(),f=e==g,h=[];c--;){var i=a[c]=Yc(i=a[c])?i:[];d[c]=f&&i.length>=120?oc(c&&i):null}var j=a[0],k=-1,l=j?j.length:0,m=d[0];a:for(;++k<l;)if(i=j[k],(m?Za(m,i):e(h,i,0))<0){for(var c=b;--c;){var n=d[c];if((n?Za(n,i):e(a[c],i,0))<0)continue a}m&&m.push(i),h.push(i)}return h}),Vg=qe(function(b,c){c=Db(c);var d=sb(b,c);return Tb(b,c.sort(a)),d}),Wg=Jc(),Xg=Jc(!0),Yg=qe(function(a){return _b(Db(a,!1,!0))}),Zg=qe(function(a,b){return Yc(a)?xb(a,b):[]}),$g=qe(Kd),_g=qe(function(a){var b=a.length,c=b>2?a[b-2]:A,d=b>1?a[b-1]:A;return b>2&&"function"==typeof c?b-=2:(c=b>1&&"function"==typeof d?(--b,d):A,d=A),a.length=b,Ld(a,c,d)}),ah=qe(function(a){return a=Db(a),this.thru(function(b){return _a(Ch(b)?b:[kd(b)],a)})}),bh=qe(function(a,b){return sb(a,Db(b))}),ch=jc(function(a,b,c){ag.call(a,c)?++a[c]:a[c]=1}),dh=uc(Jg),eh=uc(Kg,!0),fh=yc(bb,Jg),gh=yc(cb,Kg),hh=jc(function(a,b,c){ag.call(a,c)?a[c].push(b):a[c]=[b]}),ih=jc(function(a,b,c){a[c]=b}),jh=qe(function(a,b,c){var d=-1,e="function"==typeof b,f=_c(b),g=Yc(a)?Of(a.length):[];return Jg(a,function(a){var h=e?b:f&&null!=a?a[b]:A;g[++d]=h?h.apply(a,c):Xc(a,b,c)}),g}),kh=jc(function(a,b,c){a[c?0:1].push(b)},function(){return[[],[]]}),lh=Ec(kb,Jg),mh=Ec(lb,Kg),nh=qe(function(a,b){if(null==a)return[];var c=b[2];return c&&$c(b[0],b[1],c)&&(b.length=1),Zb(a,Db(b),[])}),oh=xg||function(){return(new Pf).getTime()},ph=qe(function(a,b,c){var d=C;if(c.length){var e=u(c,ph.placeholder);d|=H}return Kc(a,d,b,c,e)}),qh=qe(function(a,b){b=b.length?Db(b):Xe(a);for(var c=-1,d=b.length;++c<d;){var e=b[c];a[e]=Kc(a[e],C,a)}return a}),rh=qe(function(a,b,c){var d=C|D;if(c.length){var e=u(c,rh.placeholder);d|=H}return Kc(b,d,a,c,e)}),sh=rc(F),th=rc(G),uh=qe(function(a,b){return wb(a,1,b)}),vh=qe(function(a,b,c){return wb(a,b,c)}),wh=xc(),xh=xc(!0),yh=qe(function(a,b){if(b=Db(b),"function"!=typeof a||!fb(b,h))throw new Xf(S);var c=b.length;return qe(function(d){for(var e=wg(d.length,c);e--;)d[e]=b[e](d[e]);return a.apply(this,d)})}),zh=Dc(H),Ah=Dc(I),Bh=qe(function(a,b){return Kc(a,K,A,A,A,Db(b))}),Ch=sg||function(a){return s(a)&&bd(a.length)&&cg.call(a)==V},Dh=kc(Pb),Eh=kc(function(a,b,c){return c?qb(a,b,c):rb(a,b)}),Fh=sc(Eh,ob),Gh=sc(Dh,ed),Hh=wc(Fb),Ih=wc(Gb),Jh=zc(Lg),Kh=zc(Mg),Lh=Ac(Fb),Mh=Ac(Gb),Nh=ug?function(a){var b=null==a?A:a.constructor;return"function"==typeof b&&b.prototype===a||"function"!=typeof a&&Yc(a)?id(a):He(a)?ug(a):[]}:id,Oh=Bc(!0),Ph=Bc(),Qh=qe(function(a,b){if(null==a)return{};if("function"!=typeof b[0]){var b=ib(Db(b),Wf);return fd(a,xb(_e(a),b))}var c=fc(b[0],b[1],3);return gd(a,function(a,b,d){return!c(a,b,d)})}),Rh=qe(function(a,b){return null==a?{}:"function"==typeof b[0]?gd(a,fc(b[0],b[1],3)):fd(a,Db(b))}),Sh=pc(function(a,b,c){return b=b.toLowerCase(),a+(c?b.charAt(0).toUpperCase()+b.slice(1):b)}),Th=pc(function(a,b,c){return a+(c?"-":"")+b.toLowerCase()}),Uh=Cc(),Vh=Cc(!0),Wh=pc(function(a,b,c){return a+(c?"_":"")+b.toLowerCase()}),Xh=pc(function(a,b,c){return a+(c?" ":"")+(b.charAt(0).toUpperCase()+b.slice(1))}),Yh=qe(function(a,b){try{return a.apply(A,b)}catch(c){return Ee(c)?c:new Qf(c)}}),Zh=qe(function(a,b){return function(c){return Xc(c,a,b)}}),$h=qe(function(a,b){return function(c){return Xc(a,c,b)}}),_h=Ic("ceil"),ai=Ic("floor"),bi=tc(we,Ag),ci=tc(Se,Bg),di=Ic("round");return c.prototype=d.prototype,e.prototype=Ig(d.prototype),e.prototype.constructor=e,t.prototype=Ig(d.prototype),t.prototype.constructor=t,Ta.prototype["delete"]=Ua,Ta.prototype.get=Va,Ta.prototype.has=Wa,Ta.prototype.set=Xa,Ya.prototype.push=$a,ne.Cache=Ta,c.after=je,c.ary=ke,c.assign=Eh,c.at=bh,c.before=le,c.bind=ph,c.bindAll=qh,c.bindKey=rh,c.callback=zf,c.chain=Od,c.chunk=nd,c.compact=od,c.constant=Af,c.countBy=ch,c.create=We,c.curry=sh,c.curryRight=th,c.debounce=me,c.defaults=Fh,c.defaultsDeep=Gh,c.defer=uh,c.delay=vh,c.difference=Rg,c.drop=pd,c.dropRight=qd,c.dropRightWhile=rd,c.dropWhile=sd,c.fill=td,c.filter=Yd,c.flatten=vd,c.flattenDeep=wd,c.flow=wh,c.flowRight=xh,c.forEach=fh,c.forEachRight=gh,c.forIn=Jh,c.forInRight=Kh,c.forOwn=Lh,c.forOwnRight=Mh,c.functions=Xe,c.groupBy=hh,c.indexBy=ih,c.initial=yd,c.intersection=Ug,c.invert=$e,c.invoke=jh,c.keys=Nh,c.keysIn=_e,c.map=_d,c.mapKeys=Oh,c.mapValues=Ph,c.matches=Cf,c.matchesProperty=Df,c.memoize=ne,c.merge=Dh,c.method=Zh,c.methodOf=$h,c.mixin=Ef,c.modArgs=yh,c.negate=oe,c.omit=Qh,c.once=pe,c.pairs=af,c.partial=zh,c.partialRight=Ah,c.partition=kh,c.pick=Rh,c.pluck=ae,c.property=Hf,c.propertyOf=If,c.pull=Bd,c.pullAt=Vg,c.range=Jf,c.rearg=Bh,c.reject=be,c.remove=Cd,c.rest=Dd,c.restParam=qe,c.set=cf,c.shuffle=de,c.slice=Ed,c.sortBy=ge,c.sortByAll=nh,c.sortByOrder=he,c.spread=re,c.take=Fd,c.takeRight=Gd,c.takeRightWhile=Hd,c.takeWhile=Id,c.tap=Pd,c.throttle=se,c.thru=Qd,c.times=Kf,c.toArray=Ue,c.toPlainObject=Ve,c.transform=df,c.union=Yg,c.uniq=Jd,c.unzip=Kd,c.unzipWith=Ld,c.values=ef,c.valuesIn=ff,c.where=ie,c.without=Zg,c.wrap=te,c.xor=Md,c.zip=$g,c.zipObject=Nd,c.zipWith=_g,c.backflow=xh,c.collect=_d,c.compose=xh,c.each=fh,c.eachRight=gh,c.extend=Eh,c.iteratee=zf,c.methods=Xe,c.object=Nd,c.select=Yd,c.tail=Dd,c.unique=Jd,Ef(c,c),c.add=Mf,c.attempt=Yh,c.camelCase=Sh,c.capitalize=jf,c.ceil=_h,c.clone=ue,c.cloneDeep=ve,c.deburr=kf,c.endsWith=lf,c.escape=mf,c.escapeRegExp=nf,c.every=Xd,c.find=dh,c.findIndex=Sg,c.findKey=Hh,c.findLast=eh,c.findLastIndex=Tg,c.findLastKey=Ih,c.findWhere=Zd,c.first=ud,c.floor=ai,c.get=Ye,c.gt=we,c.gte=xe,c.has=Ze,c.identity=Bf,c.includes=$d,c.indexOf=xd,c.inRange=gf,c.isArguments=ye,c.isArray=Ch,c.isBoolean=ze,c.isDate=Ae,c.isElement=Be,c.isEmpty=Ce,c.isEqual=De,c.isError=Ee,c.isFinite=Fe,c.isFunction=Ge,c.isMatch=Ie,c.isNaN=Je,c.isNative=Ke,c.isNull=Le,c.isNumber=Me,c.isObject=He,c.isPlainObject=Ne,c.isRegExp=Oe,c.isString=Pe,c.isTypedArray=Qe,c.isUndefined=Re,c.kebabCase=Th,c.last=zd,c.lastIndexOf=Ad,c.lt=Se,c.lte=Te,c.max=bi,c.min=ci,c.noConflict=Ff,c.noop=Gf,c.now=oh,c.pad=of,c.padLeft=Uh,c.padRight=Vh,c.parseInt=pf,c.random=hf,c.reduce=lh,c.reduceRight=mh,c.repeat=qf,c.result=bf,c.round=di,c.runInContext=z,c.size=ee,c.snakeCase=Wh,c.some=fe,c.sortedIndex=Wg,c.sortedLastIndex=Xg,c.startCase=Xh,c.startsWith=rf,c.sum=Nf,c.template=sf,c.trim=tf,c.trimLeft=uf,c.trimRight=vf,c.trunc=wf,c.unescape=xf,c.uniqueId=Lf,c.words=yf,c.all=Xd,c.any=fe,c.contains=$d,c.eq=De,c.detect=dh,c.foldl=lh,c.foldr=mh,c.head=ud,c.include=$d,c.inject=lh,Ef(c,function(){var a={};return Fb(c,function(b,d){c.prototype[d]||(a[d]=b)}),a}(),!1),c.sample=ce,c.prototype.sample=function(a){return this.__chain__||null!=a?this.thru(function(b){return ce(b,a)}):ce(this.value())},c.VERSION=B,bb(["bind","bindKey","curry","curryRight","partial","partialRight"],function(a){c[a].placeholder=c}),bb(["drop","take"],function(a,b){t.prototype[a]=function(c){var d=this.__filtered__;if(d&&!b)return new t(this);c=null==c?1:vg(rg(c)||0,0);var e=this.clone();return d?e.__takeCount__=wg(e.__takeCount__,c):e.__views__.push({size:c,type:a+(e.__dir__<0?"Right":"")}),e},t.prototype[a+"Right"]=function(b){return this.reverse()[a](b).reverse()}}),bb(["filter","map","takeWhile"],function(a,b){var c=b+1,d=c!=R;t.prototype[a]=function(a,b){var e=this.clone();return e.__iteratees__.push({iteratee:Oc(a,b,1),type:c}),e.__filtered__=e.__filtered__||d,e}}),bb(["first","last"],function(a,b){var c="take"+(b?"Right":"");t.prototype[a]=function(){return this[c](1).value()[0]}}),bb(["initial","rest"],function(a,b){var c="drop"+(b?"":"Right");t.prototype[a]=function(){return this.__filtered__?new t(this):this[c](1)}}),bb(["pluck","where"],function(a,b){var c=b?"filter":"map",d=b?Nb:Hf;t.prototype[a]=function(a){return this[c](d(a))}}),t.prototype.compact=function(){return this.filter(Bf)},t.prototype.reject=function(a,b){return a=Oc(a,b,1),this.filter(function(b){return!a(b)})},t.prototype.slice=function(a,b){a=null==a?0:+a||0;var c=this;return c.__filtered__&&(a>0||0>b)?new t(c):(0>a?c=c.takeRight(-a):a&&(c=c.drop(a)),b!==A&&(b=+b||0,c=0>b?c.dropRight(-b):c.take(b-a)),c)},t.prototype.takeRightWhile=function(a,b){return this.reverse().takeWhile(a,b).reverse()},t.prototype.toArray=function(){return this.take(Bg)},Fb(t.prototype,function(a,b){var d=/^(?:filter|map|reject)|While$/.test(b),f=/^(?:first|last)$/.test(b),g=c[f?"take"+("last"==b?"Right":""):b];g&&(c.prototype[b]=function(){var b=f?[1]:arguments,c=this.__chain__,h=this.__wrapped__,i=!!this.__actions__.length,j=h instanceof t,k=b[0],l=j||Ch(h);l&&d&&"function"==typeof k&&1!=k.length&&(j=l=!1);var m=function(a){return f&&c?g(a,1)[0]:g.apply(A,jb([a],b))},n={func:Qd,args:[m],thisArg:A},o=j&&!i;if(f&&!c)return o?(h=h.clone(),h.__actions__.push(n),a.call(h)):g.call(A,this.value())[0];if(!f&&l){h=o?h:new t(this);var p=a.apply(h,b);return p.__actions__.push(n),new e(p,c)}return this.thru(m)})}),bb(["join","pop","push","replace","shift","sort","splice","split","unshift"],function(a){var b=(/^(?:replace|split)$/.test(a)?$f:Yf)[a],d=/^(?:push|sort|unshift)$/.test(a)?"tap":"thru",e=/^(?:join|pop|replace|shift)$/.test(a);c.prototype[a]=function(){var a=arguments;return e&&!this.__chain__?b.apply(this.value(),a):this[d](function(c){return b.apply(c,a)})}}),Fb(t.prototype,function(a,b){var d=c[b];if(d){var e=d.name,f=Hg[e]||(Hg[e]=[]);f.push({name:b,func:d})}}),Hg[Fc(A,D).name]=[{name:"wrapper",func:A}],t.prototype.clone=$,t.prototype.reverse=ca,t.prototype.value=ea,c.prototype.chain=Rd,c.prototype.commit=Sd,c.prototype.concat=ah,c.prototype.plant=Td,c.prototype.reverse=Ud,c.prototype.toString=Vd,c.prototype.run=c.prototype.toJSON=c.prototype.valueOf=c.prototype.value=Wd,c.prototype.collect=c.prototype.map,c.prototype.head=c.prototype.first,c.prototype.select=c.prototype.filter,c.prototype.tail=c.prototype.rest,c}var A,B="3.10.1",C=1,D=2,E=4,F=8,G=16,H=32,I=64,J=128,K=256,L=30,M="...",N=150,O=16,P=200,Q=1,R=2,S="Expected a function",T="__lodash_placeholder__",U="[object Arguments]",V="[object Array]",W="[object Boolean]",X="[object Date]",Y="[object Error]",Z="[object Function]",$="[object Map]",_="[object Number]",aa="[object Object]",ba="[object RegExp]",ca="[object Set]",da="[object String]",ea="[object WeakMap]",fa="[object ArrayBuffer]",ga="[object Float32Array]",ha="[object Float64Array]",ia="[object Int8Array]",ja="[object Int16Array]",ka="[object Int32Array]",la="[object Uint8Array]",ma="[object Uint8ClampedArray]",na="[object Uint16Array]",oa="[object Uint32Array]",pa=/\b__p \+= '';/g,qa=/\b(__p \+=) '' \+/g,ra=/(__e\(.*?\)|\b__t\)) \+\n'';/g,sa=/&(?:amp|lt|gt|quot|#39|#96);/g,ta=/[&<>"'`]/g,ua=RegExp(sa.source),va=RegExp(ta.source),wa=/<%-([\s\S]+?)%>/g,xa=/<%([\s\S]+?)%>/g,ya=/<%=([\s\S]+?)%>/g,za=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,Aa=/^\w*$/,Ba=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,Ca=/^[:!,]|[\\^$.*+?()[\]{}|\/]|(^[0-9a-fA-Fnrtuvx])|([\n\r\u2028\u2029])/g,Da=RegExp(Ca.source),Ea=/[\u0300-\u036f\ufe20-\ufe23]/g,Fa=/\\(\\)?/g,Ga=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ha=/\w*$/,Ia=/^0[xX]/,Ja=/^\[object .+?Constructor\]$/,Ka=/^\d+$/,La=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,Ma=/($^)/,Na=/['\n\r\u2028\u2029\\]/g,Oa=function(){var a="[A-Z\\xc0-\\xd6\\xd8-\\xde]",b="[a-z\\xdf-\\xf6\\xf8-\\xff]+";return RegExp(a+"+(?="+a+b+")|"+a+"?"+b+"|"+a+"+|[0-9]+","g")}(),Pa=["Array","ArrayBuffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Math","Number","Object","RegExp","Set","String","_","clearTimeout","isFinite","parseFloat","parseInt","setTimeout","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap"],Qa=-1,Ra={};Ra[ga]=Ra[ha]=Ra[ia]=Ra[ja]=Ra[ka]=Ra[la]=Ra[ma]=Ra[na]=Ra[oa]=!0,Ra[U]=Ra[V]=Ra[fa]=Ra[W]=Ra[X]=Ra[Y]=Ra[Z]=Ra[$]=Ra[_]=Ra[aa]=Ra[ba]=Ra[ca]=Ra[da]=Ra[ea]=!1;var Sa={};Sa[U]=Sa[V]=Sa[fa]=Sa[W]=Sa[X]=Sa[ga]=Sa[ha]=Sa[ia]=Sa[ja]=Sa[ka]=Sa[_]=Sa[aa]=Sa[ba]=Sa[da]=Sa[la]=Sa[ma]=Sa[na]=Sa[oa]=!0,Sa[Y]=Sa[Z]=Sa[$]=Sa[ca]=Sa[ea]=!1;var Ta={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss"},Ua={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},Va={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},Wa={"function":!0,object:!0},Xa={0:"x30",1:"x31",2:"x32",3:"x33",4:"x34",5:"x35",6:"x36",7:"x37",8:"x38",9:"x39",A:"x41",B:"x42",C:"x43",D:"x44",E:"x45",F:"x46",a:"x61",b:"x62",c:"x63",d:"x64",e:"x65",f:"x66",n:"x6e",r:"x72",t:"x74",u:"x75",v:"x76",x:"x78"},Ya={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Za=Wa[typeof b]&&b&&!b.nodeType&&b,$a=Wa[typeof c]&&c&&!c.nodeType&&c,_a=Za&&$a&&"object"==typeof e&&e&&e.Object&&e,ab=Wa[typeof self]&&self&&self.Object&&self,bb=Wa[typeof window]&&window&&window.Object&&window,cb=$a&&$a.exports===Za&&Za,db=_a||bb!==(this&&this.window)&&bb||ab||this,eb=z();"function"==typeof d&&"object"==typeof d.amd&&d.amd?(db._=eb,d(function(){return eb})):Za&&$a?cb?($a.exports=eb)._=eb:Za._=eb:db._=eb}).call(this)}(a("6")),c.exports}),$__System.registerDynamic("60",["102"],!0,function(a,b,c){return c.exports=a("102"),c.exports}),$__System.register("103",["28","60","5e","5f","fe"],function(a){"use strict";var b,c,d,e,f,g;return{setters:[function(a){b=a["default"]},function(a){c=a["default"]},function(a){d=a["default"]},function(a){e=a["default"]},function(a){f=a["default"]}],execute:function(){g=function(a){function g(){babelHelpers.classCallCheck(this,g),babelHelpers.get(Object.getPrototypeOf(g.prototype),"constructor",this).apply(this,arguments)}return babelHelpers.inherits(g,a),babelHelpers.createClass(g,[{key:"render",value:function(){var a=c.find(this.props.data.routes,function(a){return a.title===this.props.route.title},this);return b.createElement("div",{className:"main-container"},a.content.hero?b.createElement(d,a.content.hero):null,a.content.mosaicContainer?b.createElement("div",{className:"c-mosaic fullscreen-mosaic"},a.content.mosaicContainer.map(function(a,c){return b.createElement(e,{key:c,mosaics:a})})):null,a.content.carousel?b.createElement(f,babelHelpers._extends({fullscreen:a.content.carousel.fullscreen},a.content.carousel)):null)}}]),g}(b.Component),a("default",g)}}}),$__System.register("104",[],function(){return{setters:[],execute:function(){}}}),$__System.register("105",[],function(){return{setters:[],execute:function(){}}}),$__System.register("1",["4","8","15","25","28","103","104","105","5b","5c","5d"],function(a){"use strict";function b(a){return d.xhr({url:a,responseType:"json"})}var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t;return{setters:[function(a){c=a["default"]},function(a){d=a["default"]},function(a){e=a["default"]},function(a){f=a.createHashHistory},function(a){g=a["default"]},function(a){h=a["default"]},function(a){},function(a){},function(a){i=a.Router,j=a.DefaultRoute,k=a.Route,l=a.Link,m=a.IndexRoute,n=a.hashHistory,o=a.useRouterHistory},function(a){p=a["default"]},function(a){q=a["default"]}],execute:function(){r=o(f)({queryKey:!1}),s=b("data/data.json").done(function(a){s=a.response;var b=s.routes.reduce(function(a){return"IndexRoute"!==a.type?!1:a}),d=s.routes.filter(function(a){return"IndexRoute"!==a.type}).map(function(a){return a});c.render(g.createElement(i,{history:r},g.createElement(k,{path:"/",component:t},g.createElement(m,{component:h,title:b.title}),d.map(function(a,b){return g.createElement(k,{component:h,key:b,path:a.path,title:a.title})}))),document.getElementById("app"))}),t=function(a){function b(a){babelHelpers.classCallCheck(this,b),babelHelpers.get(Object.getPrototypeOf(b.prototype),"constructor",this).call(this,a),this.state={data:{}}}return babelHelpers.inherits(b,a),babelHelpers.createClass(b,[{key:"componentDidMount",value:function(){var a=this;a.setState({data:s})}},{key:"render",value:function(){return this.state.data==={}?g.createElement("div",{className:"grid"},"Loading..."):(console.log(this.state.data),g.createElement("div",{className:"grid"},g.createElement(p,{routes:this.props.routes,params:this.props.params}),g.createElement(e,{component:"div",transitionName:"page-transition",transitionEnterTimeout:500,transitionLeaveTimeout:500},g.cloneElement(this.props.children,{key:this.props.location.pathname,data:s}))))}}]),b}(g.Component)}}}),$__System.register("src/js/components/linkband/LinkBand.scss!github:theefer/plugin-sass@master.js",[],!1,function(){}),$__System.register("src/js/components/hero/Hero.scss!github:theefer/plugin-sass@master.js",[],!1,function(){}),$__System.register("src/js/components/mosaic/mosaic.scss!github:theefer/plugin-sass@master.js",[],!1,function(){}),$__System.register("src/js/components/carousel/Carousel.scss!github:theefer/plugin-sass@master.js",[],!1,function(){}),$__System.register("src/styles/main.scss!github:theefer/plugin-sass@master.js",[],!1,function(){}),function(a){var b=document,c="appendChild",d="styleSheet",e=b.createElement("style");e.type="text/css",b.getElementsByTagName("head")[0][c](e),e[d]?e[d].cssText=a:e[c](b.createTextNode(a))}("nav.c-link-navigation {\n  background: #2B2B2B;\n  margin-top: 0; }\n  nav.c-link-navigation ul li {\n    position: relative; }\n    nav.c-link-navigation ul li .ghost {\n      font-weight: bold;\n      top: 0;\n      left: 0;\n      opacity: 0;\n      z-index: -1;\n      visibility: hidden; }\n    nav.c-link-navigation ul li a {\n      position: absolute; }\n    nav.c-link-navigation ul li a, nav.c-link-navigation ul li .ghost {\n      display: block;\n      text-decoration: none;\n      color: #aaaaaa;\n      font-size: 18px; }\n      @media only screen and (max-width: 767px) {\n        nav.c-link-navigation ul li a, nav.c-link-navigation ul li .ghost {\n          padding: 12px; } }\n      @media only screen and (min-width: 768px) {\n        nav.c-link-navigation ul li a, nav.c-link-navigation ul li .ghost {\n          margin: 20px 18px; } }\n      nav.c-link-navigation ul li a.active, nav.c-link-navigation ul li .ghost.active {\n        color: #fff;\n        font-weight: bold; }\n      nav.c-link-navigation ul li a:hover, nav.c-link-navigation ul li .ghost:hover {\n        color: #fff; }\n\n/*# sourceMappingURL=data:application/json;base64,ewoJInZlcnNpb24iOiAzLAoJInNvdXJjZVJvb3QiOiAicm9vdCIsCgkiZmlsZSI6ICJzdGRvdXQiLAoJInNvdXJjZXMiOiBbCgkJIkM6L3NyYy9SRFgtUlMyLU1XRi9zcmNcXGpzXFxjb21wb25lbnRzXFxsaW5rYmFuZFxcTGlua0JhbmQuc2NzcyIKCV0sCgkic291cmNlc0NvbnRlbnQiOiBbCgkJIm5hdi5jLWxpbmstbmF2aWdhdGlvbiB7XHJcbiAgYmFja2dyb3VuZDogIzJCMkIyQjtcclxuICBtYXJnaW4tdG9wOiAwO1xyXG5cclxuICB1bCB7XHJcbiAgICAvL2Rpc3BsYXk6IGZsZXg7XHJcbiAgICAvL2FsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICAvL2p1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gICAgLy9saXN0LXN0eWxlOiBub25lO1xyXG4gICAgLy9tYXJnaW46IDAgMDtcclxuXHJcbiAgICBsaSB7XHJcbiAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuXHJcbiAgICAgIC5naG9zdCB7XHJcbiAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7XHJcbiAgICAgICAgdG9wOiAwO1xyXG4gICAgICAgIGxlZnQ6IDA7XHJcbiAgICAgICAgb3BhY2l0eTogMDtcclxuICAgICAgICB6LWluZGV4OiAtMTtcclxuICAgICAgICB2aXNpYmlsaXR5OiBoaWRkZW47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGEge1xyXG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgICAgfVxyXG5cclxuICAgICAgYSwgLmdob3N0IHtcclxuICAgICAgICBkaXNwbGF5OiBibG9jaztcclxuICAgICAgICAvL3BhZGRpbmc6IDIwcHggMTVweDtcclxuXHJcbiAgICAgICAgQG1lZGlhIG9ubHkgc2NyZWVuIGFuZCAobWF4LXdpZHRoOiA3NjdweCkge1xyXG4gICAgICAgICAgcGFkZGluZzogMTJweDtcclxuICAgICAgICB9XHJcbiAgICAgICAgQG1lZGlhIG9ubHkgc2NyZWVuIGFuZCAobWluLXdpZHRoOiA3NjhweCkge1xyXG4gICAgICAgICAgbWFyZ2luOiAyMHB4IDE4cHg7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcclxuICAgICAgICBjb2xvcjogI2FhYWFhYTtcclxuICAgICAgICBmb250LXNpemU6IDE4cHg7XHJcblxyXG4gICAgICAgICYuYWN0aXZlIHtcclxuICAgICAgICAgIGNvbG9yOiAjZmZmO1xyXG4gICAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAmOmhvdmVyIHtcclxuICAgICAgICAgIGNvbG9yOiAjZmZmO1xyXG5cclxuICAgICAgICAgIC8vJjo6YWZ0ZXIge1xyXG4gICAgICAgICAgLy8gIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjMDBCQ0YyO1xyXG4gICAgICAgICAgLy8gIGNvbnRlbnQ6ICcnO1xyXG4gICAgICAgICAgLy8gIHdpZHRoOiAxMDAlO1xyXG4gICAgICAgICAgLy8gIGhlaWdodDogMnB4O1xyXG4gICAgICAgICAgLy8gIGRpc3BsYXk6IGJsb2NrO1xyXG4gICAgICAgICAgLy99XHJcbiAgICAgICAgfVxyXG5cclxuXHJcblxyXG4gICAgICAgIC8vJjo6YWZ0ZXIge1xyXG4gICAgICAgIC8vICBib3JkZXItYm90dG9tOiAxcHggc29saWQgdHJhbnNwYXJlbnQ7XHJcbiAgICAgICAgLy8gIGNvbnRlbnQ6ICcnO1xyXG4gICAgICAgIC8vICB3aWR0aDogMTAwJTtcclxuICAgICAgICAvLyAgaGVpZ2h0OiAycHg7XHJcbiAgICAgICAgLy8gIGRpc3BsYXk6IGJsb2NrO1xyXG4gICAgICAgIC8vfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG4iCgldLAoJIm1hcHBpbmdzIjogIkFBQUEsR0FBRyxBQUFBLGtCQUFrQixDQUFDO0VBQ3BCLFVBQVUsRUFBRSxPQUFRO0VBQ3BCLFVBQVUsRUFBRSxDQUFFLEdBb0VmO0VBdEVELEdBQUcsQUFBQSxrQkFBa0IsQ0FJbkIsRUFBRSxDQU9BLEVBQUUsQ0FBQztJQUNELFFBQVEsRUFBRSxRQUFTLEdBd0RwQjtJQXBFTCxHQUFHLEFBQUEsa0JBQWtCLENBSW5CLEVBQUUsQ0FPQSxFQUFFLENBR0EsTUFBTSxDQUFDO01BQ0wsV0FBVyxFQUFFLElBQUs7TUFDbEIsR0FBRyxFQUFFLENBQUU7TUFDUCxJQUFJLEVBQUUsQ0FBRTtNQUNSLE9BQU8sRUFBRSxDQUFFO01BQ1gsT0FBTyxFQUFFLEVBQUc7TUFDWixVQUFVLEVBQUUsTUFBTyxHQUNwQjtJQXJCUCxHQUFHLEFBQUEsa0JBQWtCLENBSW5CLEVBQUUsQ0FPQSxFQUFFLENBWUEsQ0FBQyxDQUFDO01BQ0EsUUFBUSxFQUFFLFFBQVMsR0FDcEI7SUF6QlAsR0FBRyxBQUFBLGtCQUFrQixDQUluQixFQUFFLENBT0EsRUFBRSxDQWdCQSxDQUFDLEVBM0JQLEdBQUcsQUFBQSxrQkFBa0IsQ0FJbkIsRUFBRSxDQU9BLEVBQUUsQ0FnQkcsTUFBTSxDQUFDO01BQ1IsT0FBTyxFQUFFLEtBQU07TUFTZixlQUFlLEVBQUUsSUFBSztNQUN0QixLQUFLLEVBQUUsT0FBUTtNQUNmLFNBQVMsRUFBRSxJQUFLLEdBNEJqQjtNQXBDQyxNQUFNLE1BQUQsTUFBTSxNQUFNLFNBQVMsRUFBRSxLQUFLO1FBL0J6QyxHQUFHLEFBQUEsa0JBQWtCLENBSW5CLEVBQUUsQ0FPQSxFQUFFLENBZ0JBLENBQUMsRUEzQlAsR0FBRyxBQUFBLGtCQUFrQixDQUluQixFQUFFLENBT0EsRUFBRSxDQWdCRyxNQUFNLENBQUM7VUFLTixPQUFPLEVBQUUsSUFBSyxHQW1DakI7TUFqQ0MsTUFBTSxNQUFELE1BQU0sTUFBTSxTQUFTLEVBQUUsS0FBSztRQWxDekMsR0FBRyxBQUFBLGtCQUFrQixDQUluQixFQUFFLENBT0EsRUFBRSxDQWdCQSxDQUFDLEVBM0JQLEdBQUcsQUFBQSxrQkFBa0IsQ0FJbkIsRUFBRSxDQU9BLEVBQUUsQ0FnQkcsTUFBTSxDQUFDO1VBUU4sTUFBTSxFQUFFLFNBQVUsR0FnQ3JCO01BbkVQLEdBQUcsQUFBQSxrQkFBa0IsQ0FJbkIsRUFBRSxDQU9BLEVBQUUsQ0FnQkEsQ0FBQyxBQWNFLE9BQU8sRUF6Q2hCLEdBQUcsQUFBQSxrQkFBa0IsQ0FJbkIsRUFBRSxDQU9BLEVBQUUsQ0FnQkcsTUFBTSxBQWNOLE9BQU8sQ0FBQztRQUNQLEtBQUssRUFBRSxJQUFLO1FBQ1osV0FBVyxFQUFFLElBQUssR0FDbkI7TUE1Q1QsR0FBRyxBQUFBLGtCQUFrQixDQUluQixFQUFFLENBT0EsRUFBRSxDQWdCQSxDQUFDLEFBbUJFLE1BQU0sRUE5Q2YsR0FBRyxBQUFBLGtCQUFrQixDQUluQixFQUFFLENBT0EsRUFBRSxDQWdCRyxNQUFNLEFBbUJOLE1BQU0sQ0FBQztRQUNOLEtBQUssRUFBRSxJQUFLLEdBU2IiLAoJIm5hbWVzIjogW10KfQ== */\n.c-hero.theme-dark {\n  background: #000; }\n\n.c-hero.f-fullscreen {\n  height: calc(100vh - 64px); }\n  .c-hero.f-fullscreen img {\n    height: calc(100vh - 64px);\n    min-width: auto; }\n  .c-hero.f-fullscreen .f-y-center .context-game {\n    top: 50%;\n    transform: translateX(-50%) translateY(-50%); }\n\n.sub-route + .main-container .c-hero.f-fullscreen {\n  height: calc(100vh - 100px); }\n  .sub-route + .main-container .c-hero.f-fullscreen img {\n    height: calc(100vh - 100px);\n    min-width: auto; }\n  .sub-route + .main-container .c-hero.f-fullscreen .f-y-center .context-game {\n    top: 50%;\n    transform: translateX(-50%) translateY(-50%); }\n\n/*# sourceMappingURL=data:application/json;base64,ewoJInZlcnNpb24iOiAzLAoJInNvdXJjZVJvb3QiOiAicm9vdCIsCgkiZmlsZSI6ICJzdGRvdXQiLAoJInNvdXJjZXMiOiBbCgkJIkM6L3NyYy9SRFgtUlMyLU1XRi9zcmNcXGpzXFxjb21wb25lbnRzXFxoZXJvXFxIZXJvLnNjc3MiCgldLAoJInNvdXJjZXNDb250ZW50IjogWwoJCSIuYy1oZXJvLnRoZW1lLWRhcmsge1xyXG4gIGJhY2tncm91bmQ6ICMwMDA7XHJcbn1cclxuXHJcbi5jLWhlcm8uZi1mdWxsc2NyZWVuIHtcclxuICBoZWlnaHQ6IGNhbGMoMTAwdmggLSA2NHB4KTtcclxuXHJcblxyXG4gIGltZyB7XHJcbiAgICBoZWlnaHQ6IGNhbGMoMTAwdmggLSA2NHB4KTtcclxuICAgIG1pbi13aWR0aDogYXV0bztcclxuICB9XHJcblxyXG4gIC5mLXktY2VudGVyIHtcclxuICAgIC5jb250ZXh0LWdhbWUge1xyXG4gICAgICB0b3A6IDUwJTtcclxuICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC01MCUpIHRyYW5zbGF0ZVkoLTUwJSk7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG4uc3ViLXJvdXRlICsgLm1haW4tY29udGFpbmVyIC5jLWhlcm8uZi1mdWxsc2NyZWVuIHtcclxuICBoZWlnaHQ6IGNhbGMoMTAwdmggLSAxMDBweCk7XHJcblxyXG4gIGltZyB7XHJcbiAgICBoZWlnaHQ6IGNhbGMoMTAwdmggLSAxMDBweCk7XHJcbiAgICBtaW4td2lkdGg6IGF1dG87XHJcbiAgfVxyXG5cclxuICAuZi15LWNlbnRlciB7XHJcbiAgICAuY29udGV4dC1nYW1lIHtcclxuICAgICAgdG9wOiA1MCU7XHJcbiAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgtNTAlKSB0cmFuc2xhdGVZKC01MCUpO1xyXG4gICAgfVxyXG4gIH1cclxufSIKCV0sCgkibWFwcGluZ3MiOiAiQUFBQSxPQUFPLEFBQUEsV0FBVyxDQUFDO0VBQ2pCLFVBQVUsRUFBRSxJQUFLLEdBQ2xCOztBQUVELE9BQU8sQUFBQSxhQUFhLENBQUM7RUFDbkIsTUFBTSxFQUFFLGtCQUFJLEdBY2I7RUFmRCxPQUFPLEFBQUEsYUFBYSxDQUlsQixHQUFHLENBQUM7SUFDRixNQUFNLEVBQUUsa0JBQUk7SUFDWixTQUFTLEVBQUUsSUFBSyxHQUNqQjtFQVBILE9BQU8sQUFBQSxhQUFhLENBU2xCLFdBQVcsQ0FDVCxhQUFhLENBQUM7SUFDWixHQUFHLEVBQUUsR0FBSTtJQUNULFNBQVMsRUFBRSxnQkFBVSxDQUFPLGdCQUFVLEdBQ3ZDOztBQUlMLFVBQVUsR0FBRyxlQUFlLENBQUMsT0FBTyxBQUFBLGFBQWEsQ0FBQztFQUNoRCxNQUFNLEVBQUUsbUJBQUksR0FhYjtFQWRELFVBQVUsR0FBRyxlQUFlLENBQUMsT0FBTyxBQUFBLGFBQWEsQ0FHL0MsR0FBRyxDQUFDO0lBQ0YsTUFBTSxFQUFFLG1CQUFJO0lBQ1osU0FBUyxFQUFFLElBQUssR0FDakI7RUFOSCxVQUFVLEdBQUcsZUFBZSxDQUFDLE9BQU8sQUFBQSxhQUFhLENBUS9DLFdBQVcsQ0FDVCxhQUFhLENBQUM7SUFDWixHQUFHLEVBQUUsR0FBSTtJQUNULFNBQVMsRUFBRSxnQkFBVSxDQUFPLGdCQUFVLEdBQ3ZDIiwKCSJuYW1lcyI6IFtdCn0= */\n@media only screen and (min-width: 768px) {\n  .c-mosaic [data-f-mosaic~=\"f-vp3-quarter\"] {\n    width: 25%; } }\n\n.c-image-overlay {\n  transition-property: opacity;\n  transition-duration: 300ms;\n  transition-timing-function: cubic-bezier(0.175, 0.665, 0.32, 1), linear; }\n\n.c-placement:hover {\n  cursor: pointer; }\n  .c-placement:hover .c-image-overlay {\n    opacity: 0; }\n\n/*# sourceMappingURL=data:application/json;base64,ewoJInZlcnNpb24iOiAzLAoJInNvdXJjZVJvb3QiOiAicm9vdCIsCgkiZmlsZSI6ICJzdGRvdXQiLAoJInNvdXJjZXMiOiBbCgkJIkM6L3NyYy9SRFgtUlMyLU1XRi9zcmNcXGpzXFxjb21wb25lbnRzXFxtb3NhaWNcXG1vc2FpYy5zY3NzIgoJXSwKCSJzb3VyY2VzQ29udGVudCI6IFsKCQkiQG1lZGlhIG9ubHkgc2NyZWVuIGFuZCAobWluLXdpZHRoOiA3NjhweCkge1xyXG4gIC5jLW1vc2FpYyBbZGF0YS1mLW1vc2FpY349XCJmLXZwMy1xdWFydGVyXCJdIHtcclxuICAgIHdpZHRoOiAyNSU7XHJcbiAgfVxyXG59XHJcblxyXG4uYy1pbWFnZS1vdmVybGF5IHtcclxuICB0cmFuc2l0aW9uLXByb3BlcnR5OiBvcGFjaXR5O1xyXG4gIHRyYW5zaXRpb24tZHVyYXRpb246IDMwMG1zO1xyXG4gIHRyYW5zaXRpb24tdGltaW5nLWZ1bmN0aW9uOiBjdWJpYy1iZXppZXIoMC4xNzUsIDAuNjY1LCAwLjMyMCwgMSksIGxpbmVhcjtcclxufVxyXG5cclxuLmMtcGxhY2VtZW50OmhvdmVyIHtcclxuXHJcbiAgY3Vyc29yOiBwb2ludGVyO1xyXG5cclxuICAuYy1pbWFnZS1vdmVybGF5IHtcclxuICAgIG9wYWNpdHk6IDA7XHJcbiAgfVxyXG59IgoJXSwKCSJtYXBwaW5ncyI6ICJBQUFBLE1BQU0sTUFBRCxNQUFNLE1BQU0sU0FBUyxFQUFFLEtBQUs7RUFDL0IsU0FBUyxFQUFDLEFBQUEsYUFBQyxFQUFlLGVBQWUsQUFBOUIsRUFBZ0M7SUFDekMsS0FBSyxFQUFFLEdBQUksR0FDWjs7QUFHSCxnQkFBZ0IsQ0FBQztFQUNmLG1CQUFtQixFQUFFLE9BQVE7RUFDN0IsbUJBQW1CLEVBQUUsS0FBTTtFQUMzQiwwQkFBMEIsRUFBRSxtQ0FBWSxFQUEwQixNQUFNLEdBQ3pFOztBQUVELFlBQVksQUFBQSxNQUFNLENBQUM7RUFFakIsTUFBTSxFQUFFLE9BQVEsR0FLakI7RUFQRCxZQUFZLEFBQUEsTUFBTSxDQUloQixnQkFBZ0IsQ0FBQztJQUNmLE9BQU8sRUFBRSxDQUFFLEdBQ1oiLAoJIm5hbWVzIjogW10KfQ== */\n.c-carousel.f-fullscreen .f-medium {\n  height: calc(100vh - 64px); }\n\n.c-carousel.f-fullscreen li .c-hero picture img {\n  height: calc(100vh - 64px);\n  width: auto; }\n\n.c-carousel.f-fullscreen .f-y-center > div > div {\n  top: calc(50% - 120px);\n  transform: translateY(calc(-50% - 120px)); }\n\n.sub-route + .main-container .c-carousel.f-fullscreen .f-medium {\n  height: calc(100vh - 100px); }\n\n.sub-route + .main-container .c-carousel.f-fullscreen li .c-hero picture img {\n  height: calc(100vh - 100px);\n  width: auto; }\n\n.sub-route + .main-container .c-carousel.f-fullscreen .f-y-center > div > div {\n  top: calc(50% - 120px);\n  transform: translateY(calc(-50% - 120px)); }\n\n/*# sourceMappingURL=data:application/json;base64,ewoJInZlcnNpb24iOiAzLAoJInNvdXJjZVJvb3QiOiAicm9vdCIsCgkiZmlsZSI6ICJzdGRvdXQiLAoJInNvdXJjZXMiOiBbCgkJIkM6L3NyYy9SRFgtUlMyLU1XRi9zcmNcXGpzXFxjb21wb25lbnRzXFxjYXJvdXNlbFxcQ2Fyb3VzZWwuc2NzcyIKCV0sCgkic291cmNlc0NvbnRlbnQiOiBbCgkJIi5jLWNhcm91c2VsLmYtZnVsbHNjcmVlbiB7XHJcbiAgLmYtbWVkaXVtIHtcclxuICAgIGhlaWdodDogY2FsYygxMDB2aCAtIDY0cHgpO1xyXG4gIH1cclxuXHJcbiAgbGkgLmMtaGVybyBwaWN0dXJlIGltZyB7XHJcbiAgICBoZWlnaHQ6IGNhbGMoMTAwdmggLSA2NHB4KTtcclxuICAgIHdpZHRoOiBhdXRvO1xyXG4gIH1cclxuXHJcbiAgLmYteS1jZW50ZXIgPiBkaXYgPiBkaXYge1xyXG4gICAgdG9wOiBjYWxjKDUwJSAtIDEyMHB4KTtcclxuICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWShjYWxjKC01MCUgLSAxMjBweCkpO1xyXG4gIH1cclxufVxyXG5cclxuXHJcbi5zdWItcm91dGUgKyAubWFpbi1jb250YWluZXIgLmMtY2Fyb3VzZWwuZi1mdWxsc2NyZWVuIHtcclxuXHJcbiAgLmYtbWVkaXVtIHtcclxuICAgIGhlaWdodDogY2FsYygxMDB2aCAtIDEwMHB4KTtcclxuICB9XHJcblxyXG4gIGxpIC5jLWhlcm8gcGljdHVyZSBpbWcge1xyXG4gICAgaGVpZ2h0OiBjYWxjKDEwMHZoIC0gMTAwcHgpO1xyXG4gICAgd2lkdGg6IGF1dG87XHJcbiAgfVxyXG5cclxuICAuZi15LWNlbnRlciA+IGRpdiA+IGRpdiB7XHJcbiAgICB0b3A6IGNhbGMoNTAlIC0gMTIwcHgpO1xyXG4gICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKGNhbGMoLTUwJSAtIDEyMHB4KSk7XHJcbiAgfVxyXG59IgoJXSwKCSJtYXBwaW5ncyI6ICJBQUFBLFdBQVcsQUFBQSxhQUFhLENBQ3RCLFNBQVMsQ0FBQztFQUNSLE1BQU0sRUFBRSxrQkFBSSxHQUNiOztBQUhILFdBQVcsQUFBQSxhQUFhLENBS3RCLEVBQUUsQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQztFQUNyQixNQUFNLEVBQUUsa0JBQUk7RUFDWixLQUFLLEVBQUUsSUFBSyxHQUNiOztBQVJILFdBQVcsQUFBQSxhQUFhLENBVXRCLFdBQVcsR0FBRyxHQUFHLEdBQUcsR0FBRyxDQUFDO0VBQ3RCLEdBQUcsRUFBRSxpQkFBSTtFQUNULFNBQVMsRUFBRSw4QkFBVSxHQUN0Qjs7QUFJSCxVQUFVLEdBQUcsZUFBZSxDQUFDLFdBQVcsQUFBQSxhQUFhLENBRW5ELFNBQVMsQ0FBQztFQUNSLE1BQU0sRUFBRSxtQkFBSSxHQUNiOztBQUpILFVBQVUsR0FBRyxlQUFlLENBQUMsV0FBVyxBQUFBLGFBQWEsQ0FNbkQsRUFBRSxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDO0VBQ3JCLE1BQU0sRUFBRSxtQkFBSTtFQUNaLEtBQUssRUFBRSxJQUFLLEdBQ2I7O0FBVEgsVUFBVSxHQUFHLGVBQWUsQ0FBQyxXQUFXLEFBQUEsYUFBYSxDQVduRCxXQUFXLEdBQUcsR0FBRyxHQUFHLEdBQUcsQ0FBQztFQUN0QixHQUFHLEVBQUUsaUJBQUk7RUFDVCxTQUFTLEVBQUUsOEJBQVUsR0FDdEIiLAoJIm5hbWVzIjogW10KfQ== */\n#app {\n  font-family: \"SegoeUI\", \"Helvetica Neue\", Helvetica, Arial, sans-serif; }\n\nbody {\n  padding: 0;\n  background: #000;\n  overflow-x: hidden; }\n  @media only screen and (min-width: 768px) {\n    body {\n      overflow: hidden; } }\n\n.grid {\n  display: flex;\n  flex-direction: column;\n  height: 100vh;\n  align-items: stretch; }\n\n.main-container > div {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  height: calc(100vh - 64px); }\n  @media only screen and (min-width: 768px) {\n    .main-container > div.fullscreen-mosaic {\n      flex-direction: row; }\n      .main-container > div.fullscreen-mosaic [data-f-mosaic~='f-height-large'] {\n        height: 100%; }\n        .main-container > div.fullscreen-mosaic [data-f-mosaic~='f-height-large'] img {\n          height: 100%; }\n      .main-container > div.fullscreen-mosaic [data-f-mosaic~='f-height-small'] {\n        height: 40%; }\n      .main-container > div.fullscreen-mosaic [data-f-mosaic~='f-height-medium'] {\n        height: 60%; } }\n  .main-container > div .c-mosaic {\n    display: flex;\n    flex-direction: column;\n    flex: 1; }\n  .main-container > div .c-call-to-action.c-glyph-go:after {\n    content: '\\E8AD'; }\n  .main-container > div .c-hero {\n    height: calc(100vh - 64px); }\n    .main-container > div .c-hero.f-medium {\n      height: 380px; }\n  .main-container > div .c-mosaic > div {\n    flex: 1; }\n    .main-container > div .c-mosaic > div > div {\n      height: 100%; }\n      .main-container > div .c-mosaic > div > div img {\n        height: 100%; }\n\n.page-transition-enter {\n  opacity: 0;\n  transform: translate(-250px, 0);\n  transform: translate3d(-250px, 0, 0); }\n\n.page-transition-enter.page-transition-enter-active {\n  opacity: 1;\n  transform: translate(0, 0);\n  transform: translate3d(0, 0, 0);\n  transition-property: transform, opacity;\n  transition-duration: 300ms;\n  transition-timing-function: cubic-bezier(0.175, 0.665, 0.32, 1), linear; }\n\n.page-transition-leave {\n  opacity: 1;\n  transform: translate(0, 0);\n  transform: translate3d(0, 0, 0);\n  transition-property: transform, opacity;\n  transition-duration: 300ms;\n  transition-timing-function: cubic-bezier(0.175, 0.665, 0.32, 1), linear; }\n\n.page-transition-leave.page-transition-leave-active {\n  opacity: 0;\n  transform: translate(250px, 0);\n  transform: translate3d(250px, 0, 0); }\n\n/*# sourceMappingURL=data:application/json;base64,ewoJInZlcnNpb24iOiAzLAoJInNvdXJjZVJvb3QiOiAicm9vdCIsCgkiZmlsZSI6ICJzdGRvdXQiLAoJInNvdXJjZXMiOiBbCgkJIkM6L3NyYy9SRFgtUlMyLU1XRi9zcmNcXHN0eWxlc1xcbWFpbi5zY3NzIgoJXSwKCSJzb3VyY2VzQ29udGVudCI6IFsKCQkiI2FwcCB7XHJcbiAgICBmb250LWZhbWlseTogXCJTZWdvZVVJXCIsIFwiSGVsdmV0aWNhIE5ldWVcIiwgSGVsdmV0aWNhLCBBcmlhbCwgc2Fucy1zZXJpZjtcclxufVxyXG5cclxuYm9keSB7XHJcbiAgcGFkZGluZzogMDtcclxuICBiYWNrZ3JvdW5kOiAjMDAwO1xyXG4gIG92ZXJmbG93LXg6IGhpZGRlbjtcclxuXHJcbiAgQG1lZGlhIG9ubHkgc2NyZWVuIGFuZCAobWluLXdpZHRoOjc2OHB4KSB7XHJcbiAgICBvdmVyZmxvdzogaGlkZGVuO1xyXG4gIH1cclxufVxyXG5cclxuLmdyaWQge1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuICBoZWlnaHQ6IDEwMHZoO1xyXG4gIGFsaWduLWl0ZW1zOiBzdHJldGNoO1xyXG59XHJcblxyXG5cclxuLm1haW4tY29udGFpbmVyID4gZGl2IHtcclxuICBmbGV4OiAxO1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuICBoZWlnaHQ6IGNhbGMoMTAwdmggLSA2NHB4KTtcclxuXHJcbiAgQG1lZGlhIG9ubHkgc2NyZWVuIGFuZCAobWluLXdpZHRoOiA3NjhweCkge1xyXG4gICAgJi5mdWxsc2NyZWVuLW1vc2FpYyB7XHJcbiAgICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7XHJcblxyXG4gICAgICBbZGF0YS1mLW1vc2FpY349J2YtaGVpZ2h0LWxhcmdlJ10ge1xyXG4gICAgICAgIGhlaWdodDogMTAwJTtcclxuICAgICAgICBpbWcge1xyXG4gICAgICAgICAgaGVpZ2h0OiAxMDAlO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgW2RhdGEtZi1tb3NhaWN+PSdmLWhlaWdodC1zbWFsbCddIHtcclxuICAgICAgICBoZWlnaHQ6IDQwJTtcclxuICAgICAgfVxyXG5cclxuICAgICAgW2RhdGEtZi1tb3NhaWN+PSdmLWhlaWdodC1tZWRpdW0nXSB7XHJcbiAgICAgICAgaGVpZ2h0OiA2MCU7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIC5jLW1vc2FpYyB7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuICAgIGZsZXg6IDE7XHJcbiAgfVxyXG5cclxuICAuYy1jYWxsLXRvLWFjdGlvbi5jLWdseXBoLWdvOmFmdGVyIHtcclxuICAgIGNvbnRlbnQ6ICdcXEU4QUQnO1xyXG4gIH1cclxuXHJcbiAgLmMtaGVybyB7XHJcbiAgICAgIGhlaWdodDogY2FsYygxMDB2aCAtIDY0cHgpO1xyXG5cclxuICAgICYuZi1tZWRpdW0ge1xyXG4gICAgICBoZWlnaHQ6IDM4MHB4O1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLmMtbW9zYWljID4gZGl2IHtcclxuICAgIGZsZXg6IDE7XHJcblxyXG4gICAgPiBkaXYge1xyXG4gICAgICBoZWlnaHQ6IDEwMCU7XHJcblxyXG4gICAgICBpbWcge1xyXG4gICAgICAgIGhlaWdodDogMTAwJTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuLnBhZ2UtdHJhbnNpdGlvbi1lbnRlciB7XHJcbiAgb3BhY2l0eTogMDtcclxuICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtMjUwcHgsMCk7XHJcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgtMjUwcHgsMCwwKTtcclxufVxyXG5cclxuLnBhZ2UtdHJhbnNpdGlvbi1lbnRlci5wYWdlLXRyYW5zaXRpb24tZW50ZXItYWN0aXZlIHtcclxuICBvcGFjaXR5OiAxO1xyXG4gIHRyYW5zZm9ybTogdHJhbnNsYXRlKDAsMCk7XHJcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgwLDAsMCk7XHJcbiAgdHJhbnNpdGlvbi1wcm9wZXJ0eTogdHJhbnNmb3JtLCBvcGFjaXR5O1xyXG4gIHRyYW5zaXRpb24tZHVyYXRpb246IDMwMG1zO1xyXG4gIHRyYW5zaXRpb24tdGltaW5nLWZ1bmN0aW9uOiBjdWJpYy1iZXppZXIoMC4xNzUsIDAuNjY1LCAwLjMyMCwgMSksIGxpbmVhcjtcclxufVxyXG5cclxuLnBhZ2UtdHJhbnNpdGlvbi1sZWF2ZSB7XHJcbiAgb3BhY2l0eTogMTtcclxuICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgwLDApO1xyXG4gIHRyYW5zZm9ybTogdHJhbnNsYXRlM2QoMCwwLDApO1xyXG4gIHRyYW5zaXRpb24tcHJvcGVydHk6IHRyYW5zZm9ybSwgb3BhY2l0eTtcclxuICB0cmFuc2l0aW9uLWR1cmF0aW9uOiAzMDBtcztcclxuICB0cmFuc2l0aW9uLXRpbWluZy1mdW5jdGlvbjogY3ViaWMtYmV6aWVyKDAuMTc1LCAwLjY2NSwgMC4zMjAsIDEpLCBsaW5lYXI7XHJcbn1cclxuXHJcbi5wYWdlLXRyYW5zaXRpb24tbGVhdmUucGFnZS10cmFuc2l0aW9uLWxlYXZlLWFjdGl2ZSB7XHJcbiAgb3BhY2l0eTogMDtcclxuICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgyNTBweCwwKTtcclxuICB0cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKDI1MHB4LDAsMCk7XHJcbn0iCgldLAoJIm1hcHBpbmdzIjogIkFBQUEsSUFBSSxDQUFDO0VBQ0QsV0FBVyxFQUFFLHlEQUEwRCxHQUMxRTs7QUFFRCxJQUFJLENBQUM7RUFDSCxPQUFPLEVBQUUsQ0FBRTtFQUNYLFVBQVUsRUFBRSxJQUFLO0VBQ2pCLFVBQVUsRUFBRSxNQUFPLEdBS3BCO0VBSEMsTUFBTSxNQUFELE1BQU0sTUFBTSxTQUFTLEVBQUUsS0FBSztJQUxuQyxJQUFJLENBQUM7TUFNRCxRQUFRLEVBQUUsTUFBTyxHQUVwQjs7QUFFRCxLQUFLLENBQUM7RUFDSixPQUFPLEVBQUUsSUFBSztFQUNkLGNBQWMsRUFBRSxNQUFPO0VBQ3ZCLE1BQU0sRUFBRSxLQUFNO0VBQ2QsV0FBVyxFQUFFLE9BQVEsR0FDdEI7O0FBR0QsZUFBZSxHQUFHLEdBQUcsQ0FBQztFQUNwQixJQUFJLEVBQUUsQ0FBRTtFQUNSLE9BQU8sRUFBRSxJQUFLO0VBQ2QsY0FBYyxFQUFFLE1BQU87RUFDdkIsTUFBTSxFQUFFLGtCQUFJLEdBb0RiO0VBbERDLE1BQU0sTUFBRCxNQUFNLE1BQU0sU0FBUyxFQUFFLEtBQUs7SUFObkMsZUFBZSxHQUFHLEdBQUcsQUFPaEIsa0JBQWtCLENBQUM7TUFDbEIsY0FBYyxFQUFFLEdBQUksR0FnQnJCO01BeEJMLGVBQWUsR0FBRyxHQUFHLEFBT2hCLGtCQUFrQixFQUdqQixBQUFBLGFBQUMsRUFBZSxnQkFBZ0IsQUFBL0IsRUFBaUM7UUFDaEMsTUFBTSxFQUFFLElBQUssR0FJZDtRQWZQLGVBQWUsR0FBRyxHQUFHLEFBT2hCLGtCQUFrQixFQUdqQixBQUFBLGFBQUMsRUFBZSxnQkFBZ0IsQUFBL0IsRUFFQyxHQUFHLENBQUM7VUFDRixNQUFNLEVBQUUsSUFBSyxHQUNkO01BZFQsZUFBZSxHQUFHLEdBQUcsQUFPaEIsa0JBQWtCLEVBVWpCLEFBQUEsYUFBQyxFQUFlLGdCQUFnQixBQUEvQixFQUFpQztRQUNoQyxNQUFNLEVBQUUsR0FBSSxHQUNiO01BbkJQLGVBQWUsR0FBRyxHQUFHLEFBT2hCLGtCQUFrQixFQWNqQixBQUFBLGFBQUMsRUFBZSxpQkFBaUIsQUFBaEMsRUFBa0M7UUFDakMsTUFBTSxFQUFFLEdBQUksR0FDYjtFQXZCUCxlQUFlLEdBQUcsR0FBRyxDQTJCbkIsU0FBUyxDQUFDO0lBQ1IsT0FBTyxFQUFFLElBQUs7SUFDZCxjQUFjLEVBQUUsTUFBTztJQUN2QixJQUFJLEVBQUUsQ0FBRSxHQUNUO0VBL0JILGVBQWUsR0FBRyxHQUFHLENBaUNuQixpQkFBaUIsQUFBQSxXQUFXLEFBQUEsTUFBTSxDQUFDO0lBQ2pDLE9BQU8sRUFBRSxPQUFRLEdBQ2xCO0VBbkNILGVBQWUsR0FBRyxHQUFHLENBcUNuQixPQUFPLENBQUM7SUFDSixNQUFNLEVBQUUsa0JBQUksR0FLZjtJQTNDSCxlQUFlLEdBQUcsR0FBRyxDQXFDbkIsT0FBTyxBQUdKLFNBQVMsQ0FBQztNQUNULE1BQU0sRUFBRSxLQUFNLEdBQ2Y7RUExQ0wsZUFBZSxHQUFHLEdBQUcsQ0E2Q25CLFNBQVMsR0FBRyxHQUFHLENBQUM7SUFDZCxJQUFJLEVBQUUsQ0FBRSxHQVNUO0lBdkRILGVBQWUsR0FBRyxHQUFHLENBNkNuQixTQUFTLEdBQUcsR0FBRyxHQUdYLEdBQUcsQ0FBQztNQUNKLE1BQU0sRUFBRSxJQUFLLEdBS2Q7TUF0REwsZUFBZSxHQUFHLEdBQUcsQ0E2Q25CLFNBQVMsR0FBRyxHQUFHLEdBR1gsR0FBRyxDQUdILEdBQUcsQ0FBQztRQUNGLE1BQU0sRUFBRSxJQUFLLEdBQ2Q7O0FBS1Asc0JBQXNCLENBQUM7RUFDckIsT0FBTyxFQUFFLENBQUU7RUFDWCxTQUFTLEVBQUUsb0JBQVM7RUFDcEIsU0FBUyxFQUFFLHlCQUFXLEdBQ3ZCOztBQUVELHNCQUFzQixBQUFBLDZCQUE2QixDQUFDO0VBQ2xELE9BQU8sRUFBRSxDQUFFO0VBQ1gsU0FBUyxFQUFFLGVBQVM7RUFDcEIsU0FBUyxFQUFFLG9CQUFXO0VBQ3RCLG1CQUFtQixFQUFFLGtCQUFtQjtFQUN4QyxtQkFBbUIsRUFBRSxLQUFNO0VBQzNCLDBCQUEwQixFQUFFLG1DQUFZLEVBQTBCLE1BQU0sR0FDekU7O0FBRUQsc0JBQXNCLENBQUM7RUFDckIsT0FBTyxFQUFFLENBQUU7RUFDWCxTQUFTLEVBQUUsZUFBUztFQUNwQixTQUFTLEVBQUUsb0JBQVc7RUFDdEIsbUJBQW1CLEVBQUUsa0JBQW1CO0VBQ3hDLG1CQUFtQixFQUFFLEtBQU07RUFDM0IsMEJBQTBCLEVBQUUsbUNBQVksRUFBMEIsTUFBTSxHQUN6RTs7QUFFRCxzQkFBc0IsQUFBQSw2QkFBNkIsQ0FBQztFQUNsRCxPQUFPLEVBQUUsQ0FBRTtFQUNYLFNBQVMsRUFBRSxtQkFBUztFQUNwQixTQUFTLEVBQUUsd0JBQVcsR0FDdkIiLAoJIm5hbWVzIjogW10KfQ== */"),
$__System.register("src/styles/mwf_en-us_default.min.css!github:systemjs/plugin-css@0.1.19.js",[],!1,function(){}),function(a){if("undefined"!=typeof document){var b=document,c="appendChild",d="styleSheet",e=b.createElement("style");e.type="text/css",b.getElementsByTagName("head")[0][c](e),e[d]?e[d].cssText=a:e[c](b.createTextNode(a))}}('@charset "UTF-8";/*! Copyright 2016 Microsoft Corporation | This software is based on or incorporates material from the files listed below (collectively, “Third Party Code”). Microsoft is not the original author of the Third Party Code. The original copyright notice and the license under which Microsoft received Third Party Code are set forth below together with the full text of such license. Such notices and license are provided solely for your information. Microsoft, not the third party, licenses this Third Party Code to you under the terms in which you received the Microsoft software or the services, unless Microsoft clearly states that such Microsoft terms do NOT apply for a particular Third Party Code. Unless applicable law gives you more rights, Microsoft reserves all other rights not expressly granted under such agreement(s), whether by implication, estoppel or otherwise.*//*! normalize.css v3.0.2 | MIT License | git.io/normalize\r\n * MIT License\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the Software), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\r\n * The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\r\n * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */img,legend{border:0}legend,td,th{padding:0}body,dd,dl,figure{margin:0}.c-feature:after,.c-histogram:after,.c-mosaic [data-f-mosaic*=f-vp]:after,.c-mosaic:after,.c-rating div:after,.c-rating form:after,.c-universal-header>div+div .c-select-menu>.c-menu>.c-menu-item>.c-menu.f-multi-column>li:after,.c-universal-header>div:first-child nav:after,.c-universal-header>div>div:after,.histogram:after,.x-clearfix:after,[class^=c-heading-]:after,[data-grid*=container-]:after,[data-grid*=col-]:after{clear:both}html{font-family:sans-serif;-webkit-text-size-adjust:100%;-ms-text-size-adjust:100%;box-sizing:border-box}article,aside,details,figcaption,figure,footer,header,hgroup,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block;vertical-align:baseline}audio:not([controls]){display:none;height:0}[hidden],template{display:none}a{background-color:transparent}a:active,a:hover{outline:0}abbr[title]{border-bottom:1px dotted}h1{margin:.67em 0}h1,h2,h3,h4,h5,h6,ol,p,ul{margin-top:0;margin-bottom:0}sub,sup{position:relative;vertical-align:baseline;line-height:0}sup{top:-.5em}sub{bottom:-.25em}svg:not(:root){overflow:hidden}hr{box-sizing:content-box;height:0}pre,textarea{overflow:auto}code,kbd,pre,samp{font-size:1em}button,input,optgroup,select,textarea{margin:0;color:inherit;font:inherit}button{overflow:visible}button,select{text-transform:none}button,html input[type=button],input[type=reset],input[type=submit]{cursor:pointer;-webkit-appearance:button}button[disabled],html input[disabled]{cursor:default}button::-moz-focus-inner,input::-moz-focus-inner{padding:0;border:0}input{line-height:normal}input[type=checkbox],input[type=radio]{box-sizing:border-box;padding:0}input[type=number]::-webkit-inner-spin-button,input[type=number]::-webkit-outer-spin-button{height:auto}input[type=search]{box-sizing:content-box}input[type=search]::-webkit-search-cancel-button,input[type=search]::-webkit-search-decoration{-webkit-appearance:none}fieldset{margin:0 2px;padding:.35em .625em .75em;border:1px solid transparent}legend{}.theme-dark .theme-light ins,.theme-dark .theme-light u,.theme-light ins,.theme-light u,ins,u{border-bottom:1px solid rgba(0,0,0,.6)}optgroup{font-weight:700}table{border-spacing:0;border-collapse:collapse}@font-face{font-family:MWF-MDL2;src:url(src/fonts/MWFMDL2.woff) format("woff"),url(src/fonts/MWFMDL2.ttf) format("truetype"),url(src/fonts/MWFMDL2.svg) format("svg")}@font-face{font-family:SegoeUI;font-weight:400;src:local("Segoe UI"),url(//i.s-microsoft.com/fonts/segoe-ui/west-european/normal/latest.woff) format("woff"),url(//i.s-microsoft.com/fonts/segoe-ui/west-european/normal/latest.ttf) format("truetype"),url(//i.s-microsoft.com/fonts/segoe-ui/west-european/normal/latest.svg#web) format("svg")}@font-face{font-family:SegoeUI;font-weight:100;src:local("Segoe UI Light"),url(//i.s-microsoft.com/fonts/segoe-ui/west-european/light/latest.woff) format("woff"),url(//i.s-microsoft.com/fonts/segoe-ui/west-european/light/latest.ttf) format("truetype"),url(//i.s-microsoft.com/fonts/segoe-ui/west-european/light/latest.svg#web) format("svg")}@font-face{font-family:SegoeUI;font-weight:200;src:local("Segoe UI Semilight"),url(//i.s-microsoft.com/fonts/segoe-ui/west-european/semilight/latest.woff) format("woff"),url(//i.s-microsoft.com/fonts/segoe-ui/west-european/semilight/latest.ttf) format("truetype"),url(//i.s-microsoft.com/fonts/segoe-ui/west-european/semilight/latest.svg#web) format("svg")}@font-face{font-family:SegoeUI;font-weight:600;src:local("Segoe UI Semibold"),url(//i.s-microsoft.com/fonts/segoe-ui/west-european/semibold/latest.woff) format("woff"),url(//i.s-microsoft.com/fonts/segoe-ui/west-european/semibold/latest.ttf) format("truetype"),url(//i.s-microsoft.com/fonts/segoe-ui/west-european/semibold/latest.svg#web) format("svg")}@font-face{font-family:SegoeUI;font-weight:700;src:local("Segoe UI Bold"),url(//i.s-microsoft.com/fonts/segoe-ui/west-european/bold/latest.woff) format("woff"),url(//i.s-microsoft.com/fonts/segoe-ui/west-european/bold/latest.ttf) format("truetype"),url(//i.s-microsoft.com/fonts/segoe-ui/west-european/bold/latest.svg#web) format("svg")}.c-heading-1,.h1,.type-h1,h1{font-size:62px;line-height:72px;padding:38px 0 6px;letter-spacing:-.01em;font-weight:100}.c-heading-2,.h2,.type-h2,h2{font-size:46px;line-height:56px;padding:37px 0 3px;letter-spacing:-.01em;font-weight:100}.c-heading-3,.c-subheading-1,.h3,.type-h3,.type-sh1,h3{font-size:34px;line-height:40px}.c-heading-4,.c-subheading-2,.h4,.type-h4,.type-sh2,h4{font-size:24px;line-height:28px}.c-heading-5,.c-paragraph-1,.c-subheading-3,.h5,.type-h5,.type-p1,.type-sh3,h5{font-size:20px;line-height:24px}.c-heading-6,.c-paragraph-2,.c-subheading-4,.h6,.type-h6,.type-p2,.type-sh4,h6{font-size:18px;line-height:24px}.c-paragraph-3,.c-paragraph-4,.c-subheading-5,.c-subheading-6,.type-p3,.type-p4,.type-sh5,.type-sh6,p{font-size:15px;line-height:20px}.c-caption-1,.c-caption-2,.type-c1,.type-c2{line-height:16px;font-weight:400}.c-caption-1,.type-c1{font-size:13px;line-height:16px}.c-heading-3,.h3,.type-h3,h3{padding:38px 0 2px;font-weight:100}.c-heading-4,.h4,.type-h4,h4{padding:36px 0 4px;font-weight:200}.c-heading-5,.h5,.type-h5,h5{padding:35px 0 5px;font-weight:200}.c-heading-6,.h6,.type-h6,h6{padding:37px 0 3px;font-weight:200}.c-subheading-1,.type-sh1{padding:2px 0;font-weight:100}.c-subheading-2,.type-sh2{padding:4px 0 8px;font-weight:200}.c-subheading-3,.type-sh3{padding:8px 0 4px;font-weight:200}.c-subheading-4,.type-sh4{padding:9px 0 3px;font-weight:200}.c-subheading-5,.c-subheading-6,.type-sh5,.type-sh6{padding:8px 0 0;font-weight:200}.c-paragraph-1,.type-p1{padding:24px 0 4px;font-weight:200}.c-paragraph-2,.type-p2{padding:25px 0 3px;font-weight:200}.c-paragraph-3,.c-paragraph-4,.type-p3,.type-p4,p{padding:24px 0 0;font-weight:400}.c-caption-1,.type-c1{padding:3px 0 1px}.c-caption-2,.type-c2{font-size:11px;padding:4px 0}@media (max-width:767px){.c-heading-1,.h1,.type-h1,h1{font-size:46px;line-height:56px;padding:37px 0 3px}.c-heading-2,.h2,.type-h2,h2{font-size:34px;line-height:40px;padding:38px 0 2px}.c-heading-3,.c-subheading-1,.h3,.type-h3,.type-sh1,h3{font-size:26px;line-height:32px}.c-heading-4,.c-subheading-2,.h4,.type-h4,.type-sh2,h4{font-size:20px;line-height:24px}.c-heading-5,.c-paragraph-1,.c-subheading-3,.h5,.type-h5,.type-p1,.type-sh3,h5{font-size:18px;line-height:24px}.c-heading-6,.c-paragraph-2,.c-subheading-4,.h6,.type-h6,.type-p2,.type-sh4,h6{font-size:16px;line-height:20px}.c-caption-1,.type-c1{font-size:12px;line-height:16px}.c-heading-5,.h5,.type-h5,h5{padding:37px 0 3px}.c-heading-6,.h6,.type-h6,h6{padding:39px 0 1px}.c-subheading-1,.type-sh1{padding:9px 0 3px}.c-subheading-2,.type-sh2{padding:8px 0 4px}.c-subheading-3,.type-sh3{padding:4px 0}.c-subheading-4,.type-sh4{padding:7px 0 5px}.c-paragraph-2,.type-p2{padding:27px 0 1px}.c-caption-2,.type-c2{font-size:10px;line-height:12px;padding:2px 0}}kbd,mark{padding:1px 4px 2px}kbd kbd,ol,ul{padding:0}*,:after,:before{box-sizing:inherit}body{min-width:320px;color:#000;background-color:#fff;font-family:SegoeUI,"Helvetica Neue",Helvetica,Arial,sans-serif;font-size:15px}.theme-light{color:#000;background-color:#e6e6e6}.theme-dark{color:#fff;background-color:#333}address{font:inherit}ol,ul{list-style:none}audio,canvas,img,video{vertical-align:middle}a:active,a:focus,a:hover,a:link,a:visited{text-decoration:none;color:inherit}em,i,q,var{font-style:italic}abbr,cite,dfn,time{font-style:normal}b,strong{font-weight:600}mark{background-color:#fff100}.theme-dark .theme-light del,.theme-dark .theme-light s,.theme-light del,.theme-light s,del,s{color:rgba(0,0,0,.6)}.theme-dark del,.theme-dark s,.theme-light .theme-dark del,.theme-light .theme-dark s{color:rgba(255,255,255,.6)}.theme-dark .theme-light kbd,.theme-light kbd,kbd{color:#fff;background-color:rgba(0,0,0,.6)}ins,u{text-decoration:none}.theme-dark ins,.theme-dark u,.theme-light .theme-dark ins,.theme-light .theme-dark u{border-bottom:1px solid rgba(255,255,255,.6)}.theme-dark .theme-light abbr,.theme-dark .theme-light dfn,.theme-light abbr,.theme-light dfn,abbr,dfn{border-bottom:1px dotted rgba(0,0,0,.6)}small,sub,sup{font-size:.8em}.theme-dark abbr,.theme-dark dfn,.theme-light .theme-dark abbr,.theme-light .theme-dark dfn{border-bottom:1px dotted rgba(255,255,255,.6)}code,kbd,pre,samp{font-family:Consolas,"Courier New",Courier,monospace}.c-flipper,.c-glyph:after,.c-glyph:before,.glyph:after,.glyph:before,a.c-content-toggle:after,button.c-refine-item:after{font-family:MWF-MDL2}kbd{border-radius:2px}.theme-dark kbd,.theme-light .theme-dark kbd{color:#000;background-color:rgba(255,255,255,.6)}bdo{direction:rtl}input,input[type=search]{border-radius:0;-webkit-appearance:none;-moz-appearance:none;appearance:none}[data-grid~=container-fixed]{max-width:1600px;max-width:calc(1600px + 10%);margin:0 auto;padding-right:5%;padding-left:5%}[data-grid~=container-fluid]{width:100%;margin-right:auto;margin-left:auto}.ie8 [data-grid*=container-]{min-width:1084px}.ie7 [data-grid*=container-]{min-width:1084px;max-width:1084px}[data-grid*=container-],[data-grid*=col-]{position:relative;zoom:1;box-sizing:border-box}[data-grid*=container-]:after,[data-grid*=container-]:before,[data-grid*=col-]:after,[data-grid*=col-]:before{display:table;content:" "}[data-grid*=col-]{float:left;min-height:1px}[data-grid~=pad-xxl]>[data-grid]{padding-right:42px;padding-left:42px}[data-grid~=pad-xl]>[data-grid]{padding-right:36px;padding-left:36px}[data-grid~=pad-lg]>[data-grid]{padding-right:32px;padding-left:32px}[data-grid~=pad-md]>[data-grid]{padding-right:24px;padding-left:24px}[data-grid~=pad-sm]>[data-grid]{padding-right:18px;padding-left:18px}[data-grid~=pad-xs]>[data-grid]{padding-right:12px;padding-left:12px}[data-grid~=pad-xxs]>[data-grid]{padding-right:6px;padding-left:6px}[data-grid~=pad-xxxs]>[data-grid]{padding-right:4px;padding-left:4px}[data-grid~=pad-n]>[data-grid]{padding-right:0;padding-left:0}[data-grid]>[data-grid~=no-pad]{padding:0}[data-grid~=col-1]{width:8.3333333333%}[data-grid~=col-2]{width:16.6666666667%}[data-grid~=col-3]{width:25%}[data-grid~=col-4]{width:33.3333333333%}[data-grid~=col-5]{width:41.6666666667%}[data-grid~=col-6]{width:50%}[data-grid~=col-7]{width:58.3333333333%}[data-grid~=col-8]{width:66.6666666667%}[data-grid~=col-9]{width:75%}[data-grid~=col-10]{width:83.3333333333%}[data-grid~=col-11]{width:91.6666666667%}[data-grid~=col-12]{width:100%}[data-grid~=col-1-5]{width:20%}[data-grid~=col-1-8]{width:12.5%}@media screen and (max-width:1400px){[data-grid~=stack-5]>[data-grid]{display:block;float:none;width:100%;padding:inherit 0}}@media screen and (max-width:1084px){[data-grid~=stack-4]>[data-grid]{display:block;float:left;width:100%;padding:inherit 0}}@media screen and (max-width:768px){[data-grid~=stack-3]>[data-grid]{display:block;float:left;width:100%;padding:inherit 0}}@media screen and (max-width:540px){[data-grid*=col-]{display:block;float:none;width:100%}[data-grid~=container-fixed]{padding-right:12px;padding-left:12px}}a.c-action-trigger,button.c-action-trigger{display:inline-block;overflow:hidden;min-width:36px;max-width:374px;margin-top:12px;padding:6px 0 8px;vertical-align:bottom;white-space:nowrap;color:#0078d7;border:1px solid transparent;outline:transparent dotted 1px;background:0 0;font-size:15px}a.c-action-trigger:focus,a.c-action-trigger:hover,button.c-action-trigger:focus,button.c-action-trigger:hover{text-decoration:underline;color:rgba(0,0,0,.6)}a.c-action-trigger:focus,button.c-action-trigger:focus{outline:rgba(0,0,0,.6) dotted 1px}a.c-action-trigger:active,button.c-action-trigger:active{text-decoration:none;color:#000;outline:transparent solid 1px}a.c-action-trigger[disabled],button.c-action-trigger[disabled]{cursor:not-allowed;color:rgba(0,0,0,.2)}a.c-action-trigger.c-glyph,button.c-action-trigger.c-glyph{min-width:120px;padding-right:10px}a.c-action-trigger.c-glyph:before,button.c-action-trigger.c-glyph:before{width:16px;height:16px;margin-right:10px;margin-left:10px;vertical-align:middle}a.c-action-trigger.c-glyph.glyph-edit:before,button.c-action-trigger.c-glyph.glyph-edit:before{content:""}a.c-action-trigger.c-glyph.glyph-cancel:before,button.c-action-trigger.c-glyph.glyph-cancel:before{content:""}a.c-action-trigger.c-glyph.glyph-global-nav-button:before,button.c-action-trigger.c-glyph.glyph-global-nav-button:before{content:""}a.c-action-trigger.c-glyph.glyph-shopping-cart:before,button.c-action-trigger.c-glyph.glyph-shopping-cart:before{content:""}a.c-action-trigger.c-glyph.glyph-chevron-left:before,button.c-action-trigger.c-glyph.glyph-chevron-left:before{content:""}a.c-action-trigger.c-glyph.glyph-chevron-right:before,button.c-action-trigger.c-glyph.glyph-chevron-right:before{content:""}a.c-action-trigger.c-glyph.glyph-arrow-htmllegacy-mirrored:before,button.c-action-trigger.c-glyph.glyph-arrow-htmllegacy-mirrored:before{content:""}a.c-action-trigger.c-glyph.glyph-arrow-htmllegacy:before,button.c-action-trigger.c-glyph.glyph-arrow-htmllegacy:before{content:""}a.c-action-trigger.c-glyph[aria-label],button.c-action-trigger.c-glyph[aria-label]{min-width:0;margin-right:10px;padding-right:0}.theme-dark .theme-light a.c-action-trigger,.theme-dark .theme-light button.c-action-trigger,.theme-light a.c-action-trigger,.theme-light button.c-action-trigger{color:#000;background:0 0}.theme-dark .theme-light a.c-action-trigger:focus,.theme-dark .theme-light a.c-action-trigger:hover,.theme-dark .theme-light button.c-action-trigger:focus,.theme-dark .theme-light button.c-action-trigger:hover,.theme-light a.c-action-trigger:focus,.theme-light a.c-action-trigger:hover,.theme-light button.c-action-trigger:focus,.theme-light button.c-action-trigger:hover{text-decoration:underline;color:rgba(0,0,0,.6)}.theme-dark .theme-light a.c-action-trigger:focus,.theme-dark .theme-light button.c-action-trigger:focus,.theme-light a.c-action-trigger:focus,.theme-light button.c-action-trigger:focus{outline:rgba(0,0,0,.6) dotted 1px}.theme-dark .theme-light a.c-action-trigger:active,.theme-dark .theme-light button.c-action-trigger:active,.theme-light a.c-action-trigger:active,.theme-light button.c-action-trigger:active{text-decoration:none;color:#000;outline:transparent solid 1px}.theme-dark .theme-light a.c-action-trigger[disabled],.theme-dark .theme-light button.c-action-trigger[disabled],.theme-light a.c-action-trigger[disabled],.theme-light button.c-action-trigger[disabled]{cursor:not-allowed;color:rgba(0,0,0,.2)}.theme-dark a.c-action-trigger,.theme-dark button.c-action-trigger,.theme-light .theme-dark a.c-action-trigger,.theme-light .theme-dark button.c-action-trigger{color:#fff;background:0 0}.theme-dark a.c-action-trigger:focus,.theme-dark a.c-action-trigger:hover,.theme-dark button.c-action-trigger:focus,.theme-dark button.c-action-trigger:hover,.theme-light .theme-dark a.c-action-trigger:focus,.theme-light .theme-dark a.c-action-trigger:hover,.theme-light .theme-dark button.c-action-trigger:focus,.theme-light .theme-dark button.c-action-trigger:hover{text-decoration:underline;color:rgba(255,255,255,.8)}.theme-dark a.c-action-trigger:focus,.theme-dark button.c-action-trigger:focus,.theme-light .theme-dark a.c-action-trigger:focus,.theme-light .theme-dark button.c-action-trigger:focus{outline:#fff dotted 1px}.theme-dark a.c-action-trigger:active,.theme-dark button.c-action-trigger:active,.theme-light .theme-dark a.c-action-trigger:active,.theme-light .theme-dark button.c-action-trigger:active{text-decoration:none;color:#fff;outline:transparent solid 1px}.theme-dark a.c-action-trigger[disabled],.theme-dark button.c-action-trigger[disabled],.theme-light .theme-dark a.c-action-trigger[disabled],.theme-light .theme-dark button.c-action-trigger[disabled]{cursor:not-allowed;color:rgba(255,255,255,.6)}.c-alert[role=alert]{position:relative;margin-top:24px}.c-alert[role=alert].f-information{color:#231f20;background-color:rgba(0,0,0,.05)}.c-alert[role=alert].f-warning{color:#231f20;background-color:rgba(255,241,0,.4)}.c-alert[role=alert].f-error{color:#fff;background-color:#d02e00}.c-alert[role=alert].f-error .c-action-trigger{text-decoration:underline;color:#fff}.c-alert[role=alert].f-error>.c-action-trigger.glyph-cancel:before{color:#fff}.c-alert[role=alert]>.c-action-trigger.glyph-cancel{position:absolute;z-index:1;top:1px;right:1px;margin:0;padding:14px 6px}.c-alert[role=alert]>.c-action-trigger.glyph-cancel:before{content:"";color:#000}.c-alert[role=alert]>div{float:inherit;max-width:1600px;margin:0 auto;padding:16px 48px 16px 20px}.c-alert[role=alert]>div .c-glyph.glyph-warning{top:0;left:0;float:left;margin-right:12px;margin-left:-8px}.c-alert[role=alert]>div .c-glyph.glyph-warning:before{content:"";font-size:24px}.c-alert[role=alert]>div .c-glyph.glyph-warning~p.c-paragraph{margin-left:28px}.c-alert[role=alert]>div .c-glyph:before{margin:0}.c-alert[role=alert]>div>.c-heading{padding:2px 0 8px;font-size:18px;font-weight:200;line-height:24px}.c-alert[role=alert]>div>.c-paragraph{margin-right:15px;padding-top:0;font-size:13px}@media (max-width:767px){.c-alert[role=alert]>div>.c-paragraph{font-size:12px}}.c-alert[role=alert]>div>.c-paragraph .c-group{display:block;overflow:visible}.c-alert[role=alert]>div>.c-paragraph .c-group .c-action-trigger{padding-right:10px;padding-left:10px;font-size:13px;line-height:16px}@media (max-width:767px){.c-alert[role=alert]>div>.c-paragraph .c-group .c-action-trigger{font-size:12px;line-height:16px}}@media only screen and (max-width:767px){.c-alert[role=alert]>div>.c-paragraph .c-group{display:-webkit-flex;display:-ms-flexbox;display:flex;margin-right:-12px;margin-left:-12px}.c-alert[role=alert]>div>.c-paragraph .c-group .c-action-trigger{margin-top:0;vertical-align:baseline}}@media only screen and (min-width:768px){.c-alert[role=alert]>div>.c-paragraph .c-group{display:inline;float:right;padding-left:15px}.c-alert[role=alert]>div>.c-paragraph .c-group .c-action-trigger{float:right;margin:-7px 0 0}}a.c-back-to-top{display:block;float:right;width:48px;height:48px;margin-right:24px;margin-bottom:12px;padding:12px;cursor:pointer;background:rgba(0,0,0,.1)}a.c-back-to-top:focus,a.c-back-to-top:hover{background:rgba(0,0,0,.2)}a.c-back-to-top:focus{outline:#000 dashed 1px}a.c-back-to-top:active{background:rgba(0,0,0,.3)}a.c-back-to-top .c-glyph.glyph-up{font-size:24px}a.c-back-to-top .c-glyph.glyph-up:before{width:24px;height:24px;content:""}.c-badge{text-transform:uppercase;font-size:13px}.c-badge.f-highlight{color:#000;background-color:#ffd800}.c-badge.f-lowlight{color:#fff;background-color:#333}.c-badge.f-small{padding:0 9px 1px 8px}.c-badge.f-large{padding:3px 13px 5px 12px}ul.c-breadcrumb{display:-webkit-flex;display:-ms-flexbox;display:flex;margin-top:12px}ul.c-breadcrumb li{display:inline-block;padding-right:8px}ul.c-breadcrumb li+li:before{padding-right:8px;content:"\\\\";color:rgba(0,0,0,.6)}ul.c-breadcrumb li:last-child a{color:rgba(0,0,0,.6)}ul.c-breadcrumb li a{color:#0078d7;font-size:13px;line-height:16px}.theme-dark .theme-light ul.c-breadcrumb li+li:before,.theme-dark .theme-light ul.c-breadcrumb li:last-child a,.theme-light ul.c-breadcrumb li+li:before,.theme-light ul.c-breadcrumb li:last-child a{color:rgba(0,0,0,.6)}.theme-dark .theme-light ul.c-breadcrumb li a,.theme-light ul.c-breadcrumb li a{text-decoration:none;color:#000}.theme-dark .theme-light ul.c-breadcrumb li a:hover,.theme-light ul.c-breadcrumb li a:hover{text-decoration:underline}.theme-dark ul.c-breadcrumb li+li:before,.theme-dark ul.c-breadcrumb li:last-child a,.theme-light .theme-dark ul.c-breadcrumb li+li:before,.theme-light .theme-dark ul.c-breadcrumb li:last-child a{color:rgba(255,255,255,.6)}.theme-dark ul.c-breadcrumb li a,.theme-light .theme-dark ul.c-breadcrumb li a{text-decoration:none;color:#fff}.theme-dark ul.c-breadcrumb li a:hover,.theme-light .theme-dark ul.c-breadcrumb li a:hover{text-decoration:underline}.btn-group,.c-button-container{display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;margin-top:12px;-webkit-flex:0 0 auto;-ms-flex:0 0 auto;flex:0 0 auto}@media only screen and (min-width:320px){.btn-group,.c-button-container{-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row}.btn-group .btn,.btn-group a.c-button[role=button],.btn-group button.c-button,.c-button-container .btn,.c-button-container a.c-button[role=button],.c-button-container button.c-button{margin-right:4px}}@media only screen and (min-width:540px){.btn-group .btn,.btn-group a.c-button[role=button],.btn-group button.c-button,.c-button-container .btn,.c-button-container a.c-button[role=button],.c-button-container button.c-button{margin-right:8px}}.btn,a.c-button[role=button],button.c-button{display:inline-block;overflow:hidden;min-width:120px;max-width:374px;margin-top:12px;padding:9px 12px 10px;text-align:center;vertical-align:bottom;white-space:nowrap;color:#000;border:1px solid transparent;outline:transparent dotted 1px;background-color:rgba(0,0,0,.2);font-size:15px;line-height:1}.btn:focus,a.c-button[role=button]:focus,button.c-button:focus{outline-color:#000}.btn:focus,.btn:hover,a.c-button[role=button]:focus,a.c-button[role=button]:hover,button.c-button:focus,button.c-button:hover{border-color:rgba(0,0,0,.4)}.btn:active,a.c-button[role=button]:active,button.c-button:active{background-color:rgba(0,0,0,.4)}.btn[disabled],a.c-button[role=button][disabled],button.c-button[disabled]{cursor:not-allowed;color:rgba(0,0,0,.2);background-color:rgba(0,0,0,.2)}.theme-dark .theme-light .btn,.theme-dark .theme-light a.c-button[role=button],.theme-dark .theme-light button.c-button,.theme-light .btn,.theme-light a.c-button[role=button],.theme-light button.c-button{color:#000;border-color:#000;background-color:transparent}.theme-dark .theme-light .btn:focus,.theme-dark .theme-light a.c-button[role=button]:focus,.theme-dark .theme-light button.c-button:focus,.theme-light .btn:focus,.theme-light a.c-button[role=button]:focus,.theme-light button.c-button:focus{outline-color:#000;background-color:rgba(0,0,0,.2)}.theme-dark .theme-light .btn:hover,.theme-dark .theme-light a.c-button[role=button]:hover,.theme-dark .theme-light button.c-button:hover,.theme-light .btn:hover,.theme-light a.c-button[role=button]:hover,.theme-light button.c-button:hover{background-color:rgba(0,0,0,.2)}.theme-dark .theme-light .btn:active,.theme-dark .theme-light a.c-button[role=button]:active,.theme-dark .theme-light button.c-button:active,.theme-light .btn:active,.theme-light a.c-button[role=button]:active,.theme-light button.c-button:active{background-color:rgba(0,0,0,.4)}.theme-dark .theme-light .btn[disabled],.theme-dark .theme-light a.c-button[role=button][disabled],.theme-dark .theme-light button.c-button[disabled],.theme-light .btn[disabled],.theme-light a.c-button[role=button][disabled],.theme-light button.c-button[disabled]{color:rgba(0,0,0,.2);border-color:rgba(0,0,0,.2);background-color:rgba(0,0,0,.2)}.theme-dark .btn,.theme-dark a.c-button[role=button],.theme-dark button.c-button,.theme-light .theme-dark .btn,.theme-light .theme-dark a.c-button[role=button],.theme-light .theme-dark button.c-button{color:#fff;border-color:#fff;background-color:transparent}.theme-dark .btn:focus,.theme-dark a.c-button[role=button]:focus,.theme-dark button.c-button:focus,.theme-light .theme-dark .btn:focus,.theme-light .theme-dark a.c-button[role=button]:focus,.theme-light .theme-dark button.c-button:focus{outline-color:#fff;background-color:rgba(255,255,255,.2)}.theme-dark .btn:hover,.theme-dark a.c-button[role=button]:hover,.theme-dark button.c-button:hover,.theme-light .theme-dark .btn:hover,.theme-light .theme-dark a.c-button[role=button]:hover,.theme-light .theme-dark button.c-button:hover{background-color:rgba(255,255,255,.2)}.theme-dark .btn:active,.theme-dark a.c-button[role=button]:active,.theme-dark button.c-button:active,.theme-light .theme-dark .btn:active,.theme-light .theme-dark a.c-button[role=button]:active,.theme-light .theme-dark button.c-button:active{background-color:rgba(255,255,255,.4)}.theme-dark .btn[disabled],.theme-dark a.c-button[role=button][disabled],.theme-dark button.c-button[disabled],.theme-light .theme-dark .btn[disabled],.theme-light .theme-dark a.c-button[role=button][disabled],.theme-light .theme-dark button.c-button[disabled]{color:rgba(255,255,255,.2);border-color:rgba(255,255,255,.2);background-color:rgba(255,255,255,.2)}button.c-button[type=submit]{color:#fff;background-color:#0078d7}button.c-button[type=submit]:focus,button.c-button[type=submit]:hover{border-color:rgba(0,0,0,.4);background-color:#006cc2}button.c-button[type=submit]:active{border-color:transparent;background-color:#005497}button.c-button[type=submit][disabled]{color:rgba(0,0,0,.2);border-color:transparent;background-color:rgba(0,120,215,.2)}.theme-dark .theme-light button.c-button[type=submit],.theme-light button.c-button[type=submit]{color:#fff;border-color:transparent;background-color:#000}.theme-dark .theme-light button.c-button[type=submit]:focus,.theme-light button.c-button[type=submit]:focus{outline-color:#000;background-color:rgba(0,0,0,.8)}.theme-dark .theme-light button.c-button[type=submit]:hover,.theme-light button.c-button[type=submit]:hover{background-color:rgba(0,0,0,.8)}.theme-dark .theme-light button.c-button[type=submit]:active,.theme-light button.c-button[type=submit]:active{background-color:rgba(0,0,0,.6)}.theme-dark .theme-light button.c-button[type=submit][disabled],.theme-light button.c-button[type=submit][disabled]{color:rgba(0,0,0,.2);background-color:rgba(0,0,0,.2)}.theme-dark button.c-button[type=submit],.theme-light .theme-dark button.c-button[type=submit]{color:#000;border-color:transparent;background-color:#fff}.theme-dark button.c-button[type=submit]:focus,.theme-light .theme-dark button.c-button[type=submit]:focus{outline-color:#fff;background-color:rgba(255,255,255,.8)}.theme-dark button.c-button[type=submit]:hover,.theme-light .theme-dark button.c-button[type=submit]:hover{background-color:rgba(255,255,255,.8)}.theme-dark button.c-button[type=submit]:active,.theme-light .theme-dark button.c-button[type=submit]:active{background-color:rgba(255,255,255,.6)}.theme-dark button.c-button[type=submit][disabled],.theme-light .theme-dark button.c-button[type=submit][disabled]{color:rgba(255,255,255,.2);background-color:rgba(255,255,255,.2)}a.c-call-to-action{display:inline-block;overflow:hidden;max-width:100%;padding:10px 24px;text-align:center;white-space:nowrap;text-decoration:none;letter-spacing:.2px;text-transform:uppercase;color:#000;border:2px solid transparent;background:rgba(0,0,0,.2);font-size:13px;line-height:16px;line-height:1}a.c-call-to-action span{display:inline-block;overflow:hidden;max-width:100%;text-overflow:clip}a.c-call-to-action:after{display:inline-block;margin-left:4px;content:"";vertical-align:bottom}a.c-call-to-action:focus{outline:#000 dotted 1px}a.c-call-to-action:hover{border-color:rgba(0,0,0,.4);outline:0}a.c-call-to-action:active{background:rgba(0,0,0,.4)}.theme-dark .theme-light a.c-call-to-action,.theme-light a.c-call-to-action{color:#000;border-color:#000;background:0 0}.theme-dark .theme-light a.c-call-to-action:focus,.theme-light a.c-call-to-action:focus{outline-color:#000;background:rgba(0,0,0,.2)}.theme-dark .theme-light a.c-call-to-action:hover,.theme-light a.c-call-to-action:hover{background:rgba(0,0,0,.2)}.theme-dark .theme-light a.c-call-to-action:active,.theme-light a.c-call-to-action:active{background:rgba(0,0,0,.4)}.theme-dark a.c-call-to-action,.theme-light .theme-dark a.c-call-to-action{color:#fff;border-color:#fff;background:0 0}.theme-dark a.c-call-to-action:focus,.theme-light .theme-dark a.c-call-to-action:focus{outline-color:#fff;background:rgba(255,255,255,.2)}.c-dialog [role=dialog]:focus,.c-dialog [role=presentation]:focus{outline:0}.theme-dark a.c-call-to-action:hover,.theme-light .theme-dark a.c-call-to-action:hover{background:rgba(255,255,255,.2)}.theme-dark a.c-call-to-action:active,.theme-light .theme-dark a.c-call-to-action:active{background:rgba(255,255,255,.4)}@-webkit-keyframes hero-background-next{0%{-webkit-transform:translateX(10px);transform:translateX(10px)}100%{-webkit-transform:translateX(0);transform:translateX(0)}}@keyframes hero-background-next{0%{-webkit-transform:translateX(10px);transform:translateX(10px)}100%{-webkit-transform:translateX(0);transform:translateX(0)}}@-webkit-keyframes hero-background-previous{0%{-webkit-transform:translateX(-10px);transform:translateX(-10px)}100%{-webkit-transform:translateX(0);transform:translateX(0)}}@keyframes hero-background-previous{0%{-webkit-transform:translateX(-10px);transform:translateX(-10px)}100%{-webkit-transform:translateX(0);transform:translateX(0)}}@-webkit-keyframes hero-content-next{0%{-webkit-transform:translateX(40px);transform:translateX(40px)}100%{-webkit-transform:translateX(0);transform:translateX(0)}}@keyframes hero-content-next{0%{-webkit-transform:translateX(40px);transform:translateX(40px)}100%{-webkit-transform:translateX(0);transform:translateX(0)}}@-webkit-keyframes hero-content-previous{0%{-webkit-transform:translateX(-40px);transform:translateX(-40px)}100%{-webkit-transform:translateX(0);transform:translateX(0)}}@keyframes hero-content-previous{0%{-webkit-transform:translateX(-40px);transform:translateX(-40px)}100%{-webkit-transform:translateX(0);transform:translateX(0)}}@-webkit-keyframes hero-background-next-y-center{0%{-webkit-transform:translate(10px,-50%);transform:translate(10px,-50%)}100%{-webkit-transform:translate(0,-50%);transform:translate(0,-50%)}}@keyframes hero-background-next-y-center{0%{-webkit-transform:translate(10px,-50%);transform:translate(10px,-50%)}100%{-webkit-transform:translate(0,-50%);transform:translate(0,-50%)}}@-webkit-keyframes hero-background-previous-y-center{0%{-webkit-transform:translate(-10px,-50%);transform:translate(-10px,-50%)}100%{-webkit-transform:translate(0,-50%);transform:translate(0,-50%)}}@keyframes hero-background-previous-y-center{0%{-webkit-transform:translate(-10px,-50%);transform:translate(-10px,-50%)}100%{-webkit-transform:translate(0,-50%);transform:translate(0,-50%)}}@-webkit-keyframes hero-content-next-x-center{0%{-webkit-transform:translateX(calc(-50% + 40px));transform:translateX(calc(-50% + 40px))}100%{-webkit-transform:translateX(-50%);transform:translateX(-50%)}}@keyframes hero-content-next-x-center{0%{-webkit-transform:translateX(calc(-50% + 40px));transform:translateX(calc(-50% + 40px))}100%{-webkit-transform:translateX(-50%);transform:translateX(-50%)}}@-webkit-keyframes hero-content-previous-x-center{0%{-webkit-transform:translate(calc(-50% - 40px));transform:translate(calc(-50% - 40px))}100%{-webkit-transform:translate(-50%);transform:translate(-50%)}}@keyframes hero-content-previous-x-center{0%{-webkit-transform:translate(calc(-50% - 40px));transform:translate(calc(-50% - 40px))}100%{-webkit-transform:translate(-50%);transform:translate(-50%)}}@-webkit-keyframes hero-background-previous-x-center-y-center{0%{-webkit-transform:translate(calc(-50% - 10px),-50%);transform:translate(calc(-50% - 10px),-50%)}100%{-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}}@keyframes hero-background-previous-x-center-y-center{0%{-webkit-transform:translate(calc(-50% - 10px),-50%);transform:translate(calc(-50% - 10px),-50%)}100%{-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}}@-webkit-keyframes hero-background-next-x-center-y-center{0%{-webkit-transform:translate(calc(-50% + 10px),-50%);transform:translate(calc(-50% + 10px),-50%)}100%{-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}}@keyframes hero-background-next-x-center-y-center{0%{-webkit-transform:translate(calc(-50% + 10px),-50%);transform:translate(calc(-50% + 10px),-50%)}100%{-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}}.c-carousel{position:relative}.c-carousel .c-flipper{position:absolute;z-index:2;top:50%;display:none;-webkit-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%)}.c-carousel .c-flipper.f-left{left:0}.c-carousel .c-flipper.f-right{right:0}.c-carousel .c-flipper+div{position:relative;overflow:hidden}.c-carousel.f-scrollable-next .c-flipper.f-right,.c-carousel.f-scrollable-previous .c-flipper.f-left{display:block}.c-carousel .c-sequence-indicator{position:absolute;z-index:2;bottom:4px;width:100%;text-align:center}.c-carousel.f-multi-slide li{display:none;width:100%}.c-carousel.f-multi-slide li.f-active{display:block}.c-carousel.f-single-slide ul{left:0;display:inline-block;width:auto;transition:left cubic-bezier(.16,1,.29,.99) .667s;white-space:nowrap;font-size:0}.c-carousel.f-single-slide li{display:inline-block;font-size:15px;line-height:20px}.c-carousel li{position:relative;z-index:1;height:100%}.c-carousel li~li{display:none}.c-carousel li .c-hero picture img{min-width:calc(100% + 20px)}.c-carousel li .c-hero.f-x-left img{right:-10px}.c-carousel li .c-hero.f-x-right img{left:-10px}.c-carousel li.f-animate-next .c-hero picture img{-webkit-animation:hero-background-next cubic-bezier(.16,1,.29,.99) .667s both;animation:hero-background-next cubic-bezier(.16,1,.29,.99) .667s both}.c-carousel li.f-animate-next .c-hero>div>div{-webkit-animation:hero-content-next cubic-bezier(.16,1,.29,.99) .667s both;animation:hero-content-next cubic-bezier(.16,1,.29,.99) .667s both}.c-carousel li.f-animate-next .c-hero.f-x-center>div>div{-webkit-animation-name:hero-content-next-x-center;animation-name:hero-content-next-x-center}.c-carousel li.f-animate-next .c-hero.f-y-center picture img{-webkit-animation-name:hero-background-next-y-center;animation-name:hero-background-next-y-center}.c-carousel li.f-animate-next .c-hero.f-y-center.f-x-center picture img{-webkit-animation-name:hero-background-next-x-center-y-center;animation-name:hero-background-next-x-center-y-center}.c-carousel li.f-animate-previous .c-hero picture img{-webkit-animation:hero-background-previous cubic-bezier(.16,1,.29,.99) .667s both;animation:hero-background-previous cubic-bezier(.16,1,.29,.99) .667s both}.c-carousel li.f-animate-previous .c-hero>div>div{-webkit-animation:hero-content-previous cubic-bezier(.16,1,.29,.99) .667s both;animation:hero-content-previous cubic-bezier(.16,1,.29,.99) .667s both}.c-carousel li.f-animate-previous .c-hero.f-x-center>div>div{-webkit-animation-name:hero-content-previous-x-center;animation-name:hero-content-previous-x-center}.c-carousel li.f-animate-previous .c-hero.f-y-center picture img{-webkit-animation-name:hero-background-previous-y-center;animation-name:hero-background-previous-y-center}.c-carousel li.f-animate-previous .c-hero.f-y-center.f-x-center picture img{-webkit-animation-name:hero-background-previous-x-center-y-center;animation-name:hero-background-previous-x-center-y-center}.c-choice-summary{position:relative;display:inline-block;min-width:72px;max-width:100%;margin-top:12px;margin-right:12px;padding-right:36px;list-style-type:none;background-color:rgba(0,0,0,.1);font-size:13px}.c-choice-summary span{display:inline-block;min-width:100%;padding:9px 0 10px 12px}.c-choice-summary button.c-action-trigger.c-glyph{position:absolute;top:0;right:0;width:36px;height:100%;margin:0;padding:5px 0 9px}.c-choice-summary button.c-action-trigger.c-glyph:before{width:auto;height:auto;margin:0;color:rgba(0,0,0,.6)}.c-choice-summary button.c-action-trigger.c-glyph:hover,.c-choice-summary button.c-action-trigger.c-glyph:hover+span{background-color:rgba(0,0,0,.2)}.c-choice-summary button.c-action-trigger.c-glyph:active,.c-choice-summary button.c-action-trigger.c-glyph:active+span{background-color:rgba(0,0,0,.3)}.c-choice-summary button.c-action-trigger.c-glyph:active:before{color:rgba(0,0,0,.8)}a.c-content-toggle{display:inline-block;color:#0078d7}a.c-content-toggle:hover{text-decoration:underline}a.c-content-toggle:after{display:inline-block;padding-left:10px;vertical-align:-2px}a.c-content-toggle:active{text-decoration:none;color:#006cc2}a.c-content-toggle:after,a.c-content-toggle:hover:after{text-decoration:none!important}a.c-content-toggle[data-state=expanded]:after{content:""}a.c-content-toggle[data-state=collapsed]:after{content:""}.c-dialog[aria-hidden=true]{display:none}.c-dialog [role=dialog]{position:fixed;z-index:999;top:50%;left:50%;display:block;min-width:296px;max-width:546px;max-height:760px;margin:0 auto;padding:24px;-webkit-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%);border:1px solid #0078d7;background:#fff}.c-dialog [role=dialog] h2{padding:0;font-size:20px;line-height:normal}.c-dialog [role=dialog] p{padding-top:8px}.c-dialog [role=dialog] .c-group{display:block;padding:0}.c-dialog [role=dialog] .c-group button{float:right;width:50%;max-width:none;margin-top:24px;margin-right:0}.c-dialog [role=dialog] .c-group button+button{float:left;width:calc(50% - 4px)}.c-dialog.f-flow [role=dialog],.c-dialog.f-lightbox [role=dialog]{padding:36px}.c-dialog.f-flow [role=dialog] .c-glyph,.c-dialog.f-lightbox [role=dialog] .c-glyph{position:absolute;top:0;right:0;width:36px;height:36px;cursor:pointer;color:rgba(0,0,0,.6)}.c-dialog.f-flow [role=dialog] .c-glyph:before,.c-dialog.f-lightbox [role=dialog] .c-glyph:before{margin:10px;vertical-align:middle}.c-dialog.f-flow [role=dialog] .glyph-cancel:before,.c-dialog.f-lightbox [role=dialog] .glyph-cancel:before{content:""}.c-dialog.f-flow [role=dialog] .c-group button,.c-dialog.f-lightbox [role=dialog] .c-group button{margin-top:36px}.c-dialog.f-lightbox [role=dialog]{max-width:1066px;border-color:transparent;background:#2f2f2f}.c-dialog.f-lightbox [role=dialog] .c-glyph{top:-36px;right:0;color:#fff}.c-dialog [role=presentation]{position:fixed;z-index:999;top:0;right:0;bottom:0;left:0;background:rgba(0,0,0,.9)}.theme-dark .theme-light .c-dialog [role=dialog],.theme-light .c-dialog [role=dialog]{border-color:#000}.theme-dark .theme-light .c-dialog [role=dialog] .c-glyph,.theme-light .c-dialog [role=dialog] .c-glyph{color:#000}.theme-dark .theme-light .c-dialog [role=presentation],.theme-light .c-dialog [role=presentation]{background:rgba(255,255,255,.9)}.theme-dark .c-dialog [role=dialog],.theme-light .theme-dark .c-dialog [role=dialog]{border-color:#fff;background:#000}.theme-dark .c-dialog [role=dialog] .c-glyph,.theme-light .theme-dark .c-dialog [role=dialog] .c-glyph{color:#fff}hr,hr.c-divider{margin:0;border:0;border-top:1px solid rgba(0,0,0,.2)}.c-drawer>button{position:relative;width:100%;padding:14px 36px 14px 12px;text-align:left;color:rgba(0,0,0,.6);border:0;background-color:transparent;font-size:13px;font-weight:400;line-height:16px}.c-drawer>button:after{position:absolute;top:12px;right:12px}.c-drawer>div[id],.c-feature{position:relative}.c-drawer>button:focus{outline:#000 dotted 1px}.c-drawer>button:hover{background:rgba(0,0,0,.1)}.c-drawer>button:active{background:rgba(0,0,0,.3)}.c-drawer button.c-glyph[aria-expanded=true]:after{content:""}.c-drawer button.c-glyph[aria-expanded=false]:after{content:""}.c-feature{height:300px}.c-feature:after,.c-feature:before{display:table;content:" "}.c-feature picture{position:relative;display:block;overflow:hidden;width:50%;height:300px}.c-feature picture img{position:absolute;top:0;top:calc(50%);right:0;right:calc(50%);-webkit-transform:translate(50%,-50%);-ms-transform:translate(50%,-50%);transform:translate(50%,-50%)}.c-feature.f-align-left picture{float:right}.c-feature.f-align-left>div{left:0;padding:24px 24px 24px 0}.c-feature.f-align-right picture{float:left}.c-feature.f-align-right>div{left:50%;padding:24px 0 24px 24px}.c-feature.f-align-left>div,.c-feature.f-align-right>div{position:absolute;top:0;top:calc(50%);width:50%;-webkit-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%)}.c-feature>div{padding:0 24px 24px}.c-feature>div .c-heading{overflow:hidden;box-sizing:content-box;max-height:84px;padding:36px 0 4px;font-size:24px;font-weight:200;line-height:28px}.c-feature>div .c-paragraph{overflow:hidden;box-sizing:content-box;max-height:60px;padding:0;font-size:15px;font-weight:400;line-height:20px}.c-feature>div .c-call-to-action{margin-top:10px;padding-right:0;padding-left:0;color:#0078d7;border-color:transparent;background:0 0}.c-feature>div .c-call-to-action:focus,.c-feature>div .c-call-to-action:hover{text-decoration:underline;background:0 0}.c-feature>div .c-call-to-action:active{text-decoration:none;background:0 0}.theme-dark .theme-light .c-feature>div .c-call-to-action,.theme-light .c-feature>div .c-call-to-action{color:#000;border-color:transparent;background:0 0}.theme-dark .theme-light .c-feature>div .c-call-to-action:active,.theme-light .c-feature>div .c-call-to-action:active{color:rgba(0,0,0,.6)}.theme-dark .c-feature>div .c-call-to-action,.theme-light .theme-dark .c-feature>div .c-call-to-action{color:#fff;border-color:transparent;background:0 0}.theme-dark .c-feature>div .c-call-to-action:active,.theme-light .theme-dark .c-feature>div .c-call-to-action:active{color:rgba(255,255,255,.6)}.c-feature.f-align-center{height:auto}.c-feature.f-align-center picture{width:100%}.c-feature.f-align-center>div{width:auto;max-width:848px;margin-right:auto;margin-left:auto;padding:0 24px;text-align:center}.c-feature.f-align-center>div .c-heading{max-height:120px;padding:38px 0 2px;font-size:34px;font-weight:100;line-height:40px}.c-feature.f-align-center>div .c-paragraph{max-height:80px}@media only screen and (max-width:539px){.c-feature{height:auto}.c-feature.f-align-left picture,.c-feature.f-align-right picture{float:none;width:auto}.c-feature.f-align-left>div,.c-feature.f-align-right>div{position:relative;top:auto;right:auto;left:auto;width:auto;padding:0 24px 24px;-webkit-transform:none;-ms-transform:none;transform:none}.c-feature>div .c-heading{max-height:48px;padding:35px 0 5px;font-size:20px;font-weight:200;line-height:24px}.c-feature picture{height:200px}}.c-flyout button,.c-universal-header>div:first-child>div>div{float:right}@media only screen and (min-width:1084px){.c-feature,.c-feature picture{height:400px}.c-feature>div{max-width:654px}.c-feature.f-align-right>div{padding:48px 0 48px 48px}.c-feature.f-align-left>div{padding:48px 48px 48px 0}.c-feature>div .c-heading{max-height:120px;padding:38px 0 2px;font-size:34px;font-weight:100;line-height:40px}.c-feature>div .c-paragraph{max-height:80px;padding:24px 0 0;font-size:15px;font-weight:400;line-height:20px}.c-feature.f-align-center>div{max-width:894px;padding:0 48px}}.c-flipper{display:inline-block;width:24px;height:48px;padding:0;color:rgba(0,0,0,.6);border:0;background:rgba(0,0,0,.1)}.c-flipper:before{position:relative;top:0;left:0}.c-flipper.f-left:before{content:""}.c-flipper.f-right:before{content:""}.c-flipper:focus{outline:#000 dashed 1px;background:rgba(0,0,0,.15)}.c-flipper:hover{color:rgba(0,0,0,.8);background:rgba(0,0,0,.15)}.c-flipper:active{color:#000;background:rgba(0,0,0,.2)}.theme-dark .theme-light .c-flipper,.theme-light .c-flipper{color:rgba(0,0,0,.6);background:rgba(255,255,255,.5)}.theme-dark .theme-light .c-flipper:focus,.theme-light .c-flipper:focus{outline-color:#000;background:rgba(255,255,255,.8)}.theme-dark .theme-light .c-flipper:hover,.theme-light .c-flipper:hover{color:rgba(0,0,0,.8);background:rgba(255,255,255,.4)}.theme-dark .theme-light .c-flipper:active,.theme-light .c-flipper:active{color:#000;background:rgba(255,255,255,.2)}.theme-dark .c-flipper,.theme-light .theme-dark .c-flipper{color:rgba(255,255,255,.6);background:rgba(0,0,0,.5)}.theme-dark .c-flipper:focus,.theme-light .theme-dark .c-flipper:focus{outline-color:#fff;background:rgba(0,0,0,.8)}.theme-dark .c-flipper:hover,.theme-light .theme-dark .c-flipper:hover{color:rgba(255,255,255,.8);background:rgba(0,0,0,.4)}.theme-dark .c-flipper:active,.theme-light .theme-dark .c-flipper:active{color:#fff;background:rgba(0,0,0,.2)}.c-flyout{position:absolute;z-index:1;min-width:128px;max-width:296px;padding:12px;border:1px solid rgba(0,0,0,.2);background:#fff;font-size:15px}.btn-group,.c-group,.c-hero{position:relative;overflow:hidden}.c-flyout[aria-hidden=true]{display:none}.c-flyout[aria-hidden=false]{display:block}.c-flyout p{padding:0}.btn-group,.c-group{display:-webkit-flex;display:-ms-flexbox;display:flex;padding:1px;-webkit-flex-wrap:nowrap;-ms-flex-wrap:nowrap;flex-wrap:nowrap}.btn-group.f-wrap-items,.c-group.f-wrap-items{-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap}@media only screen and (max-width:539px){.btn-group.f-wrap-items .c-product-placement.f-orientation-vertical.f-size-medium,.c-group.f-wrap-items .c-product-placement.f-orientation-vertical.f-size-medium{width:calc(50% - 24px)}.btn-group.f-wrap-items .c-product-placement.f-orientation-vertical.f-size-medium picture img,.c-group.f-wrap-items .c-product-placement.f-orientation-vertical.f-size-medium picture img{width:100%}}.btn-group .c-select-button,.c-group .c-select-button{margin-top:8px}[class^=c-heading-]:after,[class^=c-heading-]:before{display:table;content:" "}[class^=c-heading-] a.c-hyperlink{float:right;margin-left:12px;font-size:15px;font-weight:400;line-height:20px}.c-heading-1 a.c-hyperlink{margin-top:45px}.c-heading-2 a.c-hyperlink{margin-top:31px}.c-heading-3 a.c-hyperlink{margin-top:18px}.c-heading-4 a.c-hyperlink{margin-top:8px}.c-heading-5 a.c-hyperlink{margin-top:4px}.c-heading-6 a.c-hyperlink{margin-top:3px}@media (max-width:767px){.c-heading-1 a.c-hyperlink{margin-top:31px}.c-heading-2 a.c-hyperlink{margin-top:18px}.c-heading-3 a.c-hyperlink{margin-top:10px}.c-heading-4 a.c-hyperlink{margin-top:4px}.c-heading-5 a.c-hyperlink{margin-top:3px}.c-heading-6 a.c-hyperlink{margin-top:0}}.c-hero{padding:0 5%}.c-hero>picture{position:absolute;z-index:0;top:0;right:0;bottom:0;left:0;overflow:hidden}.c-hero>picture img{position:absolute;min-width:100%}.c-hero>div{position:relative;z-index:1;width:100%;max-width:1600px;height:100%;margin:0 auto}.c-hero>div>div{position:absolute;z-index:1;top:12px;right:12px;bottom:12px;left:12px}.c-hero>div>div div:first-of-type{margin-top:2px;font-size:20px}.c-hero>div>div cite,.c-hero>div>div strong{font-weight:700}.c-hero>div>div .c-heading,.c-hero>div>div .c-subheading{font-weight:200;line-height:24px;overflow:hidden;box-sizing:content-box}.c-hero>div>div .c-heading{max-height:192px;padding:35px 0 5px;font-size:20px}.c-hero>div>div .c-subheading{display:none;max-height:72px;padding:9px 0 3px;font-size:18px}.c-hero .context-app div:first-of-type,.c-hero>div>div .c-publisher,.c-hero>div>div>div .c-price{font-size:15px;line-height:20px}.c-hero>div>div .c-call-to-action{margin-top:12px}.c-hero>div>div picture{display:block;height:64px}.c-hero>div>div picture .c-image{width:auto;height:100%}.c-hero>div>div>div .c-price{margin-top:5px}.c-hero>div>div .hero-description{padding:24px 0 0;font-size:15px;font-weight:400;line-height:20px}.c-hero .context-article .hero-description{display:none;overflow:hidden;box-sizing:content-box;max-height:100px}.c-hero .context-article .c-publisher{margin-top:52px}.c-hero .context-movie div:first-of-type,.c-hero .context-music-artist div:first-of-type,.c-hero .context-tv-show div:first-of-type{margin-top:96px}.c-hero .context-movie .c-call-to-action,.c-hero .context-music-artist .c-call-to-action,.c-hero .context-tv-show .c-call-to-action{margin-top:36px}.c-hero .context-game div:first-of-type{margin-top:64px}.c-hero .context-game .c-rating{margin-top:48px}.c-hero .context-music-album picture{margin-top:54px}.c-hero .context-music-album div:first-of-type{margin-top:22px}.c-hero .context-music-album .c-call-to-action{margin-top:36px}.c-hero.f-x-left>picture img{right:0}.c-hero.f-x-center>div>div,.c-hero.f-x-center>picture img{left:calc(50%);-webkit-transform:translateX(-50%);-ms-transform:translateX(-50%);transform:translateX(-50%)}.c-hero.f-x-right>picture img{left:0}.c-hero.f-y-top>picture img{top:0}.c-hero.f-y-center>picture img{top:calc(50%);-webkit-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%)}.c-hero.f-y-center.f-x-center>picture img,.c-placement picture img{-webkit-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%)}.c-hero.f-y-center.f-x-center>picture img{top:calc(50%);left:calc(50%);transform:translate(-50%,-50%)}.c-hero.f-y-bottom>picture img{bottom:0}.c-hero.f-medium{height:400px}@media only screen and (max-width:539px){.c-hero .context-app .c-rating,.c-hero>div>div .c-price{display:none}.c-hero>div>div{text-align:center}.c-hero>div>div .hero-link-container{position:absolute;bottom:6px;width:100%}.c-hero>div>div picture .c-image{margin:0 auto}.c-hero .context-article div:first-of-type{position:absolute;bottom:58px;width:100%}}@media only screen and (min-width:540px){.c-hero>div>div{top:auto;right:auto;bottom:auto;left:auto;width:360px}.c-hero>div>div .c-heading{max-height:120px}.c-hero.f-x-left>div>div{left:0}.c-hero.f-x-right>div>div{right:0}.c-hero.f-y-top>div>div{top:24px}.c-hero.f-y-center>div>div{top:72px}.c-hero.f-y-bottom>div>div{bottom:24px}.c-hero.f-x-center{text-align:center}.c-hero .context-software .c-call-to-action{margin-top:24px}.c-hero .context-music-album picture{margin-top:0}.c-hero .context-music-album div:first-of-type{margin-top:10px}.c-hero .context-game>div>div div:first-of-type{margin-top:0}.c-hero .context-movie div:first-of-type,.c-hero .context-music-artist div:first-of-type,.c-hero .context-tv-show div:first-of-type{margin-top:48px}.c-hero .context-app .c-heading{max-height:56px;padding:36px 0 4px;font-size:24px;font-weight:200;line-height:28px}.c-hero .context-app .c-call-to-action{margin-top:16px}}@media only screen and (min-width:768px){.c-hero>div>div{width:440px}.c-hero>div>div div{margin-top:0;font-size:24px}.c-hero>div>div div .c-price{margin-top:7px}.c-hero>div>div .c-heading{max-height:56px;padding:36px 0 4px;font-size:24px;font-weight:200;line-height:28px}.c-hero>div>div .c-subheading{display:block;max-height:72px;padding:9px 0 3px;font-size:18px;font-weight:200;line-height:24px}.c-hero.f-medium{height:500px}.c-hero.f-y-top>div>div{top:48px}.c-hero.f-y-center>div>div{top:72px}.c-hero.f-y-bottom>div>div{bottom:48px}.c-hero .context-music-album picture{max-height:96px}.c-hero .context-music-album div:first-of-type{margin-top:8px}.c-hero .context-game div:first-of-type{margin-top:24px}.c-hero .context-movie div:first-of-type,.c-hero .context-music-artist div:first-of-type,.c-hero .context-tv-show div:first-of-type{margin-top:64px}.c-hero .context-article .hero-description{display:block}.c-hero .context-article .c-publisher{margin-top:9px}.c-hero .context-app .c-heading{max-height:28px;padding:36px 0 4px;font-size:24px;font-weight:200;line-height:28px}.c-hero .context-app .c-subheading{max-height:48px;padding:9px 0 3px;font-size:18px;font-weight:200;line-height:24px}.c-hero .context-app .c-rating{margin-top:10px}}@media only screen and (min-width:1084px){.c-hero>div>div{width:520px}.c-hero>div>div .c-heading{max-height:80px;padding:38px 0 2px;font-size:34px;font-weight:100;line-height:40px}.c-hero>div>div .c-subheading{max-height:72px;padding:8px 0 4px;font-size:20px;font-weight:200;line-height:24px}.c-hero>div>div>div .c-price{margin-top:8px}.c-hero.f-medium{height:600px}.c-hero.f-y-top>div>div{top:60px}.c-hero.f-y-center>div>div{top:120px}.c-hero.f-y-bottom>div>div{bottom:60px}.c-hero .context-article .c-heading{max-height:56px;padding:36px 0 4px;font-size:24px;font-weight:200;line-height:28px}.c-hero .context-article .hero-description{max-height:80px}}.c-histogram:after,.c-histogram:before,.histogram:after,.histogram:before{display:table;content:" "}.c-histogram>div:first-child,.histogram>div:first-child{float:left}.c-histogram>div:first-child>div>span,.histogram>div:first-child>div>span{margin-left:4px}.c-histogram>div:first-child>span,.histogram>div:first-child>span{padding:0;letter-spacing:-5px;font-size:135px;font-weight:100;line-height:1}.c-histogram .rating-star-bars,.c-histogram>ul,.histogram .rating-star-bars,.histogram>ul{overflow:hidden;margin-top:26px;padding-left:28px}.c-histogram .rating-star-bars li,.c-histogram>ul li,.histogram .rating-star-bars li,.histogram>ul li{margin-bottom:14px}.c-histogram .rating-star-bars a,.c-histogram>ul a,.histogram .rating-star-bars a,.histogram>ul a{display:block;font-size:13px;line-height:1}.c-histogram .rating-star-bars a>div,.c-histogram>ul a>div,.histogram .rating-star-bars a>div,.histogram>ul a>div{display:inline-block;width:calc(100% - 85px);margin-left:6px}.c-histogram .rating-star-bars a>div>div,.c-histogram>ul a>div>div,.histogram .rating-star-bars a>div>div,.histogram>ul a>div>div{position:relative;height:12px;background-color:#0078d7;-ms-high-contrast-adjust:none}.c-histogram .rating-star-bars a>div>div span,.c-histogram>ul a>div>div span,.histogram .rating-star-bars a>div>div span,.histogram>ul a>div>div span{position:absolute;right:0;padding-left:4px;-webkit-transform:translateX(100%);-ms-transform:translateX(100%);transform:translateX(100%)}.c-histogram .rating-star-bars .c-glyph,.c-histogram .rating-star-bars .glyph,.c-histogram>ul .c-glyph,.c-histogram>ul .glyph,.histogram .rating-star-bars .c-glyph,.histogram .rating-star-bars .glyph,.histogram>ul .c-glyph,.histogram>ul .glyph{margin-left:1px}.c-histogram .rating-star-bars .c-glyph:after,.c-histogram .rating-star-bars .glyph:after,.c-histogram>ul .c-glyph:after,.c-histogram>ul .glyph:after,.histogram .rating-star-bars .c-glyph:after,.histogram .rating-star-bars .glyph:after,.histogram>ul .c-glyph:after,.histogram>ul .glyph:after{content:"";-webkit-transform:translateY(1px);-ms-transform:translateY(1px);transform:translateY(1px)}@media only screen and (max-width:539px){.c-histogram>div:first-child,.histogram>div:first-child{float:none}.c-histogram .rating-star-bars,.c-histogram>ul,.histogram .rating-star-bars,.histogram>ul{padding-left:0}}a.c-hyperlink{text-decoration:none;color:#0078d7}a.c-hyperlink:hover,a.c-hyperlink:visited{text-decoration:underline;color:#0078d7}a.c-hyperlink:focus{outline:#000 dashed 1px}a.c-hyperlink:focus:active{outline-style:none}a.c-hyperlink:active{text-decoration:none;color:#0078d7}.theme-dark .theme-light a.c-hyperlink,.theme-light a.c-hyperlink{text-decoration:underline;color:#000}.theme-dark .theme-light a.c-hyperlink:focus,.theme-light a.c-hyperlink:focus{text-decoration:none;color:#000}.theme-dark .theme-light a.c-hyperlink:visited,.theme-light a.c-hyperlink:visited{color:rgba(0,0,0,.4)}.theme-dark .theme-light a.c-hyperlink:hover,.theme-light a.c-hyperlink:hover{color:rgba(0,0,0,.8)}.theme-dark .theme-light a.c-hyperlink:active,.theme-light a.c-hyperlink:active{color:rgba(0,0,0,.6)}.theme-dark a.c-hyperlink,.theme-light .theme-dark a.c-hyperlink{text-decoration:underline;color:#fff}.theme-dark a.c-hyperlink:focus,.theme-light .theme-dark a.c-hyperlink:focus{text-decoration:none;outline-color:#fff}.theme-dark a.c-hyperlink:visited,.theme-light .theme-dark a.c-hyperlink:visited{color:rgba(255,255,255,.4)}.theme-dark a.c-hyperlink:hover,.theme-light .theme-dark a.c-hyperlink:hover{color:rgba(255,255,255,.8)}.theme-dark a.c-hyperlink:active,.theme-light .theme-dark a.c-hyperlink:active{color:rgba(255,255,255,.6)}nav.c-in-page-navigation .c-select-menu>a,nav.c-in-page-navigation[data-js-in-page-navigation] a.f-active,nav.c-in-page-navigation[data-js-in-page-navigation] a:active,nav.c-in-page-navigation[data-js-in-page-navigation] a:focus,nav.c-in-page-navigation[data-js-in-page-navigation] a:hover{color:#000}.c-glyph:after,.c-glyph:before,.glyph:after,.glyph:before{display:inline-block}.c-glyph:after,.c-glyph:before,.c-glyph:hover:after,.c-glyph:hover:before,.glyph:after,.glyph:before,.glyph:hover:after,.glyph:hover:before{text-decoration:none}.c-image,.img-responsive{display:block;max-width:100%;height:auto;margin:0}div[data-js-in-page-navigation-wrapper=true]{height:45px}nav.c-in-page-navigation{display:-webkit-flex;display:-ms-flexbox;display:flex;border-bottom:1px solid rgba(0,0,0,.2)}nav.c-in-page-navigation[data-js-in-page-navigation].f-sticky{position:fixed;top:0;width:100%;background:#fff}nav.c-in-page-navigation[data-js-in-page-navigation] a:focus{outline:#000 dotted 1px}nav.c-in-page-navigation .c-select-menu{margin:0 24px;padding:2px 0}nav.c-in-page-navigation>ul li{display:inline-block}nav.c-in-page-navigation>ul li>a{display:inline-block;margin:0 24px;padding:12px 0;color:rgba(0,0,0,.6);font-size:15px}nav.c-in-page-navigation>ul li>a:hover{color:rgba(0,0,0,.8)}nav.c-in-page-navigation>ul li>a:focus{color:rgba(0,0,0,.8);outline:rgba(0,0,0,.8) dotted 1px}nav.c-in-page-navigation>ul li>a:active{color:#000}nav.c-in-page-navigation>ul li>a.f-active{color:rgba(0,0,0,.8)}.c-label,label{display:block;margin-top:21px;padding-bottom:7px;font-size:13px;line-height:20px}.c-label+input.c-password[type=password],.c-label+input.c-text-field[type=text],.c-label+input.form-control,label+input.c-password[type=password],label+input.c-text-field[type=text],label+input.form-control{margin:0}.link-navigation,nav.c-link-navigation{margin-top:48px;text-align:center}.link-navigation .c-heading,.link-navigation .text-title,nav.c-link-navigation .c-heading,nav.c-link-navigation .text-title{font-size:20px;line-height:1.2;padding:8px 0 24px;font-weight:200}.link-navigation a,.link-navigation a.c-hyperlink,nav.c-link-navigation a,nav.c-link-navigation a.c-hyperlink{display:block}.link-navigation a.c-hyperlink:after,.link-navigation a.c-hyperlink:before,.link-navigation a:after,.link-navigation a:before,nav.c-link-navigation a.c-hyperlink:after,nav.c-link-navigation a.c-hyperlink:before,nav.c-link-navigation a:after,nav.c-link-navigation a:before{content:" ";display:table}.link-navigation p,nav.c-link-navigation p{overflow:hidden;box-sizing:content-box;max-height:60px;word-wrap:break-word;text-overflow:clip}@media only screen and (max-width:767px){.link-navigation li,nav.c-link-navigation li{clear:both}.link-navigation li a,.link-navigation li a.c-hyperlink,nav.c-link-navigation li a,nav.c-link-navigation li a.c-hyperlink{padding:12px 0}.link-navigation li a picture,.link-navigation li a.c-hyperlink picture,nav.c-link-navigation li a picture,nav.c-link-navigation li a.c-hyperlink picture{float:left}.link-navigation li a picture img,.link-navigation li a.c-hyperlink picture img,nav.c-link-navigation li a picture img,nav.c-link-navigation li a.c-hyperlink picture img{width:64px;height:64px;margin:4px}.link-navigation li a p,.link-navigation li a.c-hyperlink p,nav.c-link-navigation li a p,nav.c-link-navigation li a.c-hyperlink p{text-align:left;padding:0 12px 0 8px}.link-navigation li a.c-hyperlink.f-image,.link-navigation li a.f-image,nav.c-link-navigation li a.c-hyperlink.f-image,nav.c-link-navigation li a.f-image{padding:0}}@media only screen and (min-width:768px){.link-navigation li,nav.c-link-navigation li{display:inline-block}.link-navigation li a,.link-navigation li a.c-hyperlink,nav.c-link-navigation li a,nav.c-link-navigation li a.c-hyperlink{margin:0 18px;vertical-align:top}.link-navigation li a picture,.link-navigation li a.c-hyperlink picture,nav.c-link-navigation li a picture,nav.c-link-navigation li a.c-hyperlink picture{display:block;margin:0 auto 12px;max-width:400px;max-height:120px}.link-navigation li a p,.link-navigation li a.c-hyperlink p,nav.c-link-navigation li a p,nav.c-link-navigation li a.c-hyperlink p{padding:0 10px;max-width:200px;text-align:center}.link-navigation li a.c-hyperlink.f-image,.link-navigation li a.f-image,nav.c-link-navigation li a.c-hyperlink.f-image,nav.c-link-navigation li a.f-image{display:inline-block;margin:0 22px}}ol.c-list,ol.list-styled,ul.c-list,ul.list-styled{margin:8px 0;padding-right:0;padding-left:19px;list-style-position:outside;font-size:15px;line-height:20px}ol.c-list li,ol.list-styled li,ul.c-list li,ul.list-styled li{padding:8px 0}ul.c-list,ul.list-styled{list-style-type:disc}ol.c-list,ol.list-styled{list-style-type:decimal}.c-logo img+span{position:absolute!important;overflow:hidden!important;clip:rect(1px,1px,1px,1px)!important;width:1px!important;height:1px!important;margin:0!important;padding:0!important;border:none!important}.c-meta-text{color:rgba(0,0,0,.6)}.c-menu-item a,.c-menu-item span,.dropdown-menu>li a,.dropdown-menu>li span{display:block;padding:11px 12px 13px;cursor:pointer;outline:0;background:rgba(0,0,0,.05)}.c-menu-item a:focus,.c-menu-item a:hover,.c-menu-item span:focus,.c-menu-item span:hover,.dropdown-menu>li a:focus,.dropdown-menu>li a:hover,.dropdown-menu>li span:focus,.dropdown-menu>li span:hover{background:rgba(0,0,0,.1)}.c-menu-item a:active,.c-menu-item span:active,.dropdown-menu>li a:active,.dropdown-menu>li span:active{background:rgba(0,0,0,.3)}.c-menu-item a[role=menuitemradio][aria-checked=true],.c-menu-item span[role=menuitemradio][aria-checked=true],.dropdown-menu>li a[role=menuitemradio][aria-checked=true],.dropdown-menu>li span[role=menuitemradio][aria-checked=true]{color:#fff;background:#0078d7}.c-menu-item.f-sub-menu>a,.dropdown-menu>li.f-sub-menu>a{position:relative}.c-menu-item.f-sub-menu>a:after,.dropdown-menu>li.f-sub-menu>a:after{position:absolute;top:19px;right:12px;content:"";font-family:MWF-MDL2;font-size:6px}.c-menu-item.f-sub-menu>a+.c-menu,.dropdown-menu>li.f-sub-menu>a+.c-menu{position:absolute;top:0;left:100%;display:none}.js .c-menu-item.f-sub-menu>a[aria-expanded=true]+.c-menu[aria-hidden=false],.js .dropdown-menu>li.f-sub-menu>a[aria-expanded=true]+.c-menu[aria-hidden=false],.no-js .c-menu-item.f-sub-menu>a:focus+.c-menu,.no-js .c-menu-item.f-sub-menu>a:hover+.c-menu,.no-js .dropdown-menu>li.f-sub-menu>a:focus+.c-menu,.no-js .dropdown-menu>li.f-sub-menu>a:hover+.c-menu{display:block}.c-menu,.dropdown-menu{position:relative;z-index:1;width:296px;min-width:64px;max-width:368px;margin:0;padding:0;border:1px solid rgba(0,0,0,.05);border-top:0;background:#fff;background-clip:padding-box}.c-mosaic [data-f-mosaic*=f-vp]:after,.c-mosaic [data-f-mosaic*=f-vp]:before,.c-mosaic:after,.c-mosaic:before{display:table;content:" "}.c-mosaic [data-f-mosaic*=f-vp]{float:left}.c-mosaic [data-f-mosaic~=f-vp1-whole]{width:100%}.c-mosaic [data-f-mosaic~=f-vp1-half]{width:50%}.c-mosaic [data-f-mosaic~=f-height-small]{height:150px}.c-mosaic [data-f-mosaic~=f-height-medium],.c-mosaic [data-f-mosaic~=f-height-large]{height:300px}@media only screen and (min-width:540px){.c-mosaic [data-f-mosaic~=f-vp2-whole]{width:100%}.c-mosaic [data-f-mosaic~=f-vp2-half]{width:50%}}@media only screen and (min-width:768px){.c-mosaic [data-f-mosaic~=f-vp3-whole]{width:100%}.c-mosaic [data-f-mosaic~=f-vp3-half]{width:50%}.c-mosaic [data-f-mosaic~=f-height-small]{height:200px}.c-mosaic [data-f-mosaic~=f-height-medium],.c-mosaic [data-f-mosaic~=f-height-large]{height:400px}}@media only screen and (min-width:1084px){.c-mosaic [data-f-mosaic~=f-vp4-whole]{width:100%}.c-mosaic [data-f-mosaic~=f-vp4-half]{width:50%}.c-mosaic [data-f-mosaic~=f-height-large]{height:800px}}.c-pagination,.pagination{display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;margin-top:24px;padding:0;-webkit-flex:0 0 auto;-ms-flex:0 0 auto;flex:0 0 auto}.c-pagination li,.pagination li{display:inline-block;margin-right:12px}.c-pagination li>a,.c-pagination li>span,.pagination li>a,.pagination li>span{display:inline-block;padding:5px 11px;white-space:nowrap;outline:transparent solid 1px}.c-pagination li>a:hover,.c-pagination li>span:hover,.pagination li>a:hover,.pagination li>span:hover{outline-color:rgba(0,0,0,.1);background-color:rgba(0,0,0,.1)}.c-pagination li>a:focus,.c-pagination li>span:focus,.pagination li>a:focus,.pagination li>span:focus{outline:#000 dotted 1px;background-color:rgba(0,0,0,.1)}.c-pagination li>a:active,.c-pagination li>span:active,.pagination li>a:active,.pagination li>span:active{outline:rgba(0,0,0,.3) solid 1px;background-color:rgba(0,0,0,.3)}.c-pagination li.active>a,.c-pagination li.active>span,.c-pagination li.f-active>a,.c-pagination li.f-active>span,.pagination li.active>a,.pagination li.active>span,.pagination li.f-active>a,.pagination li.f-active>span{outline-color:#0078d7}.c-pagination li:first-child .c-glyph:before,.pagination li:first-child .c-glyph:before{margin-right:8px;content:"";vertical-align:-2px}.c-pagination li:last-child .c-glyph:after,.pagination li:last-child .c-glyph:after{margin-left:8px;content:"";vertical-align:-2px}@media only screen and (max-width:539px){.c-pagination li:first-child .c-glyph:before,.c-pagination li:last-child .c-glyph:after,.pagination li:first-child .c-glyph:before,.pagination li:last-child .c-glyph:after{content:none}.c-pagination li:first-child a,.c-pagination li:last-child a,.pagination li:first-child a,.pagination li:last-child a{padding:5px 0}}input.c-password[type=password],input.form-control{display:block;box-sizing:border-box;width:100%;min-width:88px;max-width:296px;height:36px;margin-top:20px;padding:7px 10px;border:1px solid rgba(0,0,0,.6);outline:0;background-color:#fff}.c-placement .c-heading,.c-placement .c-paragraph,.c-placement .c-subheading,.c-product-placement .c-heading{box-sizing:content-box;overflow:hidden}input.c-password[type=password]:hover,input.form-control:hover{border-color:rgba(0,0,0,.8)}input.c-password[type=password]:active,input.c-password[type=password]:focus,input.form-control:active,input.form-control:focus{border-color:#0078d7}input.c-password[type=password][disabled],input.form-control[disabled]{cursor:not-allowed;color:rgba(0,0,0,.2);border-color:rgba(0,0,0,.2)}input.c-password[type=password][readonly],input.form-control[readonly]{border:1px solid rgba(0,0,0,.6);background-color:#e6e6e6}.c-pivot>header{display:-webkit-flex;display:-ms-flexbox;display:flex;margin:0 -12px}.c-pivot>header>a{display:inline-block;padding:5px 12px 1px;white-space:nowrap;color:rgba(0,0,0,.6);font-size:20px;font-weight:200}.c-pivot>header>a.f-active{color:#000}.c-pivot>header>a:hover{color:rgba(0,0,0,.8)}.c-pivot>header>a:focus{outline:dotted 1px}.c-pivot.f-disabled>header>a{cursor:not-allowed;color:rgba(0,0,0,.2)}.c-placement{position:relative;display:block;overflow:hidden;width:100%;height:100%;padding-bottom:24px}.c-placement .c-heading{max-height:48px;padding:35px 0 4px;font-size:20px;font-weight:200;font-weight:700;line-height:24px}.c-placement .c-subheading{max-height:24px;padding:0;font-size:20px;font-weight:200;line-height:24px}.c-placement .c-paragraph{max-height:60px;padding:24px 0 0;font-size:15px;font-weight:400;line-height:20px}.c-placement a.c-call-to-action{padding-right:0;padding-left:0;color:#0078d7;border-color:transparent;background:0 0}.c-placement a.c-call-to-action:focus,.c-placement a.c-call-to-action:hover{text-decoration:underline;background:0 0}.c-placement a.c-call-to-action:active{text-decoration:none;background:0 0}.theme-dark .theme-light .c-placement a.c-call-to-action,.theme-light .c-placement a.c-call-to-action{color:#000;border-color:transparent;background:0 0}.theme-dark .theme-light .c-placement a.c-call-to-action:active,.theme-light .c-placement a.c-call-to-action:active{color:rgba(0,0,0,.6)}.theme-dark .c-placement a.c-call-to-action,.theme-light .theme-dark .c-placement a.c-call-to-action{color:#fff;border-color:transparent;background:0 0}.theme-dark .c-placement a.c-call-to-action:active,.theme-light .theme-dark .c-placement a.c-call-to-action:active{color:rgba(255,255,255,.6)}.c-placement .c-image{display:inline-block;width:auto;height:48px}.c-placement .c-price{font-size:15px}.c-placement .c-group,.c-placement .c-image-overlay,.c-placement picture{position:absolute;top:0;right:0;bottom:0;left:0}.c-placement .c-group{top:auto;display:block;height:36px;text-align:center}.c-placement .c-image-container{display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center}.c-placement picture{z-index:0;overflow:hidden}.c-placement picture img{position:absolute;top:calc(50%);left:calc(50%);transform:translate(-50%,-50%)}.c-placement.context-movie .c-group,.c-placement.context-music-album .c-group,.c-placement.context-tv-show .c-group,.c-placement>div{position:relative}.c-placement .c-image-overlay{z-index:1}.theme-dark .theme-light .c-placement .c-image-overlay,.theme-light .c-placement .c-image-overlay{background-color:rgba(255,255,255,.2)}.theme-dark .c-placement .c-image-overlay,.theme-light .theme-dark .c-placement .c-image-overlay{background-color:rgba(0,0,0,.2)}.c-placement cite{display:block;padding:35px 0 5px;font-size:20px;font-weight:200;font-weight:700;line-height:24px}.c-placement>div{z-index:2;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;width:100%;height:100%;text-align:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center}.c-placement.f-height-medium .c-heading,.c-placement.f-height-medium .c-subheading,.c-placement.f-height-medium.context-app a.c-call-to-action,.c-placement.f-height-medium.context-app picture{display:none}.c-placement.context-game>div{-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start}.c-placement.context-game .c-image{margin:12px 6px;-webkit-flex:0 0 auto;-ms-flex:0 0 auto;flex:0 0 auto}.c-placement.context-article>div{-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start}.c-placement.context-movie>div,.c-placement.context-music-album>div,.c-placement.context-tv-show>div{-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end}.c-placement.context-movie .c-rating,.c-placement.context-music-album .c-rating,.c-placement.context-tv-show .c-rating{margin-top:60px}.c-placement.f-height-large .c-paragraph{overflow:hidden;box-sizing:content-box;max-height:120px}.c-placement.f-height-large.f-width-small{padding:0 12.5% 24px}.c-placement.f-height-large.f-width-large{padding:0 25% 24px}.c-placement.f-height-medium.context-app>div{padding:0}.c-placement.f-height-medium.f-width-large{padding:0 12.5% 24px}.c-price .c-label{display:inline;margin:0;padding:0 4px;font-size:15px}.c-product-placement{margin-top:12px;margin-right:24px}.c-product-placement a{display:block;width:100%;height:100%}.c-product-placement a:after,.c-product-placement a:before{display:table;content:" "}.c-product-placement cite,.c-product-placement picture,.c-product-placement picture img{display:block}.c-product-placement a:after{clear:both}.c-product-placement a:focus{outline:rgba(0,0,0,.6) dotted 1px}.c-product-placement a:hover .c-heading,.c-product-placement a:hover .c-subheading{text-decoration:underline}.c-product-placement a:active img,.c-product-placement a:hover img{outline:rgba(0,0,0,.6) solid 1px}.c-product-placement>div{overflow:hidden}.c-product-placement picture{outline:rgba(0,0,0,.1) solid 1px}.c-product-placement h3{padding:0}.c-product-placement .c-heading{max-height:20px;padding-top:8px;padding-bottom:0;font-size:15px;font-weight:400;line-height:20px}.c-product-placement .c-subheading{color:rgba(0,0,0,.6)}.c-product-placement .c-price{line-height:1}.c-product-placement.f-size-extra-large .c-heading,.c-product-placement.f-size-large .c-heading{max-height:24px;font-size:20px;font-weight:200;line-height:24px}.c-product-placement.f-orientation-horizontal.f-size-medium,.c-product-placement.f-orientation-horizontal.f-size-small{width:382px}.c-product-placement.f-orientation-horizontal.f-size-medium .c-heading{margin-top:8px}.c-product-placement.f-orientation-horizontal picture{float:left;margin-right:12px}.c-product-placement.f-orientation-vertical.f-size-medium{width:179px}.c-product-placement.f-orientation-vertical.f-size-large{width:382px}.c-product-placement.f-orientation-vertical.f-size-extra-large{width:788px}.c-product-placement.f-orientation-vertical.context-app .c-heading,.c-product-placement.f-orientation-vertical.context-music-album .c-heading{max-height:40px}.c-rating .c-glyph{position:relative;float:left;border:0;background:0 0}.c-rating .c-glyph:after,.c-rating .c-glyph:before{position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.c-rating .c-glyph:before{content:"";color:rgba(0,0,0,.3)}.c-rating .c-glyph:after,.c-rating form:hover button.c-glyph:before{color:#000}.c-rating span.c-glyph{width:16px;height:16px}.c-rating span.c-glyph:after,.c-rating span.c-glyph:before{font-size:12px;line-height:1}.c-rating button.c-glyph{width:44px;height:44px}.c-rating button.c-glyph:after,.c-rating button.c-glyph:before{font-size:24px}.c-rating button.c-glyph:focus{outline:0}.c-rating button.c-glyph:focus:before{outline:#000 dashed 1px}.c-rating div,.c-rating form{display:inline-block}.c-rating div:after,.c-rating div:before,.c-rating form:after,.c-rating form:before{display:table;content:" "}.c-rating form:hover button.c-glyph:after,.c-rating form[disabled] button.c-glyph:after{display:none}.c-rating form:hover button.c-glyph:before,.c-rating form[disabled] button.c-glyph:before,.c-rating.f-community-rated .c-glyph:before,.c-rating.f-community-rated .f-full:after{content:""}.c-rating div{-webkit-transform:translateX(-2px);-ms-transform:translateX(-2px);transform:translateX(-2px)}.c-rating form{-webkit-transform:translateX(-7px);-ms-transform:translateX(-7px);transform:translateX(-7px)}.c-rating form:hover button.c-glyph:hover~button.c-glyph:before{color:rgba(0,0,0,.3)}.c-rating form[disabled] button.c-glyph:hover{cursor:not-allowed}.c-rating form[disabled] button.c-glyph:before{color:rgba(0,0,0,.3)}.c-rating.f-community-rated .f-half:after{content:""}.c-rating.f-community-rated.f-user-rated .f-full:after,.c-rating.f-community-rated.f-user-rated .f-half:after{color:#0078d7}.theme-dark .theme-light .c-rating .c-glyph:before,.theme-light .c-rating .c-glyph:before{color:rgba(0,0,0,.2)}.theme-dark .theme-light .c-rating .c-glyph:after,.theme-light .c-rating .c-glyph:after{color:#000}.theme-dark .theme-light .c-rating form button.c-glyph:focus:before,.theme-light .c-rating form button.c-glyph:focus:before{outline-color:#000}.theme-dark .theme-light .c-rating form button.c-glyph:before,.theme-light .c-rating form button.c-glyph:before{color:rgba(0,0,0,.2)}.theme-dark .theme-light .c-rating form button.c-glyph:after,.theme-light .c-rating form button.c-glyph:after{color:#000}.theme-dark .theme-light .c-rating form:hover button.c-glyph:before,.theme-light .c-rating form:hover button.c-glyph:before{color:rgba(0,0,0,.8)}.theme-dark .theme-light .c-rating form:hover button.c-glyph:hover~button.c-glyph:before,.theme-dark .theme-light .c-rating form[disabled] button.c-glyph:before,.theme-light .c-rating form:hover button.c-glyph:hover~button.c-glyph:before,.theme-light .c-rating form[disabled] button.c-glyph:before{color:rgba(0,0,0,.2)}.theme-dark .theme-light .c-rating.f-community-rated.f-user-rated .f-full:after,.theme-dark .theme-light .c-rating.f-community-rated.f-user-rated .f-half:after,.theme-light .c-rating.f-community-rated.f-user-rated .f-full:after,.theme-light .c-rating.f-community-rated.f-user-rated .f-half:after{color:#000}.theme-dark .c-rating .c-glyph:before,.theme-light .theme-dark .c-rating .c-glyph:before{color:rgba(255,255,255,.2)}.theme-dark .c-rating .c-glyph:after,.theme-light .theme-dark .c-rating .c-glyph:after{color:#fff}.theme-dark .c-rating form button.c-glyph:focus:before,.theme-light .theme-dark .c-rating form button.c-glyph:focus:before{outline-color:#fff}.theme-dark .c-rating form button.c-glyph:before,.theme-light .theme-dark .c-rating form button.c-glyph:before{color:rgba(255,255,255,.2)}.theme-dark .c-rating form button.c-glyph:after,.theme-light .theme-dark .c-rating form button.c-glyph:after{color:#fff}.theme-dark .c-rating form:hover button.c-glyph:before,.theme-light .theme-dark .c-rating form:hover button.c-glyph:before{color:rgba(255,255,255,.8)}.theme-dark .c-rating form:hover button.c-glyph:hover~button.c-glyph:before,.theme-dark .c-rating form[disabled] button.c-glyph:before,.theme-light .theme-dark .c-rating form:hover button.c-glyph:hover~button.c-glyph:before,.theme-light .theme-dark .c-rating form[disabled] button.c-glyph:before{color:rgba(255,255,255,.2)}.theme-dark .c-rating.f-community-rated.f-user-rated .f-full:after,.theme-dark .c-rating.f-community-rated.f-user-rated .f-half:after,.theme-light .theme-dark .c-rating.f-community-rated.f-user-rated .f-full:after,.theme-light .theme-dark .c-rating.f-community-rated.f-user-rated .f-half:after{color:#fff}@media screen and (-ms-high-contrast:active){.c-rating form:hover button.c-glyph:hover~button.c-glyph:before,.c-rating.f-community-rated .c-glyph:before{content:""}}.c-radio .c-label{position:relative;margin-right:24px;padding-bottom:0;font-size:15px;line-height:20px}.c-radio.f-inline{display:-webkit-flex;display:-ms-flexbox;display:flex}.c-radio.f-inline .c-label{display:inline-block}.c-radio input[type=radio]{float:left;opacity:0}.c-radio input[type=radio]+span{display:inline-block;margin-left:28px}.c-radio input[type=radio]+span:before{position:absolute;top:0;left:0;width:20px;height:20px;content:"";border:1px solid #000;border-radius:50%}.c-radio input[type=radio]:hover:not(:disabled)+span:before{border-color:rgba(0,0,0,.8)}.c-radio input[type=radio]:focus+span:before{outline:rgba(0,0,0,.8) dashed 1px}.btn:focus,button.c-refine-item:focus,button.c-select-button:focus{outline:#000 dashed 1px}.c-radio input[type=radio]:checked+span:after{position:absolute;top:5px;left:5px;width:10px;height:10px;content:"";border-radius:50%;background:currentColor}@media screen and (-ms-high-contrast:active){.c-radio input[type=radio]:checked+span:after{border:5px solid currentColor}}.c-radio input[type=radio]:checked:not(:disabled)+span{color:#000}.c-radio input[type=radio]:checked:not(:disabled)+span:before{border-color:#0078d7}.c-radio input[type=radio]:checked:not(:disabled):hover+span:after{background:rgba(0,0,0,.6)}.c-radio input[type=radio]:disabled+span{color:rgba(0,0,0,.2)}.c-radio input[type=radio]:disabled+span:before{border-color:rgba(0,0,0,.2)}button.c-refine-item{position:relative;display:block;width:100%;padding:12px;color:rgba(0,0,0,.6);border:0;background:0 0}button.c-refine-item span{display:block;overflow:hidden;text-align:left;white-space:nowrap}button.c-refine-item:after{position:absolute;top:16px;right:0;display:none;width:44px;content:"";text-align:center;font-size:13px}button.c-refine-item:hover{background:rgba(0,0,0,.1)}button.c-refine-item:active{background:rgba(0,0,0,.3)}button.c-refine-item[aria-checked=true],button.c-refine-item[aria-selected=true]{padding-right:44px;background:rgba(0,0,0,.1);font-weight:600}button.c-refine-item[aria-checked=true]:hover,button.c-refine-item[aria-selected=true]:hover{background:rgba(0,0,0,.2)}button.c-refine-item[aria-checked=true]:active,button.c-refine-item[aria-selected=true]:active{background:rgba(0,0,0,.3)}button.c-refine-item[aria-checked=true]:after,button.c-refine-item[aria-selected=true]:after{display:inline-block}.c-refine-menu>button{display:none}.c-refine-menu>div>div{position:relative}.c-refine-menu>div>div .c-heading{display:inline-block;overflow:hidden;padding:36px 0 4px;font-size:24px;font-weight:200;line-height:28px}.c-refine-menu>div>div .c-heading+button.c-action-trigger.c-glyph{position:absolute;top:26px;right:0;display:none;width:44px;height:44px;margin:0 -12px 0 0;padding:9px 0 10px;color:rgba(0,0,0,.6)}.c-refine-menu .c-divider{margin:12px 0}.c-refine-menu .c-drawer{margin:0 -12px}@media only screen and (max-width:767px){.c-refine-menu>div>div .c-heading{padding-right:44px}.c-refine-menu>div>div .c-heading+button.c-action-trigger.c-glyph{display:block}}.c-search{position:relative;min-width:92px;max-width:296px;height:38px;margin-top:20px}.c-search button,.c-search input[type=search]{float:left;outline:0;background-color:#fff}.c-search input[type=search]{box-sizing:border-box;width:100%;height:100%;padding:7px 38px 7px 10px;border:1px solid rgba(0,0,0,.6)}.c-search input[type=search]:hover{border-color:rgba(0,0,0,.8)}.c-search input[type=search]:active,.c-search input[type=search]:focus{border-color:#0078d7}.c-search button{position:absolute;top:0;right:0;width:34px;height:34px;margin:2px 1px 1px;padding:9px;transition:color .1s,background-color .1s;border:0}.c-search button:hover{color:#0078d7}.c-search button:active,.c-search button:focus{color:#fff;background:#0078d7}.c-search button:before{content:"";text-indent:0;font-size:16px}.c-select-menu>a:after,.c-select:after,.combobox:after,.dropdown>a:after{content:"";font-family:MWF-MDL2}.btn,button.c-select-button{overflow:hidden;margin-top:36px;margin-right:12px;padding:6px 10px;text-align:center;white-space:nowrap;color:#000;border:1px solid rgba(0,0,0,.4);background:#fff;font-size:15px}.btn[aria-pressed=true],button.c-select-button[aria-pressed=true]{padding:5px 9px;border-width:2px;border-color:#000}.btn:hover,button.c-select-button:hover{border-color:#000}.btn:hover[aria-pressed=true],button.c-select-button:hover[aria-pressed=true]{border-color:#004881}.btn:active,button.c-select-button:active{border-color:#004881;outline:0}.btn[disabled],button.c-select-button[disabled]{cursor:not-allowed;color:rgba(0,0,0,.2);border-color:rgba(0,0,0,.2)}.theme-dark .theme-light .btn,.theme-dark .theme-light button.c-select-button,.theme-light .btn,.theme-light button.c-select-button{color:#000;border-color:rgba(0,0,0,.4);background:#fff}.theme-dark .theme-light .btn:hover,.theme-dark .theme-light .btn[aria-pressed=true],.theme-dark .theme-light button.c-select-button:hover,.theme-dark .theme-light button.c-select-button[aria-pressed=true],.theme-light .btn:hover,.theme-light .btn[aria-pressed=true],.theme-light button.c-select-button:hover,.theme-light button.c-select-button[aria-pressed=true]{border-color:#000}.theme-dark .theme-light .btn:focus,.theme-dark .theme-light button.c-select-button:focus,.theme-light .btn:focus,.theme-light button.c-select-button:focus{outline-color:#000}.theme-dark .theme-light .btn:hover[aria-pressed=true],.theme-dark .theme-light button.c-select-button:hover[aria-pressed=true],.theme-light .btn:hover[aria-pressed=true],.theme-light button.c-select-button:hover[aria-pressed=true]{border-color:#004881}.theme-dark .theme-light .btn:active,.theme-dark .theme-light button.c-select-button:active,.theme-light .btn:active,.theme-light button.c-select-button:active{border-color:#004881;outline:0}.theme-dark .theme-light .btn[disabled],.theme-dark .theme-light button.c-select-button[disabled],.theme-light .btn[disabled],.theme-light button.c-select-button[disabled]{color:rgba(0,0,0,.2);border-color:rgba(0,0,0,.2)}.theme-dark .btn,.theme-dark button.c-select-button,.theme-light .theme-dark .btn,.theme-light .theme-dark button.c-select-button{color:#fff;border-color:rgba(255,255,255,.4);background:#000}.theme-dark .btn:hover,.theme-dark .btn[aria-pressed=true],.theme-dark button.c-select-button:hover,.theme-dark button.c-select-button[aria-pressed=true],.theme-light .theme-dark .btn:hover,.theme-light .theme-dark .btn[aria-pressed=true],.theme-light .theme-dark button.c-select-button:hover,.theme-light .theme-dark button.c-select-button[aria-pressed=true]{border-color:#fff}.theme-dark .btn:focus,.theme-dark button.c-select-button:focus,.theme-light .theme-dark .btn:focus,.theme-light .theme-dark button.c-select-button:focus{outline-color:#fff}.theme-dark .btn:hover[aria-pressed=true],.theme-dark button.c-select-button:hover[aria-pressed=true],.theme-light .theme-dark .btn:hover[aria-pressed=true],.theme-light .theme-dark button.c-select-button:hover[aria-pressed=true]{border-color:#66aee7}.theme-dark .btn:active,.theme-dark button.c-select-button:active,.theme-light .theme-dark .btn:active,.theme-light .theme-dark button.c-select-button:active{border-color:#66aee7;outline:0}.theme-dark .btn[disabled],.theme-dark button.c-select-button[disabled],.theme-light .theme-dark .btn[disabled],.theme-light .theme-dark button.c-select-button[disabled]{color:rgba(255,255,255,.2);border-color:rgba(255,255,255,.2)}.c-select-menu,.dropdown{position:relative;display:inline-block}.c-select-menu .c-menu,.dropdown .c-menu{position:absolute;top:100%}.c-select-menu a[aria-expanded=false]+.c-menu[aria-hidden=true],.c-select-menu a[aria-expanded=false]+.dropdown-menu,.dropdown a[aria-expanded=false]+.c-menu[aria-hidden=true],.dropdown a[aria-expanded=false]+.dropdown-menu{display:none}.c-select-menu>a,.dropdown>a{display:inline-block;padding:8px 24px 8px 8px;-webkit-transform:translateX(-8px);-ms-transform:translateX(-8px);transform:translateX(-8px);color:rgba(0,0,0,.6)}.c-select-menu>a:after,.dropdown>a:after{position:absolute;right:8px;padding-top:7px;color:#000;font-size:9px;font-weight:700}.c-select-menu>a:focus,.dropdown>a:focus{outline:#000 dotted 1px}.c-select-menu>a:focus:hover,.dropdown>a:focus:hover{outline:0}.js .c-select-menu>a[aria-expanded=true]+.c-menu[aria-hidden=false],.js .c-select-menu>a[aria-expanded=true]+.dropdown-menu,.js .c-select-menu>span[aria-expanded=true]+.c-menu[aria-hidden=false],.js .dropdown>a[aria-expanded=true]+.c-menu[aria-hidden=false],.js .dropdown>a[aria-expanded=true]+.dropdown-menu,.js .dropdown>span[aria-expanded=true]+.c-menu[aria-hidden=false],.no-js .c-select-menu:hover .c-menu,.no-js .c-select-menu:hover .dropdown-menu,.no-js .dropdown:hover .c-menu,.no-js .dropdown:hover .dropdown-menu{display:block}.c-select,.combobox{position:relative;min-width:88px;max-width:296px;height:36px;margin-top:20px;cursor:pointer;background-color:#fff}.c-select:after,.combobox:after{position:absolute;top:1px;right:4px;width:31px;height:34px;padding-top:10px;text-align:center;background:#fff}.c-select:after:hover,.combobox:after:hover{z-index:1}.c-select select,.combobox select{position:relative;width:100%;height:100%;padding:7px 34px 7px 5px;cursor:pointer;border:1px solid rgba(0,0,0,.6);outline:0;background:#fff;-webkit-appearance:none;-moz-appearance:none;appearance:none}.c-select select:active,.c-select select:focus,.combobox select:active,.combobox select:focus{background:#fff}.c-select select:hover,.combobox select:hover{z-index:2;border-color:rgba(0,0,0,.8);background:0 0}.c-select select:active,.c-select select:focus,.combobox select:active,.combobox select:focus{border-color:#0078d7}.c-select select[disabled],.combobox select[disabled]{z-index:2;padding-right:0;cursor:not-allowed;color:rgba(0,0,0,.2);border-color:rgba(0,0,0,.2);background:#fff}.c-select select option,.combobox select option{color:#000;background:#fff}.c-select select:-moz-focusring,.combobox select:-moz-focusring{color:transparent;text-shadow:0 0 0 #000}.c-select select::-ms-expand,.combobox select::-ms-expand{display:none}.c-select select:focus::-ms-value,.combobox select:focus::-ms-value{color:#000;background:0 0}.c-sequence-indicator{font-size:0}.c-sequence-indicator button{display:inline-block;width:12px;height:10px;padding:2px 3px;border:0;background:0 0}.c-sequence-indicator button:before{display:block;width:100%;height:100%;content:"";border:1px solid rgba(0,0,0,.8);border-radius:50%}.c-sequence-indicator button:focus{outline:#000 dashed 1px}.c-sequence-indicator button:hover:before{background:rgba(0,0,0,.4)}.c-sequence-indicator button[aria-checked=true]:before{background:#000}.theme-dark .theme-light .c-sequence-indicator button:before,.theme-light .c-sequence-indicator button:before{border-color:rgba(0,0,0,.8)}.theme-dark .theme-light .c-sequence-indicator button:focus,.theme-light .c-sequence-indicator button:focus{outline-color:#000}.theme-dark .theme-light .c-sequence-indicator button:hover:before,.theme-light .c-sequence-indicator button:hover:before{background:rgba(0,0,0,.4)}.theme-dark .theme-light .c-sequence-indicator button[aria-checked=true]:before,.theme-light .c-sequence-indicator button[aria-checked=true]:before{background:#000}.theme-dark .c-sequence-indicator button:before,.theme-light .theme-dark .c-sequence-indicator button:before{border-color:rgba(255,255,255,.8)}.theme-dark .c-sequence-indicator button:focus,.theme-light .theme-dark .c-sequence-indicator button:focus{outline-color:#fff}.theme-dark .c-sequence-indicator button:hover:before,.theme-light .theme-dark .c-sequence-indicator button:hover:before{background:rgba(255,255,255,.4)}.theme-dark .c-sequence-indicator button[aria-checked=true]:before,.theme-light .theme-dark .c-sequence-indicator button[aria-checked=true]:before{background:#fff}.c-slider{width:296px}.c-slider input[type=range]{-webkit-appearance:slider-horizontal;-moz-appearance:slider-horizontal;appearance:slider-horizontal}.c-slider div{position:relative;height:4px;margin-top:12px;background:rgba(0,0,0,.4)}.c-slider div button{position:absolute;top:-10px;width:8px;height:24px;padding:0;border:0;border-radius:4px;outline:0;background:#0078d7}.c-slider div button:focus{outline:#000 dashed 1px}.c-slider div button:hover{background:#000}.c-slider div button:active{background:#004881}.c-slider div button:active span{display:block}.c-slider div button span{position:absolute;top:-40px;left:4px;display:none;min-width:36px;height:36px;padding:8px 8px 10px;-webkit-transform:translateX(-50%);-ms-transform:translateX(-50%);transform:translateX(-50%);text-align:center;border:1px solid rgba(0,0,0,.3);background:#e6e6e6}.c-slider div>span{position:absolute;top:0;bottom:0;display:block;background:#0078d7}.c-slider.f-disabled label.c-label{color:rgba(0,0,0,.2)}.c-slider.f-disabled input[type=range][disabled]+div,.c-slider.f-disabled input[type=range][disabled]+div button{background:#ccc}.c-slider.f-disabled input[type=range][disabled]+div span{display:none}.c-social,.context-mosaic{display:-webkit-flex;display:-ms-flexbox}.c-social{display:flex;margin-top:24px}.c-social>div{display:inline-block;margin-right:24px}.c-supplemental-nav{margin-top:32px}.c-supplemental-nav a,.c-supplemental-nav span{display:block;margin-bottom:30px;color:rgba(0,0,0,.6)}.c-supplemental-nav a:hover,.c-supplemental-nav span:hover{cursor:pointer}.c-supplemental-nav a.active{color:#000}.c-supplemental-nav a focus,.c-supplemental-nav a:hover{color:rgba(0,0,0,.8)}.c-supplemental-nav a:focus{outline:dotted 1px}.c-supplemental-nav a.f-active{color:#000}.c-supplemental-nav a.f-disabled{cursor:not-allowed;color:rgba(0,0,0,.2)}.c-table thead th,.c-table thead th button,.table-responsive thead th,.table-responsive thead th button{color:rgba(0,0,0,.6);font-size:11px;font-weight:400;line-height:16px}.c-supplemental-nav>nav>a+nav{overflow:hidden;height:0}.c-supplemental-nav>nav>a:first-child,.c-supplemental-nav>nav>span:first-child{margin-bottom:16px;margin-left:0}.c-supplemental-nav>nav a{margin-bottom:16px;margin-left:20px}.c-table,.table-responsive{overflow:visible;margin-top:8px}.c-table.f-divided tbody tr,.table-responsive.f-divided tbody tr{border-bottom:1px solid rgba(0,0,0,.1)}.c-table table,.table-responsive table{width:100%}.c-table thead,.table-responsive thead{border-bottom:1px solid rgba(0,0,0,.2)}.c-table thead th button,.table-responsive thead th button{border:0;background:0 0}.c-table thead th button.f-ascending,.c-table thead th button.f-descending,.table-responsive thead th button.f-ascending,.table-responsive thead th button.f-descending{color:#000}.c-table thead th button:focus,.table-responsive thead th button:focus{outline:rgba(0,0,0,.6) dotted 1px}.c-table thead th button:active,.table-responsive thead th button:active{outline:transparent solid 1px}.c-table thead th button.c-glyph:after,.table-responsive thead th button.c-glyph:after{display:inline-block;margin-left:8px;vertical-align:top}.c-table thead th button.f-ascending:after,.table-responsive thead th button.f-ascending:after{content:""}.c-table thead th button.f-descending:after,.table-responsive thead th button.f-descending:after{content:""}.c-table thead th[colspan]:not([colspan="1"]),.c-table thead tr+tr th,.c-table thead tr+tr th:last-child,.table-responsive thead th[colspan]:not([colspan="1"]),.table-responsive thead tr+tr th,.table-responsive thead tr+tr th:last-child{text-align:center}.c-table tr:before,.table-responsive tr:before{display:block;width:7px;content:""}.c-table td,.c-table th,.table-responsive td,.table-responsive th{padding:10px 12px;text-align:left;vertical-align:top}.c-table td.f-numerical,.c-table th.f-numerical,.table-responsive td.f-numerical,.table-responsive th.f-numerical{text-align:right}.c-table td.f-sub-categorical,.c-table th.f-sub-categorical,.table-responsive td.f-sub-categorical,.table-responsive th.f-sub-categorical{text-align:center}.c-table[data-table=structured],.table-responsive[data-table=structured]{margin-top:20px}.c-table[data-table=structured] table,.table-responsive[data-table=structured] table{table-layout:fixed}.c-table[data-table=structured] table td,.table-responsive[data-table=structured] table td{width:50%}.c-table ul.c-list,.table-responsive ul.c-list{margin:0;padding:0;list-style-type:none}.c-table ul.c-list li,.table-responsive ul.c-list li{padding:0 0 8px;list-style:none}.c-table .c-paragraph,.table-responsive .c-paragraph{padding:0}.c-table .c-call-to-action,.table-responsive .c-call-to-action{margin-top:10px;padding-right:0;padding-left:0;color:#0078d7;border-color:transparent;background:0 0}.c-table .c-call-to-action:focus,.c-table .c-call-to-action:hover,.table-responsive .c-call-to-action:focus,.table-responsive .c-call-to-action:hover{text-decoration:underline;background:0 0}.c-table .c-call-to-action:active,.table-responsive .c-call-to-action:active{text-decoration:none;background:0 0}.theme-dark .theme-light .c-table .c-call-to-action,.theme-dark .theme-light .table-responsive .c-call-to-action,.theme-light .c-table .c-call-to-action,.theme-light .table-responsive .c-call-to-action{color:#000;border-color:transparent;background:0 0}.theme-dark .theme-light .c-table .c-call-to-action:active,.theme-dark .theme-light .table-responsive .c-call-to-action:active,.theme-light .c-table .c-call-to-action:active,.theme-light .table-responsive .c-call-to-action:active{color:rgba(0,0,0,.6)}.theme-dark .c-table .c-call-to-action,.theme-dark .table-responsive .c-call-to-action,.theme-light .theme-dark .c-table .c-call-to-action,.theme-light .theme-dark .table-responsive .c-call-to-action{color:#fff;border-color:transparent;background:0 0}.theme-dark .c-table .c-call-to-action:active,.theme-dark .table-responsive .c-call-to-action:active,.theme-light .theme-dark .c-table .c-call-to-action:active,.theme-light .theme-dark .table-responsive .c-call-to-action:active{color:rgba(255,255,255,.6)}.c-table .c-call-to-action:hover,.table-responsive .c-call-to-action:hover{border-color:transparent}.c-textarea label.c-label{margin-top:16px;padding-bottom:6px}.c-textarea textarea{min-width:276px;min-height:36px;padding:7px 12px;color:#000;border:1px solid rgba(0,0,0,.6);outline:0;background:#fff;font-size:15px;line-height:20px}.c-textarea textarea:active,.c-textarea textarea:focus{border-color:#0078d7}.c-textarea textarea[disabled]{cursor:not-allowed;color:rgba(0,0,0,.2);border-color:rgba(0,0,0,.2)}.c-textarea textarea[readonly]{border:1px solid rgba(0,0,0,.6);background-color:#e6e6e6}.c-textarea textarea.f-resize{resize:both}.c-textarea textarea.f-no-resize{resize:none}.c-textarea textarea.f-scroll{overflow-y:scroll}.theme-dark .theme-light .c-textarea textarea,.theme-light .c-textarea textarea{color:#000;border:1px solid #000;background:rgba(255,255,255,.6)}.theme-dark .c-textarea textarea,.theme-light .theme-dark .c-textarea textarea{color:#000;border-color:#fff;background:rgba(255,255,255,.6)}input.c-text-field[type=text],input.form-control{display:block;width:100%;min-width:88px;max-width:296px;height:36px;margin-top:20px;padding:7px 10px;border:1px solid rgba(0,0,0,.6);outline:0;background-color:#fff}input.c-text-field[type=text]:hover,input.form-control:hover{border-color:rgba(0,0,0,.8)}input.c-text-field[type=text]:active,input.c-text-field[type=text]:focus,input.form-control:active,input.form-control:focus{border-color:#0078d7}input.c-text-field[type=text][disabled],input.form-control[disabled]{cursor:not-allowed;color:rgba(0,0,0,.2);border-color:rgba(0,0,0,.2)}input.c-text-field[type=text][readonly],input.form-control[readonly]{border:1px solid rgba(0,0,0,.6);background-color:#e6e6e6}div.c-toggle button{position:relative;display:inline-block;width:44px;height:20px;margin-top:42px;border:1px solid #000;border-radius:20px;background:0 0}div.c-toggle button:after{position:absolute;top:4px;left:4px;width:10px;height:10px;content:"";transition:all .1s ease;border-radius:10px;background:#000}div.c-toggle button:focus{outline:#000 dashed 1px}div.c-toggle button[aria-checked=true]{border-color:#0078d7;background:#0078d7}div.c-toggle button[aria-checked=true]:hover{border-color:rgba(0,120,215,.8);background:rgba(0,120,215,.8)}div.c-toggle button[aria-checked=true]:after{left:28px;background:#fff}div.c-toggle button[aria-checked=true]:disabled{border-color:transparent;background:rgba(0,0,0,.2)}div.c-toggle button[aria-checked=true]:disabled:after{background:rgba(0,0,0,.2)}div.c-toggle button[aria-checked=false]{border-color:#000;background:0 0}div.c-toggle button:disabled{border-color:rgba(0,0,0,.2);background:0 0}div.c-toggle button:disabled:after{background:rgba(0,0,0,.2)}div.c-toggle label{margin-top:32px}div.c-toggle label+button{margin-top:0}div.c-toggle span{display:inline-block;margin-top:0;padding-bottom:0;padding-left:12px;cursor:pointer;font-size:13px;line-height:19px}div.c-toggle.f-disabled{color:rgba(0,0,0,.2)}span.c-tooltip{position:fixed;z-index:1;min-width:104px;max-width:340px;margin-top:20px;padding:12px 8px;border:1px solid rgba(0,0,0,.3);background:#fff;font-size:13px;line-height:16px}span.c-tooltip[aria-hidden=true]{display:none}span.c-tooltip[aria-hidden=false]{display:block}.c-universal-header .c-select-menu>a{-webkit-transform:none;-ms-transform:none;transform:none;padding:15px 27px 15px 24px}.c-universal-header .c-select-menu .c-menu-item a{background:0 0}.c-universal-header .c-select-menu .c-menu-item a:hover{text-decoration:underline}.c-universal-header .c-select-menu .c-menu-item.f-sub-menu>a:hover{text-decoration:none}.c-universal-header .c-menu{border:0}.c-universal-header .c-menu-item>a{padding-top:18px;padding-bottom:18px;padding-left:24px}.c-universal-header .c-menu-item.f-sub-menu>a:after{top:26px}.c-universal-header>div>div{max-width:1600px;height:100%;margin:0 auto;padding:0 5%}.c-universal-header>div>div:after,.c-universal-header>div>div:before{display:table;content:" "}@media screen and (max-width:540px){.c-universal-header>div>div{padding:0 12px}}.c-universal-header>div:first-child{height:50px;background-color:#fff}.c-universal-header>div:first-child .c-action-trigger{float:left;width:50px;height:50px;margin-top:0;color:#000}.c-universal-header>div:first-child .c-action-trigger:before{margin:0;vertical-align:baseline}.c-universal-header>div:first-child .c-action-trigger.glyph-global-nav-button{display:none;margin-left:-14px;font-size:20px}.c-universal-header>div:first-child .c-action-trigger.glyph-global-nav-button:before{width:20px;height:20px;margin-top:7px}.c-universal-header>div:first-child .c-action-trigger.glyph-shopping-cart{margin-right:-16px}.c-universal-header>div:first-child .c-search{float:left;margin-top:6px}.c-universal-header>div:first-child .c-search input[type=search]{width:276px;max-width:100%}@media only screen and (max-width:1083px){.c-universal-header>div:first-child .c-search{min-width:34px}.c-universal-header>div:first-child .c-search input[type=search]{width:0;padding:0;opacity:0;border:0}}.c-universal-header>div:first-child .c-logo{float:left;width:132px;height:100%;margin-left:-12px;padding:13px 12px 14px}.c-universal-header>div:first-child .c-logo:focus{outline:#000 dotted 1px}.c-universal-header>div:first-child nav{float:left}.c-universal-header>div:first-child nav:after,.c-universal-header>div:first-child nav:before{display:table;content:" "}.c-universal-header>div:first-child .c-select-menu{float:left}.c-universal-header>div:first-child .c-select-menu a{color:#000}.c-universal-header>div:first-child .c-select-menu>a:after{right:12px}.c-universal-header>div:first-child .c-select-menu>.c-menu,.c-universal-header>div:first-child .c-select-menu>a:focus,.c-universal-header>div:first-child .c-select-menu>a:hover,.c-universal-header>div:first-child .c-select-menu>a[aria-expanded=true]{background:#f2f2f2}.c-universal-header>div:first-child .c-select-menu>.c-menu>.c-menu-item>.c-menu,.c-universal-header>div:first-child .c-select-menu>.c-menu>.c-menu-item>a:focus,.c-universal-header>div:first-child .c-select-menu>.c-menu>.c-menu-item>a:hover,.c-universal-header>div:first-child .c-select-menu>.c-menu>.c-menu-item>a[aria-expanded=true]{background:#e6e6e6}.c-universal-header>div:first-child .c-select-menu>.c-menu>.c-menu-item>.c-menu a:focus,.c-universal-header>div:first-child .c-select-menu>.c-menu>.c-menu-item>.c-menu a:hover{background:#d9d9d9}@media only screen and (max-width:767px){.c-universal-header>div:first-child{height:48px}.c-universal-header>div:first-child .c-action-trigger{width:48px;height:48px}.c-universal-header>div:first-child .c-action-trigger.glyph-global-nav-button{display:block}.c-universal-header>div:first-child .c-action-trigger.glyph-shopping-cart{margin-right:-12px}.c-universal-header>div:first-child nav{display:none}}.c-universal-header>div+div{position:relative;height:70px;background:#2f2f2f}.c-universal-header>div+div .c-hyperlink:focus,.c-universal-header>div+div .c-hyperlink:hover{color:#fff;background-color:#464646}.c-universal-header>div+div .c-hyperlink:active{color:#fff;background-color:#525252}.c-universal-header>div+div .c-logo:focus,.c-universal-header>div+div .c-logo:hover,.c-universal-header>div+div .c-select-menu>a:focus,.c-universal-header>div+div .c-select-menu>a:hover{background:#464646}.c-universal-header>div+div .c-select-menu a,.c-universal-header>div+div .c-select-menu a:after{color:#fff}.c-universal-header>div+div .c-select-menu>.c-menu,.c-universal-header>div+div .c-select-menu>a[aria-expanded=true]{background:#525252}.c-universal-header>div+div .c-select-menu>.c-menu>.c-menu-item>a:focus,.c-universal-header>div+div .c-select-menu>.c-menu>.c-menu-item>a:hover{background:#5e5e5e}.c-universal-header>div+div .c-select-menu>.c-menu>.c-menu-item>.c-menu,.c-universal-header>div+div .c-select-menu>.c-menu>.c-menu-item>a[aria-expanded=true]{background:#767676}.c-universal-header>div+div.brand-blue{background:#0078d7}.c-universal-header>div+div.brand-blue .c-hyperlink:focus,.c-universal-header>div+div.brand-blue .c-hyperlink:hover{color:#fff;background-color:#006cc2}.c-universal-header>div+div.brand-blue .c-hyperlink:active{color:#fff;background-color:#0060ac}.c-universal-header>div+div.brand-blue .c-logo:focus,.c-universal-header>div+div.brand-blue .c-logo:hover,.c-universal-header>div+div.brand-blue .c-select-menu>a:focus,.c-universal-header>div+div.brand-blue .c-select-menu>a:hover{background:#006cc2}.c-universal-header>div+div.brand-blue .c-select-menu a,.c-universal-header>div+div.brand-blue .c-select-menu a:after{color:#fff}.c-universal-header>div+div.brand-blue .c-select-menu>.c-menu,.c-universal-header>div+div.brand-blue .c-select-menu>a[aria-expanded=true]{background:#0060ac}.c-universal-header>div+div.brand-blue .c-select-menu>.c-menu>.c-menu-item>a:focus,.c-universal-header>div+div.brand-blue .c-select-menu>.c-menu>.c-menu-item>a:hover{background:#005497}.c-universal-header>div+div.brand-blue .c-select-menu>.c-menu>.c-menu-item>.c-menu,.c-universal-header>div+div.brand-blue .c-select-menu>.c-menu>.c-menu-item>a[aria-expanded=true]{background:#004881}.c-universal-header>div+div.brand-green{background:#107c10}.c-universal-header>div+div.brand-green .c-hyperlink:focus,.c-universal-header>div+div.brand-green .c-hyperlink:hover{color:#fff;background-color:#0e700e}.c-universal-header>div+div.brand-green .c-hyperlink:active{color:#fff;background-color:#0d630d}.c-universal-header>div+div.brand-green .c-logo:focus,.c-universal-header>div+div.brand-green .c-logo:hover,.c-universal-header>div+div.brand-green .c-select-menu>a:focus,.c-universal-header>div+div.brand-green .c-select-menu>a:hover{background:#0e700e}.c-universal-header>div+div.brand-green .c-select-menu a,.c-universal-header>div+div.brand-green .c-select-menu a:after{color:#fff}.c-universal-header>div+div.brand-green .c-select-menu>.c-menu,.c-universal-header>div+div.brand-green .c-select-menu>a[aria-expanded=true]{background:#0d630d}.c-universal-header>div+div.brand-green .c-select-menu>.c-menu>.c-menu-item>a:focus,.c-universal-header>div+div.brand-green .c-select-menu>.c-menu>.c-menu-item>a:hover{background:#0b570b}.c-universal-header>div+div.brand-green .c-select-menu>.c-menu>.c-menu-item>.c-menu,.c-universal-header>div+div.brand-green .c-select-menu>.c-menu>.c-menu-item>a[aria-expanded=true]{background:#0a4a0a}.c-universal-header>div+div .c-select-menu>.c-menu>.c-menu-item>.c-menu.f-multi-column>li a,.c-universal-header>div+div .c-select-menu>.c-menu>.c-menu-item>a{background:0 0}.c-universal-header>div+div>div{overflow:hidden}.c-universal-header>div+div>div>.c-call-to-action,.c-universal-header>div+div>div>.c-hyperlink{float:right}.c-universal-header>div+div>div>.c-call-to-action{margin-top:16px}.c-universal-header>div+div .c-logo{float:left;height:100%;margin-left:-18px;padding:18px;outline:0}.c-universal-header>div+div .c-logo img{max-height:100%}.c-universal-header>div+div .c-logo span{display:block;margin-top:4px;font-size:20px;font-weight:200;line-height:24px}.c-universal-header>div+div .c-action-trigger[aria-label]{height:100%;margin:0}.c-universal-header>div+div .c-action-trigger[aria-label].glyph-chevron-left{float:left;border-right:1px solid rgba(255,255,255,.1)}.c-universal-header>div+div .c-action-trigger[aria-label].glyph-chevron-right{float:right;border-left:1px solid rgba(255,255,255,.1)}.c-universal-header>div+div .c-action-trigger[aria-label]:disabled{display:none}.c-universal-header>div+div nav{overflow:hidden;height:100%;white-space:nowrap}.c-universal-header>div+div nav>.c-hyperlink{vertical-align:top}.c-universal-header>div+div nav a.f-hidden{opacity:.6}.c-universal-header>div+div .c-hyperlink{display:inline-block;padding:25px 24px;text-decoration:none;outline:0}.c-universal-header>div+div .c-select-menu>.c-menu>.c-menu-item>.c-menu.f-multi-column>li a:hover,.context-control-appearance .context-light-button button.c-button:hover{text-decoration:underline}.c-universal-header>div+div .c-select-menu{position:static;display:inline-block}.c-universal-header>div+div .c-select-menu>a{position:relative;padding-top:26px;padding-bottom:24px}.c-universal-header>div+div .c-select-menu a{outline:0}.c-universal-header>div+div .c-select-menu>.c-menu>.c-menu-item>.c-menu.f-multi-column{width:auto;max-width:none;white-space:nowrap}.c-universal-header>div+div .c-select-menu>.c-menu>.c-menu-item>.c-menu.f-multi-column>li{float:left}.c-universal-header>div+div .c-select-menu>.c-menu>.c-menu-item>.c-menu.f-multi-column>li:after,.c-universal-header>div+div .c-select-menu>.c-menu>.c-menu-item>.c-menu.f-multi-column>li:before{display:table;content:" "}.c-universal-header>div+div .c-select-menu>.c-menu>.c-menu-item>.c-menu.f-multi-column>li>.c-menu-item{display:inline-block;float:left;vertical-align:top}.c-universal-header>div+div .c-select-menu>.c-menu>.c-menu-item>.c-menu.f-multi-column>li>.c-menu-item>a{font-weight:700}.c-universal-header>div+div .c-select-menu>.c-menu>.c-menu-item>.c-menu.f-multi-column>li>.c-menu-item>a:after{content:none}.c-universal-header>div+div .c-select-menu>.c-menu>.c-menu-item>.c-menu.f-multi-column>li .c-menu{position:relative;right:auto;left:auto;background:0 0}@media only screen and (max-width:767px){.c-universal-header>div+div{height:48px}.c-universal-header>div+div>div{overflow:visible}.c-universal-header>div+div .c-action-trigger,.c-universal-header>div+div .c-call-to-action,.c-universal-header>div+div .c-hyperlink,.c-universal-header>div+div nav{display:none}.c-universal-header>div+div .c-logo{margin-left:-10px;padding:10px;outline:0}.c-universal-header>div+div .c-logo span{margin-top:5px;font-size:15px;font-weight:400;line-height:20px}}.c-universal-header>nav{position:fixed;top:48px;overflow:hidden;width:100%;height:calc(100vh - 48px);background:#fff}.c-universal-header>nav.f-closed[aria-hidden=true]{display:none}.c-universal-header>nav .c-menu,.c-universal-header>nav .c-menu-item{width:100%;max-width:none}.c-universal-header>nav .c-menu-item a{background-color:transparent}.c-universal-header>nav .c-menu-item.f-selected>a{font-weight:700}.c-universal-header>nav .c-menu>li:first-child{height:48px;background:#fff}.c-universal-header>nav .c-menu>li:first-child .c-hyperlink,.c-universal-header>nav .c-menu>li:first-child span{display:block;height:100%;margin:0 38px;padding:0;text-align:center;line-height:48px}.c-universal-header>nav .c-menu>li:first-child .c-action-trigger{height:100%;margin:0}.c-universal-header>nav .c-menu>li:first-child .c-action-trigger.glyph-arrow-htmllegacy-mirrored{float:right}.c-swatch,.c-universal-header>nav .c-menu>li:first-child .c-action-trigger.glyph-arrow-htmllegacy{float:left}.c-universal-header>nav .c-menu .c-menu{background:#e6e6e6}.x-clearfix:after,.x-clearfix:before{display:table;content:" "}.x-float-left{float:left!important}.x-float-right{float:right!important}@media print{.x-visible-print-block{display:block!important}.x-visible-print-inline{display:inline!important}.x-visible-print-inline-block{display:inline-block!important}.x-hidden-print{display:none!important}}@media all and (max-width:320px){.x-visible-vp1-block{display:block!important}.x-visible-vp1-inline{display:inline!important}.x-visible-vp1-inline-block{display:inline-block!important}.x-hidden-vp1{display:none!important}}@media all and (min-width:321px) and (max-width:540px){.x-visible-vp2-block{display:block!important}.x-visible-vp2-inline{display:inline!important}.x-visible-vp2-inline-block{display:inline-block!important}.x-hidden-vp2{display:none!important}}@media all and (min-width:541px) and (max-width:768px){.x-visible-vp3-block{display:block!important}.x-visible-vp3-inline{display:inline!important}.x-visible-vp3-inline-block{display:inline-block!important}.x-hidden-vp3{display:none!important}}@media all and (min-width:769px) and (max-width:1084px){.x-visible-vp4-block{display:block!important}.x-visible-vp4-inline{display:inline!important}.x-visible-vp4-inline-block{display:inline-block!important}.x-hidden-vp4{display:none!important}}@media all and (min-width:1085px){.x-visible-vp5-block{display:block!important}.x-visible-vp5-inline{display:inline!important}.x-visible-vp5-inline-block{display:inline-block!important}.x-hidden-vp5{display:none!important}}.sr-only,.x-screen-reader{position:absolute!important;overflow:hidden!important;clip:rect(1px,1px,1px,1px)!important;width:1px!important;height:1px!important;margin:0!important;padding:0!important;border:none!important}.m-t-xxl,.m-v-xxl{margin-top:84px}.m-h-xxl,.m-r-xxl{margin-right:84px}.m-b-xxl,.m-v-xxl{margin-bottom:84px}.m-h-xxl,.m-l-xxl{margin-left:84px}.p-t-xxl,.p-v-xxl{padding-top:84px}.p-h-xxl,.p-r-xxl{padding-right:84px}.p-b-xxl,.p-v-xxl{padding-bottom:84px}.p-h-xxl,.p-l-xxl{padding-left:84px}.m-xxl{margin:84px}.m-t-xl,.m-v-xl{margin-top:72px}.m-h-xl,.m-r-xl{margin-right:72px}.m-b-xl,.m-v-xl{margin-bottom:72px}.m-h-xl,.m-l-xl{margin-left:72px}.p-xxl{padding:84px}.p-t-xl,.p-v-xl{padding-top:72px}.p-h-xl,.p-r-xl{padding-right:72px}.p-b-xl,.p-v-xl{padding-bottom:72px}.p-h-xl,.p-l-xl{padding-left:72px}.m-xl{margin:72px}.m-t-lg,.m-v-lg{margin-top:64px}.m-h-lg,.m-r-lg{margin-right:64px}.m-b-lg,.m-v-lg{margin-bottom:64px}.m-h-lg,.m-l-lg{margin-left:64px}.p-xl{padding:72px}.p-t-lg,.p-v-lg{padding-top:64px}.p-h-lg,.p-r-lg{padding-right:64px}.p-b-lg,.p-v-lg{padding-bottom:64px}.p-h-lg,.p-l-lg{padding-left:64px}.m-lg{margin:64px}.m-t-md,.m-v-md{margin-top:48px}.m-h-md,.m-r-md{margin-right:48px}.m-b-md,.m-v-md{margin-bottom:48px}.m-h-md,.m-l-md{margin-left:48px}.p-lg{padding:64px}.p-t-md,.p-v-md{padding-top:48px}.p-h-md,.p-r-md{padding-right:48px}.p-b-md,.p-v-md{padding-bottom:48px}.p-h-md,.p-l-md{padding-left:48px}.m-md{margin:48px}.m-t-sm,.m-v-sm{margin-top:36px}.m-h-sm,.m-r-sm{margin-right:36px}.m-b-sm,.m-v-sm{margin-bottom:36px}.m-h-sm,.m-l-sm{margin-left:36px}.p-md{padding:48px}.p-t-sm,.p-v-sm{padding-top:36px}.p-h-sm,.p-r-sm{padding-right:36px}.p-b-sm,.p-v-sm{padding-bottom:36px}.p-h-sm,.p-l-sm{padding-left:36px}.m-sm{margin:36px}.m-t-xs,.m-v-xs{margin-top:24px}.m-h-xs,.m-r-xs{margin-right:24px}.m-b-xs,.m-v-xs{margin-bottom:24px}.m-h-xs,.m-l-xs{margin-left:24px}.p-sm{padding:36px}.p-t-xs,.p-v-xs{padding-top:24px}.p-h-xs,.p-r-xs{padding-right:24px}.p-b-xs,.p-v-xs{padding-bottom:24px}.p-h-xs,.p-l-xs{padding-left:24px}.m-xs{margin:24px}.m-t-xxs,.m-v-xxs{margin-top:12px}.m-h-xxs,.m-r-xxs{margin-right:12px}.m-b-xxs,.m-v-xxs{margin-bottom:12px}.m-h-xxs,.m-l-xxs{margin-left:12px}.p-xs{padding:24px}.p-t-xxs,.p-v-xxs{padding-top:12px}.p-h-xxs,.p-r-xxs{padding-right:12px}.p-b-xxs,.p-v-xxs{padding-bottom:12px}.p-h-xxs,.p-l-xxs{padding-left:12px}.m-xxs{margin:12px}.m-t-xxxs,.m-v-xxxs{margin-top:8px}.m-h-xxxs,.m-r-xxxs{margin-right:8px}.m-b-xxxs,.m-v-xxxs{margin-bottom:8px}.m-h-xxxs,.m-l-xxxs{margin-left:8px}.p-xxs{padding:12px}.p-t-xxxs,.p-v-xxxs{padding-top:8px}.p-h-xxxs,.p-r-xxxs{padding-right:8px}.p-b-xxxs,.p-v-xxxs{padding-bottom:8px}.p-h-xxxs,.p-l-xxxs{padding-left:8px}.m-xxxs{margin:8px}.m-t-n,.m-v-n{margin-top:0}.m-h-n,.m-r-n{margin-right:0}.m-b-n,.m-v-n{margin-bottom:0}.m-h-n,.m-l-n{margin-left:0}.p-xxxs{padding:8px}.p-t-n,.p-v-n{padding-top:0}.p-h-n,.p-r-n{padding-right:0}.p-b-n,.p-v-n{padding-bottom:0}.p-h-n,.p-l-n{padding-left:0}.m-n{margin:0}.p-n{padding:0}.x-type-center{text-align:center!important}.x-type-right{text-align:right!important}.x-type-left{text-align:left!important}@media (min-width:899px){#shell-header .shell-search input,#shell-header .shell-search input[type=search]{height:34px}}body{position:relative;min-height:100vh;padding-bottom:69px}@media screen and (min-width:600px) and (max-width:899px){body{padding-bottom:110px}}@media screen and (max-width:599px){body{padding-bottom:100px}}footer{position:absolute;bottom:0;width:100%}.x-bg-gray-20{background-color:#231f20}.x-bg-gray-30{background-color:#394146}.x-bg-gray-40{background-color:#e4e4e4}.x-bg-gray-50{background-color:#939393}.x-bg-gray-70{background-color:#a1afb3}.x-bg-gray-80{background-color:#ccc}.x-bg-gray-90{background-color:#e5e5e5}.x-bg-gray-9{background-color:#f2f2f2}.x-bg-green-80{background-color:#cae0d9}.x-bg-green-40{background-color:#066}.x-bg-teal-70{background-color:#61d6d6}.x-bg-teal-80{background-color:#80cdba}.x-bg-blue-30{background-color:#003966}.x-bg-blue-70{background-color:#82bfed}.x-bg-blue-80{background-color:#b2dbf2}.c-swatch{width:64px;height:64px;margin-bottom:12px;padding-top:8px;text-align:center;font-size:11px;font-weight:600}.c-swatch .theme-dark,.c-swatch .theme-light{background-color:transparent}.context-control{padding-bottom:64px}.context-mosaic{display:flex;float:none;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row}@media (max-width:540px){.context-mosaic{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column}}.context-mosaic [data-grid]{display:-webkit-flex;display:-ms-flexbox;display:flex;width:auto;-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto}.context-mosaic .mosaic-grid{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column}.context-mosaic .c-caption-1{display:block;padding:48px}@media (max-width:768px){.context-mosaic .c-caption-1{padding:24px}}.context-mosaic .c-nav-item{position:relative;-webkit-flex:1 1 50%;-ms-flex:1 1 50%;flex:1 1 50%}.context-mosaic .c-nav-item:before{display:block;width:100%;padding-top:100%;content:""}.context-mosaic .c-nav-item>.item-content{position:absolute;top:0;right:0;bottom:0;left:0}.context-mosaic .c-nav-item.landscape{position:relative}.context-mosaic .c-nav-item.landscape:before{display:block;width:100%;padding-top:50%;content:""}.context-mosaic .c-nav-item.landscape>.item-content{position:absolute;top:0;right:0;bottom:0;left:0}.context-mosaic a.c-nav-item{outline:0}.context-mosaic a.c-nav-item:after{position:absolute;top:4px;right:4px;bottom:4px;left:4px;display:block;content:"";transition:border-color .2s ease;border:1px solid transparent}.context-mosaic a.c-nav-item:hover:after{border-color:rgba(0,0,0,.8)}.context-mosaic a.c-nav-item:focus:after{outline:dashed 1px}.context-mosaic .c-image{position:absolute;top:50%;left:50%;display:block;width:30%;-webkit-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.context-mosaic .c-image.full-bleed{top:0;left:0;width:100%;-webkit-transform:none;-ms-transform:none;transform:none}.context-do h3::after,.context-dont h3::after{display:block;width:100px;height:3px;margin-top:18px;margin-bottom:10px;content:""}.context-do h3::after{background-color:#00b86a}.context-dont h3::after{background-color:#bd3438}.context-homepageMessaging p{padding-top:60px;font-size:62px;font-weight:200}.context-homepageMessaging em{color:#ff7ba6;font-style:normal}.context-motion h3{padding-top:20px;font-weight:400}.context-motion figure .c-image{padding-top:24px;padding-bottom:24px;transition:opacity .5s;opacity:.7}.context-motion figure .c-image:hover{opacity:1}.context-control-appearance figure>div{padding:24px;background:#f2f2f2}.context-control-appearance figure>div section:nth-of-type(3) ol{margin-left:-16px;list-style:none}.context-control-appearance figure>div section:first-of-type p{padding-top:21px}.context-control-appearance figure.context-slider>div{padding-bottom:48px}.context-control-appearance figcaption{margin:6px 0;text-align:center;color:rgba(0,0,0,.4)}.context-control-appearance h1,.context-control-appearance h2,.context-control-appearance h3,.context-control-appearance h4,.context-control-appearance h5,.context-control-appearance h6{display:block;margin-bottom:12px;text-align:left}.context-control-appearance .context-primary-button button.c-button{color:#fff;background-color:#0078d7}.context-control-appearance .context-primary-button button.c-button:focus,.context-control-appearance .context-primary-button button.c-button:hover{border-color:rgba(0,0,0,.4);background-color:#006cc2}.context-control-appearance .context-primary-button button.c-button:active{border-color:transparent;background-color:#005497}.context-control-appearance .context-primary-button button.c-button[disabled]{color:rgba(0,0,0,.2);border-color:transparent;background-color:rgba(0,120,215,.2)}.theme-dark .theme-light .context-control-appearance .context-primary-button button.c-button,.theme-light .context-control-appearance .context-primary-button button.c-button{color:#fff;border-color:transparent;background-color:#000}.theme-dark .theme-light .context-control-appearance .context-primary-button button.c-button:focus,.theme-light .context-control-appearance .context-primary-button button.c-button:focus{outline-color:#000;background-color:rgba(0,0,0,.8)}.theme-dark .theme-light .context-control-appearance .context-primary-button button.c-button:hover,.theme-light .context-control-appearance .context-primary-button button.c-button:hover{background-color:rgba(0,0,0,.8)}.theme-dark .theme-light .context-control-appearance .context-primary-button button.c-button:active,.theme-light .context-control-appearance .context-primary-button button.c-button:active{background-color:rgba(0,0,0,.6)}.theme-dark .theme-light .context-control-appearance .context-primary-button button.c-button[disabled],.theme-light .context-control-appearance .context-primary-button button.c-button[disabled]{color:rgba(0,0,0,.2);background-color:rgba(0,0,0,.2)}.theme-dark .context-control-appearance .context-primary-button button.c-button,.theme-light .theme-dark .context-control-appearance .context-primary-button button.c-button{color:#000;border-color:transparent;background-color:#fff}.theme-dark .context-control-appearance .context-primary-button button.c-button:focus,.theme-light .theme-dark .context-control-appearance .context-primary-button button.c-button:focus{outline-color:#fff;background-color:rgba(255,255,255,.8)}.context-control-appearance .context-light-button button.c-button:focus,.theme-dark .theme-light .context-control-appearance .context-light-button button.c-button:focus,.theme-light .context-control-appearance .context-light-button button.c-button:focus{outline-color:#000}.theme-dark .context-control-appearance .context-primary-button button.c-button:hover,.theme-light .theme-dark .context-control-appearance .context-primary-button button.c-button:hover{background-color:rgba(255,255,255,.8)}.theme-dark .context-control-appearance .context-primary-button button.c-button:active,.theme-light .theme-dark .context-control-appearance .context-primary-button button.c-button:active{background-color:rgba(255,255,255,.6)}.theme-dark .context-control-appearance .context-primary-button button.c-button[disabled],.theme-light .theme-dark .context-control-appearance .context-primary-button button.c-button[disabled]{color:rgba(255,255,255,.2);background-color:rgba(255,255,255,.2)}.context-control-appearance .context-light-button button.c-button{padding:10px 12px 11px;color:#0078d7;border:0;background-color:transparent}.context-control-appearance .context-light-button button.c-button:active{text-decoration:none;color:#006cc2}.context-control-appearance .context-light-button button.c-button[disabled]{cursor:not-allowed;text-decoration:none;color:rgba(0,0,0,.2)}.theme-dark .theme-light .context-control-appearance .context-light-button button.c-button,.theme-light .context-control-appearance .context-light-button button.c-button{color:#000}.theme-dark .theme-light .context-control-appearance .context-light-button button.c-button:active,.theme-light .context-control-appearance .context-light-button button.c-button:active{color:rgba(0,0,0,.6)}.theme-dark .theme-light .context-control-appearance .context-light-button button.c-button[disabled],.theme-light .context-control-appearance .context-light-button button.c-button[disabled]{color:rgba(0,0,0,.2)}.theme-dark .context-control-appearance .context-light-button button.c-button,.theme-light .theme-dark .context-control-appearance .context-light-button button.c-button{color:#fff}.theme-dark .context-control-appearance .context-light-button button.c-button:focus,.theme-light .theme-dark .context-control-appearance .context-light-button button.c-button:focus{outline-color:#fff}.theme-dark .context-control-appearance .context-light-button button.c-button:active,.theme-light .theme-dark .context-control-appearance .context-light-button button.c-button:active{color:rgba(255,255,255,.6)}.theme-dark .context-control-appearance .context-light-button button.c-button[disabled],.theme-light .theme-dark .context-control-appearance .context-light-button button.c-button[disabled]{color:rgba(255,255,255,.2)}.context-control-appearance .context-placement-large .context-placement-container{height:400px}.context-control-appearance .context-placement-medium .context-placement-container{height:200px}.context-glyph-tile{padding-top:8px;padding-bottom:48px;text-align:center}.context-glyph-tile .c-glyph{margin-bottom:12px;font-family:MWF-MDL2;font-size:46px}@media screen{.context-glyph-tile[data-grid]{display:block;float:left;width:50%}}@media screen and (min-width:768px){.context-glyph-tile[data-grid]{width:25%}}@media screen and (min-width:1084px){.context-glyph-tile[data-grid]{width:14.2857142857%}}@media screen and (min-width:1400px){.context-glyph-tile[data-grid]{width:10%}}.context-home{display:-webkit-flex;display:-ms-flexbox;display:flex}@media screen and (max-width:768px){.context-home{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column}.context-home>[data-grid~=col-6]{width:auto}}.context-home figure[data-grid]{display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:flex-end;-ms-flex-align:end;align-items:flex-end}.context-home figure[data-grid] picture{-webkit-flex:0 0 auto;-ms-flex:0 0 auto;flex:0 0 auto}.context-style-header{padding-top:72px;padding-bottom:72px}.context-style-header .c-list{list-style:none}.context-style-main section{padding-top:64px}.context-style-main section:last-child{padding-bottom:64px}.context-style-main h3{padding-top:22px}.context-style-product ol{list-style:none}.shell-category-header .shell-category-nav .c-nav-dropdown-menu .c-nav-dropdown-menu{background-color:#767676}');
})(function(a){a()});
//# sourceMappingURL=build.js.map